(function(f) {
    if (typeof exports === "object" && typeof module !== "undefined") {
        module.exports = f()
    } else if (typeof define === "function" && define.amd) {
        define([], f)
    } else {
        var g;
        if (typeof window !== "undefined") {
            g = window
        } else if (typeof global !== "undefined") {
            g = global
        } else if (typeof self !== "undefined") {
            g = self
        } else {
            g = this
        }
        g.APP = f()
    }
})(function() {
    var define, module, exports;
    return function e(t, n, r) {
        function s(o, u) {
            if (!n[o]) {
                if (!t[o]) {
                    var a = typeof require == "function" && require;
                    if (!u && a) return a(o, !0);
                    if (i) return i(o, !0);
                    var f = new Error("Cannot find module '" + o + "'");
                    throw f.code = "MODULE_NOT_FOUND", f
                }
                var l = n[o] = {
                    exports: {}
                };
                t[o][0].call(l.exports, function(e) {
                    var n = t[o][1][e];
                    return s(n ? n : e)
                }, l, l.exports, e, t, n, r)
            }
            return n[o].exports
        }
        var i = typeof require == "function" && require;
        for (var o = 0; o < r.length; o++) s(r[o]);
        return s
    }({
        1: [function(require, module, exports) {
            "use strict";
            require("babel-polyfill");
            require("jquery");
            require("jquery-contextmenu");
            require("jquery-ui");
            require("strophe");
            require("strophe-disco");
            require("strophe-caps");
            require("tooltip");
            require("popover");
            require("jQuery-Impromptu");
            require("autosize");
            var _URLProcessor = require("./modules/config/URLProcessor");
            var _URLProcessor2 = _interopRequireDefault(_URLProcessor);
            var _RoomnameGenerator = require("./modules/util/RoomnameGenerator");
            var _RoomnameGenerator2 = _interopRequireDefault(_RoomnameGenerator);
            var _UI = require("./modules/UI/UI");
            var _UI2 = _interopRequireDefault(_UI);
            var _Settings = require("./modules/settings/Settings");
            var _Settings2 = _interopRequireDefault(_Settings);
            var _conference = require("./conference");
            var _conference2 = _interopRequireDefault(_conference);
            var _API = require("./modules/API/API");
            var _API2 = _interopRequireDefault(_API);
            var _UIEvents = require("./service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            window.toastr = require("toastr");

            function buildRoomName() {
                var roomName = getRoomName();
                if (!roomName) {
                    var word = _RoomnameGenerator2.default.generateRoomWithoutSeparator();
                    roomName = word.toLowerCase();
                    window.history.pushState("VideoChat", "Room: " + word, window.location.pathname + word)
                }
                return roomName
            }
            var APP = {
                connect: {
                    status: "initialized",
                    handler: null
                },
                connectionTimes: {
                    "index.loaded": window.indexLoadedTime
                },
                UI: _UI2.default,
                settings: _Settings2.default,
                conference: _conference2.default,
                connection: null,
                API: _API2.default,
                init: function init() {
                    this.keyboardshortcut = require("./modules/keyboardshortcut/keyboardshortcut");
                    this.translation = require("./modules/translation/translation");
                    this.configFetch = require("./modules/config/HttpConfigFetch")
                }
            };

            function init() {
                var isUIReady = APP.UI.start();
                if (isUIReady) {
                    APP.conference.init({
                        roomName: buildRoomName()
                    }).then(function() {
                        APP.UI.initConference();
                        APP.UI.addListener(_UIEvents2.default.LANG_CHANGED, function(language) {
                            APP.translation.setLanguage(language);
                            APP.settings.setLanguage(language)
                        });
                        APP.keyboardshortcut.init()
                    }).catch(function(err) {
                        console.error(err)
                    })
                }
            }

            function obtainConfigAndInit() {
                var roomName = APP.conference.roomName;
                if (config.configLocation) {
                    APP.configFetch.obtainConfig(config.configLocation, roomName, function(success, error) {
                        if (success) {
                            var now = APP.connectionTimes["configuration.fetched"] = window.performance.now();
                            console.log("(TIME) configuration fetched:	", now);
                            init()
                        } else {
                            APP.UI.messageHandler.openReportDialog(null, "dialog.connectError", error)
                        }
                    })
                } else {
                    require("./modules/config/BoshAddressChoice").chooseAddress(config, roomName);
                    init()
                }
            }
            $(document).ready(function() {
                var now = APP.connectionTimes["document.ready"] = window.performance.now();
                console.log("(TIME) document ready:	", now);
                _URLProcessor2.default.setConfigParametersFromUrl();
                APP.init();
                APP.translation.init(_Settings2.default.getLanguage());
                APP.API.init();
                obtainConfigAndInit()
            });
            $(window).bind("beforeunload", function() {
                APP.API.dispose()
            });
            module.exports = APP
        }, {
            "./conference": 2,
            "./modules/API/API": 4,
            "./modules/UI/UI": 7,
            "./modules/config/BoshAddressChoice": 39,
            "./modules/config/HttpConfigFetch": 40,
            "./modules/config/URLProcessor": 41,
            "./modules/keyboardshortcut/keyboardshortcut": 44,
            "./modules/settings/Settings": 46,
            "./modules/translation/translation": 48,
            "./modules/util/RoomnameGenerator": 50,
            "./service/UI/UIEvents": 364,
            autosize: 52,
            "babel-polyfill": 53,
            "jQuery-Impromptu": 355,
            jquery: 358,
            "jquery-contextmenu": 356,
            "jquery-ui": 357,
            popover: 350,
            strophe: 360,
            "strophe-caps": 361,
            "strophe-disco": 362,
            toastr: 363,
            tooltip: 351
        }],
        2: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj
            };
            var _slicedToArray = function() {
                function sliceIterator(arr, i) {
                    var _arr = [];
                    var _n = true;
                    var _d = false;
                    var _e = undefined;
                    try {
                        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                            _arr.push(_s.value);
                            if (i && _arr.length === i) break
                        }
                    } catch (err) {
                        _d = true;
                        _e = err
                    } finally {
                        try {
                            if (!_n && _i["return"]) _i["return"]()
                        } finally {
                            if (_d) throw _e
                        }
                    }
                    return _arr
                }
                return function(arr, i) {
                    if (Array.isArray(arr)) {
                        return arr
                    } else if (Symbol.iterator in Object(arr)) {
                        return sliceIterator(arr, i)
                    } else {
                        throw new TypeError("Invalid attempt to destructure non-iterable instance")
                    }
                }
            }();
            var _createClass = function() {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor)
                    }
                }
                return function(Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor
                }
            }();
            var _connection = require("./connection");
            var _RoomLocker = require("./modules/UI/authentication/RoomLocker");
            var _RoomLocker2 = _interopRequireDefault(_RoomLocker);
            var _AuthHandler = require("./modules/UI/authentication/AuthHandler");
            var _AuthHandler2 = _interopRequireDefault(_AuthHandler);
            var _connectionquality = require("./modules/connectionquality/connectionquality");
            var _connectionquality2 = _interopRequireDefault(_connectionquality);
            var _Recorder = require("./modules/recorder/Recorder");
            var _Recorder2 = _interopRequireDefault(_Recorder);
            var _CQEvents = require("./service/connectionquality/CQEvents");
            var _CQEvents2 = _interopRequireDefault(_CQEvents);
            var _UIEvents = require("./service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _LargeVideo = require("./modules/UI/videolayout/LargeVideo");

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function")
                }
            }

            function _toConsumableArray(arr) {
                if (Array.isArray(arr)) {
                    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {
                        arr2[i] = arr[i]
                    }
                    return arr2
                } else {
                    return Array.from(arr)
                }
            }
            var ConnectionEvents = JitsiMeetJS.events.connection;
            var ConnectionErrors = JitsiMeetJS.errors.connection;
            var ConferenceEvents = JitsiMeetJS.events.conference;
            var ConferenceErrors = JitsiMeetJS.errors.conference;
            var TrackEvents = JitsiMeetJS.events.track;
            var TrackErrors = JitsiMeetJS.errors.track;
            var room = void 0,
                connection = void 0,
                localAudio = void 0,
                localVideo = void 0,
                roomLocker = void 0;
            var currentAudioInputDevices = void 0,
                currentVideoInputDevices = void 0;

            function connect(roomName) {
                return (0, _connection.openConnection)({
                    retry: true,
                    roomName: roomName
                }).catch(function(err) {
                    if (err === ConnectionErrors.PASSWORD_REQUIRED) {
                        APP.UI.notifyTokenAuthFailed()
                    } else {
                        APP.UI.notifyConnectionFailed(err)
                    }
                    throw err
                })
            }

            function sendEmail(emailCommand, email) {
                room.sendCommand(emailCommand, {
                    value: email,
                    attributes: {
                        id: room.myUserId()
                    }
                })
            }

            function getDisplayName(id) {
                if (APP.conference.isLocalId(id)) {
                    return APP.settings.getDisplayName()
                }
                var participant = room.getParticipantById(id);
                if (participant && participant.getDisplayName()) {
                    return participant.getDisplayName()
                }
            }

            function muteLocalAudio(muted, userInteraction) {
                if (!localAudio) {
                    return
                }
                if (muted) {
                    localAudio.mute().then(function(value) {}, function(value) {
                        console.warn("Audio Mute was rejected:", value)
                    })
                } else {
                    localAudio.unmute().then(function(value) {}, function(value) {
                        console.warn("Audio unmute was rejected:", value)
                    })
                }
            }

            function muteLocalVideo(muted) {
                if (!localVideo) {
                    return
                }
                if (muted) {
                    localVideo.mute().then(function(value) {}, function(value) {
                        console.warn("Video mute was rejected:", value)
                    })
                } else {
                    localVideo.unmute().then(function(value) {}, function(value) {
                        console.warn("Video unmute was rejected:", value)
                    })
                }
            }

            function maybeRedirectToWelcomePage() {
                if (!config.enableWelcomePage) {
                    return
                }
                setTimeout(function() {
                    APP.settings.setWelcomePageEnabled(true);
                    window.location.pathname = "/"
                }, 3e3)
            }

            function disconnectAndShowFeedback(requestFeedback) {
                connection.disconnect();
                if (requestFeedback) {
                    return APP.UI.requestFeedback()
                } else {
                    return Promise.resolve()
                }
            }

            function hangup() {
                var requestFeedback = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];
                var errCallback = function errCallback(f, err) {
                    console.error("Error occurred during hanging up: ", err);
                    return f()
                };
                var disconnect = disconnectAndShowFeedback.bind(null, requestFeedback);
                APP.conference._room.leave().then(disconnect).catch(errCallback.bind(null, disconnect)).then(maybeRedirectToWelcomePage).catch(errCallback.bind(null, maybeRedirectToWelcomePage))
            }

            function createLocalTracks(devices, cameraDeviceId, micDeviceId) {
                return JitsiMeetJS.createLocalTracks({
                    devices: devices.slice(0),
                    resolution: config.resolution,
                    cameraDeviceId: typeof cameraDeviceId === "undefined" || cameraDeviceId === null ? APP.settings.getCameraDeviceId() : cameraDeviceId,
                    micDeviceId: typeof micDeviceId === "undefined" || micDeviceId === null ? APP.settings.getMicDeviceId() : micDeviceId,
                    firefox_fake_device: config.firefox_fake_device
                }).catch(function(err) {
                    var _console;
                    (_console = console).error.apply(_console, ["failed to create local tracks"].concat(_toConsumableArray(devices), [err]));
                    return Promise.reject(err)
                })
            }

            function setCurrentMediaDevices(devices) {
                currentAudioInputDevices = devices.filter(function(d) {
                    return d.kind === "audioinput"
                });
                currentVideoInputDevices = devices.filter(function(d) {
                    return d.kind === "videoinput"
                })
            }
            var ConferenceConnector = function() {
                function ConferenceConnector(resolve, reject) {
                    _classCallCheck(this, ConferenceConnector);
                    this._resolve = resolve;
                    this._reject = reject;
                    this.reconnectTimeout = null;
                    room.on(ConferenceEvents.CONFERENCE_JOINED, this._handleConferenceJoined.bind(this));
                    room.on(ConferenceEvents.CONFERENCE_FAILED, this._onConferenceFailed.bind(this));
                    room.on(ConferenceEvents.CONFERENCE_ERROR, this._onConferenceError.bind(this))
                }
                _createClass(ConferenceConnector, [{
                    key: "_handleConferenceFailed",
                    value: function _handleConferenceFailed(err, msg) {
                        this._unsubscribe();
                        this._reject(err)
                    }
                }, {
                    key: "_onConferenceFailed",
                    value: function _onConferenceFailed(err) {
                        var _console2;
                        for (var _len = arguments.length, params = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                            params[_key - 1] = arguments[_key]
                        }(_console2 = console).error.apply(_console2, ["CONFERENCE FAILED:", err].concat(params));
                        switch (err) {
                            case ConferenceErrors.PASSWORD_REQUIRED:
                                APP.UI.markRoomLocked(true);
                                roomLocker.requirePassword().then(function() {
                                    room.join(roomLocker.password)
                                });
                                break;
                            case ConferenceErrors.CONNECTION_ERROR:
                                {
                                    var msg = params[0];APP.UI.notifyConnectionFailed(msg)
                                }
                                break;
                            case ConferenceErrors.VIDEOBRIDGE_NOT_AVAILABLE:
                                APP.UI.notifyBridgeDown();
                                break;
                            case ConferenceErrors.AUTHENTICATION_REQUIRED:
                                this.reconnectTimeout = setTimeout(function() {
                                    room.join()
                                }, 5e3);
                                _AuthHandler2.default.requireAuth(room, roomLocker.password);
                                break;
                            case ConferenceErrors.RESERVATION_ERROR:
                                {
                                    var code = params[0];
                                    var _msg = params[1];APP.UI.notifyReservationError(code, _msg)
                                }
                                break;
                            case ConferenceErrors.GRACEFUL_SHUTDOWN:
                                APP.UI.notifyGracefulShutdown();
                                break;
                            case ConferenceErrors.JINGLE_FATAL_ERROR:
                                APP.UI.notifyInternalError();
                                break;
                            case ConferenceErrors.CONFERENCE_DESTROYED:
                                {
                                    var reason = params[0];APP.UI.hideStats();APP.UI.notifyConferenceDestroyed(reason)
                                }
                                break;
                            case ConferenceErrors.FOCUS_DISCONNECTED:
                                {
                                    var focus = params[0];
                                    var retrySec = params[1];APP.UI.notifyFocusDisconnected(focus, retrySec)
                                }
                                break;
                            case ConferenceErrors.FOCUS_LEFT:
                                room.leave().then(function() {
                                    return connection.disconnect()
                                });
                                APP.UI.notifyFocusLeft();
                                break;
                            case ConferenceErrors.CONFERENCE_MAX_USERS:
                                connection.disconnect();
                                APP.UI.notifyMaxUsersLimitReached();
                                break;
                            default:
                                this._handleConferenceFailed.apply(this, [err].concat(params))
                        }
                    }
                }, {
                    key: "_onConferenceError",
                    value: function _onConferenceError(err) {
                        for (var _len2 = arguments.length, params = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
                            params[_key2 - 1] = arguments[_key2]
                        }
                        console.error("CONFERENCE Error:", err, params);
                        switch (err) {
                            case ConferenceErrors.CHAT_ERROR:
                                {
                                    var code = params[0];
                                    var msg = params[1];APP.UI.showChatError(code, msg)
                                }
                                break;
                            default:
                                console.error("Unknown error.")
                        }
                    }
                }, {
                    key: "_unsubscribe",
                    value: function _unsubscribe() {
                        room.off(ConferenceEvents.CONFERENCE_JOINED, this._handleConferenceJoined);
                        room.off(ConferenceEvents.CONFERENCE_FAILED, this._onConferenceFailed);
                        if (this.reconnectTimeout !== null) {
                            clearTimeout(this.reconnectTimeout)
                        }
                        _AuthHandler2.default.closeAuth()
                    }
                }, {
                    key: "_handleConferenceJoined",
                    value: function _handleConferenceJoined() {
                        this._unsubscribe();
                        this._resolve()
                    }
                }, {
                    key: "connect",
                    value: function connect() {
                        room.join()
                    }
                }]);
                return ConferenceConnector
            }();
            exports.default = {
                localId: undefined,
                isModerator: false,
                audioMuted: false,
                videoMuted: false,
                isSharingScreen: false,
                isDesktopSharingEnabled: false,
                init: function init(options) {
                    var _this = this;
                    var self = this;
                    this.roomName = options.roomName;
                    JitsiMeetJS.setLogLevel(JitsiMeetJS.logLevels.TRACE);
                    if (JitsiMeetJS.getGlobalOnErrorHandler) {
                        var oldOnErrorHandler = window.onerror;
                        window.onerror = function(message, source, lineno, colno, error) {
                            JitsiMeetJS.getGlobalOnErrorHandler(message, source, lineno, colno, error);
                            if (oldOnErrorHandler) oldOnErrorHandler(message, source, lineno, colno, error)
                        };
                        var oldOnUnhandledRejection = window.onunhandledrejection;
                        window.onunhandledrejection = function(event) {
                            JitsiMeetJS.getGlobalOnErrorHandler(null, null, null, null, event.reason);
                            if (oldOnUnhandledRejection) oldOnUnhandledRejection(event)
                        }
                    }
                    return JitsiMeetJS.init(config).then(function() {
                        return Promise.all([createLocalTracks(["audio", "video"]).catch(function() {
                            return createLocalTracks(["audio"])
                        }).catch(function() {
                            return []
                        }), connect(options.roomName)])
                    }).then(function(_ref) {
                        var _ref2 = _slicedToArray(_ref, 2);
                        var tracks = _ref2[0];
                        var con = _ref2[1];
                        console.log("initialized with %s local tracks", tracks.length);
                        APP.connection = connection = con;
                        _this._createRoom(tracks);
                        _this.isDesktopSharingEnabled = JitsiMeetJS.isDesktopSharingEnabled();
                        if (!tracks.find(function(t) {
                                return t.isAudioTrack()
                            })) {
                            APP.UI.disableMicrophoneButton()
                        }
                        if (!tracks.find(function(t) {
                                return t.isVideoTrack()
                            })) {
                            APP.UI.disableCameraButton()
                        }
                        if (JitsiMeetJS.mediaDevices.isDeviceListAvailable() && JitsiMeetJS.mediaDevices.isDeviceChangeAvailable()) {
                            JitsiMeetJS.mediaDevices.enumerateDevices(function(devices) {
                                if (localAudio) {
                                    localAudio._setRealDeviceIdFromDeviceList(devices);
                                    APP.settings.setMicDeviceId(localAudio.getDeviceId())
                                }
                                if (localVideo) {
                                    localVideo._setRealDeviceIdFromDeviceList(devices);
                                    APP.settings.setCameraDeviceId(localVideo.getDeviceId())
                                }
                                setCurrentMediaDevices(devices);
                                APP.UI.onAvailableDevicesChanged(devices)
                            });
                            JitsiMeetJS.mediaDevices.addEventListener(JitsiMeetJS.events.mediaDevices.DEVICE_LIST_CHANGED, function(devices) {
                                window.setTimeout(function() {
                                    checkLocalDevicesAfterDeviceListChanged(devices).then(function() {
                                        setCurrentMediaDevices(devices);
                                        APP.UI.onAvailableDevicesChanged(devices)
                                    })
                                }, 0)
                            })
                        }
                        if (config.iAmRecorder) _this.recorder = new _Recorder2.default;
                        return new Promise(function(resolve, reject) {
                            new ConferenceConnector(resolve, reject).connect()
                        });

                        function checkAudioOutputDeviceAfterDeviceListChanged(newDevices) {
                            if (!JitsiMeetJS.mediaDevices.isDeviceChangeAvailable("output")) {
                                return
                            }
                            var selectedAudioOutputDeviceId = APP.settings.getAudioOutputDeviceId(),
                                availableAudioOutputDevices = newDevices.filter(function(d) {
                                    return d.kind === "audiooutput"
                                });
                            if (selectedAudioOutputDeviceId !== "default" && !availableAudioOutputDevices.find(function(d) {
                                    return d.deviceId === selectedAudioOutputDeviceId
                                })) {
                                APP.settings.setAudioOutputDeviceId("default")
                            }
                        }

                        function checkLocalDevicesAfterDeviceListChanged(newDevices) {
                            if (!currentAudioInputDevices && !currentVideoInputDevices) {
                                setCurrentMediaDevices(newDevices)
                            }
                            checkAudioOutputDeviceAfterDeviceListChanged(newDevices);
                            var availableAudioInputDevices = newDevices.filter(function(d) {
                                    return d.kind === "audioinput"
                                }),
                                availableVideoInputDevices = newDevices.filter(function(d) {
                                    return d.kind === "videoinput"
                                }),
                                selectedAudioInputDeviceId = APP.settings.getMicDeviceId(),
                                selectedVideoInputDeviceId = APP.settings.getCameraDeviceId(),
                                selectedAudioInputDevice = availableAudioInputDevices.find(function(d) {
                                    return d.deviceId === selectedAudioInputDeviceId
                                }),
                                selectedVideoInputDevice = availableVideoInputDevices.find(function(d) {
                                    return d.deviceId === selectedVideoInputDeviceId
                                }),
                                tracksToCreate = [],
                                micIdToUse = null,
                                cameraIdToUse = null;
                            if (!localAudio || localAudio.disposed || localAudio.isEnded()) {
                                if (availableAudioInputDevices.length && availableAudioInputDevices[0].label !== "") {
                                    tracksToCreate.push("audio");
                                    micIdToUse = availableAudioInputDevices[0].deviceId
                                } else {
                                    APP.UI.disableMicrophoneButton()
                                }
                            }
                            if ((!localVideo || localVideo.disposed || localVideo.isEnded()) && !self.isSharingScreen) {
                                if (availableVideoInputDevices.length && availableVideoInputDevices[0].label !== "") {
                                    tracksToCreate.push("video");
                                    cameraIdToUse = availableVideoInputDevices[0].deviceId
                                } else {
                                    APP.UI.disableCameraButton()
                                }
                            }
                            if (localAudio && !localAudio.disposed && !localAudio.isEnded() && selectedAudioInputDevice && selectedAudioInputDeviceId !== localAudio.getDeviceId() && tracksToCreate.indexOf("audio") === -1) {
                                tracksToCreate.push("audio");
                                micIdToUse = selectedAudioInputDeviceId
                            }
                            if (localVideo && !localVideo.disposed && !localVideo.isEnded() && selectedVideoInputDevice && selectedVideoInputDeviceId !== localVideo.getDeviceId() && tracksToCreate.indexOf("video") === -1 && !self.isSharingScreen) {
                                tracksToCreate.push("video");
                                cameraIdToUse = selectedVideoInputDeviceId
                            }
                            if (tracksToCreate.length) {
                                return createNewTracks(tracksToCreate, cameraIdToUse, micIdToUse)
                            } else {
                                return Promise.resolve()
                            }

                            function createNewTracks(type, cameraDeviceId, micDeviceId) {
                                return createLocalTracks(type, cameraDeviceId, micDeviceId).then(onTracksCreated).catch(function() {
                                    if (type.indexOf("audio") !== -1 && type.indexOf("video") !== -1) {
                                        return createLocalTracks(["audio"], null, micDeviceId)
                                    }
                                }).then(onTracksCreated).catch(function() {
                                    if (type.indexOf("audio") !== -1 && type.indexOf("video") !== -1) {
                                        return createLocalTracks(["video"], cameraDeviceId, null)
                                    }
                                }).then(onTracksCreated).catch(function() {})
                            }

                            function onTracksCreated(tracks) {
                                return Promise.all((tracks || []).map(function(track) {
                                    if (track.isAudioTrack()) {
                                        var _ret = function() {
                                            var audioWasMuted = self.audioMuted;
                                            return {
                                                v: self.useAudioStream(track).then(function() {
                                                    console.log("switched local audio");
                                                    if (audioWasMuted || currentAudioInputDevices.length > availableAudioInputDevices.length) {
                                                        muteLocalAudio(true)
                                                    }
                                                })
                                            }
                                        }();
                                        if ((typeof _ret === "undefined" ? "undefined" : _typeof(_ret)) === "object") return _ret.v
                                    } else if (track.isVideoTrack()) {
                                        var _ret2 = function() {
                                            var videoWasMuted = self.videoMuted;
                                            return {
                                                v: self.useVideoStream(track).then(function() {
                                                    console.log("switched local video");
                                                    if (videoWasMuted || currentVideoInputDevices.length > availableVideoInputDevices.length) {
                                                        muteLocalVideo(true)
                                                    }
                                                })
                                            }
                                        }();
                                        if ((typeof _ret2 === "undefined" ? "undefined" : _typeof(_ret2)) === "object") return _ret2.v
                                    } else {
                                        console.error("Ignored not an audio nor a " + "video track: ", track);
                                        return Promise.resolve()
                                    }
                                }))
                            }
                        }
                    })
                },
                isLocalId: function isLocalId(id) {
                    return this.localId === id
                },
                muteAudio: function muteAudio(mute) {
                    muteLocalAudio(mute)
                },
                isLocalAudioMuted: function isLocalAudioMuted() {
                    return this.audioMuted
                },
                toggleAudioMuted: function toggleAudioMuted() {
                    this.muteAudio(!this.audioMuted)
                },
                muteVideo: function muteVideo(mute) {
                    muteLocalVideo(mute)
                },
                toggleVideoMuted: function toggleVideoMuted() {
                    this.muteVideo(!this.videoMuted)
                },
                listMembers: function listMembers() {
                    return room.getParticipants()
                },
                listMembersIds: function listMembersIds() {
                    return room.getParticipants().map(function(p) {
                        return p.getId()
                    })
                },
                isParticipantModerator: function isParticipantModerator(id) {
                    var user = room.getParticipantById(id);
                    return user && user.isModerator()
                },
                sipGatewayEnabled: function sipGatewayEnabled() {
                    return room.isSIPCallingSupported()
                },
                get membersCount() {
                    return room.getParticipants().length + 1
                },
                isCallstatsEnabled: function isCallstatsEnabled() {
                    return room.isCallstatsEnabled()
                },
                sendFeedback: function sendFeedback(overallFeedback, detailedFeedback) {
                    return room.sendFeedback(overallFeedback, detailedFeedback)
                },
                isJoined: function isJoined() {
                    return this._room && this._room.isJoined()
                },
                getConnectionState: function getConnectionState() {
                    return this._room && this._room.getConnectionState()
                },
                getMyUserId: function getMyUserId() {
                    return this._room && this._room.myUserId()
                },
                isRecordingSupported: function isRecordingSupported() {
                    return this._room && this._room.isRecordingSupported()
                },
                getRecordingState: function getRecordingState() {
                    return this._room ? this._room.getRecordingState() : undefined
                },
                audioLevelsMap: {},
                getPeerSSRCAudioLevel: function getPeerSSRCAudioLevel(id) {
                    return this.audioLevelsMap[id]
                },
                getNumberOfParticipantsWithTracks: function getNumberOfParticipantsWithTracks() {
                    return this._room.getParticipants().filter(function(p) {
                        return p.getTracks().length > 0
                    }).length
                },
                getStats: function getStats() {
                    return _connectionquality2.default.getStats()
                },
                getLogs: function getLogs() {
                    return room.getLogs()
                },
                commands: {
                    defaults: {
                        CONNECTION_QUALITY: "stats",
                        EMAIL: "email",
                        ETHERPAD: "etherpad",
                        SHARED_VIDEO: "shared-video",
                        CUSTOM_ROLE: "custom-role"
                    },
                    addCommandListener: function addCommandListener() {
                        room.addCommandListener.apply(room, arguments)
                    },
                    removeCommand: function removeCommand() {
                        room.removeCommand.apply(room, arguments)
                    },
                    sendCommand: function sendCommand() {
                        room.sendCommand.apply(room, arguments)
                    },
                    sendCommandOnce: function sendCommandOnce() {
                        room.sendCommandOnce.apply(room, arguments)
                    }
                },
                _createRoom: function _createRoom(localTracks) {
                    var _this2 = this;
                    room = connection.initJitsiConference(APP.conference.roomName, this._getConferenceOptions());
                    this.localId = room.myUserId();
                    localTracks.forEach(function(track) {
                        if (track.isAudioTrack()) {
                            _this2.useAudioStream(track)
                        } else if (track.isVideoTrack()) {
                            _this2.useVideoStream(track)
                        } else {
                            console.error("Ignored not an audio nor a video track: ", track)
                        }
                    });
                    roomLocker = (0, _RoomLocker2.default)(room);
                    this._room = room;
                    var email = APP.settings.getEmail();
                    email && sendEmail(this.commands.defaults.EMAIL, email);
                    var nick = APP.settings.getDisplayName();
                    if (config.useNicks && !nick) {
                        nick = APP.UI.askForNickname();
                        APP.settings.setDisplayName(nick)
                    }
                    nick && room.setDisplayName(nick);
                    this._setupListeners()
                },
                _getConferenceOptions: function _getConferenceOptions() {
                    var options = config;
                    if (config.enableRecording && !config.recordingType) {
                        options.recordingType = config.hosts && typeof config.hosts.jirecon != "undefined" ? "jirecon" : "colibri"
                    }
                    return options
                },
                useVideoStream: function useVideoStream(stream) {
                    var _this3 = this;
                    var promise = Promise.resolve();
                    if (localVideo) {
                        promise = localVideo.dispose()
                    }
                    localVideo = stream;
                    return promise.then(function() {
                        if (stream) {
                            return room.addTrack(stream)
                        }
                    }).then(function() {
                        if (stream) {
                            _this3.videoMuted = stream.isMuted();
                            _this3.isSharingScreen = stream.videoType === "desktop";
                            APP.UI.addLocalStream(stream)
                        } else {
                            _this3.videoMuted = false;
                            _this3.isSharingScreen = false
                        }
                        stream.videoType === "camera" && APP.UI.enableCameraButton();
                        APP.UI.setVideoMuted(_this3.localId, _this3.videoMuted);
                        APP.UI.updateDesktopSharingButtons()
                    })
                },
                useAudioStream: function useAudioStream(stream) {
                    var _this4 = this;
                    var promise = Promise.resolve();
                    if (localAudio) {
                        promise = localAudio.dispose()
                    }
                    localAudio = stream;
                    return promise.then(function() {
                        if (stream) {
                            return room.addTrack(stream)
                        }
                    }).then(function() {
                        if (stream) {
                            _this4.audioMuted = stream.isMuted();
                            APP.UI.addLocalStream(stream)
                        } else {
                            _this4.audioMuted = false
                        }
                        APP.UI.enableMicrophoneButton();
                        APP.UI.setAudioMuted(_this4.localId, _this4.audioMuted)
                    })
                },
                videoSwitchInProgress: false,
                toggleScreenSharing: function toggleScreenSharing() {
                    var _this5 = this;
                    var shareScreen = arguments.length <= 0 || arguments[0] === undefined ? !this.isSharingScreen : arguments[0];
                    if (this.videoSwitchInProgress) {
                        console.warn("Switch in progress.");
                        return
                    }
                    if (!this.isDesktopSharingEnabled) {
                        console.warn("Cannot toggle screen sharing: not supported.");
                        return
                    }
                    this.videoSwitchInProgress = true;
                    if (shareScreen) {
                        createLocalTracks(["desktop"]).then(function(_ref3) {
                            var _ref4 = _slicedToArray(_ref3, 1);
                            var stream = _ref4[0];
                            stream.on(TrackEvents.LOCAL_TRACK_STOPPED, function() {
                                if (_this5.isSharingScreen) {
                                    _this5.toggleScreenSharing(false)
                                }
                            });
                            return _this5.useVideoStream(stream)
                        }).then(function() {
                            _this5.videoSwitchInProgress = false;
                            console.log("sharing local desktop")
                        }).catch(function(err) {
                            _this5.videoSwitchInProgress = false;
                            _this5.toggleScreenSharing(false);
                            if (err === TrackErrors.CHROME_EXTENSION_USER_CANCELED) return;
                            console.error("failed to share local desktop", err);
                            if (err === TrackErrors.FIREFOX_EXTENSION_NEEDED) {
                                APP.UI.showExtensionRequiredDialog(config.desktopSharingFirefoxExtensionURL);
                                return
                            }
                            var dialogTxt = APP.translation.generateTranslationHTML("dialog.failtoinstall");
                            var dialogTitle = APP.translation.generateTranslationHTML("dialog.error");
                            APP.UI.messageHandler.openDialog(dialogTitle, dialogTxt, false)
                        })
                    } else {
                        createLocalTracks(["video"]).then(function(_ref5) {
                            var _ref6 = _slicedToArray(_ref5, 1);
                            var stream = _ref6[0];
                            return _this5.useVideoStream(stream)
                        }).then(function() {
                            _this5.videoSwitchInProgress = false;
                            console.log("sharing local video")
                        }).catch(function(err) {
                            _this5.useVideoStream(null);
                            _this5.videoSwitchInProgress = false;
                            console.error("failed to share local video", err)
                        })
                    }
                },
                _setupListeners: function _setupListeners() {
                    var _this6 = this;
                    room.on(ConferenceEvents.CONFERENCE_JOINED, function() {
                        APP.UI.mucJoined()
                    });
                    room.on(ConferenceEvents.AUTH_STATUS_CHANGED, function(authEnabled, authLogin) {
                        APP.UI.updateAuthInfo(authEnabled, authLogin)
                    });
                    room.on(ConferenceEvents.USER_JOINED, function(id, user) {
                        if (user.isHidden()) return;
                        console.log("USER %s connnected", id, user);
                        APP.API.notifyUserJoined(id);
                        APP.UI.addUser(id, user.getDisplayName());
                        APP.UI.updateUserRole(user)
                    });
                    room.on(ConferenceEvents.USER_LEFT, function(id, user) {
                        console.log("USER %s LEFT", id, user);
                        APP.API.notifyUserLeft(id);
                        APP.UI.removeUser(id, user.getDisplayName());
                        APP.UI.onSharedVideoStop(id)
                    });
                    room.on(ConferenceEvents.USER_ROLE_CHANGED, function(id, role) {
                        if (_this6.isLocalId(id)) {
                            console.info("My role changed, new role: " + role);
                            _this6.isModerator = room.isModerator();
                            APP.UI.updateLocalRole(room.isModerator())
                        } else {
                            var user = room.getParticipantById(id);
                            if (user) {
                                APP.UI.updateUserRole(user)
                            }
                        }
                    });
                    room.on(ConferenceEvents.TRACK_ADDED, function(track) {
                        if (!track || track.isLocal()) return;
                        track.on(TrackEvents.TRACK_VIDEOTYPE_CHANGED, function(type) {
                            APP.UI.onPeerVideoTypeChanged(track.getParticipantId(), type)
                        });
                        APP.UI.addRemoteStream(track)
                    });
                    room.on(ConferenceEvents.TRACK_REMOVED, function(track) {
                        if (!track || track.isLocal()) return;
                        APP.UI.removeRemoteStream(track)
                    });
                    room.on(ConferenceEvents.TRACK_MUTE_CHANGED, function(track) {
                        if (!track) return;
                        var handler = track.getType() === "audio" ? APP.UI.setAudioMuted : APP.UI.setVideoMuted;
                        var id = void 0;
                        var mute = track.isMuted();
                        if (track.isLocal()) {
                            id = _this6.localId;
                            if (track.getType() === "audio") {
                                _this6.audioMuted = mute
                            } else {
                                _this6.videoMuted = mute
                            }
                        } else {
                            id = track.getParticipantId()
                        }
                        handler(id, mute)
                    });
                    room.on(ConferenceEvents.TRACK_AUDIO_LEVEL_CHANGED, function(id, lvl) {
                        if (_this6.isLocalId(id) && localAudio && localAudio.isMuted()) {
                            lvl = 0
                        }
                        if (config.debug) {
                            _this6.audioLevelsMap[id] = lvl;
                            console.log("AudioLevel:" + id + "/" + lvl)
                        }
                        APP.UI.setAudioLevel(id, lvl)
                    });
                    room.on(ConferenceEvents.IN_LAST_N_CHANGED, function(inLastN) {
                        if (config.muteLocalVideoIfNotInLastN) {}
                    });
                    room.on(ConferenceEvents.LAST_N_ENDPOINTS_CHANGED, function(ids, enteringIds) {
                        APP.UI.handleLastNEndpoints(ids, enteringIds)
                    });
                    room.on(ConferenceEvents.DOMINANT_SPEAKER_CHANGED, function(id) {
                        APP.UI.markDominantSpeaker(id)
                    });
                    if (!interfaceConfig.filmStripOnly) {
                        room.on(ConferenceEvents.CONNECTION_INTERRUPTED, function() {
                            APP.UI.markVideoInterrupted(true)
                        });
                        room.on(ConferenceEvents.CONNECTION_RESTORED, function() {
                            APP.UI.markVideoInterrupted(false)
                        });
                        room.on(ConferenceEvents.MESSAGE_RECEIVED, function(id, text, ts) {
                            var nick = getDisplayName(id);
                            APP.API.notifyReceivedChatMessage(id, nick, text, ts);
                            APP.UI.addMessage(id, nick, text, ts)
                        })
                    }
                    room.on(ConferenceEvents.DISPLAY_NAME_CHANGED, function(id, displayName) {
                        APP.API.notifyDisplayNameChanged(id, displayName);
                        APP.UI.changeDisplayName(id, displayName)
                    });
                    room.on(ConferenceEvents.RECORDER_STATE_CHANGED, function(status, error) {
                        console.log("Received recorder status change: ", status, error);
                        APP.UI.updateRecordingState(status)
                    });
                    room.on(ConferenceEvents.USER_STATUS_CHANGED, function(id, status) {
                        APP.UI.updateUserStatus(id, status)
                    });
                    room.on(ConferenceEvents.KICKED, function() {
                        APP.UI.hideStats();
                        APP.UI.notifyKicked()
                    });
                    room.on(ConferenceEvents.DTMF_SUPPORT_CHANGED, function(isDTMFSupported) {
                        APP.UI.updateDTMFSupport(isDTMFSupported)
                    });
                    APP.UI.addListener(_UIEvents2.default.ROOM_LOCK_CLICKED, function() {
                        if (room.isModerator()) {
                            var promise = roomLocker.isLocked ? roomLocker.askToUnlock() : roomLocker.askToLock();
                            promise.then(function() {
                                APP.UI.markRoomLocked(roomLocker.isLocked)
                            })
                        } else {
                            roomLocker.notifyModeratorRequired()
                        }
                    });
                    APP.UI.addListener(_UIEvents2.default.AUDIO_MUTED, muteLocalAudio);
                    APP.UI.addListener(_UIEvents2.default.VIDEO_MUTED, muteLocalVideo);
                    if (!interfaceConfig.filmStripOnly) {
                        APP.UI.addListener(_UIEvents2.default.MESSAGE_CREATED, function(message) {
                            APP.API.notifySendingChatMessage(message);
                            room.sendTextMessage(message)
                        })
                    }
                    room.on(ConferenceEvents.CONNECTION_STATS, function(stats) {
                        _connectionquality2.default.updateLocalStats(stats)
                    });
                    _connectionquality2.default.addListener(_CQEvents2.default.LOCALSTATS_UPDATED, function(percent, stats) {
                        APP.UI.updateLocalStats(percent, stats);
                        room.sendCommandOnce(_this6.commands.defaults.CONNECTION_QUALITY, {
                            children: _connectionquality2.default.convertToMUCStats(stats),
                            attributes: {
                                xmlns: "http://jitsi.org/jitmeet/stats"
                            }
                        })
                    });
                    room.addCommandListener(this.commands.defaults.CONNECTION_QUALITY, function(values, from) {
                        _connectionquality2.default.updateRemoteStats(from, values)
                    });
                    _connectionquality2.default.addListener(_CQEvents2.default.REMOTESTATS_UPDATED, function(id, percent, stats) {
                        APP.UI.updateRemoteStats(id, percent, stats)
                    });
                    room.addCommandListener(this.commands.defaults.ETHERPAD, function(_ref7) {
                        var value = _ref7.value;
                        APP.UI.initEtherpad(value)
                    });
                    APP.UI.addListener(_UIEvents2.default.EMAIL_CHANGED, function() {
                        var email = arguments.length <= 0 || arguments[0] === undefined ? "" : arguments[0];
                        email = email.trim();
                        if (email === APP.settings.getEmail()) {
                            return
                        }
                        APP.settings.setEmail(email);
                        APP.UI.setUserAvatar(room.myUserId(), email);
                        sendEmail(_this6.commands.defaults.EMAIL, email)
                    });
                    room.addCommandListener(this.commands.defaults.EMAIL, function(data) {
                        APP.UI.setUserAvatar(data.attributes.id, data.value)
                    });
                    APP.UI.addListener(_UIEvents2.default.NICKNAME_CHANGED, function() {
                        var nickname = arguments.length <= 0 || arguments[0] === undefined ? "" : arguments[0];
                        nickname = nickname.trim();
                        if (nickname === APP.settings.getDisplayName()) {
                            return
                        }
                        APP.settings.setDisplayName(nickname);
                        room.setDisplayName(nickname);
                        APP.UI.changeDisplayName(APP.conference.localId, nickname)
                    });
                    APP.UI.addListener(_UIEvents2.default.START_MUTED_CHANGED, function(startAudioMuted, startVideoMuted) {
                        room.setStartMutedPolicy({
                            audio: startAudioMuted,
                            video: startVideoMuted
                        })
                    });
                    room.on(ConferenceEvents.START_MUTED_POLICY_CHANGED, function(_ref8) {
                        var audio = _ref8.audio;
                        var video = _ref8.video;
                        APP.UI.onStartMutedChanged(audio, video)
                    });
                    room.on(ConferenceEvents.STARTED_MUTED, function() {
                        (room.isStartAudioMuted() || room.isStartVideoMuted()) && APP.UI.notifyInitiallyMuted()
                    });
                    APP.UI.addListener(_UIEvents2.default.USER_INVITED, function(roomUrl) {
                        APP.UI.inviteParticipants(roomUrl, APP.conference.roomName, roomLocker.password, APP.settings.getDisplayName())
                    });
                    room.on(ConferenceEvents.AVAILABLE_DEVICES_CHANGED, function(id, devices) {
                        APP.UI.updateDevicesAvailability(id, devices)
                    });
                    APP.UI.addListener(_UIEvents2.default.HANGUP, function() {
                        hangup(true)
                    });
                    APP.UI.addListener(_UIEvents2.default.LOGOUT, function() {
                        _AuthHandler2.default.logout(room).then(function(url) {
                            if (url) {
                                window.location.href = url
                            } else {
                                hangup(true)
                            }
                        })
                    });
                    APP.UI.addListener(_UIEvents2.default.SIP_DIAL, function(sipNumber) {
                        room.dial(sipNumber)
                    });
                    APP.UI.addListener(_UIEvents2.default.RECORDING_TOGGLED, function(options) {
                        room.toggleRecording(options)
                    });
                    APP.UI.addListener(_UIEvents2.default.SUBJECT_CHANGED, function(topic) {
                        room.setSubject(topic)
                    });
                    room.on(ConferenceEvents.SUBJECT_CHANGED, function(subject) {
                        APP.UI.setSubject(subject)
                    });
                    APP.UI.addListener(_UIEvents2.default.USER_KICKED, function(id) {
                        room.kickParticipant(id)
                    });
                    APP.UI.addListener(_UIEvents2.default.REMOTE_AUDIO_MUTED, function(id) {
                        room.muteParticipant(id)
                    });
                    APP.UI.addListener(_UIEvents2.default.AUTH_CLICKED, function() {
                        _AuthHandler2.default.authenticate(room)
                    });
                    APP.UI.addListener(_UIEvents2.default.SELECTED_ENDPOINT, function(id) {
                        room.selectParticipant(id)
                    });
                    APP.UI.addListener(_UIEvents2.default.PINNED_ENDPOINT, function(smallVideo, isPinned) {
                        var smallVideoId = smallVideo.getId();
                        if (smallVideo.getVideoType() === _LargeVideo.VIDEO_CONTAINER_TYPE && !APP.conference.isLocalId(smallVideoId))
                            if (isPinned) room.pinParticipant(smallVideoId);
                            else room.pinParticipant(null)
                    });
                    APP.UI.addListener(_UIEvents2.default.VIDEO_DEVICE_CHANGED, function(cameraDeviceId) {
                        APP.settings.setCameraDeviceId(cameraDeviceId);
                        createLocalTracks(["video"]).then(function(_ref9) {
                            var _ref10 = _slicedToArray(_ref9, 1);
                            var stream = _ref10[0];
                            _this6.useVideoStream(stream);
                            console.log("switched local video device")
                        })
                    });
                    APP.UI.addListener(_UIEvents2.default.AUDIO_DEVICE_CHANGED, function(micDeviceId) {
                        APP.settings.setMicDeviceId(micDeviceId);
                        createLocalTracks(["audio"]).then(function(_ref11) {
                            var _ref12 = _slicedToArray(_ref11, 1);
                            var stream = _ref12[0];
                            _this6.useAudioStream(stream);
                            console.log("switched local audio device")
                        })
                    });
                    APP.UI.addListener(_UIEvents2.default.AUDIO_OUTPUT_DEVICE_CHANGED, function(audioOutputDeviceId) {
                        APP.settings.setAudioOutputDeviceId(audioOutputDeviceId).then(function() {
                            return console.log("changed audio output device")
                        }).catch(function(err) {
                            console.error("failed to set audio output device", err)
                        })
                    });
                    APP.UI.addListener(_UIEvents2.default.TOGGLE_SCREENSHARING, this.toggleScreenSharing.bind(this));
                    APP.UI.addListener(_UIEvents2.default.UPDATE_SHARED_VIDEO, function(url, state, time, isMuted, volume) {
                        if (state === "stop" || state === "start" || state === "playing") {
                            room.removeCommand(_this6.commands.defaults.SHARED_VIDEO);
                            room.sendCommandOnce(_this6.commands.defaults.SHARED_VIDEO, {
                                value: url,
                                attributes: {
                                    state: state,
                                    time: time,
                                    muted: isMuted,
                                    volume: volume
                                }
                            })
                        } else {
                            room.removeCommand(_this6.commands.defaults.SHARED_VIDEO);
                            room.sendCommand(_this6.commands.defaults.SHARED_VIDEO, {
                                value: url,
                                attributes: {
                                    state: state,
                                    time: time,
                                    muted: isMuted,
                                    volume: volume
                                }
                            })
                        }
                    });
                    room.addCommandListener(this.commands.defaults.SHARED_VIDEO, function(_ref13, id) {
                        var value = _ref13.value;
                        var attributes = _ref13.attributes;
                        if (attributes.state === "stop") {
                            APP.UI.onSharedVideoStop(id, attributes)
                        } else if (attributes.state === "start") {
                            APP.UI.onSharedVideoStart(id, value, attributes)
                        } else if (attributes.state === "playing" || attributes.state === "pause") {
                            APP.UI.onSharedVideoUpdate(id, value, attributes)
                        }
                    })
                },
                addConferenceListener: function addConferenceListener(eventName, callBack) {
                    room.on(eventName, callBack)
                }
            }
        }, {
            "./connection": 3,
            "./modules/UI/authentication/AuthHandler": 10,
            "./modules/UI/authentication/RoomLocker": 12,
            "./modules/UI/videolayout/LargeVideo": 33,
            "./modules/connectionquality/connectionquality": 43,
            "./modules/recorder/Recorder": 45,
            "./service/UI/UIEvents": 364,
            "./service/connectionquality/CQEvents": 365
        }],
        3: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            exports.openConnection = openConnection;
            var _LoginDialog = require("./modules/UI/authentication/LoginDialog");
            var _LoginDialog2 = _interopRequireDefault(_LoginDialog);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var ConnectionEvents = JitsiMeetJS.events.connection;
            var ConnectionErrors = JitsiMeetJS.errors.connection;

            function checkForAttachParametersAndConnect(id, password, connection) {
                if (window.XMPPAttachInfo) {
                    APP.connect.status = "connecting";
                    if (window.XMPPAttachInfo.status === "error") {
                        connection.connect({
                            id: id,
                            password: password
                        });
                        return
                    }
                    var attachOptions = window.XMPPAttachInfo.data;
                    if (attachOptions) {
                        connection.attach(attachOptions);
                        delete window.XMPPAttachInfo.data
                    } else {
                        connection.connect({
                            id: id,
                            password: password
                        })
                    }
                } else {
                    APP.connect.status = "ready";
                    APP.connect.handler = checkForAttachParametersAndConnect.bind(null, id, password, connection)
                }
            }

            function connect(id, password, roomName) {
                var connectionConfig = Object.assign({}, config);
                connectionConfig.bosh += "?room=" + roomName;
                var connection = new JitsiMeetJS.JitsiConnection(null, config.token, connectionConfig);
                return new Promise(function(resolve, reject) {
                    connection.addEventListener(ConnectionEvents.CONNECTION_ESTABLISHED, handleConnectionEstablished);
                    connection.addEventListener(ConnectionEvents.CONNECTION_FAILED, handleConnectionFailed);

                    function unsubscribe() {
                        connection.removeEventListener(ConnectionEvents.CONNECTION_ESTABLISHED, handleConnectionEstablished);
                        connection.removeEventListener(ConnectionEvents.CONNECTION_FAILED, handleConnectionFailed)
                    }

                    function handleConnectionEstablished() {
                        unsubscribe();
                        resolve(connection)
                    }

                    function handleConnectionFailed(err) {
                        unsubscribe();
                        console.error("CONNECTION FAILED:", err);
                        reject(err)
                    }
                    checkForAttachParametersAndConnect(id, password, connection)
                })
            }

            function requestAuth(roomName) {
                return new Promise(function(resolve, reject) {
                    var authDialog = _LoginDialog2.default.showAuthDialog(function(id, password) {
                        connect(id, password, roomName).then(function(connection) {
                            authDialog.close();
                            resolve(connection)
                        }, function(err) {
                            if (err === ConnectionErrors.PASSWORD_REQUIRED) {
                                authDialog.displayError(err)
                            } else {
                                authDialog.close();
                                reject(err)
                            }
                        })
                    })
                })
            }

            function openConnection(_ref) {
                var id = _ref.id;
                var password = _ref.password;
                var retry = _ref.retry;
                var roomName = _ref.roomName;
                var usernameOverride = window.localStorage.getItem("xmpp_username_override");
                var passwordOverride = window.localStorage.getItem("xmpp_password_override");
                if (usernameOverride && usernameOverride.length > 0) {
                    id = usernameOverride
                }
                if (passwordOverride && passwordOverride.length > 0) {
                    password = passwordOverride
                }
                return connect(id, password, roomName).catch(function(err) {
                    if (!retry) {
                        throw err
                    }
                    if (err === ConnectionErrors.PASSWORD_REQUIRED) {
                        if (config.token) {
                            throw err
                        } else {
                            return requestAuth(roomName)
                        }
                    } else {
                        throw err
                    }
                })
            }
        }, {
            "./modules/UI/authentication/LoginDialog": 11
        }],
        4: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var commands = {};

            function initCommands() {
                commands = {
                    displayName: APP.UI.inputDisplayNameHandler,
                    toggleAudio: APP.conference.toggleAudioMuted,
                    toggleVideo: APP.conference.toggleVideoMuted,
                    toggleFilmStrip: APP.UI.toggleFilmStrip,
                    toggleChat: APP.UI.toggleChat,
                    toggleContactList: APP.UI.toggleContactList
                }
            }
            var events = {
                incomingMessage: false,
                outgoingMessage: false,
                displayNameChange: false,
                participantJoined: false,
                participantLeft: false
            };

            function processCommand(message) {
                if (message.action != "execute") {
                    console.error("Unknown action of the message");
                    return
                }
                for (var key in message) {
                    if (commands[key]) commands[key].apply(null, message[key])
                }
            }

            function processEvent(event) {
                if (!event.action) {
                    console.error("Event with no action is received.");
                    return
                }
                var i = 0;
                switch (event.action) {
                    case "add":
                        for (; i < event.events.length; i++) {
                            events[event.events[i]] = true
                        }
                        break;
                    case "remove":
                        for (; i < event.events.length; i++) {
                            events[event.events[i]] = false
                        }
                        break;
                    default:
                        console.error("Unknown action for event.")
                }
            }

            function sendMessage(object) {
                window.parent.postMessage(JSON.stringify(object), "*")
            }

            function processMessage(event) {
                var message;
                try {
                    message = JSON.parse(event.data)
                } catch (e) {}
                if (!message.type) return;
                switch (message.type) {
                    case "command":
                        processCommand(message);
                        break;
                    case "event":
                        processEvent(message);
                        break;
                    default:
                        console.error("Unknown type of the message");
                        return
                }
            }

            function isEnabled() {
                var hash = location.hash;
                return hash && hash.indexOf("external=true") > -1 && window.postMessage
            }

            function isEventEnabled(name) {
                return events[name]
            }

            function triggerEvent(name, object) {
                if (isEnabled() && isEventEnabled(name)) {
                    sendMessage({
                        type: "event",
                        action: "result",
                        event: name,
                        result: object
                    })
                }
            }
            exports.default = {
                init: function init() {
                    if (!isEnabled()) {
                        return
                    }
                    initCommands();
                    if (window.addEventListener) {
                        window.addEventListener("message", processMessage, false)
                    } else {
                        window.attachEvent("onmessage", processMessage)
                    }
                    sendMessage({
                        type: "system",
                        loaded: true
                    })
                },
                notifySendingChatMessage: function notifySendingChatMessage(body) {
                    triggerEvent("outgoingMessage", {
                        message: body
                    })
                },
                notifyReceivedChatMessage: function notifyReceivedChatMessage(id, nick, body, ts) {
                    if (APP.conference.isLocalId(id)) {
                        return
                    }
                    triggerEvent("incomingMessage", {
                        from: id,
                        nick: nick,
                        message: body,
                        stamp: ts
                    })
                },
                notifyUserJoined: function notifyUserJoined(id) {
                    triggerEvent("participantJoined", {
                        id: id
                    })
                },
                notifyUserLeft: function notifyUserLeft(id) {
                    triggerEvent("participantLeft", {
                        id: id
                    })
                },
                notifyDisplayNameChanged: function notifyDisplayNameChanged(id, displayName) {
                    triggerEvent("displayNameChange", {
                        id: id,
                        displayname: displayName
                    })
                },
                dispose: function dispose() {
                    if (!isEnabled()) {
                        return
                    }
                    if (window.removeEventListener) {
                        window.removeEventListener("message", processMessage, false)
                    } else {
                        window.detachEvent("onmessage", processMessage)
                    }
                }
            }
        }, {}],
        5: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _createClass = function() {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor)
                    }
                }
                return function(Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor
                }
            }();
            var _UIEvents = require("../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _VideoLayout = require("./UI/videolayout/VideoLayout");
            var _VideoLayout2 = _interopRequireDefault(_VideoLayout);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function")
                }
            }
            var _COMMAND = "follow-me";
            var _FOLLOW_ME_RECEIVED_TIMEOUT = 30;
            var State = function() {
                function State(propertyChangeCallback) {
                    _classCallCheck(this, State);
                    this._propertyChangeCallback = propertyChangeCallback
                }
                _createClass(State, [{
                    key: "_firePropertyChange",
                    value: function _firePropertyChange(property, oldValue, newValue) {
                        var propertyChangeCallback = this._propertyChangeCallback;
                        if (propertyChangeCallback) propertyChangeCallback(property, oldValue, newValue)
                    }
                }, {
                    key: "filmStripVisible",
                    get: function get() {
                        return this._filmStripVisible
                    },
                    set: function set(b) {
                        var oldValue = this._filmStripVisible;
                        if (oldValue !== b) {
                            this._filmStripVisible = b;
                            this._firePropertyChange("filmStripVisible", oldValue, b)
                        }
                    }
                }, {
                    key: "nextOnStage",
                    get: function get() {
                        return this._nextOnStage
                    },
                    set: function set(id) {
                        var oldValue = this._nextOnStage;
                        if (oldValue !== id) {
                            this._nextOnStage = id;
                            this._firePropertyChange("nextOnStage", oldValue, id)
                        }
                    }
                }, {
                    key: "sharedDocumentVisible",
                    get: function get() {
                        return this._sharedDocumentVisible
                    },
                    set: function set(b) {
                        var oldValue = this._sharedDocumentVisible;
                        if (oldValue !== b) {
                            this._sharedDocumentVisible = b;
                            this._firePropertyChange("sharedDocumentVisible", oldValue, b)
                        }
                    }
                }]);
                return State
            }();
            var FollowMe = function() {
                function FollowMe(conference, UI) {
                    _classCallCheck(this, FollowMe);
                    this._conference = conference;
                    this._UI = UI;
                    this.nextOnStageTimer = 0;
                    this._local = new State(this._localPropertyChange.bind(this));
                    conference.commands.addCommandListener(_COMMAND, this._onFollowMeCommand.bind(this))
                }
                _createClass(FollowMe, [{
                    key: "_setFollowMeInitialState",
                    value: function _setFollowMeInitialState() {
                        this._filmStripToggled.bind(this, this._UI.isFilmStripVisible());
                        var pinnedId = _VideoLayout2.default.getPinnedId();
                        var isPinned = false;
                        var smallVideo;
                        if (pinnedId) {
                            isPinned = true;
                            smallVideo = _VideoLayout2.default.getSmallVideo(pinnedId)
                        }
                        this._nextOnStage(smallVideo, isPinned);
                        this._sharedDocumentToggled.bind(this, this._UI.getSharedDocumentManager().isVisible())
                    }
                }, {
                    key: "_addFollowMeListeners",
                    value: function _addFollowMeListeners() {
                        this.filmStripEventHandler = this._filmStripToggled.bind(this);
                        this._UI.addListener(_UIEvents2.default.TOGGLED_FILM_STRIP, this.filmStripEventHandler);
                        var self = this;
                        this.pinnedEndpointEventHandler = function(smallVideo, isPinned) {
                            self._nextOnStage(smallVideo, isPinned)
                        };
                        this._UI.addListener(_UIEvents2.default.PINNED_ENDPOINT, this.pinnedEndpointEventHandler);
                        this.sharedDocEventHandler = this._sharedDocumentToggled.bind(this);
                        this._UI.addListener(_UIEvents2.default.TOGGLED_SHARED_DOCUMENT, this.sharedDocEventHandler)
                    }
                }, {
                    key: "_removeFollowMeListeners",
                    value: function _removeFollowMeListeners() {
                        this._UI.removeListener(_UIEvents2.default.TOGGLED_FILM_STRIP, this.filmStripEventHandler);
                        this._UI.removeListener(_UIEvents2.default.TOGGLED_SHARED_DOCUMENT, this.sharedDocEventHandler);
                        this._UI.removeListener(_UIEvents2.default.PINNED_ENDPOINT, this.pinnedEndpointEventHandler)
                    }
                }, {
                    key: "enableFollowMe",
                    value: function enableFollowMe(enable) {
                        if (enable) {
                            this._setFollowMeInitialState();
                            this._addFollowMeListeners()
                        } else this._removeFollowMeListeners()
                    }
                }, {
                    key: "_filmStripToggled",
                    value: function _filmStripToggled(filmStripVisible) {
                        this._local.filmStripVisible = filmStripVisible
                    }
                }, {
                    key: "_sharedDocumentToggled",
                    value: function _sharedDocumentToggled(sharedDocumentVisible) {
                        this._local.sharedDocumentVisible = sharedDocumentVisible
                    }
                }, {
                    key: "_nextOnStage",
                    value: function _nextOnStage(smallVideo, isPinned) {
                        if (!this._conference.isModerator) return;
                        var nextOnStage = null;
                        if (isPinned) nextOnStage = smallVideo.getId();
                        this._local.nextOnStage = nextOnStage
                    }
                }, {
                    key: "_localPropertyChange",
                    value: function _localPropertyChange(property, oldValue, newValue) {
                        var conference = this._conference;
                        if (!conference.isModerator) return;
                        var commands = conference.commands;
                        commands.removeCommand(_COMMAND);
                        var self = this;
                        commands.sendCommandOnce(_COMMAND, {
                            attributes: {
                                filmStripVisible: self._local.filmStripVisible,
                                nextOnStage: self._local.nextOnStage,
                                sharedDocumentVisible: self._local.sharedDocumentVisible
                            }
                        })
                    }
                }, {
                    key: "_onFollowMeCommand",
                    value: function _onFollowMeCommand(_ref, id) {
                        var attributes = _ref.attributes;
                        if (typeof id === "undefined") return;
                        if (this._conference.isLocalId(id)) return;
                        if (!this._conference.isParticipantModerator(id)) {
                            console.warn("Received follow-me command " + "not from moderator");
                            return
                        }
                        this._onFilmStripVisible(attributes.filmStripVisible);
                        this._onNextOnStage(attributes.nextOnStage);
                        this._onSharedDocumentVisible(attributes.sharedDocumentVisible)
                    }
                }, {
                    key: "_onFilmStripVisible",
                    value: function _onFilmStripVisible(filmStripVisible) {
                        if (typeof filmStripVisible !== "undefined") {
                            filmStripVisible = filmStripVisible == "true";
                            if (filmStripVisible !== this._UI.isFilmStripVisible()) this._UI.eventEmitter.emit(_UIEvents2.default.TOGGLE_FILM_STRIP)
                        }
                    }
                }, {
                    key: "_onNextOnStage",
                    value: function _onNextOnStage(id) {
                        var clickId = null;
                        var pin;
                        if (typeof id !== "undefined" && !_VideoLayout2.default.isPinned(id)) {
                            clickId = id;
                            pin = true
                        } else if (typeof id == "undefined" && _VideoLayout2.default.getPinnedId()) {
                            clickId = _VideoLayout2.default.getPinnedId();
                            pin = false
                        }
                        if (clickId) this._pinVideoThumbnailById(clickId, pin)
                    }
                }, {
                    key: "_onSharedDocumentVisible",
                    value: function _onSharedDocumentVisible(sharedDocumentVisible) {
                        if (typeof sharedDocumentVisible !== "undefined") {
                            sharedDocumentVisible = sharedDocumentVisible == "true";
                            if (sharedDocumentVisible !== this._UI.getSharedDocumentManager().isVisible()) this._UI.getSharedDocumentManager().toggleEtherpad()
                        }
                    }
                }, {
                    key: "_pinVideoThumbnailById",
                    value: function _pinVideoThumbnailById(clickId, pin) {
                        var self = this;
                        var smallVideo = _VideoLayout2.default.getSmallVideo(clickId);
                        if (smallVideo) {
                            this.nextOnStageTimer = 0;
                            clearTimeout(this.nextOnStageTimout);
                            if (pin && !_VideoLayout2.default.isPinned(clickId) || !pin && _VideoLayout2.default.isPinned(clickId)) _VideoLayout2.default.handleVideoThumbClicked(clickId)
                        } else {
                            this.nextOnStageTimout = setTimeout(function() {
                                if (self.nextOnStageTimer > _FOLLOW_ME_RECEIVED_TIMEOUT) {
                                    self.nextOnStageTimer = 0;
                                    return
                                }
                                this.nextOnStageTimer++;
                                self._pinVideoThumbnailById(clickId, pin)
                            }, 1e3)
                        }
                    }
                }]);
                return FollowMe
            }();
            exports.default = FollowMe
        }, {
            "../service/UI/UIEvents": 364,
            "./UI/videolayout/VideoLayout": 37
        }],
        6: [function(require, module, exports) {
            "use strict";
            var _UIEvents = require("../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var messageHandler = require("./util/MessageHandler");
            var constructOverallFeedbackHtml = function constructOverallFeedbackHtml() {
                var feedbackQuestion = Feedback.feedbackScore < 0 ? "<br/><br/>" + APP.translation.translateString("dialog.feedbackQuestion") : "";
                var message = '<div class="feedback"><div>' + '<div class="feedbackTitle">' + APP.translation.translateString("dialog.thankYou", {
                    appName: interfaceConfig.APP_NAME
                }) + "</div>" + feedbackQuestion + "</div><br/><br/>" + '<div id="stars">' + '<a><i class="fa fa-star-o fa fa-star"></i></a>' + '<a><i class="fa fa-star-o fa fa-star"></i></a>' + '<a><i class="fa fa-star-o fa fa-star"></i></a>' + '<a><i class="fa fa-star-o fa fa-star"></i></a>' + '<a><i class="fa fa-star-o fa fa-star"></i></a>' + "</div></div>";
                return message
            };
            var constructDetailedFeedbackHtml = function constructDetailedFeedbackHtml() {
                var message = '<div class="feedback">' + '<div class="feedbackTitle">' + APP.translation.translateString("dialog.sorryFeedback") + "</div><br/><br/>" + '<div class="feedbackDetails">' + '<textarea id="feedbackTextArea" rows="10" cols="50" autofocus>' + "</textarea>" + "</div></div>";
                return message
            };
            var feedbackWindowCallback = null;

            function _toggleFeedbackIcon() {
                $("#feedbackButtonDiv").toggleClass("hidden")
            }

            function _showFeedbackButton(show) {
                var feedbackButton = $("#feedbackButtonDiv");
                if (show) feedbackButton.css("display", "block");
                else feedbackButton.css("display", "none")
            }
            var Feedback = {
                feedbackScore: -1,
                init: function init(emitter) {
                    if (!APP.conference.isCallstatsEnabled()) return;
                    if (typeof this.enabled == "undefined") this.enabled = true;
                    _showFeedbackButton(this.enabled);
                    $("#feedbackButton").click(function(event) {
                        Feedback.openFeedbackWindow()
                    });
                    emitter.addListener(_UIEvents2.default.TOGGLE_FILM_STRIP, function() {
                        _toggleFeedbackIcon()
                    })
                },
                enableFeedback: function enableFeedback(enable) {
                    if (this.enabled !== enable) _showFeedbackButton(enable);
                    this.enabled = enable
                },
                isEnabled: function isEnabled() {
                    return this.enabled && APP.conference.isCallstatsEnabled()
                },
                openFeedbackWindow: function openFeedbackWindow(callback) {
                    feedbackWindowCallback = callback;
                    var onLoadFunction = function onLoadFunction(event) {
                        $("#stars >a").each(function(index) {
                            $(this).get(0).onmouseover = function() {
                                Feedback.hoverStars(index)
                            };
                            $(this).get(0).onmouseleave = function() {
                                Feedback.unhoverStars(index)
                            };
                            $(this).get(0).onclick = function() {
                                Feedback.toggleStars(index);
                                Feedback.feedbackScore = index + 1;
                                if (Feedback.feedbackScore > 3) {
                                    APP.conference.sendFeedback(Feedback.feedbackScore, "");
                                    if (feedbackWindowCallback) feedbackWindowCallback();
                                    else APP.UI.messageHandler.closeDialog()
                                } else {
                                    feedbackDialog.goToState("detailed_feedback")
                                }
                            };
                            if (Feedback.feedbackScore > 0 && index < Feedback.feedbackScore) {
                                Feedback.hoverStars(index);
                                Feedback.toggleStars(index)
                            }
                        })
                    };
                    var states = {
                        overall_feedback: {
                            html: constructOverallFeedbackHtml(),
                            persistent: false,
                            buttons: {},
                            closeText: "",
                            focus: "div[id='stars']",
                            position: {
                                width: 500
                            }
                        },
                        detailed_feedback: {
                            html: constructDetailedFeedbackHtml(),
                            buttons: {
                                Submit: true,
                                Cancel: false
                            },
                            closeText: "",
                            focus: "textarea[id='feedbackTextArea']",
                            position: {
                                width: 500
                            },
                            submit: function submit(e, v, m, f) {
                                e.preventDefault();
                                if (v) {
                                    var feedbackDetails = document.getElementById("feedbackTextArea").value;
                                    if (feedbackDetails && feedbackDetails.length > 0) APP.conference.sendFeedback(Feedback.feedbackScore, feedbackDetails);
                                    if (feedbackWindowCallback) feedbackWindowCallback();
                                    else APP.UI.messageHandler.closeDialog()
                                } else {
                                    if (feedbackWindowCallback) feedbackWindowCallback();
                                    else APP.UI.messageHandler.closeDialog()
                                }
                            }
                        }
                    };
                    var feedbackDialog = APP.UI.messageHandler.openDialogWithStates(states, {
                        persistent: false,
                        buttons: {},
                        closeText: "",
                        loaded: onLoadFunction,
                        position: {
                            width: 500
                        }
                    }, null)
                },
                toggleStars: function toggleStars(starCount) {
                    $("#stars >a >i").each(function(index) {
                        if (index <= starCount) {
                            $(this).removeClass("fa-star-o")
                        } else $(this).addClass("fa-star-o")
                    })
                },
                hoverStars: function hoverStars(starCount) {
                    $("#stars >a >i").each(function(index) {
                        if (index <= starCount) $(this).addClass("starHover")
                    })
                },
                unhoverStars: function unhoverStars(starCount) {
                    $("#stars >a >i").each(function(index) {
                        if (index <= starCount && $(this).hasClass("fa-star-o")) $(this).removeClass("starHover")
                    })
                }
            };
            module.exports = Feedback
        }, {
            "../../service/UI/UIEvents": 364,
            "./util/MessageHandler": 28
        }],
        7: [function(require, module, exports) {
            "use strict";
            var _Chat = require("./side_pannels/chat/Chat");
            var _Chat2 = _interopRequireDefault(_Chat);
            var _Toolbar = require("./toolbars/Toolbar");
            var _Toolbar2 = _interopRequireDefault(_Toolbar);
            var _ToolbarToggler = require("./toolbars/ToolbarToggler");
            var _ToolbarToggler2 = _interopRequireDefault(_ToolbarToggler);
            var _BottomToolbar = require("./toolbars/BottomToolbar");
            var _BottomToolbar2 = _interopRequireDefault(_BottomToolbar);
            var _ContactList = require("./side_pannels/contactlist/ContactList");
            var _ContactList2 = _interopRequireDefault(_ContactList);
            var _Avatar = require("./avatar/Avatar");
            var _Avatar2 = _interopRequireDefault(_Avatar);
            var _SidePanelToggler = require("./side_pannels/SidePanelToggler");
            var _SidePanelToggler2 = _interopRequireDefault(_SidePanelToggler);
            var _UIUtil = require("./util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _UIEvents = require("../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _CQEvents = require("../../service/connectionquality/CQEvents");
            var _CQEvents2 = _interopRequireDefault(_CQEvents);
            var _Etherpad = require("./etherpad/Etherpad");
            var _Etherpad2 = _interopRequireDefault(_Etherpad);
            var _SharedVideo = require("./shared_video/SharedVideo");
            var _SharedVideo2 = _interopRequireDefault(_SharedVideo);
            var _Recording = require("./recording/Recording");
            var _Recording2 = _interopRequireDefault(_Recording);
            var _VideoLayout = require("./videolayout/VideoLayout");
            var _VideoLayout2 = _interopRequireDefault(_VideoLayout);
            var _FilmStrip = require("./videolayout/FilmStrip");
            var _FilmStrip2 = _interopRequireDefault(_FilmStrip);
            var _SettingsMenu = require("./side_pannels/settings/SettingsMenu");
            var _SettingsMenu2 = _interopRequireDefault(_SettingsMenu);
            var _Settings = require("./../settings/Settings");
            var _Settings2 = _interopRequireDefault(_Settings);
            var _helpers = require("../util/helpers");
            var _FollowMe = require("../FollowMe");
            var _FollowMe2 = _interopRequireDefault(_FollowMe);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var UI = {};
            var EventEmitter = require("events");
            UI.messageHandler = require("./util/MessageHandler");
            var messageHandler = UI.messageHandler;
            var JitsiPopover = require("./util/JitsiPopover");
            var Feedback = require("./Feedback");
            var eventEmitter = new EventEmitter;
            UI.eventEmitter = eventEmitter;
            var etherpadManager = void 0;
            var sharedVideoManager = void 0;
            var followMeHandler = void 0;

            function promptDisplayName() {
                var nickRequiredMsg = APP.translation.translateString("dialog.displayNameRequired");
                var defaultNickMsg = APP.translation.translateString("defaultNickname");
                var message = '\n        <h2 data-i18n="dialog.displayNameRequired">' + nickRequiredMsg + '</h2>\n        <input name="displayName" type="text"\n               data-i18n="[placeholder]defaultNickname"\n               placeholder="' + defaultNickMsg + '" autofocus>';
                var buttons = {
                    Ok: true
                };
                var dialog = messageHandler.openDialog(null, message, true, buttons, function(e, v, m, f) {
                    e.preventDefault();
                    if (v) {
                        var displayName = f.displayName;
                        if (displayName) {
                            UI.inputDisplayNameHandler(displayName);
                            dialog.close();
                            return
                        }
                    }
                }, function() {
                    var form = $.prompt.getPrompt();
                    var input = form.find("input[name='displayName']");
                    input.focus();
                    var button = form.find("button");
                    button.attr("disabled", "disabled");
                    input.keyup(function() {
                        if (input.val()) {
                            button.removeAttr("disabled")
                        } else {
                            button.attr("disabled", "disabled")
                        }
                    })
                })
            }

            function setupChat() {
                _Chat2.default.init(eventEmitter);
                $("#toggle_smileys").click(function() {
                    _Chat2.default.toggleSmileys()
                })
            }

            function setupToolbars() {
                _Toolbar2.default.init(eventEmitter);
                _BottomToolbar2.default.setupListeners(eventEmitter)
            }

            function toggleFullScreen() {
                var isNotFullScreen = !document.fullscreenElement && !document.mozFullScreenElement && !document.webkitFullscreenElement && !document.msFullscreenElement;
                if (isNotFullScreen) {
                    if (document.documentElement.requestFullscreen) {
                        document.documentElement.requestFullscreen()
                    } else if (document.documentElement.msRequestFullscreen) {
                        document.documentElement.msRequestFullscreen()
                    } else if (document.documentElement.mozRequestFullScreen) {
                        document.documentElement.mozRequestFullScreen()
                    } else if (document.documentElement.webkitRequestFullscreen) {
                        document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)
                    }
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen()
                    } else if (document.msExitFullscreen) {
                        document.msExitFullscreen()
                    } else if (document.mozCancelFullScreen) {
                        document.mozCancelFullScreen()
                    } else if (document.webkitExitFullscreen) {
                        document.webkitExitFullscreen()
                    }
                }
            }
            UI.notifyGracefulShutdown = function() {
                messageHandler.openMessageDialog("dialog.serviceUnavailable", "dialog.gracefulShutdown")
            };
            UI.notifyReservationError = function(code, msg) {
                var title = APP.translation.generateTranslationHTML("dialog.reservationError");
                var message = APP.translation.generateTranslationHTML("dialog.reservationErrorMsg", {
                    code: code,
                    msg: msg
                });
                messageHandler.openDialog(title, message, true, {}, function(event, value, message, formVals) {
                    return false
                })
            };
            UI.notifyKicked = function() {
                messageHandler.openMessageDialog("dialog.sessTerminated", "dialog.kickMessage")
            };
            UI.notifyConferenceDestroyed = function(reason) {
                var title = APP.translation.generateTranslationHTML("dialog.sessTerminated");
                messageHandler.openDialog(title, reason, true, {}, function(event, value, message, formVals) {
                    return false
                })
            };
            UI.notifyBridgeDown = function() {
                messageHandler.showError("dialog.error", "dialog.bridgeUnavailable")
            };
            UI.showChatError = function(err, msg) {
                if (interfaceConfig.filmStripOnly) {
                    return
                }
                _Chat2.default.chatAddError(err, msg)
            };
            UI.changeDisplayName = function(id, displayName) {
                _ContactList2.default.onDisplayNameChange(id, displayName);
                _VideoLayout2.default.onDisplayNameChanged(id, displayName);
                if (APP.conference.isLocalId(id) || id === "localVideoContainer") {
                    _SettingsMenu2.default.changeDisplayName(displayName);
                    _Chat2.default.setChatConversationMode(!!displayName)
                }
            };
            UI.initConference = function() {
                var id = APP.conference.localId;
                _Toolbar2.default.updateRoomUrl(window.location.href);
                _ContactList2.default.addContact(id);
                UI.updateLocalRole(false);
                _ToolbarToggler2.default.showToolbar();
                var displayName = config.displayJids ? id : _Settings2.default.getDisplayName();
                if (displayName) {
                    UI.changeDisplayName("localVideoContainer", displayName)
                }
                UI.setUserAvatar(id, _Settings2.default.getEmail());
                _Toolbar2.default.checkAutoEnableDesktopSharing();
                if (!interfaceConfig.filmStripOnly) {
                    Feedback.init(eventEmitter)
                }
                followMeHandler = new _FollowMe2.default(APP.conference, UI)
            };
            UI.mucJoined = function() {
                _VideoLayout2.default.mucJoined()
            };

            function registerListeners() {
                UI.addListener(_UIEvents2.default.ETHERPAD_CLICKED, function() {
                    if (etherpadManager) {
                        etherpadManager.toggleEtherpad()
                    }
                });
                UI.addListener(_UIEvents2.default.SHARED_VIDEO_CLICKED, function() {
                    if (sharedVideoManager) {
                        sharedVideoManager.toggleSharedVideo()
                    }
                });
                UI.addListener(_UIEvents2.default.FULLSCREEN_TOGGLE, toggleFullScreen);
                UI.addListener(_UIEvents2.default.TOGGLE_CHAT, UI.toggleChat);
                UI.addListener(_UIEvents2.default.TOGGLE_SETTINGS, function() {
                    _SidePanelToggler2.default.toggleSettingsMenu()
                });
                UI.addListener(_UIEvents2.default.TOGGLE_CONTACT_LIST, UI.toggleContactList);
                UI.addListener(_UIEvents2.default.TOGGLE_FILM_STRIP, function() {
                    UI.toggleFilmStrip();
                    _VideoLayout2.default.resizeVideoArea(_SidePanelToggler2.default.isVisible(), true, false)
                });
                UI.addListener(_UIEvents2.default.FOLLOW_ME_ENABLED, function(isEnabled) {
                    if (followMeHandler) followMeHandler.enableFollowMe(isEnabled)
                })
            }

            function bindEvents() {
                function onResize() {
                    _SidePanelToggler2.default.resizeChat();
                    _VideoLayout2.default.resizeVideoArea(_SidePanelToggler2.default.isVisible())
                }
                $(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange", onResize);
                $(window).resize(onResize)
            }
            UI.getSharedVideoManager = function() {
                return sharedVideoManager
            };
            UI.start = function() {
                document.title = interfaceConfig.APP_NAME;
                var setupWelcomePage = null;
                if (config.enableWelcomePage && window.location.pathname == "/" && _Settings2.default.isWelcomePageEnabled()) {
                    $("#videoconference_page").hide();
                    if (!setupWelcomePage) setupWelcomePage = require("./welcome_page/WelcomePage");
                    setupWelcomePage();
                    return false
                }
                $("#welcome_page").hide();
                $.prompt.setDefaults({
                    persistent: false
                });
                registerListeners();
                _BottomToolbar2.default.init();
                _FilmStrip2.default.init(eventEmitter);
                _VideoLayout2.default.init(eventEmitter);
                if (!interfaceConfig.filmStripOnly) {
                    _VideoLayout2.default.initLargeVideo(_SidePanelToggler2.default.isVisible())
                }
                _VideoLayout2.default.resizeVideoArea(_SidePanelToggler2.default.isVisible(), true, true);
                _ContactList2.default.init(eventEmitter);
                bindEvents();
                sharedVideoManager = new _SharedVideo2.default(eventEmitter);
                if (!interfaceConfig.filmStripOnly) {
                    $("#videospace").mousemove(function() {
                        return _ToolbarToggler2.default.showToolbar()
                    });
                    setupToolbars();
                    setupChat();
                    if (config.enableRecording) _Recording2.default.init(eventEmitter, config.recordingType);
                    if (config.noticeMessage) {
                        $("#noticeText").text(config.noticeMessage);
                        $("#notice").css({
                            display: "block"
                        })
                    }
                    $("#downloadlog").click(function(event) {
                        var logs = APP.conference.getLogs();
                        var data = encodeURIComponent(JSON.stringify(logs, null, "  "));
                        var elem = event.target.parentNode;
                        elem.download = "meetlog.json";
                        elem.href = "data:application/json;charset=utf-8,\n" + data
                    })
                } else {
                    $("#header").css("display", "none");
                    $("#downloadlog").css("display", "none");
                    _BottomToolbar2.default.hide();
                    _FilmStrip2.default.setupFilmStripOnly();
                    messageHandler.disableNotifications();
                    $("body").popover("disable");
                    JitsiPopover.enabled = false
                }
                document.title = interfaceConfig.APP_NAME;
                if (config.requireDisplayName) {
                    if (!APP.settings.getDisplayName()) {
                        promptDisplayName()
                    }
                }
                if (!interfaceConfig.filmStripOnly) {
                    toastr.options = {
                        closeButton: true,
                        debug: false,
                        positionClass: "notification-bottom-right",
                        onclick: null,
                        showDuration: "300",
                        hideDuration: "1000",
                        timeOut: "2000",
                        extendedTimeOut: "1000",
                        showEasing: "swing",
                        hideEasing: "linear",
                        showMethod: "fadeIn",
                        hideMethod: "fadeOut",
                        reposition: function reposition() {
                            if (_SidePanelToggler2.default.isVisible()) {
                                $("#toast-container").addClass("notification-bottom-right-center")
                            } else {
                                $("#toast-container").removeClass("notification-bottom-right-center")
                            }
                        },
                        newestOnTop: false
                    };
                    _SettingsMenu2.default.init(eventEmitter)
                }
                return true
            };
            UI.addLocalStream = function(track) {
                switch (track.getType()) {
                    case "audio":
                        _VideoLayout2.default.changeLocalAudio(track);
                        break;
                    case "video":
                        _VideoLayout2.default.changeLocalVideo(track);
                        break;
                    default:
                        console.error("Unknown stream type: " + track.getType());
                        break
                }
            };
            UI.addRemoteStream = function(track) {
                _VideoLayout2.default.onRemoteStreamAdded(track)
            };
            UI.removeRemoteStream = function(track) {
                _VideoLayout2.default.onRemoteStreamRemoved(track)
            };

            function chatAddError(errorMessage, originalText) {
                return _Chat2.default.chatAddError(errorMessage, originalText)
            }
            UI.setSubject = function(subject) {
                _Chat2.default.setSubject(subject)
            };
            UI.initEtherpad = function(name) {
                if (etherpadManager || !config.etherpad_base || !name) {
                    return
                }
                console.log("Etherpad is enabled");
                etherpadManager = new _Etherpad2.default(config.etherpad_base, name, eventEmitter);
                _Toolbar2.default.showEtherpadButton()
            };
            UI.getSharedDocumentManager = function() {
                return etherpadManager
            };
            UI.addUser = function(id, displayName) {
                _ContactList2.default.addContact(id);
                messageHandler.notify(displayName, "notify.somebody", "connected", "notify.connected");
                if (!config.startAudioMuted || config.startAudioMuted > APP.conference.membersCount) _UIUtil2.default.playSoundNotification("userJoined");
                _VideoLayout2.default.addParticipantContainer(id);
                UI.setUserAvatar(id);
                if (displayName) UI.changeDisplayName(id, displayName)
            };
            UI.removeUser = function(id, displayName) {
                _ContactList2.default.removeContact(id);
                messageHandler.notify(displayName, "notify.somebody", "disconnected", "notify.disconnected");
                if (!config.startAudioMuted || config.startAudioMuted > APP.conference.membersCount) {
                    _UIUtil2.default.playSoundNotification("userLeft")
                }
                _VideoLayout2.default.removeParticipantContainer(id)
            };
            UI.updateUserStatus = function(id, status) {
                _VideoLayout2.default.setPresenceStatus(id, status)
            };
            UI.onPeerVideoTypeChanged = function(id, newVideoType) {
                _VideoLayout2.default.onVideoTypeChanged(id, newVideoType)
            };
            UI.updateLocalRole = function(isModerator) {
                _VideoLayout2.default.showModeratorIndicator();
                _Toolbar2.default.showSipCallButton(isModerator);
                _Toolbar2.default.showSharedVideoButton(isModerator);
                _Recording2.default.showRecordingButton(isModerator);
                _SettingsMenu2.default.showStartMutedOptions(isModerator);
                _SettingsMenu2.default.showFollowMeOptions(isModerator);
                if (isModerator) {
                    messageHandler.notify(null, "notify.me", "connected", "notify.moderator");
                    _Recording2.default.checkAutoRecord()
                }
            };
            UI.updateUserRole = function(user) {
                _VideoLayout2.default.showModeratorIndicator();
                if (!user.isModerator()) {
                    return
                }
                var displayName = user.getDisplayName();
                if (displayName) {
                    messageHandler.notify(displayName, "notify.somebody", "connected", "notify.grantedTo", {
                        to: _UIUtil2.default.escapeHtml(displayName)
                    })
                } else {
                    messageHandler.notify("", "notify.somebody", "connected", "notify.grantedToUnknown", {})
                }
            };
            UI.toggleSmileys = function() {
                _Chat2.default.toggleSmileys()
            };
            UI.toggleFilmStrip = function() {
                var self = _FilmStrip2.default;
                self.toggleFilmStrip.apply(self, arguments)
            };
            UI.isFilmStripVisible = function() {
                return _FilmStrip2.default.isFilmStripVisible()
            };
            UI.toggleChat = function() {
                _SidePanelToggler2.default.toggleChat()
            };
            UI.toggleContactList = function() {
                _SidePanelToggler2.default.toggleContactList()
            };
            UI.inputDisplayNameHandler = function(newDisplayName) {
                eventEmitter.emit(_UIEvents2.default.NICKNAME_CHANGED, newDisplayName)
            };
            UI.getRemoteVideoType = function(jid) {
                return _VideoLayout2.default.getRemoteVideoType(jid)
            };
            UI.connectionIndicatorShowMore = function(id) {
                _VideoLayout2.default.showMore(id)
            };
            UI.showLoginPopup = function(callback) {
                console.log("password is required");
                var message = '<h2 data-i18n="dialog.passwordRequired">';
                message += APP.translation.translateString("dialog.passwordRequired");
                message += "</h2>" + '<input name="username" type="text" ' + 'placeholder="user@domain.net" autofocus>' + '<input name="password" ' + 'type="password" data-i18n="[placeholder]dialog.userPassword"' + ' placeholder="user password">';
                messageHandler.openTwoButtonDialog(null, null, null, message, true, "dialog.Ok", function(e, v, m, f) {
                    if (v) {
                        if (f.username && f.password) {
                            callback(f.username, f.password)
                        }
                    }
                }, null, null, ":input:first")
            };
            UI.askForNickname = function() {
                return window.prompt("Your nickname (optional)")
            };
            UI.setAudioMuted = function(id, muted) {
                _VideoLayout2.default.onAudioMute(id, muted);
                if (APP.conference.isLocalId(id)) {
                    _Toolbar2.default.markAudioIconAsMuted(muted)
                }
            };
            UI.setVideoMuted = function(id, muted) {
                _VideoLayout2.default.onVideoMute(id, muted);
                if (APP.conference.isLocalId(id)) {
                    _Toolbar2.default.markVideoIconAsMuted(muted)
                }
            };
            UI.addListener = function(type, listener) {
                eventEmitter.on(type, listener)
            };
            UI.removeListener = function(type, listener) {
                eventEmitter.removeListener(type, listener)
            };
            UI.clickOnVideo = function(videoNumber) {
                var remoteVideos = $(".videocontainer:not(#mixedstream)");
                if (remoteVideos.length > videoNumber) {
                    remoteVideos[videoNumber].click()
                }
            };
            UI.showToolbar = function() {
                return _ToolbarToggler2.default.showToolbar()
            };
            UI.dockToolbar = function(isDock) {
                _ToolbarToggler2.default.dockToolbar(isDock)
            };
            UI.setUserAvatar = function(id, email) {
                _Avatar2.default.setUserAvatar(id, email);
                var avatarUrl = _Avatar2.default.getAvatarUrl(id);
                _VideoLayout2.default.changeUserAvatar(id, avatarUrl);
                _ContactList2.default.changeUserAvatar(id, avatarUrl);
                if (APP.conference.isLocalId(id)) {
                    _SettingsMenu2.default.changeAvatar(avatarUrl)
                }
            };
            UI.notifyConnectionFailed = function(stropheErrorMsg) {
                var title = APP.translation.generateTranslationHTML("dialog.error");
                var message;
                if (stropheErrorMsg) {
                    message = APP.translation.generateTranslationHTML("dialog.connectErrorWithMsg", {
                        msg: stropheErrorMsg
                    })
                } else {
                    message = APP.translation.generateTranslationHTML("dialog.connectError")
                }
                messageHandler.openDialog(title, message, true, {}, function(e, v, m, f) {
                    return false
                })
            };
            UI.notifyMaxUsersLimitReached = function() {
                var title = APP.translation.generateTranslationHTML("dialog.error");
                var message = APP.translation.generateTranslationHTML("dialog.maxUsersLimitReached");
                messageHandler.openDialog(title, message, true, {}, function(e, v, m, f) {
                    return false
                })
            };
            UI.notifyInitiallyMuted = function() {
                messageHandler.notify(null, "notify.mutedTitle", "connected", "notify.muted", null, {
                    timeOut: 12e4
                })
            };
            UI.markDominantSpeaker = function(id) {
                _VideoLayout2.default.onDominantSpeakerChanged(id)
            };
            UI.handleLastNEndpoints = function(ids, enteringIds) {
                _VideoLayout2.default.onLastNEndpointsChanged(ids, enteringIds)
            };
            UI.setAudioLevel = function(id, lvl) {
                _VideoLayout2.default.setAudioLevel(id, lvl)
            };
            UI.updateDesktopSharingButtons = function() {
                _Toolbar2.default.updateDesktopSharingButtonState()
            };
            UI.hideStats = function() {
                _VideoLayout2.default.hideStats()
            };
            UI.updateLocalStats = function(percent, stats) {
                _VideoLayout2.default.updateLocalConnectionStats(percent, stats)
            };
            UI.updateRemoteStats = function(id, percent, stats) {
                _VideoLayout2.default.updateConnectionStats(id, percent, stats)
            };
            UI.markVideoInterrupted = function(interrupted) {
                if (interrupted) {
                    _VideoLayout2.default.onVideoInterrupted()
                } else {
                    _VideoLayout2.default.onVideoRestored()
                }
            };
            UI.markRoomLocked = function(locked) {
                if (locked) {
                    _Toolbar2.default.lockLockButton()
                } else {
                    _Toolbar2.default.unlockLockButton()
                }
            };
            UI.addMessage = function(from, displayName, message, stamp) {
                _Chat2.default.updateChatConversation(from, displayName, message, stamp)
            };
            UI.updateDTMFSupport = function(isDTMFSupported) {};
            UI.inviteParticipants = function(roomUrl, conferenceName, key, nick) {
                var keyText = "";
                if (key) {
                    keyText = APP.translation.translateString("email.sharedKey", {
                        sharedKey: key
                    })
                }
                var and = APP.translation.translateString("email.and");
                var supportedBrowsers = "Chromium, Google Chrome " + and + " Opera";
                var subject = APP.translation.translateString("email.subject", {
                    appName: interfaceConfig.APP_NAME,
                    conferenceName: conferenceName
                });
                var body = APP.translation.translateString("email.body", {
                    appName: interfaceConfig.APP_NAME,
                    sharedKeyText: keyText,
                    roomUrl: roomUrl,
                    supportedBrowsers: supportedBrowsers
                });
                body = body.replace(/\n/g, "%0D%0A");
                if (nick) {
                    body += "%0D%0A%0D%0A" + _UIUtil2.default.escapeHtml(nick)
                }
                if (interfaceConfig.INVITATION_POWERED_BY) {
                    body += "%0D%0A%0D%0A--%0D%0Apowered by jitsi.org"
                }
                window.open("mailto:?subject=" + subject + "&body=" + body, "_blank")
            };
            UI.requestFeedback = function() {
                return new Promise(function(resolve, reject) {
                    if (Feedback.isEnabled()) {
                        if (Feedback.feedbackScore > 0) {
                            Feedback.openFeedbackWindow();
                            resolve()
                        } else {
                            Feedback.openFeedbackWindow(resolve)
                        }
                    } else {
                        messageHandler.openMessageDialog(null, null, null, APP.translation.translateString("dialog.thankYou", {
                            appName: interfaceConfig.APP_NAME
                        }));
                        resolve()
                    }
                })
            };
            UI.updateRecordingState = function(state) {
                _Recording2.default.updateRecordingState(state)
            };
            UI.notifyTokenAuthFailed = function() {
                messageHandler.showError("dialog.error", "dialog.tokenAuthFailed")
            };
            UI.notifyInternalError = function() {
                messageHandler.showError("dialog.sorry", "dialog.internalError")
            };
            UI.notifyFocusDisconnected = function(focus, retrySec) {
                messageHandler.notify(null, "notify.focus", "disconnected", "notify.focusFail", {
                    component: focus,
                    ms: retrySec
                })
            };
            UI.notifyFocusLeft = function() {
                var title = APP.translation.generateTranslationHTML("dialog.serviceUnavailable");
                var msg = APP.translation.generateTranslationHTML("dialog.jicofoUnavailable");
                messageHandler.openDialog(title, msg, true, [{
                    title: "retry"
                }], function() {
                    (0, _helpers.reload)();
                    return false
                })
            };
            UI.updateAuthInfo = function(isAuthEnabled, login) {
                var loggedIn = !!login;
                _Toolbar2.default.showAuthenticateButton(isAuthEnabled);
                if (isAuthEnabled) {
                    _Toolbar2.default.setAuthenticatedIdentity(login);
                    _Toolbar2.default.showLoginButton(!loggedIn);
                    _Toolbar2.default.showLogoutButton(loggedIn)
                }
            };
            UI.onStartMutedChanged = function(startAudioMuted, startVideoMuted) {
                _SettingsMenu2.default.updateStartMutedBox(startAudioMuted, startVideoMuted)
            };
            UI.onAvailableDevicesChanged = function(devices) {
                _SettingsMenu2.default.changeDevicesList(devices)
            };
            UI.getLargeVideoID = function() {
                return _VideoLayout2.default.getLargeVideoID()
            };
            UI.getLargeVideo = function() {
                return _VideoLayout2.default.getLargeVideo()
            };
            UI.showExtensionRequiredDialog = function(url) {
                messageHandler.openMessageDialog("dialog.extensionRequired", null, null, APP.translation.generateTranslationHTML("dialog.firefoxExtensionPrompt", {
                    url: url
                }))
            };
            UI.updateDevicesAvailability = function(id, devices) {
                _VideoLayout2.default.setDeviceAvailabilityIcons(id, devices)
            };
            UI.onSharedVideoStart = function(id, url, attributes) {
                if (sharedVideoManager) sharedVideoManager.onSharedVideoStart(id, url, attributes)
            };
            UI.onSharedVideoUpdate = function(id, url, attributes) {
                if (sharedVideoManager) sharedVideoManager.onSharedVideoUpdate(id, url, attributes)
            };
            UI.onSharedVideoStop = function(id, attributes) {
                if (sharedVideoManager) sharedVideoManager.onSharedVideoStop(id, attributes)
            };
            UI.disableCameraButton = function() {
                _Toolbar2.default.markVideoIconAsDisabled(true)
            };
            UI.enableCameraButton = function() {
                _Toolbar2.default.markVideoIconAsDisabled(false)
            };
            UI.disableMicrophoneButton = function() {
                _Toolbar2.default.markAudioIconAsDisabled(true)
            };
            UI.enableMicrophoneButton = function() {
                _Toolbar2.default.markAudioIconAsDisabled(false)
            };
            module.exports = UI
        }, {
            "../../service/UI/UIEvents": 364,
            "../../service/connectionquality/CQEvents": 365,
            "../FollowMe": 5,
            "../util/helpers": 51,
            "./../settings/Settings": 46,
            "./Feedback": 6,
            "./avatar/Avatar": 13,
            "./etherpad/Etherpad": 14,
            "./recording/Recording": 15,
            "./shared_video/SharedVideo": 16,
            "./side_pannels/SidePanelToggler": 17,
            "./side_pannels/chat/Chat": 18,
            "./side_pannels/contactlist/ContactList": 22,
            "./side_pannels/settings/SettingsMenu": 23,
            "./toolbars/BottomToolbar": 24,
            "./toolbars/Toolbar": 25,
            "./toolbars/ToolbarToggler": 26,
            "./util/JitsiPopover": 27,
            "./util/MessageHandler": 28,
            "./util/UIUtil": 29,
            "./videolayout/FilmStrip": 31,
            "./videolayout/VideoLayout": 37,
            "./welcome_page/WelcomePage": 38,
            events: 352
        }],
        8: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _CanvasUtils = require("./CanvasUtils");
            var _CanvasUtils2 = _interopRequireDefault(_CanvasUtils);
            var _FilmStrip = require("../videolayout/FilmStrip");
            var _FilmStrip2 = _interopRequireDefault(_FilmStrip);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var LOCAL_LEVEL = "local";
            var ASDrawContext = null;
            var audioLevelCanvasCache = {};
            var dominantSpeakerAudioElement = null;

            function initDominantSpeakerAudioLevels(dominantSpeakerAvatarSize) {
                var ASRadius = dominantSpeakerAvatarSize / 2;
                var ASCenter = (dominantSpeakerAvatarSize + ASRadius) / 2;
                ASDrawContext.beginPath();
                ASDrawContext.arc(ASCenter, ASCenter, ASRadius, 0, 2 * Math.PI);
                ASDrawContext.closePath();
                ASDrawContext.shadowColor = interfaceConfig.SHADOW_COLOR;
                ASDrawContext.shadowOffsetX = 0;
                ASDrawContext.shadowOffsetY = 0
            }

            function resizeAudioLevelCanvas(audioLevelCanvas, thumbnailWidth, thumbnailHeight) {
                audioLevelCanvas.width = thumbnailWidth + interfaceConfig.CANVAS_EXTRA;
                audioLevelCanvas.height = thumbnailHeight + interfaceConfig.CANVAS_EXTRA
            }

            function drawAudioLevelCanvas(id, audioLevel) {
                if (!audioLevelCanvasCache[id]) {
                    var videoSpanId = getVideoSpanId(id);
                    var audioLevelCanvasOrig = $("#" + videoSpanId + ">canvas").get(0);
                    if (audioLevelCanvasOrig) {
                        audioLevelCanvasCache[id] = _CanvasUtils2.default.cloneCanvas(audioLevelCanvasOrig)
                    }
                }
                var canvas = audioLevelCanvasCache[id];
                if (!canvas) {
                    return
                }
                var drawContext = canvas.getContext("2d");
                drawContext.clearRect(0, 0, canvas.width, canvas.height);
                var shadowLevel = getShadowLevel(audioLevel);
                if (shadowLevel > 0) {
                    _CanvasUtils2.default.drawRoundRectGlow(drawContext, interfaceConfig.CANVAS_EXTRA / 2, interfaceConfig.CANVAS_EXTRA / 2, canvas.width - interfaceConfig.CANVAS_EXTRA, canvas.height - interfaceConfig.CANVAS_EXTRA, interfaceConfig.CANVAS_RADIUS, interfaceConfig.SHADOW_COLOR, shadowLevel)
                }
            }

            function getShadowLevel(audioLevel) {
                var shadowLevel = 0;
                if (audioLevel <= .3) {
                    shadowLevel = Math.round(interfaceConfig.CANVAS_EXTRA / 2 * (audioLevel / .3))
                } else if (audioLevel <= .6) {
                    shadowLevel = Math.round(interfaceConfig.CANVAS_EXTRA / 2 * ((audioLevel - .3) / .3))
                } else {
                    shadowLevel = Math.round(interfaceConfig.CANVAS_EXTRA / 2 * ((audioLevel - .6) / .4))
                }
                return shadowLevel
            }

            function getVideoSpanId(id) {
                var videoSpanId = null;
                if (id === LOCAL_LEVEL || APP.conference.isLocalId(id)) {
                    videoSpanId = "localVideoContainer"
                } else {
                    videoSpanId = "participant_" + id
                }
                return videoSpanId
            }
            var AudioLevels = {
                init: function init() {
                    dominantSpeakerAudioElement = $("#dominantSpeakerAudioLevel")[0];
                    ASDrawContext = dominantSpeakerAudioElement.getContext("2d");
                    var parentContainer = $("#dominantSpeaker");
                    var dominantSpeakerWidth = parentContainer.width();
                    var dominantSpeakerHeight = parentContainer.height();
                    dominantSpeakerAudioElement.width = dominantSpeakerWidth;
                    dominantSpeakerAudioElement.height = dominantSpeakerHeight;
                    var dominantSpeakerAvatar = $("#dominantSpeakerAvatar");
                    initDominantSpeakerAudioLevels(dominantSpeakerAvatar.width())
                },
                updateAudioLevelCanvas: function updateAudioLevelCanvas(id, thumbWidth, thumbHeight) {
                    var videoSpanId = "localVideoContainer";
                    if (id) {
                        videoSpanId = "participant_" + id
                    }
                    var videoSpan = document.getElementById(videoSpanId);
                    if (!videoSpan) {
                        if (id) {
                            console.error("No video element for id", id)
                        } else {
                            console.error("No video element for local video.")
                        }
                        return
                    }
                    var audioLevelCanvas = $("#" + videoSpanId + ">canvas");
                    if (!audioLevelCanvas || audioLevelCanvas.length === 0) {
                        audioLevelCanvas = document.createElement("canvas");
                        audioLevelCanvas.className = "audiolevel";
                        audioLevelCanvas.style.bottom = "-" + interfaceConfig.CANVAS_EXTRA / 2 + "px";
                        audioLevelCanvas.style.left = "-" + interfaceConfig.CANVAS_EXTRA / 2 + "px";
                        resizeAudioLevelCanvas(audioLevelCanvas, thumbWidth, thumbHeight);
                        videoSpan.appendChild(audioLevelCanvas)
                    } else {
                        audioLevelCanvas = audioLevelCanvas.get(0);
                        resizeAudioLevelCanvas(audioLevelCanvas, thumbWidth, thumbHeight)
                    }
                },
                updateAudioLevel: function updateAudioLevel(id, audioLevel, largeVideoId) {
                    drawAudioLevelCanvas(id, audioLevel);
                    var videoSpanId = getVideoSpanId(id);
                    var audioLevelCanvas = $("#" + videoSpanId + ">canvas").get(0);
                    if (!audioLevelCanvas) {
                        return
                    }
                    var drawContext = audioLevelCanvas.getContext("2d");
                    var canvasCache = audioLevelCanvasCache[id];
                    drawContext.clearRect(0, 0, audioLevelCanvas.width, audioLevelCanvas.height);
                    drawContext.drawImage(canvasCache, 0, 0);
                    if (id === LOCAL_LEVEL) {
                        id = APP.conference.localId;
                        if (!id) {
                            return
                        }
                    }
                    if (id === largeVideoId) {
                        window.requestAnimationFrame(function() {
                            AudioLevels.updateDominantSpeakerAudioLevel(audioLevel)
                        })
                    }
                },
                updateDominantSpeakerAudioLevel: function updateDominantSpeakerAudioLevel(audioLevel) {
                    if ($("#dominantSpeaker").css("visibility") == "hidden" || ASDrawContext === null) {
                        return
                    }
                    ASDrawContext.clearRect(0, 0, dominantSpeakerAudioElement.width, dominantSpeakerAudioElement.height);
                    if (!audioLevel) {
                        return
                    }
                    ASDrawContext.shadowBlur = getShadowLevel(audioLevel);
                    ASDrawContext.fill()
                },
                updateCanvasSize: function updateCanvasSize(thumbWidth, thumbHeight) {
                    var canvasWidth = thumbWidth + interfaceConfig.CANVAS_EXTRA;
                    var canvasHeight = thumbHeight + interfaceConfig.CANVAS_EXTRA;
                    _FilmStrip2.default.getThumbs().children("canvas").each(function() {
                        $(this).attr("width", canvasWidth);
                        $(this).attr("height", canvasHeight)
                    });
                    Object.keys(audioLevelCanvasCache).forEach(function(id) {
                        audioLevelCanvasCache[id].width = canvasWidth;
                        audioLevelCanvasCache[id].height = canvasHeight
                    })
                }
            };
            exports.default = AudioLevels
        }, {
            "../videolayout/FilmStrip": 31,
            "./CanvasUtils": 9
        }],
        9: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var CanvasUtil = {
                drawRoundRectGlow: function drawRoundRectGlow(drawContext, x, y, w, h, r, glowColor, glowWidth) {
                    drawContext.save();
                    if (w < 2 * r) r = w / 2;
                    if (h < 2 * r) r = h / 2;
                    drawContext.beginPath();
                    drawContext.moveTo(x + r, y);
                    drawContext.arcTo(x + w, y, x + w, y + h, r);
                    drawContext.arcTo(x + w, y + h, x, y + h, r);
                    drawContext.arcTo(x, y + h, x, y, r);
                    drawContext.arcTo(x, y, x + w, y, r);
                    drawContext.closePath();
                    drawContext.shadowColor = glowColor;
                    drawContext.shadowBlur = glowWidth;
                    drawContext.shadowOffsetX = 0;
                    drawContext.shadowOffsetY = 0;
                    drawContext.fill();
                    drawContext.save();
                    drawContext.restore();
                    drawContext.beginPath();
                    drawContext.moveTo(x + r, y);
                    drawContext.arcTo(x + w, y, x + w, y + h, r);
                    drawContext.arcTo(x + w, y + h, x, y + h, r);
                    drawContext.arcTo(x, y + h, x, y, r);
                    drawContext.arcTo(x, y, x + w, y, r);
                    drawContext.closePath();
                    drawContext.clip();
                    drawContext.clearRect(0, 0, 277, 200);
                    drawContext.restore()
                },
                cloneCanvas: function cloneCanvas(oldCanvas) {
                    if (!oldCanvas) return oldCanvas;
                    var newCanvas = document.createElement("canvas");
                    var context = newCanvas.getContext("2d");
                    newCanvas.width = oldCanvas.width;
                    newCanvas.height = oldCanvas.height;
                    context.drawImage(oldCanvas, 0, 0);
                    return newCanvas
                }
            };
            exports.default = CanvasUtil
        }, {}],
        10: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _LoginDialog = require("./LoginDialog");
            var _LoginDialog2 = _interopRequireDefault(_LoginDialog);
            var _UIEvents = require("../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _connection = require("../../../connection");

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var ConferenceEvents = JitsiMeetJS.events.conference;
            var externalAuthWindow = void 0;
            var authRequiredDialog = void 0;

            function doExternalAuth(room, lockPassword) {
                if (externalAuthWindow) {
                    externalAuthWindow.focus();
                    return
                }
                if (room.isJoined()) {
                    room.getExternalAuthUrl(true).then(function(url) {
                        externalAuthWindow = _LoginDialog2.default.showExternalAuthDialog(url, function() {
                            externalAuthWindow = null;
                            room.join(lockPassword)
                        })
                    })
                } else {
                    room.getExternalAuthUrl().then(_UIUtil2.default.redirect)
                }
            }

            function doXmppAuth(room, lockPassword) {
                var loginDialog = _LoginDialog2.default.showAuthDialog(function(id, password) {
                    (0, _connection.openConnection)({
                        id: id,
                        password: password
                    }).then(function(connection) {
                        var newRoom = connection.initJitsiConference(room.getName(), APP.conference._getConferenceOptions());
                        loginDialog.displayConnectionStatus(APP.translation.translateString("connection.FETCH_SESSION_ID"));
                        newRoom.room.moderator.authenticate().then(function() {
                            connection.disconnect();
                            loginDialog.displayConnectionStatus(APP.translation.translateString("connection.GOT_SESSION_ID"));
                            room.join(lockPassword);
                            loginDialog.close()
                        }).catch(function(error, code) {
                            connection.disconnect();
                            console.error("Auth on the fly failed", error);
                            var errorMsg = APP.translation.translateString("connection.GET_SESSION_ID_ERROR");
                            loginDialog.displayError(errorMsg + code)
                        })
                    }, function(err) {
                        loginDialog.displayError(err)
                    })
                }, function() {
                    loginDialog.close()
                })
            }

            function authenticate(room, lockPassword) {
                if (room.isExternalAuthEnabled()) {
                    doExternalAuth(room, lockPassword)
                } else {
                    doXmppAuth(room, lockPassword)
                }
            }

            function logout(room) {
                return new Promise(function(resolve) {
                    room.room.moderator.logout(resolve)
                }).then(function(url) {
                    if (room.isJoined()) {
                        room.join()
                    }
                    return url
                })
            }

            function requireAuth(room, lockPassword) {
                if (authRequiredDialog) {
                    return
                }
                authRequiredDialog = _LoginDialog2.default.showAuthRequiredDialog(room.getName(), authenticate.bind(null, room, lockPassword))
            }

            function closeAuth() {
                if (externalAuthWindow) {
                    externalAuthWindow.close();
                    externalAuthWindow = null
                }
                if (authRequiredDialog) {
                    authRequiredDialog.close();
                    authRequiredDialog = null
                }
            }
            exports.default = {
                authenticate: authenticate,
                requireAuth: requireAuth,
                closeAuth: closeAuth,
                logout: logout
            }
        }, {
            "../../../connection": 3,
            "../../../service/UI/UIEvents": 364,
            "../util/UIUtil": 29,
            "./LoginDialog": 11
        }],
        11: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var messageHandler = require("../util/MessageHandler");

            function getPasswordInputHtml() {
                var placeholder = config.hosts.authdomain ? "user identity" : "user@domain.net";
                var passRequiredMsg = APP.translation.translateString("dialog.passwordRequired");
                return '\n        <h2 data-i18n="dialog.passwordRequired">' + passRequiredMsg + '</h2>\n        <input name="username" type="text" placeholder=' + placeholder + ' autofocus>\n        <input name="password" type="password"\n               data-i18n="[placeholder]dialog.userPassword"\n               placeholder="user password">\n        '
            }

            function toJid(id) {
                if (id.indexOf("@") >= 0) {
                    return id
                }
                var jid = id.concat("@");
                if (config.hosts.authdomain) {
                    jid += config.hosts.authdomain
                } else {
                    jid += config.hosts.domain
                }
                return jid
            }

            function cancelButton() {
                return {
                    title: APP.translation.generateTranslationHTML("dialog.Cancel"),
                    value: false
                }
            }

            function LoginDialog(successCallback, cancelCallback) {
                var loginButtons = [{
                    title: APP.translation.generateTranslationHTML("dialog.Ok"),
                    value: true
                }];
                var finishedButtons = [{
                    title: APP.translation.translateString("dialog.retry"),
                    value: "retry"
                }];
                if (cancelCallback) {
                    loginButtons.push(cancelButton());
                    finishedButtons.push(cancelButton())
                }
                var states = {
                    login: {
                        html: getPasswordInputHtml(),
                        buttons: loginButtons,
                        focus: ":input:first",
                        submit: function submit(e, v, m, f) {
                            e.preventDefault();
                            if (v) {
                                var jid = f.username;
                                var password = f.password;
                                if (jid && password) {
                                    connDialog.goToState("connecting");
                                    successCallback(toJid(jid), password)
                                }
                            } else {
                                cancelCallback()
                            }
                        }
                    },
                    connecting: {
                        title: APP.translation.translateString("dialog.connecting"),
                        html: '<div id="connectionStatus"></div>',
                        buttons: [],
                        defaultButton: 0
                    },
                    finished: {
                        title: APP.translation.translateString("dialog.error"),
                        html: '<div id="errorMessage"></div>',
                        buttons: finishedButtons,
                        defaultButton: 0,
                        submit: function submit(e, v, m, f) {
                            e.preventDefault();
                            if (v === "retry") {
                                connDialog.goToState("login")
                            } else {
                                cancelCallback()
                            }
                        }
                    }
                };
                var connDialog = messageHandler.openDialogWithStates(states, {
                    persistent: true,
                    closeText: ""
                }, null);
                this.displayError = function(message) {
                    var finishedState = connDialog.getState("finished");
                    var errorMessageElem = finishedState.find("#errorMessage");
                    errorMessageElem.text(message);
                    connDialog.goToState("finished")
                };
                this.displayConnectionStatus = function(message) {
                    var connectingState = connDialog.getState("connecting");
                    var connectionStatus = connectingState.find("#connectionStatus");
                    connectionStatus.text(message)
                };
                this.close = function() {
                    connDialog.close()
                }
            }
            exports.default = {
                showAuthDialog: function showAuthDialog(successCallback, cancelCallback) {
                    return new LoginDialog(successCallback, cancelCallback)
                },
                showExternalAuthDialog: function showExternalAuthDialog(url, callback) {
                    var dialog = messageHandler.openCenteredPopup(url, 910, 660, callback);
                    if (!dialog) {
                        messageHandler.openMessageDialog(null, "dialog.popupError")
                    }
                    return dialog
                },
                showAuthRequiredDialog: function showAuthRequiredDialog(roomName, onAuthNow) {
                    var title = APP.translation.generateTranslationHTML("dialog.WaitingForHost");
                    var msg = APP.translation.generateTranslationHTML("dialog.WaitForHostMsg", {
                        room: roomName
                    });
                    var buttonTxt = APP.translation.generateTranslationHTML("dialog.IamHost");
                    var buttons = [{
                        title: buttonTxt,
                        value: "authNow"
                    }];
                    return APP.UI.messageHandler.openDialog(title, msg, true, buttons, function(e, submitValue) {
                        e.preventDefault();
                        if (submitValue === "authNow") {
                            onAuthNow()
                        }
                    })
                }
            }
        }, {
            "../util/MessageHandler": 28
        }],
        12: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            exports.default = createRoomLocker;
            var _MessageHandler = require("../util/MessageHandler");
            var _MessageHandler2 = _interopRequireDefault(_MessageHandler);
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _AnalyticsAdapter = require("../../statistics/AnalyticsAdapter");
            var _AnalyticsAdapter2 = _interopRequireDefault(_AnalyticsAdapter);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }

            function askForNewPassword() {
                var passMsg = APP.translation.generateTranslationHTML("dialog.passwordMsg");
                var yourPassMsg = APP.translation.translateString("dialog.yourPassword");
                var msg = "\n        <h2>" + passMsg + '</h2>\n        <input name="lockKey" type="text"\n               data-i18n="[placeholder]dialog.yourPassword"\n               placeholder="' + yourPassMsg + '" autofocus>\n    ';
                return new Promise(function(resolve, reject) {
                    _MessageHandler2.default.openTwoButtonDialog(null, null, null, msg, false, "dialog.Save", function(e, v, m, f) {
                        if (v && f.lockKey) {
                            resolve(_UIUtil2.default.escapeHtml(f.lockKey))
                        } else {
                            reject(_MessageHandler2.default.CANCEL)
                        }
                    }, null, null, "input:first")
                })
            }

            function askForPassword() {
                var passRequiredMsg = APP.translation.translateString("dialog.passwordRequired");
                var passMsg = APP.translation.translateString("dialog.password");
                var msg = '\n        <h2 data-i18n="dialog.passwordRequired">' + passRequiredMsg + '</h2>\n        <input name="lockKey" type="text"\n               data-i18n="[placeholder]dialog.password"\n               placeholder="' + passMsg + '" autofocus>\n    ';
                return new Promise(function(resolve, reject) {
                    _MessageHandler2.default.openTwoButtonDialog(null, null, null, msg, true, "dialog.Ok", function(e, v, m, f) {}, null, function(e, v, m, f) {
                        if (v && f.lockKey) {
                            resolve(_UIUtil2.default.escapeHtml(f.lockKey))
                        } else {
                            reject(_MessageHandler2.default.CANCEL)
                        }
                    }, ":input:first")
                })
            }

            function _askToUnlock() {
                return new Promise(function(resolve, reject) {
                    _MessageHandler2.default.openTwoButtonDialog(null, null, "dialog.passwordCheck", null, false, "dialog.Remove", function(e, v) {
                        if (v) {
                            resolve()
                        } else {
                            reject(_MessageHandler2.default.CANCEL)
                        }
                    })
                })
            }

            function notifyPasswordNotSupported() {
                console.warn("room passwords not supported");
                _MessageHandler2.default.showError("dialog.warning", "dialog.passwordNotSupported")
            }

            function notifyPasswordFailed(err) {
                console.warn("setting password failed", err);
                _MessageHandler2.default.showError("dialog.lockTitle", "dialog.lockMessage")
            }
            var ConferenceErrors = JitsiMeetJS.errors.conference;

            function createRoomLocker(room) {
                var password = void 0;

                function lock(newPass) {
                    return room.lock(newPass).then(function() {
                        password = newPass
                    }).catch(function(err) {
                        console.error(err);
                        if (err === ConferenceErrors.PASSWORD_NOT_SUPPORTED) {
                            notifyPasswordNotSupported()
                        } else {
                            notifyPasswordFailed(err)
                        }
                        throw err
                    })
                }
                return {get isLocked() {
                        return !!password
                    },
                    get password() {
                        return password
                    },
                    askToUnlock: function askToUnlock() {
                        return _askToUnlock().then(function() {
                            return lock()
                        }).then(function() {
                            _AnalyticsAdapter2.default.sendEvent("toolbar.lock.disabled")
                        }).catch(function(reason) {
                            if (reason !== _MessageHandler2.default.CANCEL) console.error(reason)
                        })
                    },
                    askToLock: function askToLock() {
                        return askForNewPassword().then(function(newPass) {
                            return lock(newPass)
                        }).then(function() {
                            _AnalyticsAdapter2.default.sendEvent("toolbar.lock.enabled")
                        }).catch(function(reason) {
                            if (reason !== _MessageHandler2.default.CANCEL) console.error(reason)
                        })
                    },
                    requirePassword: function requirePassword() {
                        return askForPassword().then(function(newPass) {
                            password = newPass
                        }).catch(function(reason) {
                            if (reason !== _MessageHandler2.default.CANCEL) console.error(reason)
                        })
                    },
                    notifyModeratorRequired: function notifyModeratorRequired() {
                        if (password) {
                            _MessageHandler2.default.openMessageDialog(null, "dialog.passwordError")
                        } else {
                            _MessageHandler2.default.openMessageDialog(null, "dialog.passwordError2")
                        }
                    }
                }
            }
        }, {
            "../../statistics/AnalyticsAdapter": 47,
            "../util/MessageHandler": 28,
            "../util/UIUtil": 29
        }],
        13: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var users = {};
            exports.default = {
                setUserAvatar: function setUserAvatar(id, email) {
                    if (email) {
                        if (users[id] === email) {
                            return
                        }
                        users[id] = email
                    }
                },
                getAvatarUrl: function getAvatarUrl(userId) {
                    if (config.disableThirdPartyRequests) {
                        return "images/avatar2.png"
                    }
                    if (!userId) {
                        console.error("Get avatar - id is undefined");
                        return null
                    }
                    var avatarId = users[userId];
                    var random = !avatarId || avatarId.indexOf("@") < 0;
                    if (!avatarId) {
                        console.warn("No avatar stored yet for " + userId + " - using ID as avatar ID");
                        avatarId = userId
                    }
                    avatarId = MD5.hexdigest(avatarId.trim().toLowerCase());
                    var urlPref = null;
                    var urlSuf = null;
                    if (!random) {
                        urlPref = "https://www.gravatar.com/avatar/";
                        urlSuf = "?d=wavatar&size=200"
                    } else if (random && interfaceConfig.RANDOM_AVATAR_URL_PREFIX) {
                        urlPref = interfaceConfig.RANDOM_AVATAR_URL_PREFIX;
                        urlSuf = interfaceConfig.RANDOM_AVATAR_URL_SUFFIX
                    } else {
                        urlPref = "https://robohash.org/";
                        urlSuf = ".png?size=200x200"
                    }
                    return urlPref + avatarId + urlSuf
                }
            }
        }, {}],
        14: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _createClass = function() {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor)
                    }
                }
                return function(Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor
                }
            }();
            var _VideoLayout = require("../videolayout/VideoLayout");
            var _VideoLayout2 = _interopRequireDefault(_VideoLayout);
            var _LargeContainer2 = require("../videolayout/LargeContainer");
            var _LargeContainer3 = _interopRequireDefault(_LargeContainer2);
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _UIEvents = require("../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _SidePanelToggler = require("../side_pannels/SidePanelToggler");
            var _SidePanelToggler2 = _interopRequireDefault(_SidePanelToggler);
            var _FilmStrip = require("../videolayout/FilmStrip");
            var _FilmStrip2 = _interopRequireDefault(_FilmStrip);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function")
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass)
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass
            }
            var options = $.param({
                showControns: true,
                showChat: false,
                showLineNumbers: true,
                useMonospaceFont: false
            });

            function bubbleIframeMouseMove(iframe) {
                var existingOnMouseMove = iframe.contentWindow.onmousemove;
                iframe.contentWindow.onmousemove = function(e) {
                    if (existingOnMouseMove) existingOnMouseMove(e);
                    var evt = document.createEvent("MouseEvents");
                    var boundingClientRect = iframe.getBoundingClientRect();
                    evt.initMouseEvent("mousemove", true, false, window, e.detail, e.screenX, e.screenY, e.clientX + boundingClientRect.left, e.clientY + boundingClientRect.top, e.ctrlKey, e.altKey, e.shiftKey, e.metaKey, e.button, null);
                    iframe.dispatchEvent(evt)
                }
            }
            var DEFAULT_WIDTH = 640;
            var DEFAULT_HEIGHT = 480;
            var ETHERPAD_CONTAINER_TYPE = "etherpad";
            var Etherpad = function(_LargeContainer) {
                _inherits(Etherpad, _LargeContainer);

                function Etherpad(domain, name) {
                    _classCallCheck(this, Etherpad);
                    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Etherpad).call(this));
                    var iframe = document.createElement("iframe");
                    iframe.src = domain + name + "?" + options;
                    iframe.frameBorder = 0;
                    iframe.scrolling = "no";
                    iframe.width = DEFAULT_WIDTH;
                    iframe.height = DEFAULT_HEIGHT;
                    iframe.setAttribute("style", "visibility: hidden;");
                    _this.container.appendChild(iframe);
                    iframe.onload = function() {
                        document.domain = document.domain;
                        bubbleIframeMouseMove(iframe);
                        setTimeout(function() {
                            var doc = iframe.contentDocument;
                            var outer = doc.getElementsByName("ace_outer")[0];
                            bubbleIframeMouseMove(outer);
                            var inner = doc.getElementsByName("ace_inner")[0];
                            bubbleIframeMouseMove(inner)
                        }, 2e3)
                    };
                    _this.iframe = iframe;
                    return _this
                }
                _createClass(Etherpad, [{
                    key: "resize",
                    value: function resize(containerWidth, containerHeight, animate) {
                        var height = containerHeight - _FilmStrip2.default.getFilmStripHeight();
                        var width = containerWidth;
                        $(this.iframe).width(width).height(height)
                    }
                }, {
                    key: "show",
                    value: function show() {
                        var $iframe = $(this.iframe);
                        var $container = $(this.container);
                        var self = this;
                        return new Promise(function(resolve) {
                            $iframe.fadeIn(300, function() {
                                self.bodyBackground = document.body.style.background;
                                document.body.style.background = "#eeeeee";
                                $iframe.css({
                                    visibility: "visible"
                                });
                                $container.css({
                                    zIndex: 2
                                });
                                resolve()
                            })
                        })
                    }
                }, {
                    key: "hide",
                    value: function hide() {
                        var $iframe = $(this.iframe);
                        var $container = $(this.container);
                        document.body.style.background = this.bodyBackground;
                        return new Promise(function(resolve) {
                            $iframe.fadeOut(300, function() {
                                $iframe.css({
                                    visibility: "hidden"
                                });
                                $container.css({
                                    zIndex: 0
                                });
                                resolve()
                            })
                        })
                    }
                }, {
                    key: "stayOnStage",
                    value: function stayOnStage() {
                        return true
                    }
                }, {
                    key: "isOpen",
                    get: function get() {
                        return !!this.iframe
                    }
                }, {
                    key: "container",
                    get: function get() {
                        return document.getElementById("etherpad")
                    }
                }]);
                return Etherpad
            }(_LargeContainer3.default);
            var EtherpadManager = function() {
                function EtherpadManager(domain, name, eventEmitter) {
                    _classCallCheck(this, EtherpadManager);
                    if (!domain || !name) {
                        throw new Error("missing domain or name")
                    }
                    this.domain = domain;
                    this.name = name;
                    this.eventEmitter = eventEmitter;
                    this.etherpad = null
                }
                _createClass(EtherpadManager, [{
                    key: "isVisible",
                    value: function isVisible() {
                        return _VideoLayout2.default.isLargeContainerTypeVisible(ETHERPAD_CONTAINER_TYPE)
                    }
                }, {
                    key: "openEtherpad",
                    value: function openEtherpad() {
                        this.etherpad = new Etherpad(this.domain, this.name);
                        _VideoLayout2.default.addLargeVideoContainer(ETHERPAD_CONTAINER_TYPE, this.etherpad)
                    }
                }, {
                    key: "toggleEtherpad",
                    value: function toggleEtherpad() {
                        if (!this.isOpen) {
                            this.openEtherpad()
                        }
                        var isVisible = this.isVisible();
                        _VideoLayout2.default.showLargeVideoContainer(ETHERPAD_CONTAINER_TYPE, !isVisible);
                        this.eventEmitter.emit(_UIEvents2.default.TOGGLED_SHARED_DOCUMENT, !isVisible)
                    }
                }, {
                    key: "isOpen",
                    get: function get() {
                        return !!this.etherpad
                    }
                }]);
                return EtherpadManager
            }();
            exports.default = EtherpadManager
        }, {
            "../../../service/UI/UIEvents": 364,
            "../side_pannels/SidePanelToggler": 17,
            "../util/UIUtil": 29,
            "../videolayout/FilmStrip": 31,
            "../videolayout/LargeContainer": 32,
            "../videolayout/VideoLayout": 37
        }],
        15: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _UIEvents = require("../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _VideoLayout = require("../videolayout/VideoLayout");
            var _VideoLayout2 = _interopRequireDefault(_VideoLayout);
            var _Feedback = require("../Feedback.js");
            var _Feedback2 = _interopRequireDefault(_Feedback);
            var _Toolbar = require("../toolbars/Toolbar");
            var _Toolbar2 = _interopRequireDefault(_Toolbar);
            var _BottomToolbar = require("../toolbars/BottomToolbar");
            var _BottomToolbar2 = _interopRequireDefault(_BottomToolbar);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }

            function _isRecordingButtonEnabled() {
                return interfaceConfig.TOOLBAR_BUTTONS.indexOf("recording") !== -1 && config.enableRecording && APP.conference.isRecordingSupported()
            }

            function _requestLiveStreamId() {
                var msg = APP.translation.generateTranslationHTML("dialog.liveStreaming");
                var token = APP.translation.translateString("dialog.streamKey");
                var cancelButton = APP.translation.generateTranslationHTML("dialog.Cancel");
                var backButton = APP.translation.generateTranslationHTML("dialog.Back");
                var startStreamingButton = APP.translation.generateTranslationHTML("dialog.startLiveStreaming");
                var streamIdRequired = APP.translation.generateTranslationHTML("liveStreaming.streamIdRequired");
                return new Promise(function(resolve, reject) {
                    var dialog = APP.UI.messageHandler.openDialogWithStates({
                        state0: {
                            html: "<h2>" + msg + '</h2>\n                    <input name="streamId" type="text"\n                    data-i18n="[placeholder]dialog.streamKey"\n                    placeholder="' + token + '" autofocus>',
                            persistent: false,
                            buttons: [{
                                title: cancelButton,
                                value: false
                            }, {
                                title: startStreamingButton,
                                value: true
                            }],
                            focus: ":input:first",
                            defaultButton: 1,
                            submit: function submit(e, v, m, f) {
                                e.preventDefault();
                                if (v) {
                                    if (f.streamId && f.streamId.length > 0) {
                                        resolve(_UIUtil2.default.escapeHtml(f.streamId));
                                        dialog.close();
                                        return
                                    } else {
                                        dialog.goToState("state1");
                                        return false
                                    }
                                } else {
                                    reject(APP.UI.messageHandler.CANCEL);
                                    dialog.close();
                                    return false
                                }
                            }
                        },
                        state1: {
                            html: "<h2>" + msg + "</h2> " + streamIdRequired,
                            persistent: false,
                            buttons: [{
                                title: cancelButton,
                                value: false
                            }, {
                                title: backButton,
                                value: true
                            }],
                            focus: ":input:first",
                            defaultButton: 1,
                            submit: function submit(e, v, m, f) {
                                e.preventDefault();
                                if (v === 0) {
                                    reject(APP.UI.messageHandler.CANCEL);
                                    dialog.close()
                                } else {
                                    dialog.goToState("state0")
                                }
                            }
                        }
                    })
                })
            }

            function _requestRecordingToken() {
                var msg = APP.translation.generateTranslationHTML("dialog.recordingToken");
                var token = APP.translation.translateString("dialog.token");
                return new Promise(function(resolve, reject) {
                    APP.UI.messageHandler.openTwoButtonDialog(null, null, null, "<h2>" + msg + '</h2>\n             <input name="recordingToken" type="text"\n                    data-i18n="[placeholder]dialog.token"\n                    placeholder="' + token + '" autofocus>', false, "dialog.Save", function(e, v, m, f) {
                        if (v && f.recordingToken) {
                            resolve(_UIUtil2.default.escapeHtml(f.recordingToken))
                        } else {
                            reject(APP.UI.messageHandler.CANCEL)
                        }
                    }, null, function() {}, ":input:first")
                })
            }

            function _showStopRecordingPrompt(recordingType) {
                var title;
                var message;
                var buttonKey;
                if (recordingType === "jibri") {
                    title = "dialog.liveStreaming";
                    message = "dialog.stopStreamingWarning";
                    buttonKey = "dialog.stopLiveStreaming"
                } else {
                    title = "dialog.recording";
                    message = "dialog.stopRecordingWarning";
                    buttonKey = "dialog.stopRecording"
                }
                return new Promise(function(resolve, reject) {
                    APP.UI.messageHandler.openTwoButtonDialog(title, null, message, null, false, buttonKey, function(e, v, m, f) {
                        if (v) {
                            resolve()
                        } else {
                            reject()
                        }
                    })
                })
            }

            function moveToCorner(selector, move) {
                var moveToCornerClass = "moveToCorner";
                if (move && !selector.hasClass(moveToCornerClass)) selector.addClass(moveToCornerClass);
                else selector.removeClass(moveToCornerClass)
            }
            var Status = {
                ON: "on",
                OFF: "off",
                AVAILABLE: "available",
                UNAVAILABLE: "unavailable",
                PENDING: "pending",
                ERROR: "error"
            };
            var Recording = {
                init: function init(emitter, recordingType) {
                    this.eventEmitter = emitter;
                    this.updateRecordingState(APP.conference.getRecordingState());
                    this.initRecordingButton(recordingType);
                    if (config.iAmRecorder) {
                        _VideoLayout2.default.enableDeviceAvailabilityIcons(APP.conference.localId, false);
                        _VideoLayout2.default.setLocalVideoVisible(false);
                        _Feedback2.default.enableFeedback(false);
                        _Toolbar2.default.enable(false);
                        _BottomToolbar2.default.enable(false)
                    }
                },
                initRecordingButton: function initRecordingButton(recordingType) {
                    var selector = $("#toolbar_button_record");
                    if (recordingType === "jibri") {
                        this.baseClass = "fa fa-play-circle";
                        this.recordingOnKey = "liveStreaming.on";
                        this.recordingOffKey = "liveStreaming.off";
                        this.recordingPendingKey = "liveStreaming.pending";
                        this.failedToStartKey = "liveStreaming.failedToStart";
                        this.recordingErrorKey = "liveStreaming.error";
                        this.recordingButtonTooltip = "liveStreaming.buttonTooltip"
                    } else {
                        this.baseClass = "icon-recEnable";
                        this.recordingOnKey = "recording.on";
                        this.recordingOffKey = "recording.off";
                        this.recordingPendingKey = "recording.pending";
                        this.failedToStartKey = "recording.failedToStart";
                        this.recordingErrorKey = "recording.error";
                        this.recordingButtonTooltip = "recording.buttonTooltip"
                    }
                    selector.addClass(this.baseClass);
                    selector.attr("data-i18n", "[content]" + this.recordingButtonTooltip);
                    selector.attr("content", APP.translation.translateString(this.recordingButtonTooltip));
                    var self = this;
                    selector.click(function() {
                        switch (self.currentState) {
                            case Status.ON:
                            case Status.PENDING:
                                {
                                    _showStopRecordingPrompt(recordingType).then(function() {
                                        return self.eventEmitter.emit(_UIEvents2.default.RECORDING_TOGGLED)
                                    });
                                    break
                                }
                            case Status.AVAILABLE:
                            case Status.OFF:
                                {
                                    if (recordingType === "jibri") _requestLiveStreamId().then(function(streamId) {
                                        self.eventEmitter.emit(_UIEvents2.default.RECORDING_TOGGLED, {
                                            streamId: streamId
                                        })
                                    }).catch(function(reason) {
                                        if (reason !== APP.UI.messageHandler.CANCEL) console.error(reason)
                                    });
                                    else {
                                        if (self.predefinedToken) {
                                            self.eventEmitter.emit(_UIEvents2.default.RECORDING_TOGGLED, {
                                                token: self.predefinedToken
                                            });
                                            return
                                        }
                                        _requestRecordingToken().then(function(token) {
                                            self.eventEmitter.emit(_UIEvents2.default.RECORDING_TOGGLED, {
                                                token: token
                                            })
                                        }).catch(function(reason) {
                                            if (reason !== APP.UI.messageHandler.CANCEL) console.error(reason)
                                        })
                                    }
                                    break
                                }
                            default:
                                {
                                    APP.UI.messageHandler.openMessageDialog("dialog.liveStreaming", "liveStreaming.unavailable")
                                }
                        }
                    })
                },
                showRecordingButton: function showRecordingButton(show) {
                    if (_isRecordingButtonEnabled() && show) {
                        $("#toolbar_button_record").css({
                            display: "inline-block"
                        })
                    } else {
                        $("#toolbar_button_record").css({
                            display: "none"
                        })
                    }
                },
                updateRecordingState: function updateRecordingState(recordingState) {
                    if (config.iAmRecorder) return;
                    if (!recordingState || this.currentState === recordingState) return;
                    this.updateRecordingUI(recordingState)
                },
                updateRecordingUI: function updateRecordingUI(recordingState) {
                    var buttonSelector = $("#toolbar_button_record");
                    if (recordingState === Status.ON) {
                        buttonSelector.removeClass(this.baseClass);
                        buttonSelector.addClass(this.baseClass + " active");
                        this._updateStatusLabel(this.recordingOnKey, false)
                    } else if (recordingState === Status.OFF || recordingState === Status.UNAVAILABLE) {
                        if (this.currentState !== Status.ON && this.currentState !== Status.PENDING) return;
                        buttonSelector.removeClass(this.baseClass + " active");
                        buttonSelector.addClass(this.baseClass);
                        var messageKey = void 0;
                        if (this.currentState === Status.PENDING) messageKey = this.failedToStartKey;
                        else messageKey = this.recordingOffKey;
                        this._updateStatusLabel(messageKey, true);
                        setTimeout(function() {
                            $("#recordingLabel").css({
                                display: "none"
                            })
                        }, 5e3)
                    } else if (recordingState === Status.PENDING) {
                        buttonSelector.removeClass(this.baseClass + " active");
                        buttonSelector.addClass(this.baseClass);
                        this._updateStatusLabel(this.recordingPendingKey, true)
                    } else if (recordingState === Status.ERROR) {
                        buttonSelector.removeClass(this.baseClass + " active");
                        buttonSelector.addClass(this.baseClass);
                        this._updateStatusLabel(this.recordingErrorKey, true)
                    }
                    this.currentState = recordingState;
                    var labelSelector = $("#recordingLabel");
                    if (recordingState !== Status.AVAILABLE && !labelSelector.is(":visible")) labelSelector.css({
                        display: "inline-block"
                    })
                },
                checkAutoRecord: function checkAutoRecord() {
                    if (_isRecordingButtonEnabled && config.autoRecord) {
                        this.predefinedToken = _UIUtil2.default.escapeHtml(config.autoRecordToken);
                        this.eventEmitter.emit(_UIEvents2.default.RECORDING_TOGGLED, this.predefinedToken)
                    }
                },
                _updateStatusLabel: function _updateStatusLabel(textKey, isCentered) {
                    var labelSelector = $("#recordingLabel");
                    moveToCorner(labelSelector, !isCentered);
                    labelSelector.attr("data-i18n", textKey);
                    labelSelector.text(APP.translation.translateString(textKey))
                }
            };
            exports.default = Recording
        }, {
            "../../../service/UI/UIEvents": 364,
            "../Feedback.js": 6,
            "../toolbars/BottomToolbar": 24,
            "../toolbars/Toolbar": 25,
            "../util/UIUtil": 29,
            "../videolayout/VideoLayout": 37
        }],
        16: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            exports.SHARED_VIDEO_CONTAINER_TYPE = undefined;
            var _createClass = function() {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor)
                    }
                }
                return function(Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor
                }
            }();
            var _MessageHandler = require("../util/MessageHandler");
            var _MessageHandler2 = _interopRequireDefault(_MessageHandler);
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _UIEvents = require("../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _VideoLayout = require("../videolayout/VideoLayout");
            var _VideoLayout2 = _interopRequireDefault(_VideoLayout);
            var _LargeContainer2 = require("../videolayout/LargeContainer");
            var _LargeContainer3 = _interopRequireDefault(_LargeContainer2);
            var _SmallVideo = require("../videolayout/SmallVideo");
            var _SmallVideo2 = _interopRequireDefault(_SmallVideo);
            var _FilmStrip = require("../videolayout/FilmStrip");
            var _FilmStrip2 = _interopRequireDefault(_FilmStrip);
            var _ToolbarToggler = require("../toolbars/ToolbarToggler");
            var _ToolbarToggler2 = _interopRequireDefault(_ToolbarToggler);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass)
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function")
                }
            }
            var SHARED_VIDEO_CONTAINER_TYPE = exports.SHARED_VIDEO_CONTAINER_TYPE = "sharedvideo";
            var defaultSharedVideoLink = "https://www.youtube.com/watch?v=xNXN7CZk8X0";
            var updateInterval = 5e3;
            var SharedVideoManager = function() {
                function SharedVideoManager(emitter) {
                    _classCallCheck(this, SharedVideoManager);
                    this.emitter = emitter;
                    this.isSharedVideoShown = false;
                    this.isPlayerAPILoaded = false;
                    this.mutedWithUserInteraction = false
                }
                _createClass(SharedVideoManager, [{
                    key: "isSharedVideoVolumeOn",
                    value: function isSharedVideoVolumeOn() {
                        return this.player && this.player.getPlayerState() === YT.PlayerState.PLAYING && !this.player.isMuted() && this.player.getVolume() > 0
                    }
                }, {
                    key: "isSharedVideoOwner",
                    value: function isSharedVideoOwner() {
                        return this.from && APP.conference.isLocalId(this.from)
                    }
                }, {
                    key: "toggleSharedVideo",
                    value: function toggleSharedVideo() {
                        var _this = this;
                        if (!this.isSharedVideoShown) {
                            requestVideoLink().then(function(url) {
                                return _this.emitter.emit(_UIEvents2.default.UPDATE_SHARED_VIDEO, url, "start")
                            }, function(err) {
                                return console.error("SHARED VIDEO CANCELED", err)
                            });
                            return
                        }
                        if (APP.conference.isLocalId(this.from)) {
                            showStopVideoPropmpt().then(function() {
                                return _this.emitter.emit(_UIEvents2.default.UPDATE_SHARED_VIDEO, _this.url, "stop")
                            })
                        } else {
                            _MessageHandler2.default.openMessageDialog("dialog.shareVideoTitle", "dialog.alreadySharedVideoMsg")
                        }
                    }
                }, {
                    key: "onSharedVideoStart",
                    value: function onSharedVideoStart(id, url, attributes) {
                        if (this.isSharedVideoShown) return;
                        this.isSharedVideoShown = true;
                        this.url = url;
                        this.from = id;
                        this.mutedWithUserInteraction = APP.conference.isLocalAudioMuted();
                        this.localAudioMutedListener = this.onLocalAudioMuted.bind(this);
                        this.emitter.on(_UIEvents2.default.AUDIO_MUTED, this.localAudioMutedListener);
                        var tag = document.createElement("script");
                        tag.src = "https://www.youtube.com/iframe_api";
                        var firstScriptTag = document.getElementsByTagName("script")[0];
                        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
                        this.initialAttributes = attributes;
                        var self = this;
                        if (self.isPlayerAPILoaded) window.onYouTubeIframeAPIReady();
                        else window.onYouTubeIframeAPIReady = function() {
                            self.isPlayerAPILoaded = true;
                            var showControls = APP.conference.isLocalId(self.from) ? 1 : 0;
                            var p = new YT.Player("sharedVideoIFrame", {
                                height: "100%",
                                width: "100%",
                                videoId: self.url,
                                playerVars: {
                                    origin: location.origin,
                                    fs: "0",
                                    autoplay: 0,
                                    controls: showControls,
                                    rel: 0
                                },
                                events: {
                                    onReady: onPlayerReady,
                                    onStateChange: onPlayerStateChange,
                                    onError: onPlayerError
                                }
                            });
                            p.addEventListener("onVolumeChange", "onVolumeChange");
                            if (APP.conference.isLocalId(self.from)) {
                                p.addEventListener("onVideoProgress", "onVideoProgress")
                            }
                        };
                        window.onPlayerStateChange = function(event) {
                            if (event.data == YT.PlayerState.PLAYING) {
                                self.player = event.target;
                                if (self.initialAttributes) {
                                    self.processVideoUpdate(self.player, self.initialAttributes);
                                    self.initialAttributes = null
                                }
                                self.smartAudioMute()
                            } else if (event.data == YT.PlayerState.PAUSED) {
                                self.smartAudioUnmute()
                            }
                            self.fireSharedVideoEvent(event.data == YT.PlayerState.PAUSED)
                        };
                        window.onVideoProgress = function(event) {
                            var state = event.target.getPlayerState();
                            if (state == YT.PlayerState.PAUSED) {
                                self.fireSharedVideoEvent(true)
                            }
                        };
                        window.onVolumeChange = function(event) {
                            self.fireSharedVideoEvent();
                            if (event.data.volume > 0 && !event.data.muted) {
                                self.smartAudioMute()
                            } else if (event.data.volume <= 0 || event.data.muted) {
                                self.smartAudioUnmute()
                            }
                        };
                        window.onPlayerReady = function(event) {
                            var player = event.target;
                            player.playVideo();
                            var thumb = new SharedVideoThumb(self.url);
                            thumb.setDisplayName(player.getVideoData().title);
                            _VideoLayout2.default.addParticipantContainer(self.url, thumb);
                            var iframe = player.getIframe();
                            self.sharedVideo = new SharedVideoContainer({
                                url: url,
                                iframe: iframe,
                                player: player
                            });
                            if (!APP.conference.isLocalId(self.from)) {
                                $("#sharedVideo").css("pointer-events", "none")
                            }
                            _VideoLayout2.default.addLargeVideoContainer(SHARED_VIDEO_CONTAINER_TYPE, self.sharedVideo);
                            _VideoLayout2.default.handleVideoThumbClicked(self.url);
                            if (APP.conference.isLocalId(self.from)) {
                                self.intervalId = setInterval(self.fireSharedVideoEvent.bind(self), updateInterval)
                            }
                        };
                        window.onPlayerError = function(event) {
                            console.error("Error in the player:", event.data);
                            self.errorInPlayer = event.target
                        }
                    }
                }, {
                    key: "processVideoUpdate",
                    value: function processVideoUpdate(player, attributes) {
                        if (!attributes) return;
                        if (attributes.state == "playing") {
                            var isPlayerPaused = this.player.getPlayerState() === YT.PlayerState.PAUSED;
                            this.processTime(player, attributes, isPlayerPaused);
                            var isAttrMuted = attributes.muted === "true";
                            if (player.isMuted() !== isAttrMuted) {
                                this.smartPlayerMute(isAttrMuted, true)
                            }
                            if (!isAttrMuted && attributes.volume !== undefined && player.getVolume() != attributes.volume) {
                                player.setVolume(attributes.volume);
                                console.info("Player change of volume:" + attributes.volume);
                                this.showSharedVideoMutedPopup(false)
                            }
                            if (isPlayerPaused) player.playVideo()
                        } else if (attributes.state == "pause") {
                            player.pauseVideo();
                            this.processTime(player, attributes, true)
                        }
                    }
                }, {
                    key: "processTime",
                    value: function processTime(player, attributes, forceSeek) {
                        if (forceSeek) {
                            console.info("Player seekTo:", attributes.time);
                            player.seekTo(attributes.time);
                            return
                        }
                        var currentPosition = player.getCurrentTime();
                        var diff = Math.abs(attributes.time - currentPosition);
                        if (diff > updateInterval / 1e3) {
                            console.info("Player seekTo:", attributes.time, " current time is:", currentPosition, " diff:", diff);
                            player.seekTo(attributes.time)
                        }
                    }
                }, {
                    key: "fireSharedVideoEvent",
                    value: function fireSharedVideoEvent(sendPauseEvent) {
                        if (!APP.conference.isLocalId(this.from) || !this.player || !this.isSharedVideoShown) return;
                        var state = this.player.getPlayerState();
                        if (state === YT.PlayerState.PAUSED && sendPauseEvent) {
                            this.emitter.emit(_UIEvents2.default.UPDATE_SHARED_VIDEO, this.url, "pause", this.player.getCurrentTime())
                        } else if (state === YT.PlayerState.PLAYING) {
                            this.emitter.emit(_UIEvents2.default.UPDATE_SHARED_VIDEO, this.url, "playing", this.player.getCurrentTime(), this.player.isMuted(), this.player.getVolume())
                        }
                    }
                }, {
                    key: "onSharedVideoUpdate",
                    value: function onSharedVideoUpdate(id, url, attributes) {
                        if (APP.conference.isLocalId(this.from)) {
                            return
                        }
                        if (!this.isSharedVideoShown) {
                            this.onSharedVideoStart(id, url, attributes);
                            return
                        }
                        if (!this.player) this.initialAttributes = attributes;
                        else {
                            this.processVideoUpdate(this.player, attributes)
                        }
                    }
                }, {
                    key: "onSharedVideoStop",
                    value: function onSharedVideoStop(id, attributes) {
                        var _this2 = this;
                        if (!this.isSharedVideoShown) return;
                        if (this.from !== id) return;
                        if (!this.player) {
                            if (!this.errorInPlayer) {
                                this.initialAttributes = attributes;
                                return
                            }
                        }
                        if (this.intervalId) {
                            clearInterval(this.intervalId);
                            this.intervalId = null
                        }
                        this.emitter.removeListener(_UIEvents2.default.AUDIO_MUTED, this.localAudioMutedListener);
                        this.localAudioMutedListener = null;
                        _VideoLayout2.default.removeParticipantContainer(this.url);
                        _VideoLayout2.default.showLargeVideoContainer(SHARED_VIDEO_CONTAINER_TYPE, false).then(function() {
                            _VideoLayout2.default.removeLargeVideoContainer(SHARED_VIDEO_CONTAINER_TYPE);
                            if (_this2.player) {
                                _this2.player.destroy();
                                _this2.player = null
                            } else if (_this2.errorInPlayer) {
                                _this2.errorInPlayer.destroy();
                                _this2.errorInPlayer = null
                            }
                            _this2.smartAudioUnmute();
                            $("#sharedVideo").css("pointer-events", "auto")
                        });
                        this.url = null;
                        this.isSharedVideoShown = false;
                        this.initialAttributes = null
                    }
                }, {
                    key: "onLocalAudioMuted",
                    value: function onLocalAudioMuted(muted, userInteraction) {
                        if (!this.player) return;
                        if (muted) {
                            this.mutedWithUserInteraction = userInteraction
                        } else if (this.player.getPlayerState() !== YT.PlayerState.PAUSED) {
                            this.smartPlayerMute(true, false);
                            this.fireSharedVideoEvent()
                        }
                    }
                }, {
                    key: "smartPlayerMute",
                    value: function smartPlayerMute(mute, isVideoUpdate) {
                        if (!this.player.isMuted() && mute) {
                            this.player.mute();
                            if (isVideoUpdate) this.smartAudioUnmute()
                        } else if (this.player.isMuted() && !mute) {
                            this.player.unMute();
                            if (isVideoUpdate) this.smartAudioMute()
                        }
                        this.showSharedVideoMutedPopup(mute)
                    }
                }, {
                    key: "smartAudioUnmute",
                    value: function smartAudioUnmute() {
                        if (APP.conference.isLocalAudioMuted() && !this.mutedWithUserInteraction && !this.isSharedVideoVolumeOn()) {
                            this.emitter.emit(_UIEvents2.default.AUDIO_MUTED, false, false);
                            this.showMicMutedPopup(false)
                        }
                    }
                }, {
                    key: "smartAudioMute",
                    value: function smartAudioMute() {
                        if (!APP.conference.isLocalAudioMuted() && this.isSharedVideoVolumeOn()) {
                            this.emitter.emit(_UIEvents2.default.AUDIO_MUTED, true, false);
                            this.showMicMutedPopup(true)
                        }
                    }
                }, {
                    key: "showMicMutedPopup",
                    value: function showMicMutedPopup(show) {
                        if (show) this.showSharedVideoMutedPopup(false);
                        _UIUtil2.default.animateShowElement($("#micMutedPopup"), show, 5e3)
                    }
                }, {
                    key: "showSharedVideoMutedPopup",
                    value: function showSharedVideoMutedPopup(show) {
                        if (show) this.showMicMutedPopup(false);
                        _UIUtil2.default.animateShowElement($("#sharedVideoMutedPopup"), show, 5e3)
                    }
                }]);
                return SharedVideoManager
            }();
            exports.default = SharedVideoManager;
            var SharedVideoContainer = function(_LargeContainer) {
                _inherits(SharedVideoContainer, _LargeContainer);

                function SharedVideoContainer(_ref) {
                    var url = _ref.url;
                    var iframe = _ref.iframe;
                    var player = _ref.player;
                    _classCallCheck(this, SharedVideoContainer);
                    var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(SharedVideoContainer).call(this));
                    _this3.$iframe = $(iframe);
                    _this3.url = url;
                    _this3.player = player;
                    return _this3
                }
                _createClass(SharedVideoContainer, [{
                    key: "show",
                    value: function show() {
                        var _this4 = this;
                        var self = this;
                        return new Promise(function(resolve) {
                            _this4.$iframe.fadeIn(300, function() {
                                self.bodyBackground = document.body.style.background;
                                document.body.style.background = "black";
                                _this4.$iframe.css({
                                    opacity: 1
                                });
                                _ToolbarToggler2.default.dockToolbar(true);
                                resolve()
                            })
                        })
                    }
                }, {
                    key: "hide",
                    value: function hide() {
                        var _this5 = this;
                        var self = this;
                        _ToolbarToggler2.default.dockToolbar(false);
                        return new Promise(function(resolve) {
                            _this5.$iframe.fadeOut(300, function() {
                                document.body.style.background = self.bodyBackground;
                                _this5.$iframe.css({
                                    opacity: 0
                                });
                                resolve()
                            })
                        })
                    }
                }, {
                    key: "onHoverIn",
                    value: function onHoverIn() {
                        _ToolbarToggler2.default.showToolbar()
                    }
                }, {
                    key: "resize",
                    value: function resize(containerWidth, containerHeight) {
                        var height = containerHeight - _FilmStrip2.default.getFilmStripHeight();
                        var width = containerWidth;
                        this.$iframe.width(width).height(height)
                    }
                }, {
                    key: "stayOnStage",
                    value: function stayOnStage() {
                        return false
                    }
                }, {
                    key: "$video",
                    get: function get() {
                        return this.$iframe
                    }
                }, {
                    key: "id",
                    get: function get() {
                        return this.url
                    }
                }]);
                return SharedVideoContainer
            }(_LargeContainer3.default);

            function SharedVideoThumb(url) {
                this.id = url;
                this.url = url;
                this.setVideoType(SHARED_VIDEO_CONTAINER_TYPE);
                this.videoSpanId = "sharedVideoContainer";
                this.container = this.createContainer(this.videoSpanId);
                this.container.onclick = this.videoClick.bind(this);
                _SmallVideo2.default.call(this, _VideoLayout2.default);
                this.isVideoMuted = true
            }
            SharedVideoThumb.prototype = Object.create(_SmallVideo2.default.prototype);
            SharedVideoThumb.prototype.constructor = SharedVideoThumb;
            SharedVideoThumb.prototype.setDeviceAvailabilityIcons = function() {};
            SharedVideoThumb.prototype.avatarChanged = function() {};
            SharedVideoThumb.prototype.createContainer = function(spanId) {
                var container = document.createElement("span");
                container.id = spanId;
                container.className = "videocontainer";
                var avatar = document.createElement("img");
                avatar.id = "avatar_" + this.id;
                avatar.className = "sharedVideoAvatar";
                avatar.src = "https://img.youtube.com/vi/" + this.url + "/0.jpg";
                container.appendChild(avatar);
                var remotes = document.getElementById("remoteVideos");
                return remotes.appendChild(container)
            };
            SharedVideoThumb.prototype.videoClick = function() {
                _VideoLayout2.default.handleVideoThumbClicked(this.url)
            };
            SharedVideoThumb.prototype.remove = function() {
                console.log("Remove shared video thumb", this.id);
                this.VideoLayout.updateAfterThumbRemoved(this.id);
                if (this.container.parentNode) {
                    this.container.parentNode.removeChild(this.container)
                }
            };
            SharedVideoThumb.prototype.setDisplayName = function(displayName) {
                if (!this.container) {
                    console.warn("Unable to set displayName - " + this.videoSpanId + " does not exist");
                    return
                }
                var nameSpan = $("#" + this.videoSpanId + ">span.displayname");
                if (nameSpan.length > 0) {
                    if (displayName && displayName.length > 0) {
                        $("#" + this.videoSpanId + "_name").text(displayName)
                    }
                } else {
                    nameSpan = document.createElement("span");
                    nameSpan.className = "displayname";
                    $("#" + this.videoSpanId)[0].appendChild(nameSpan);
                    if (displayName && displayName.length > 0) $(nameSpan).text(displayName);
                    nameSpan.id = this.videoSpanId + "_name"
                }
            };

            function getYoutubeLink(url) {
                var p = /^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;
                return url.match(p) ? RegExp.$1 : false
            }

            function showStopVideoPropmpt() {
                return new Promise(function(resolve, reject) {
                    _MessageHandler2.default.openTwoButtonDialog("dialog.removeSharedVideoTitle", null, "dialog.removeSharedVideoMsg", null, false, "dialog.Remove", function(e, v, m, f) {
                        if (v) {
                            resolve()
                        } else {
                            reject()
                        }
                    })
                })
            }

            function requestVideoLink() {
                var i18n = APP.translation;
                var title = i18n.generateTranslationHTML("dialog.shareVideoTitle");
                var cancelButton = i18n.generateTranslationHTML("dialog.Cancel");
                var shareButton = i18n.generateTranslationHTML("dialog.Share");
                var backButton = i18n.generateTranslationHTML("dialog.Back");
                var linkError = i18n.generateTranslationHTML("dialog.shareVideoLinkError");
                var i18nOptions = {
                    url: defaultSharedVideoLink
                };
                var defaultUrl = i18n.translateString("defaultLink", i18nOptions);
                return new Promise(function(resolve, reject) {
                    var dialog = _MessageHandler2.default.openDialogWithStates({
                        state0: {
                            html: "\n                    <h2>" + title + '</h2>\n                    <input name="sharedVideoUrl" type="text"\n                           data-i18n="[placeholder]defaultLink"\n                           data-i18n-options="' + JSON.stringify(i18nOptions) + '"\n                           placeholder="' + defaultUrl + '"\n                           autofocus>',
                            persistent: false,
                            buttons: [{
                                title: cancelButton,
                                value: false
                            }, {
                                title: shareButton,
                                value: true
                            }],
                            focus: ":input:first",
                            defaultButton: 1,
                            submit: function submit(e, v, m, f) {
                                e.preventDefault();
                                if (!v) {
                                    reject("cancelled");
                                    dialog.close();
                                    return
                                }
                                var sharedVideoUrl = f.sharedVideoUrl;
                                if (!sharedVideoUrl) {
                                    return
                                }
                                var urlValue = encodeURI(_UIUtil2.default.escapeHtml(sharedVideoUrl));
                                var yVideoId = getYoutubeLink(urlValue);
                                if (!yVideoId) {
                                    dialog.goToState("state1");
                                    return false
                                }
                                resolve(yVideoId);
                                dialog.close()
                            }
                        },
                        state1: {
                            html: "<h2>" + title + "</h2> " + linkError,
                            persistent: false,
                            buttons: [{
                                title: cancelButton,
                                value: false
                            }, {
                                title: backButton,
                                value: true
                            }],
                            focus: ":input:first",
                            defaultButton: 1,
                            submit: function submit(e, v, m, f) {
                                e.preventDefault();
                                if (v === 0) {
                                    reject();
                                    dialog.close()
                                } else {
                                    dialog.goToState("state0")
                                }
                            }
                        }
                    })
                })
            }
        }, {
            "../../../service/UI/UIEvents": 364,
            "../toolbars/ToolbarToggler": 26,
            "../util/MessageHandler": 28,
            "../util/UIUtil": 29,
            "../videolayout/FilmStrip": 31,
            "../videolayout/LargeContainer": 32,
            "../videolayout/SmallVideo": 36,
            "../videolayout/VideoLayout": 37
        }],
        17: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _slicedToArray = function() {
                function sliceIterator(arr, i) {
                    var _arr = [];
                    var _n = true;
                    var _d = false;
                    var _e = undefined;
                    try {
                        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                            _arr.push(_s.value);
                            if (i && _arr.length === i) break
                        }
                    } catch (err) {
                        _d = true;
                        _e = err
                    } finally {
                        try {
                            if (!_n && _i["return"]) _i["return"]()
                        } finally {
                            if (_d) throw _e
                        }
                    }
                    return _arr
                }
                return function(arr, i) {
                    if (Array.isArray(arr)) {
                        return arr
                    } else if (Symbol.iterator in Object(arr)) {
                        return sliceIterator(arr, i)
                    } else {
                        throw new TypeError("Invalid attempt to destructure non-iterable instance")
                    }
                }
            }();
            var _Chat = require("./chat/Chat");
            var _Chat2 = _interopRequireDefault(_Chat);
            var _ContactList = require("./contactlist/ContactList");
            var _ContactList2 = _interopRequireDefault(_ContactList);
            var _Settings = require("./../../settings/Settings");
            var _Settings2 = _interopRequireDefault(_Settings);
            var _SettingsMenu = require("./settings/SettingsMenu");
            var _SettingsMenu2 = _interopRequireDefault(_SettingsMenu);
            var _VideoLayout = require("../videolayout/VideoLayout");
            var _VideoLayout2 = _interopRequireDefault(_VideoLayout);
            var _ToolbarToggler = require("../toolbars/ToolbarToggler");
            var _ToolbarToggler2 = _interopRequireDefault(_ToolbarToggler);
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var buttons = {
                "#chatspace": "#chatBottomButton",
                "#contactlist": "#contactListButton",
                "#settingsmenu": "#toolbar_button_settings"
            };
            var currentlyOpen = null;

            function toggle(object, selector, onOpenComplete, onOpen, onClose, onVideoResizeComplete) {
                var isSideBarVisible = object.isVisible();
                _UIUtil2.default.buttonClick(buttons[selector], "active");
                if (isSideBarVisible) {
                    $("#toast-container").animate({
                        right: 5
                    }, {
                        queue: false,
                        duration: 500
                    });
                    $(selector).hide("slide", {
                        direction: "right",
                        queue: false,
                        duration: 500,
                        complete: function complete() {
                            $(selector).css("width", "0")
                        }
                    });
                    resizeVideoArea(false, onVideoResizeComplete);
                    if (typeof onClose === "function") {
                        onClose()
                    }
                    currentlyOpen = null
                } else {
                    resizeVideoArea(true, onVideoResizeComplete);
                    if (_VideoLayout2.default.isLargeVideoVisible()) {
                        _ToolbarToggler2.default.dockToolbar(false)
                    }
                    if (currentlyOpen) {
                        var current = $(currentlyOpen);
                        _UIUtil2.default.buttonClick(buttons[currentlyOpen], "active");
                        current.css("z-index", 4);
                        setTimeout(function() {
                            current.css("display", "none");
                            current.css("z-index", 5)
                        }, 500)
                    }
                    $("#toast-container").animate({
                        right: _UIUtil2.default.getSidePanelSize()[0] + 5
                    }, {
                        queue: false,
                        duration: 500
                    });
                    $(selector).css("width", "20%");
                    $(selector).show("slide", {
                        direction: "right",
                        queue: false,
                        duration: 500,
                        complete: onOpenComplete
                    });
                    if (typeof onOpen === "function") {
                        onOpen()
                    }
                    currentlyOpen = selector
                }
            }

            function resizeVideoArea(isSidePanelVisible, completeFunction) {
                _VideoLayout2.default.resizeVideoArea(isSidePanelVisible, false, true, completeFunction)
            }
            var PanelToggler = {
                toggleChat: function toggleChat() {
                    var _this = this;
                    var chatCompleteFunction = _Chat2.default.isVisible() ? function() {} : function() {
                        _Chat2.default.scrollChatToBottom();
                        $("#chatspace").trigger("shown")
                    };
                    toggle(_Chat2.default, "#chatspace", function() {
                        if ($("#nickname").css("visibility") === "visible") {
                            $("#nickinput").focus()
                        } else {
                            $("#usermsg").focus()
                        }
                    }, function() {
                        return _this.resizeChat()
                    }, null, chatCompleteFunction)
                },
                resizeChat: function resizeChat() {
                    var _UIUtil$getSidePanelS = _UIUtil2.default.getSidePanelSize();
                    var _UIUtil$getSidePanelS2 = _slicedToArray(_UIUtil$getSidePanelS, 2);
                    var width = _UIUtil$getSidePanelS2[0];
                    var height = _UIUtil$getSidePanelS2[1];
                    _Chat2.default.resizeChat(width, height)
                },
                toggleContactList: function toggleContactList() {
                    var completeFunction = _ContactList2.default.isVisible() ? function() {} : function() {
                        $("#contactlist").trigger("shown")
                    };
                    toggle(_ContactList2.default, "#contactlist", null, function() {
                        _ContactList2.default.setVisualNotification(false)
                    }, null, completeFunction)
                },
                toggleSettingsMenu: function toggleSettingsMenu() {
                    toggle(_SettingsMenu2.default, "#settingsmenu", null, function() {}, null)
                },
                isVisible: function isVisible() {
                    return _Chat2.default.isVisible() || _ContactList2.default.isVisible() || _SettingsMenu2.default.isVisible();
                }
            };
            exports.default = PanelToggler
        }, {
            "../toolbars/ToolbarToggler": 26,
            "../util/UIUtil": 29,
            "../videolayout/VideoLayout": 37,
            "./../../settings/Settings": 46,
            "./chat/Chat": 18,
            "./contactlist/ContactList": 22,
            "./settings/SettingsMenu": 23
        }],
        18: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _Replacement = require("./Replacement");
            var _Commands = require("./Commands");
            var _Commands2 = _interopRequireDefault(_Commands);
            var _ToolbarToggler = require("../../toolbars/ToolbarToggler");
            var _ToolbarToggler2 = _interopRequireDefault(_ToolbarToggler);
            var _UIUtil = require("../../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _UIEvents = require("../../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var smileys = require("./smileys.json").smileys;
            var notificationInterval = false;
            var unreadMessages = 0;

            function setVisualNotification(show) {
                var unreadMsgElement = document.getElementById("unreadMessages");
                var unreadMsgBottomElement = document.getElementById("bottomUnreadMessages");
                var glower = $("#toolbar_button_chat");
                var bottomGlower = $("#chatBottomButton");
                if (unreadMessages) {
                    unreadMsgElement.innerHTML = unreadMessages.toString();
                    unreadMsgBottomElement.innerHTML = unreadMessages.toString();
                    _ToolbarToggler2.default.dockToolbar(true);
                    var chatButtonElement = document.getElementById("toolbar_button_chat");
                    var leftIndent = (_UIUtil2.default.getTextWidth(chatButtonElement) - _UIUtil2.default.getTextWidth(unreadMsgElement)) / 2;
                    var topIndent = (_UIUtil2.default.getTextHeight(chatButtonElement) - _UIUtil2.default.getTextHeight(unreadMsgElement)) / 2 - 5;
                    unreadMsgElement.setAttribute("style", "top:" + topIndent + "; left:" + leftIndent + ";");
                    var chatBottomButtonElement = document.getElementById("chatBottomButton").parentNode;
                    var bottomLeftIndent = (_UIUtil2.default.getTextWidth(chatBottomButtonElement) - _UIUtil2.default.getTextWidth(unreadMsgBottomElement)) / 2;
                    var bottomTopIndent = (_UIUtil2.default.getTextHeight(chatBottomButtonElement) - _UIUtil2.default.getTextHeight(unreadMsgBottomElement)) / 2 - 2;
                    unreadMsgBottomElement.setAttribute("style", "top:" + bottomTopIndent + "; left:" + bottomLeftIndent + ";");
                    if (!glower.hasClass("icon-chat-simple")) {
                        glower.removeClass("icon-chat");
                        glower.addClass("icon-chat-simple")
                    }
                } else {
                    unreadMsgElement.innerHTML = "";
                    unreadMsgBottomElement.innerHTML = "";
                    glower.removeClass("icon-chat-simple");
                    glower.addClass("icon-chat")
                }
                if (show && !notificationInterval) {
                    notificationInterval = window.setInterval(function() {
                        glower.toggleClass("active");
                        bottomGlower.toggleClass("active glowing")
                    }, 800)
                } else if (!show && notificationInterval) {
                    window.clearInterval(notificationInterval);
                    notificationInterval = false;
                    glower.removeClass("active");
                    bottomGlower.removeClass("glowing");
                    bottomGlower.addClass("active")
                }
            }

            function getCurrentTime(stamp) {
                var now = stamp ? new Date(stamp) : new Date;
                var hour = now.getHours();
                var minute = now.getMinutes();
                var second = now.getSeconds();
                if (hour.toString().length === 1) {
                    hour = "0" + hour
                }
                if (minute.toString().length === 1) {
                    minute = "0" + minute
                }
                if (second.toString().length === 1) {
                    second = "0" + second
                }
                return hour + ":" + minute + ":" + second
            }

            function toggleSmileys() {
                var smileys = $("#smileysContainer");
                if (!smileys.is(":visible")) {
                    smileys.show("slide", {
                        direction: "down",
                        duration: 300
                    })
                } else {
                    smileys.hide("slide", {
                        direction: "down",
                        duration: 300
                    })
                }
                $("#usermsg").focus()
            }

            function addClickFunction(smiley, number) {
                smiley.onclick = function addSmileyToMessage() {
                    var usermsg = $("#usermsg");
                    var message = usermsg.val();
                    message += smileys["smiley" + number];
                    usermsg.val(message);
                    usermsg.get(0).setSelectionRange(message.length, message.length);
                    toggleSmileys();
                    usermsg.focus()
                }
            }

            function addSmileys() {
                var smileysContainer = document.createElement("div");
                smileysContainer.id = "smileysContainer";
                for (var i = 1; i <= 21; i++) {
                    var smileyContainer = document.createElement("div");
                    smileyContainer.id = "smiley" + i;
                    smileyContainer.className = "smileyContainer";
                    var smiley = document.createElement("img");
                    smiley.src = "images/smileys/smiley" + i + ".svg";
                    smiley.className = "smiley";
                    addClickFunction(smiley, i);
                    smileyContainer.appendChild(smiley);
                    smileysContainer.appendChild(smileyContainer)
                }
                $("#chatspace").append(smileysContainer)
            }

            function resizeChatConversation() {
                var msgareaHeight = $("#usermsg").outerHeight();
                var chatspace = $("#chatspace");
                var width = chatspace.width();
                var chat = $("#chatconversation");
                var smileys = $("#smileysarea");
                smileys.height(msgareaHeight);
                $("#smileys").css("bottom", (msgareaHeight - 26) / 2);
                $("#smileysContainer").css("bottom", msgareaHeight);
                chat.width(width - 10);
                chat.height(window.innerHeight - 15 - msgareaHeight)
            }
            var Chat = {
                init: function init(eventEmitter) {
                    if (APP.settings.getDisplayName()) {
                        Chat.setChatConversationMode(true)
                    }
                    $("#nickinput").keydown(function(event) {
                        if (event.keyCode === 13) {
                            event.preventDefault();
                            var val = this.value;
                            this.value = "";
                            eventEmitter.emit(_UIEvents2.default.NICKNAME_CHANGED, val)
                        }
                    });
                    var usermsg = $("#usermsg");
                    usermsg.keydown(function(event) {
                        if (event.keyCode === 13) {
                            event.preventDefault();
                            var value = this.value;
                            usermsg.val("").trigger("autosize.resize");
                            this.focus();
                            var command = new _Commands2.default(value, eventEmitter);
                            if (command.isCommand()) {
                                command.processCommand()
                            } else {
                                var message = _UIUtil2.default.escapeHtml(value);
                                eventEmitter.emit(_UIEvents2.default.MESSAGE_CREATED, message)
                            }
                        }
                    });
                    var onTextAreaResize = function onTextAreaResize() {
                        resizeChatConversation();
                        Chat.scrollChatToBottom()
                    };
                    usermsg.autosize({
                        callback: onTextAreaResize
                    });
                    $("#chatspace").bind("shown", function() {
                        unreadMessages = 0;
                        setVisualNotification(false)
                    });
                    addSmileys()
                },
                
                updateChatConversation: function updateChatConversation(id, displayName, message, stamp) {
                    var divClassName = "";
                    if (APP.conference.isLocalId(id)) {
                        divClassName = "localuser"
                    } else {
                        divClassName = "remoteuser";
                        if (!Chat.isVisible()) {
                            unreadMessages++;
                            _UIUtil2.default.playSoundNotification("chatNotification");
                            setVisualNotification(true)
                        }
                    }
                    var escMessage = message.replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\n/g, "<br/>");
                    var escDisplayName = _UIUtil2.default.escapeHtml(displayName);
                    message = (0, _Replacement.processReplacements)(escMessage);
                    
                    // BAO
                    var messageContainer = '<div class="chatmessage">' + '<img src="images/chatArrow.svg" class="chatArrow">' + '<div class="username ' + divClassName + '">' + escDisplayName + "</div>" + '<div class="timestamp">' + getCurrentTime(stamp) + "</div>" + '<div class="usermessage">' + message + "</div>" + "</div>";
                    
                    $("#chatconversation").append(messageContainer);
                    $("#chatconversation").animate({
                        scrollTop: $("#chatconversation")[0].scrollHeight
                    }, 1e3)
                },
                chatAddError: function chatAddError(errorMessage, originalText) {
                    errorMessage = _UIUtil2.default.escapeHtml(errorMessage);
                    originalText = _UIUtil2.default.escapeHtml(originalText);
                    $("#chatconversation").append('<div class="errorMessage"><b>Error: </b>' + "Your message" + (originalText ? ' "' + originalText + '"' : "") + " was not sent." + (errorMessage ? " Reason: " + errorMessage : "") + "</div>");
                    $("#chatconversation").animate({
                        scrollTop: $("#chatconversation")[0].scrollHeight
                    }, 1e3)
                },
                setSubject: function setSubject(subject) {
                    if (subject) {
                        subject = subject.trim()
                    }
                    $("#subject").html((0, _Replacement.linkify)(_UIUtil2.default.escapeHtml(subject)));
                    if (subject) {
                        $("#subject").css({
                            display: "block"
                        })
                    } else {
                        $("#subject").css({
                            display: "none"
                        })
                    }
                },
                setChatConversationMode: function setChatConversationMode(isConversationMode) {
                    $("#chatspace").toggleClass("is-conversation-mode", isConversationMode);
                    if (isConversationMode) {
                        $("#usermsg").focus()
                    }
                },
                resizeChat: function resizeChat(width, height) {
                    $("#chatspace").width(width).height(height);
                    resizeChatConversation()
                },
                isVisible: function isVisible() {
                    return _UIUtil2.default.isVisible(document.getElementById("chatspace"))
                },
                toggleSmileys: toggleSmileys,
                scrollChatToBottom: function scrollChatToBottom() {
                    setTimeout(function() {
                        $("#chatconversation").scrollTop($("#chatconversation")[0].scrollHeight)
                    }, 5)
                }
            };
            exports.default = Chat
        }, {
            "../../../../service/UI/UIEvents": 364,
            "../../toolbars/ToolbarToggler": 26,
            "../../util/UIUtil": 29,
            "./Commands": 19,
            "./Replacement": 20,
            "./smileys.json": 21
        }],
        19: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _UIUtil = require("../../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _UIEvents = require("../../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var commands = {
                topic: processTopic
            };

            function getCommand(message) {
                if (message) {
                    for (var command in commands) {
                        if (message.indexOf("/" + command) === 0) return command
                    }
                }
                return ""
            }

            function processTopic(commandArguments, emitter) {
                var topic = _UIUtil2.default.escapeHtml(commandArguments);
                emitter.emit(_UIEvents2.default.SUBJECT_CHANGED, topic)
            }

            function CommandsProcessor(message, emitter) {
                var command = getCommand(message);
                this.emitter = emitter;
                this.getCommand = function() {
                    return command
                };
                var messageArgument = message.substr(command.length + 2);
                this.getArgument = function() {
                    return messageArgument
                }
            }
            CommandsProcessor.prototype.isCommand = function() {
                if (this.getCommand()) return true;
                return false
            };
            CommandsProcessor.prototype.processCommand = function() {
                if (!this.isCommand()) return;
                commands[this.getCommand()](this.getArgument(), this.emitter)
            };
            exports.default = CommandsProcessor
        }, {
            "../../../../service/UI/UIEvents": 364,
            "../../util/UIUtil": 29
        }],
        20: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            exports.processReplacements = processReplacements;
            exports.linkify = linkify;
            var Smileys = require("./smileys.json");

            function processReplacements(body) {
                body = linkify(body);
                body = smilify(body);
                return body
            }

            function linkify(inputText) {
                var replacedText, replacePattern1, replacePattern2, replacePattern3;
                replacePattern1 = /(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;
                replacedText = inputText.replace(replacePattern1, '<a href="$1" target="_blank">$1</a>');
                replacePattern2 = /(^|[^\/])(www\.[\S]+(\b|$))/gim;
                replacedText = replacedText.replace(replacePattern2, '$1<a href="http://$2" target="_blank">$2</a>');
                replacePattern3 = /(([a-zA-Z0-9\-\_\.])+@[a-zA-Z\_]+?(\.[a-zA-Z]{2,6})+)/gim;
                replacedText = replacedText.replace(replacePattern3, '<a href="mailto:$1">$1</a>');
                return replacedText
            }

            function smilify(body) {
                if (!body) {
                    return body
                }
                var regexs = Smileys.regexs;
                for (var smiley in regexs) {
                    if (regexs.hasOwnProperty(smiley)) {
                        body = body.replace(regexs[smiley], '<img class="smiley" src="images/smileys/' + smiley + '.svg">')
                    }
                }
                return body
            }
        }, {
            "./smileys.json": 21
        }],
        21: [function(require, module, exports) {
            module.exports = {
                smileys: {
                    smiley1: ":)",
                    smiley2: ":(",
                    smiley3: ":D",
                    smiley4: "(y)",
                    smiley5: " :P",
                    smiley6: "(wave)",
                    smiley7: "(blush)",
                    smiley8: "(chuckle)",
                    smiley9: "(shocked)",
                    smiley10: ":*",
                    smiley11: "(n)",
                    smiley12: "(search)",
                    smiley13: " <3",
                    smiley14: "(oops)",
                    smiley15: "(angry)",
                    smiley16: "(angel)",
                    smiley17: "(sick)",
                    smiley18: ";(",
                    smiley19: "(bomb)",
                    smiley20: "(clap)",
                    smiley21: " ;)"
                },
                regexs: {
                    smiley2: /(:-\(\(|:-\(|:\(\(|:\(|\(sad\))/gi,
                    smiley3: /(:-\)\)|:\)\)|\(lol\)|:-D|:D)/gi,
                    smiley1: /(:-\)|:\))/gi,
                    smiley4: /(\(y\)|\(Y\)|\(ok\))/gi,
                    smiley5: /(:-P|:P|:-p|:p)/gi,
                    smiley6: /(\(wave\))/gi,
                    smiley7: /(\(blush\))/gi,
                    smiley8: /(\(chuckle\))/gi,
                    smiley9: /(:-0|\(shocked\))/gi,
                    smiley10: /(:-\*|:\*|\(kiss\))/gi,
                    smiley11: /(\(n\))/gi,
                    smiley12: /(\(search\))/g,
                    smiley13: /(<3|&lt;3|&amp;lt;3|\(L\)|\(l\)|\(H\)|\(h\))/gi,
                    smiley14: /(\(oops\))/gi,
                    smiley15: /(\(angry\))/gi,
                    smiley16: /(\(angel\))/gi,
                    smiley17: /(\(sick\))/gi,
                    smiley18: /(;-\(\(|;\(\(|;-\(|;\(|:"\(|:"-\(|:~-\(|:~\(|\(upset\))/gi,
                    smiley19: /(\(bomb\))/gi,
                    smiley20: /(\(clap\))/gi,
                    smiley21: /(;-\)|;\)|;-\)\)|;\)\)|;-D|;D|\(wink\))/gi
                }
            }
        }, {}],
        22: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _Avatar = require("../../avatar/Avatar");
            var _Avatar2 = _interopRequireDefault(_Avatar);
            var _UIEvents = require("../../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _UIUtil = require("../../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var numberOfContacts = 0;
            var notificationInterval = void 0;

            function updateNumberOfParticipants(delta) {
                numberOfContacts += delta;
                if (numberOfContacts === 1) {
                    $("#numberOfParticipants").text("");
                    ContactList.setVisualNotification(false)
                } else if (numberOfContacts > 1) {
                    ContactList.setVisualNotification(!ContactList.isVisible());
                    $("#numberOfParticipants").text(numberOfContacts)
                } else {
                    console.error("Invalid number of participants: " + numberOfContacts)
                }
            }

            function createAvatar(jid) {
                var avatar = document.createElement("img");
                avatar.className = "icon-avatar avatar";
                avatar.src = _Avatar2.default.getAvatarUrl(jid);
                return avatar
            }

            function createDisplayNameParagraph(key, displayName) {
                var p = document.createElement("p");
                if (displayName) {
                    p.innerHTML = displayName
                } else if (key) {
                    p.setAttribute("data-i18n", key);
                    p.innerHTML = APP.translation.translateString(key)
                }
                return p
            }

            function stopGlowing(glower) {
                window.clearInterval(notificationInterval);
                notificationInterval = false;
                glower.removeClass("glowing");
                if (!ContactList.isVisible()) {
                    glower.removeClass("active")
                }
            }

            function getContactEl(id) {
                return $('#contacts>li[id="' + id + '"]')
            }

            function contactElExists(id) {
                return getContactEl(id).length > 0
            }
            var ContactList = {
                init: function init(emitter) {
                    this.emitter = emitter
                },
                isVisible: function isVisible() {
                    return _UIUtil2.default.isVisible(document.getElementById("contactlist"))
                },
                addContact: function addContact(id) {
                    var _this = this;
                    var contactlist = $("#contacts");
                    var newContact = document.createElement("li");
                    newContact.id = id;
                    newContact.className = "clickable";
                    newContact.onclick = function(event) {
                        if (event.currentTarget.className === "clickable") {
                            _this.emitter.emit(_UIEvents2.default.CONTACT_CLICKED, id)
                        }
                    };
                    newContact.appendChild(createAvatar(id));
                    newContact.appendChild(createDisplayNameParagraph("participant"));
                    if (APP.conference.isLocalId(id)) {
                        contactlist.prepend(newContact)
                    } else {
                        contactlist.append(newContact)
                    }
                    updateNumberOfParticipants(1)
                },
                removeContact: function removeContact(id) {
                    var contact = getContactEl(id);
                    if (contact.length > 0) {
                        contact.remove();
                        updateNumberOfParticipants(-1)
                    }
                },
                setVisualNotification: function setVisualNotification(show, stopGlowingIn) {
                    var glower = $("#contactListButton");
                    if (show && !notificationInterval) {
                        notificationInterval = window.setInterval(function() {
                            glower.toggleClass("active glowing")
                        }, 800)
                    } else if (!show && notificationInterval) {
                        stopGlowing(glower)
                    }
                    if (stopGlowingIn) {
                        setTimeout(function() {
                            stopGlowing(glower)
                        }, stopGlowingIn)
                    }
                },
                setClickable: function setClickable(id, isClickable) {
                    getContactEl(id).toggleClass("clickable", isClickable)
                },
                onDisplayNameChange: function onDisplayNameChange(id, displayName) {
                    if (!displayName) return;
                    if (id === "localVideoContainer") {
                        id = APP.conference.localId
                    }
                    var contactName = $("#contacts #" + id + ">p");
                    if (contactName.text() !== displayName) {
                        contactName.text(displayName)
                    }
                },
                changeUserAvatar: function changeUserAvatar(id, avatarUrl) {
                    var contact = $("#" + id + ">img");
                    if (contact.length > 0) {
                        contact.attr("src", avatarUrl)
                    }
                }
            };
            exports.default = ContactList
        }, {
            "../../../../service/UI/UIEvents": 364,
            "../../avatar/Avatar": 13,
            "../../util/UIUtil": 29
        }],
        23: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _UIUtil = require("../../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _UIEvents = require("../../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _languages = require("../../../../service/translation/languages");
            var _languages2 = _interopRequireDefault(_languages);
            var _Settings = require("../../../settings/Settings");
            var _Settings2 = _interopRequireDefault(_Settings);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }

            function generateLanguagesOptions(items, currentLang) {
                return items.map(function(lang) {
                    var attrs = {
                        value: lang,
                        "data-i18n": "languages:" + lang
                    };
                    if (lang === currentLang) {
                        attrs.selected = "selected"
                    }
                    var attrsStr = _UIUtil2.default.attrsToString(attrs);
                    return "<option " + attrsStr + "></option>"
                }).join("\n")
            }

            function generateDevicesOptions(items, selectedId, permissionGranted) {
                if (!permissionGranted && items.length) {
                    return '<option data-i18n="settings.noPermission"></option>'
                }
                var options = items.map(function(item) {
                    var attrs = {
                        value: item.deviceId
                    };
                    if (item.deviceId === selectedId) {
                        attrs.selected = "selected"
                    }
                    var attrsStr = _UIUtil2.default.attrsToString(attrs);
                    return "<option " + attrsStr + ">" + item.label + "</option>"
                });
                if (!items.length) {
                    options.unshift('<option data-i18n="settings.noDevice"></option>')
                }
                return options.join("")
            }
            exports.default = {
                init: function init(emitter) {
                    function updateDisplayName() {
                        emitter.emit(_UIEvents2.default.NICKNAME_CHANGED, $("#setDisplayName").val())
                    }
                    $("#setDisplayName").val(_Settings2.default.getDisplayName()).keyup(function(event) {
                        if (event.keyCode === 13) {
                            updateDisplayName()
                        }
                    }).focusout(updateDisplayName);

                    function updateEmail() {
                        emitter.emit(_UIEvents2.default.EMAIL_CHANGED, $("#setEmail").val())
                    }
                    $("#setEmail").val(_Settings2.default.getEmail()).keyup(function(event) {
                        if (event.keyCode === 13) {
                            updateEmail()
                        }
                    }).focusout(updateEmail);
                    $("#startMutedOptions").change(function() {
                        var startAudioMuted = $("#startAudioMuted").is(":checked");
                        var startVideoMuted = $("#startVideoMuted").is(":checked");
                        emitter.emit(_UIEvents2.default.START_MUTED_CHANGED, startAudioMuted, startVideoMuted)
                    });
                    $("#followMeOptions").change(function() {
                        var isFollowMeEnabled = $("#followMeCheckBox").is(":checked");
                        emitter.emit(_UIEvents2.default.FOLLOW_ME_ENABLED, isFollowMeEnabled)
                    });
                    var languagesBox = $("#languages_selectbox");
                    languagesBox.html(generateLanguagesOptions(_languages2.default.getLanguages(), APP.translation.getCurrentLanguage()));
                    APP.translation.translateElement(languagesBox);
                    languagesBox.change(function() {
                        emitter.emit(_UIEvents2.default.LANG_CHANGED, languagesBox.val())
                    });
                    if (JitsiMeetJS.mediaDevices.isDeviceListAvailable() && JitsiMeetJS.mediaDevices.isDeviceChangeAvailable()) {
                        this.changeDevicesList([]);
                        $("#selectCamera").change(function() {
                            var cameraDeviceId = $(this).val();
                            if (cameraDeviceId !== _Settings2.default.getCameraDeviceId()) {
                                emitter.emit(_UIEvents2.default.VIDEO_DEVICE_CHANGED, cameraDeviceId)
                            }
                        });
                        $("#selectMic").change(function() {
                            var micDeviceId = $(this).val();
                            if (micDeviceId !== _Settings2.default.getMicDeviceId()) {
                                emitter.emit(_UIEvents2.default.AUDIO_DEVICE_CHANGED, micDeviceId)
                            }
                        });
                        $("#selectAudioOutput").change(function() {
                            var audioOutputDeviceId = $(this).val();
                            if (audioOutputDeviceId !== _Settings2.default.getAudioOutputDeviceId()) {
                                emitter.emit(_UIEvents2.default.AUDIO_OUTPUT_DEVICE_CHANGED, audioOutputDeviceId)
                            }
                        })
                    }
                },
                showStartMutedOptions: function showStartMutedOptions(show) {
                    if (show) {
                        $("#startMutedOptions").css("display", "block")
                    } else {
                        $("#startMutedOptions").css("display", "none")
                    }
                },
                updateStartMutedBox: function updateStartMutedBox(startAudioMuted, startVideoMuted) {
                    $("#startAudioMuted").attr("checked", startAudioMuted);
                    $("#startVideoMuted").attr("checked", startVideoMuted)
                },
                showFollowMeOptions: function showFollowMeOptions(show) {
                    if (show) {
                        $("#followMeOptions").css("display", "block")
                    } else {
                        $("#followMeOptions").css("display", "none")
                    }
                },
                isVisible: function isVisible() {
                    return _UIUtil2.default.isVisible(document.getElementById("settingsmenu"))
                },
                changeDisplayName: function changeDisplayName(newDisplayName) {
                    $("#setDisplayName").val(newDisplayName)
                },
                changeAvatar: function changeAvatar(avatarUrl) {
                    $("#avatar").attr("src", avatarUrl)
                },
                changeDevicesList: function changeDevicesList(devices) {
                    var $selectCamera = $("#selectCamera"),
                        $selectMic = $("#selectMic"),
                        $selectAudioOutput = $("#selectAudioOutput"),
                        $selectAudioOutputParent = $selectAudioOutput.parent();
                    var audio = devices.filter(function(device) {
                            return device.kind === "audioinput"
                        }),
                        video = devices.filter(function(device) {
                            return device.kind === "videoinput"
                        }),
                        audioOutput = devices.filter(function(device) {
                            return device.kind === "audiooutput"
                        }),
                        selectedAudioDevice = audio.find(function(d) {
                            return d.deviceId === _Settings2.default.getMicDeviceId()
                        }) || audio[0],
                        selectedVideoDevice = video.find(function(d) {
                            return d.deviceId === _Settings2.default.getCameraDeviceId()
                        }) || video[0],
                        selectedAudioOutputDevice = audioOutput.find(function(d) {
                            return d.deviceId === _Settings2.default.getAudioOutputDeviceId()
                        }),
                        videoPermissionGranted = JitsiMeetJS.mediaDevices.isDevicePermissionGranted("video"),
                        audioPermissionGranted = JitsiMeetJS.mediaDevices.isDevicePermissionGranted("audio");
                    $selectCamera.html(generateDevicesOptions(video, selectedVideoDevice ? selectedVideoDevice.deviceId : "", videoPermissionGranted)).prop("disabled", !video.length || !videoPermissionGranted);
                    $selectMic.html(generateDevicesOptions(audio, selectedAudioDevice ? selectedAudioDevice.deviceId : "", audioPermissionGranted)).prop("disabled", !audio.length || !audioPermissionGranted);
                    if (JitsiMeetJS.mediaDevices.isDeviceChangeAvailable("output")) {
                        $selectAudioOutput.html(generateDevicesOptions(audioOutput, selectedAudioOutputDevice ? selectedAudioOutputDevice.deviceId : "default", videoPermissionGranted || audioPermissionGranted)).prop("disabled", !audioOutput.length || !videoPermissionGranted && !audioPermissionGranted);
                        $selectAudioOutputParent.show()
                    } else {
                        $selectAudioOutputParent.hide()
                    }
                    $("#devicesOptions").show();
                    APP.translation.translateElement($("#settingsmenu option"))
                }
            }
        }, {
            "../../../../service/UI/UIEvents": 364,
            "../../../../service/translation/languages": 366,
            "../../../settings/Settings": 46,
            "../../util/UIUtil": 29
        }],
        24: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _UIEvents = require("../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _AnalyticsAdapter = require("../../statistics/AnalyticsAdapter");
            var _AnalyticsAdapter2 = _interopRequireDefault(_AnalyticsAdapter);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var defaultBottomToolbarButtons = {
                chat: "#bottom_toolbar_chat",
                contacts: "#bottom_toolbar_contact_list",
                filmstrip: "#bottom_toolbar_film_strip"
            };
            var BottomToolbar = {
                init: function init() {
                    this.toolbar = $("#bottomToolbar");
                    this.enabled = true
                },
                enable: function enable(e) {
                    this.enabled = e;
                    if (!e && this.isVisible()) this.hide(false)
                },
                isEnabled: function isEnabled() {
                    return this.enabled
                },
                setupListeners: function setupListeners(emitter) {
                    _UIUtil2.default.hideDisabledButtons(defaultBottomToolbarButtons);
                    var buttonHandlers = {
                        bottom_toolbar_contact_list: function bottom_toolbar_contact_list() {
                            _AnalyticsAdapter2.default.sendEvent("bottomtoolbar.contacts.toggled");
                            emitter.emit(_UIEvents2.default.TOGGLE_CONTACT_LIST)
                        },
                        bottom_toolbar_film_strip: function bottom_toolbar_film_strip() {
                            _AnalyticsAdapter2.default.sendEvent("bottomtoolbar.filmstrip.toggled");
                            emitter.emit(_UIEvents2.default.TOGGLE_FILM_STRIP)
                        },
                        bottom_toolbar_chat: function bottom_toolbar_chat() {
                            _AnalyticsAdapter2.default.sendEvent("bottomtoolbar.chat.toggled");
                            emitter.emit(_UIEvents2.default.TOGGLE_CHAT)
                        }
                    };
                    Object.keys(buttonHandlers).forEach(function(buttonId) {
                        return $("#" + buttonId).click(buttonHandlers[buttonId])
                    })
                },
                resizeToolbar: function resizeToolbar(thumbWidth, thumbHeight) {
                    var bottom = (thumbHeight - this.toolbar.outerHeight()) / 2 + 18;
                    this.toolbar.css({
                        bottom: bottom
                    })
                },
                isVisible: function isVisible() {
                    return this.toolbar.is(":visible")
                },
                hide: function hide(animate) {
                    if (animate) this.toolbar.hide("slide", {
                        direction: "right",
                        duration: 300
                    });
                    else this.toolbar.css("display", "none")
                },
                show: function show(animate) {
                    if (animate) this.toolbar.show("slide", {
                        direction: "right",
                        duration: 300
                    });
                    else this.toolbar.css("display", "block")
                }
            };
            exports.default = BottomToolbar
        }, {
            "../../../service/UI/UIEvents": 364,
            "../../statistics/AnalyticsAdapter": 47,
            "../util/UIUtil": 29
        }],
        25: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _MessageHandler = require("../util/MessageHandler");
            var _MessageHandler2 = _interopRequireDefault(_MessageHandler);
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _AnalyticsAdapter = require("../../statistics/AnalyticsAdapter");
            var _AnalyticsAdapter2 = _interopRequireDefault(_AnalyticsAdapter);
            var _UIEvents = require("../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var roomUrl = null;
            var emitter = null;

            function openLinkDialog() {
                var inviteAttributes = void 0;
                if (roomUrl === null) {
                    inviteAttributes = 'data-i18n="[value]roomUrlDefaultMsg" value="' + APP.translation.translateString("roomUrlDefaultMsg") + '"'
                } else {
                    inviteAttributes = 'value="' + encodeURI(roomUrl) + '"'
                }
                _MessageHandler2.default.openTwoButtonDialog("dialog.shareLink", null, null, '<input id="inviteLinkRef" type="text" ' + inviteAttributes + ' onclick="this.select();" readonly>', false, "dialog.Invite", function(e, v) {
                    if (v && roomUrl) {
                        emitter.emit(_UIEvents2.default.USER_INVITED, roomUrl)
                    }
                }, function(event) {
                    if (roomUrl) {
                        document.getElementById("inviteLinkRef").select()
                    } else {
                        if (event && event.target) {
                            $(event.target).find("button[value=true]").prop("disabled", true)
                        }
                    }
                })
            }
            var buttonHandlers = {
                toolbar_button_mute: function toolbar_button_mute() {
                    var sharedVideoManager = APP.UI.getSharedVideoManager();
                    if (APP.conference.audioMuted) {
                        if (sharedVideoManager && sharedVideoManager.isSharedVideoVolumeOn() && !sharedVideoManager.isSharedVideoOwner()) {
                            _UIUtil2.default.animateShowElement($("#unableToUnmutePopup"), true, 5e3)
                        } else {
                            _AnalyticsAdapter2.default.sendEvent("toolbar.audio.unmuted");
                            emitter.emit(_UIEvents2.default.AUDIO_MUTED, false, true)
                        }
                    } else {
                        _AnalyticsAdapter2.default.sendEvent("toolbar.audio.muted");
                        emitter.emit(_UIEvents2.default.AUDIO_MUTED, true, true)
                    }
                },
                toolbar_button_camera: function toolbar_button_camera() {
                    if (APP.conference.videoMuted) {
                        _AnalyticsAdapter2.default.sendEvent("toolbar.video.enabled");
                        emitter.emit(_UIEvents2.default.VIDEO_MUTED, false)
                    } else {
                        _AnalyticsAdapter2.default.sendEvent("toolbar.video.disabled");
                        emitter.emit(_UIEvents2.default.VIDEO_MUTED, true)
                    }
                },
                toolbar_button_security: function toolbar_button_security() {
                    emitter.emit(_UIEvents2.default.ROOM_LOCK_CLICKED)
                },
                toolbar_button_link: function toolbar_button_link() {
                    _AnalyticsAdapter2.default.sendEvent("toolbar.invite.clicked");
                    openLinkDialog()
                },
                toolbar_button_chat: function toolbar_button_chat() {
                    _AnalyticsAdapter2.default.sendEvent("toolbar.chat.toggled");
                    emitter.emit(_UIEvents2.default.TOGGLE_CHAT)
                },
                toolbar_button_etherpad: function toolbar_button_etherpad() {
                    _AnalyticsAdapter2.default.sendEvent("toolbar.etherpad.clicked");
                    emitter.emit(_UIEvents2.default.ETHERPAD_CLICKED)
                },
                toolbar_button_sharedvideo: function toolbar_button_sharedvideo() {
                    _AnalyticsAdapter2.default.sendEvent("toolbar.sharedvideo.clicked");
                    emitter.emit(_UIEvents2.default.SHARED_VIDEO_CLICKED)
                },
                toolbar_button_desktopsharing: function toolbar_button_desktopsharing() {
                    if (APP.conference.isSharingScreen) {
                        _AnalyticsAdapter2.default.sendEvent("toolbar.screen.disabled")
                    } else {
                        _AnalyticsAdapter2.default.sendEvent("toolbar.screen.enabled")
                    }
                    emitter.emit(_UIEvents2.default.TOGGLE_SCREENSHARING)
                },
                toolbar_button_fullScreen: function toolbar_button_fullScreen() {
                    _AnalyticsAdapter2.default.sendEvent("toolbar.fullscreen.enabled");
                    _UIUtil2.default.buttonClick("#toolbar_button_fullScreen", "icon-full-screen icon-exit-full-screen");
                    emitter.emit(_UIEvents2.default.FULLSCREEN_TOGGLE)
                },
                toolbar_button_sip: function toolbar_button_sip() {
                    _AnalyticsAdapter2.default.sendEvent("toolbar.sip.clicked");
                    showSipNumberInput()
                },
                toolbar_button_dialpad: function toolbar_button_dialpad() {
                    _AnalyticsAdapter2.default.sendEvent("toolbar.sip.dialpad.clicked");
                    dialpadButtonClicked()
                },
                toolbar_button_settings: function toolbar_button_settings() {
                    _AnalyticsAdapter2.default.sendEvent("toolbar.settings.toggled");
                    emitter.emit(_UIEvents2.default.TOGGLE_SETTINGS)
                },
                toolbar_button_hangup: function toolbar_button_hangup() {
                    _AnalyticsAdapter2.default.sendEvent("toolbar.hangup");
                    emitter.emit(_UIEvents2.default.HANGUP)
                },
                toolbar_button_login: function toolbar_button_login() {
                    _AnalyticsAdapter2.default.sendEvent("toolbar.authenticate.login.clicked");
                    emitter.emit(_UIEvents2.default.AUTH_CLICKED)
                },
                toolbar_button_logout: function toolbar_button_logout() {
                    _AnalyticsAdapter2.default.sendEvent("toolbar.authenticate.logout.clicked");
                    _MessageHandler2.default.openTwoButtonDialog("dialog.logoutTitle", null, "dialog.logoutQuestion", null, false, "dialog.Yes", function(evt, yes) {
                        if (yes) {
                            emitter.emit(_UIEvents2.default.LOGOUT)
                        }
                    })
                }
            };
            var defaultToolbarButtons = {
                microphone: "#toolbar_button_mute",
                camera: "#toolbar_button_camera",
                desktop: "#toolbar_button_desktopsharing",
                security: "#toolbar_button_security",
                invite: "#toolbar_button_link",
                chat: "#toolbar_button_chat",
                etherpad: "#toolbar_button_etherpad",
                fullscreen: "#toolbar_button_fullScreen",
                settings: "#toolbar_button_settings",
                hangup: "#toolbar_button_hangup"
            };

            function dialpadButtonClicked() {}

            function showSipNumberInput() {
                var defaultNumber = config.defaultSipNumber ? config.defaultSipNumber : "";
                var sipMsg = APP.translation.generateTranslationHTML("dialog.sipMsg");
                _MessageHandler2.default.openTwoButtonDialog(null, null, null, "<h2>" + sipMsg + '</h2>\n            <input name="sipNumber" type="text" value="' + defaultNumber + '" autofocus>', false, "dialog.Dial", function(e, v, m, f) {
                    if (v && f.sipNumber) {
                        emitter.emit(_UIEvents2.default.SIP_DIAL, f.sipNumber)
                    }
                }, null, null, ":input:first")
            }
            var Toolbar = {
                init: function init(eventEmitter) {
                    emitter = eventEmitter;
                    this.enabled = true;
                    this.toolbarSelector = $("#header");
                    _UIUtil2.default.hideDisabledButtons(defaultToolbarButtons);
                    Object.keys(buttonHandlers).forEach(function(buttonId) {
                        return $("#" + buttonId).click(function(event) {
                            !$(this).prop("disabled") && buttonHandlers[buttonId](event)
                        })
                    })
                },
                enable: function enable(e) {
                    this.enabled = e;
                    if (!e && this.isVisible()) this.hide(false)
                },
                isEnabled: function isEnabled() {
                    return this.enabled
                },
                updateRoomUrl: function updateRoomUrl(newRoomUrl) {
                    roomUrl = newRoomUrl;
                    var inviteLink = document.getElementById("inviteLinkRef");
                    if (inviteLink) {
                        inviteLink.value = roomUrl;
                        inviteLink.select();
                        $("#inviteLinkRef").parent().find("button[value=true]").prop("disabled", false)
                    }
                },
                unlockLockButton: function unlockLockButton() {
                    if ($("#toolbar_button_security").hasClass("icon-security-locked")) _UIUtil2.default.buttonClick("#toolbar_button_security", "icon-security icon-security-locked")
                },
                lockLockButton: function lockLockButton() {
                    if ($("#toolbar_button_security").hasClass("icon-security")) _UIUtil2.default.buttonClick("#toolbar_button_security", "icon-security icon-security-locked")
                },
                showAuthenticateButton: function showAuthenticateButton(show) {
                    if (_UIUtil2.default.isButtonEnabled("authentication") && show) {
                        $("#authentication").css({
                            display: "inline"
                        })
                    } else {
                        $("#authentication").css({
                            display: "none"
                        })
                    }
                },
                showEtherpadButton: function showEtherpadButton() {
                    if (!$("#toolbar_button_etherpad").is(":visible")) {
                        $("#toolbar_button_etherpad").css({
                            display: "inline-block"
                        })
                    }
                },
                showSharedVideoButton: function showSharedVideoButton() {
                    if (_UIUtil2.default.isButtonEnabled("sharedvideo") && config.disableThirdPartyRequests !== true) {
                        $("#toolbar_button_sharedvideo").css({
                            display: "inline-block"
                        })
                    } else {
                        $("#toolbar_button_sharedvideo").css({
                            display: "none"
                        })
                    }
                },
                checkAutoEnableDesktopSharing: function checkAutoEnableDesktopSharing() {
                    if (_UIUtil2.default.isButtonEnabled("desktop") && config.autoEnableDesktopSharing) {
                        emitter.emit(_UIEvents2.default.TOGGLE_SCREENSHARING)
                    }
                },
                showSipCallButton: function showSipCallButton(show) {
                    if (APP.conference.sipGatewayEnabled() && _UIUtil2.default.isButtonEnabled("sip") && show) {
                        $("#toolbar_button_sip").css({
                            display: "inline-block"
                        })
                    } else {
                        $("#toolbar_button_sip").css({
                            display: "none"
                        })
                    }
                },
                showDialPadButton: function showDialPadButton(show) {
                    if (_UIUtil2.default.isButtonEnabled("dialpad") && show) {
                        $("#toolbar_button_dialpad").css({
                            display: "inline-block"
                        })
                    } else {
                        $("#toolbar_button_dialpad").css({
                            display: "none"
                        })
                    }
                },
                setAuthenticatedIdentity: function setAuthenticatedIdentity(authIdentity) {
                    if (authIdentity) {
                        var selector = $("#toolbar_auth_identity");
                        selector.css({
                            display: "list-item"
                        });
                        selector.text(authIdentity)
                    } else {
                        $("#toolbar_auth_identity").css({
                            display: "none"
                        })
                    }
                },
                showLoginButton: function showLoginButton(show) {
                    if (_UIUtil2.default.isButtonEnabled("authentication") && show) {
                        $("#toolbar_button_login").css({
                            display: "list-item"
                        })
                    } else {
                        $("#toolbar_button_login").css({
                            display: "none"
                        })
                    }
                },
                showLogoutButton: function showLogoutButton(show) {
                    if (_UIUtil2.default.isButtonEnabled("authentication") && show) {
                        $("#toolbar_button_logout").css({
                            display: "list-item"
                        })
                    } else {
                        $("#toolbar_button_logout").css({
                            display: "none"
                        })
                    }
                },
                updateDesktopSharingButtonState: function updateDesktopSharingButtonState() {
                    var button = $("#toolbar_button_desktopsharing");
                    if (APP.conference.isSharingScreen) {
                        button.addClass("glow")
                    } else {
                        button.removeClass("glow")
                    }
                },
                markVideoIconAsMuted: function markVideoIconAsMuted(muted) {
                    $("#toolbar_button_camera").toggleClass("icon-camera-disabled", muted)
                },
                markVideoIconAsDisabled: function markVideoIconAsDisabled(disabled) {
                    var $btn = $("#toolbar_button_camera");
                    $btn.prop("disabled", disabled).attr("data-i18n", disabled ? "[content]toolbar.cameraDisabled" : "[content]toolbar.videomute").attr("shortcut", disabled ? "" : "toggleVideoPopover");
                    disabled ? $btn.attr("disabled", "disabled") : $btn.removeAttr("disabled");
                    APP.translation.translateElement($btn);
                    disabled && this.markVideoIconAsMuted(disabled)
                },
                markAudioIconAsMuted: function markAudioIconAsMuted(muted) {
                    $("#toolbar_button_mute").toggleClass("icon-microphone", !muted).toggleClass("icon-mic-disabled", muted)
                },
                markAudioIconAsDisabled: function markAudioIconAsDisabled(disabled) {
                    var $btn = $("#toolbar_button_mute");
                    $btn.prop("disabled", disabled).attr("data-i18n", disabled ? "[content]toolbar.micDisabled" : "[content]toolbar.mute").attr("shortcut", disabled ? "" : "mutePopover");
                    disabled ? $btn.attr("disabled", "disabled") : $btn.removeAttr("disabled");
                    APP.translation.translateElement($btn);
                    disabled && this.markAudioIconAsMuted(disabled)
                },
                isHovered: function isHovered() {
                    this.toolbarSelector.find("*").each(function() {
                        var id = $(this).attr("id");
                        if ($("#" + id + ":hover").length > 0) {
                            return true
                        }
                    });
                    if ($("#bottomToolbar:hover").length > 0) {
                        return true
                    }
                    return false
                },
                isVisible: function isVisible() {
                    return this.toolbarSelector.is(":visible")
                },
                hide: function hide() {
                    this.toolbarSelector.hide("slide", {
                        direction: "up",
                        duration: 300
                    })
                },
                show: function show() {
                    this.toolbarSelector.show("slide", {
                        direction: "up",
                        duration: 300
                    })
                }
            };
            exports.default = Toolbar
        }, {
            "../../../service/UI/UIEvents": 364,
            "../../statistics/AnalyticsAdapter": 47,
            "../util/MessageHandler": 28,
            "../util/UIUtil": 29
        }],
        26: [function(require, module, exports) {
            "use strict";
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _BottomToolbar = require("./BottomToolbar");
            var _BottomToolbar2 = _interopRequireDefault(_BottomToolbar);
            var _Toolbar = require("./Toolbar");
            var _Toolbar2 = _interopRequireDefault(_Toolbar);
            var _FilmStrip = require("../videolayout/FilmStrip.js");
            var _FilmStrip2 = _interopRequireDefault(_FilmStrip);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var toolbarTimeoutObject = void 0;
            var toolbarTimeout = interfaceConfig.INITIAL_TOOLBAR_TIMEOUT;

            function showDesktopSharingButton() {
                if (APP.conference.isDesktopSharingEnabled && _UIUtil2.default.isButtonEnabled("desktop")) {
                    $("#toolbar_button_desktopsharing").css({
                        display: "inline-block"
                    })
                } else {
                    $("#toolbar_button_desktopsharing").css({
                        display: "none"
                    })
                }
            }

            function hideToolbar() {
                if (config.alwaysVisibleToolbar) {
                    return
                }
                clearTimeout(toolbarTimeoutObject);
                toolbarTimeoutObject = null;
                if (_Toolbar2.default.isHovered()) {
                    toolbarTimeoutObject = setTimeout(hideToolbar, toolbarTimeout)
                } else {
                    _Toolbar2.default.hide();
                    $("#subject").animate({
                        top: "-=40"
                    }, 300);
                    if (!_FilmStrip2.default.isFilmStripVisible()) {
                        _BottomToolbar2.default.hide(true)
                    }
                }
            }
            var ToolbarToggler = {
                showToolbar: function showToolbar() {
                    if (interfaceConfig.filmStripOnly) {
                        return
                    }
                    var updateTimeout = false;
                    if (_Toolbar2.default.isEnabled() && !_Toolbar2.default.isVisible()) {
                        _Toolbar2.default.show();
                        $("#subject").animate({
                            top: "+=40"
                        }, 300);
                        updateTimeout = true
                    }
                    if (_BottomToolbar2.default.isEnabled() && !_BottomToolbar2.default.isVisible()) {
                        _BottomToolbar2.default.show(true);
                        updateTimeout = true
                    }
                    if (updateTimeout) {
                        if (toolbarTimeoutObject) {
                            clearTimeout(toolbarTimeoutObject);
                            toolbarTimeoutObject = null
                        }
                        toolbarTimeoutObject = setTimeout(hideToolbar, toolbarTimeout);
                        toolbarTimeout = interfaceConfig.TOOLBAR_TIMEOUT
                    }
                    showDesktopSharingButton()
                },
                dockToolbar: function dockToolbar(isDock) {
                    if (interfaceConfig.filmStripOnly || !_Toolbar2.default.isEnabled()) {
                        return
                    }
                    if (isDock) {
                        if (!_Toolbar2.default.isVisible()) {
                            this.showToolbar()
                        }
                        clearTimeout(toolbarTimeoutObject);
                        toolbarTimeoutObject = null
                    } else {
                        if (_Toolbar2.default.isVisible()) {
                            toolbarTimeoutObject = setTimeout(hideToolbar, toolbarTimeout)
                        } else {
                            this.showToolbar()
                        }
                    }
                }
            };
            module.exports = ToolbarToggler
        }, {
            "../util/UIUtil": 29,
            "../videolayout/FilmStrip.js": 31,
            "./BottomToolbar": 24,
            "./Toolbar": 25
        }],
        27: [function(require, module, exports) {
            "use strict";
            var JitsiPopover = function() {
                function JitsiPopover(element, options) {
                    this.options = {
                        skin: "white",
                        content: ""
                    };
                    if (options) {
                        if (options.skin) this.options.skin = options.skin;
                        if (options.content) this.options.content = options.content
                    }
                    this.elementIsHovered = false;
                    this.popoverIsHovered = false;
                    this.popoverShown = false;
                    element.data("jitsi_popover", this);
                    this.element = element;
                    this.template = ' <div class="jitsipopover ' + this.options.skin + '"><div class="arrow"></div>' + '<div class="jitsipopover-content"></div>' + '<div class="jitsiPopupmenuPadding"></div></div>';
                    var self = this;
                    this.element.on("mouseenter", function() {
                        self.elementIsHovered = true;
                        self.show()
                    }).on("mouseleave", function() {
                        self.elementIsHovered = false;
                        setTimeout(function() {
                            self.hide()
                        }, 10)
                    })
                }
                JitsiPopover.prototype.show = function() {
                    if (!JitsiPopover.enabled) return;
                    this.createPopover();
                    this.popoverShown = true
                };
                JitsiPopover.prototype.hide = function() {
                    if (!this.elementIsHovered && !this.popoverIsHovered && this.popoverShown) {
                        this.forceHide()
                    }
                };
                JitsiPopover.prototype.forceHide = function() {
                    $(".jitsipopover").remove();
                    this.popoverShown = false
                };
                JitsiPopover.prototype.createPopover = function() {
                    $("body").append(this.template);
                    $(".jitsipopover > .jitsipopover-content").html(this.options.content);
                    var self = this;
                    $(".jitsipopover").on("mouseenter", function() {
                        self.popoverIsHovered = true
                    }).on("mouseleave", function() {
                        self.popoverIsHovered = false;
                        self.hide()
                    });
                    this.refreshPosition()
                };
                JitsiPopover.prototype.refreshPosition = function() {
                    $(".jitsipopover").position({
                        my: "bottom",
                        at: "top",
                        collision: "fit",
                        of: this.element,
                        using: function using(position, elements) {
                            var calcLeft = elements.target.left - elements.element.left + elements.target.width / 2;
                            $(".jitsipopover").css({
                                top: position.top,
                                left: position.left,
                                display: "table"
                            });
                            $(".jitsipopover > .arrow").css({
                                left: calcLeft
                            });
                            $(".jitsipopover > .jitsiPopupmenuPadding").css({
                                left: calcLeft - 50
                            })
                        }
                    })
                };
                JitsiPopover.prototype.updateContent = function(content) {
                    this.options.content = content;
                    if (!this.popoverShown) return;
                    $(".jitsipopover").remove();
                    this.createPopover()
                };
                JitsiPopover.enabled = true;
                return JitsiPopover
            }();
            module.exports = JitsiPopover
        }, {}],
        28: [function(require, module, exports) {
            "use strict";
            var _UIUtil = require("./UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var notificationsEnabled = true;
            var messageHandler = function(my) {
                my.OK = "dialog.OK", my.CANCEL = "dialog.Cancel", my.openMessageDialog = function(titleKey, messageKey, title, message) {
                    if (!title) {
                        title = APP.translation.generateTranslationHTML(titleKey)
                    }
                    if (!message) {
                        message = APP.translation.generateTranslationHTML(messageKey)
                    }
                    $.prompt(message, {
                        title: title,
                        persistent: false
                    })
                };
                my.openTwoButtonDialog = function(titleKey, titleString, msgKey, msgString, persistent, leftButtonKey, submitFunction, loadedFunction, closeFunction, focus, defaultButton) {
                    var buttons = [];
                    var leftButton = APP.translation.generateTranslationHTML(leftButtonKey);
                    buttons.push({
                        title: leftButton,
                        value: true
                    });
                    var cancelButton = APP.translation.generateTranslationHTML("dialog.Cancel");
                    buttons.push({
                        title: cancelButton,
                        value: false
                    });
                    var message = msgString,
                        title = titleString;
                    if (titleKey) {
                        title = APP.translation.generateTranslationHTML(titleKey)
                    }
                    if (msgKey) {
                        message = APP.translation.generateTranslationHTML(msgKey)
                    }
                    $.prompt(message, {
                        title: title,
                        persistent: false,
                        buttons: buttons,
                        defaultButton: defaultButton,
                        focus: focus,
                        loaded: loadedFunction,
                        submit: submitFunction,
                        close: closeFunction
                    })
                };
                my.openDialog = function(titleString, msgString, persistent, buttons, submitFunction, loadedFunction) {
                    var args = {
                        title: titleString,
                        persistent: persistent,
                        buttons: buttons,
                        defaultButton: 1,
                        loaded: loadedFunction,
                        submit: submitFunction
                    };
                    if (persistent) {
                        args.closeText = ""
                    }
                    return new Impromptu(msgString, args)
                };
                my.closeDialog = function() {
                    $.prompt.close()
                };
                my.openDialogWithStates = function(statesObject, options) {
                    return new Impromptu(statesObject, options)
                };
                my.openCenteredPopup = function(url, w, h, onPopupClosed) {
                    var l = window.screenX + window.innerWidth / 2 - w / 2;
                    var t = window.screenY + window.innerHeight / 2 - h / 2;
                    var popup = window.open(url, "_blank", "top=" + t + ", left=" + l + ", width=" + w + ", height=" + h + "");
                    if (popup && onPopupClosed) {
                        var pollTimer = window.setInterval(function() {
                            if (popup.closed !== false) {
                                window.clearInterval(pollTimer);
                                onPopupClosed()
                            }
                        }, 200)
                    }
                    return popup
                };
                my.openReportDialog = function(titleKey, msgKey, error) {
                    my.openMessageDialog(titleKey, msgKey);
                    console.log(error)
                };
                my.showError = function(titleKey, msgKey) {
                    if (!titleKey) {
                        titleKey = "dialog.oops"
                    }
                    if (!msgKey) {
                        msgKey = "dialog.defaultError"
                    }
                    messageHandler.openMessageDialog(titleKey, msgKey)
                };
                my.notify = function(displayName, displayNameKey, cls, messageKey, messageArguments, options) {
                    if (!notificationsEnabled) return;
                    var displayNameSpan = '<span class="nickname" ';
                    if (displayName) {
                        displayNameSpan += ">" + _UIUtil2.default.escapeHtml(displayName)
                    } else {
                        displayNameSpan += "data-i18n='" + displayNameKey + "'>" + APP.translation.translateString(displayNameKey)
                    }
                    displayNameSpan += "</span>";
                    return toastr.info(displayNameSpan + "<br>" + "<span class=" + cls + ' data-i18n="' + messageKey + '"' + (messageArguments ? " data-i18n-options='" + JSON.stringify(messageArguments) + "'" : "") + ">" + APP.translation.translateString(messageKey, messageArguments) + "</span>", null, options)
                };
                my.remove = function(toasterElement) {
                    toasterElement.remove()
                };
                my.disableNotifications = function() {
                    notificationsEnabled = false
                };
                my.enableNotifications = function() {
                    notificationsEnabled = true
                };
                return my
            }(messageHandler || {});
            module.exports = messageHandler
        }, {
            "./UIUtil": 29
        }],
        29: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var UIUtil = {
                getSidePanelSize: function getSidePanelSize() {
                    var availableHeight = window.innerHeight;
                    var availableWidth = window.innerWidth;
                    var panelWidth = 200;
                    if (availableWidth * .2 < 200) {
                        panelWidth = availableWidth * .2
                    }
                    return [panelWidth, availableHeight]
                },
                getAvailableVideoWidth: function getAvailableVideoWidth(isSidePanelVisible) {
                    var rightPanelWidth = 0;
                    if (isSidePanelVisible) {
                        rightPanelWidth = UIUtil.getSidePanelSize()[0]
                    }
                    return window.innerWidth - rightPanelWidth
                },
                buttonClick: function buttonClick(id, classname) {
                    $(id).toggleClass(classname)
                },
                getTextWidth: function getTextWidth(el) {
                    return el.clientWidth + 1
                },
                getTextHeight: function getTextHeight(el) {
                    return el.clientHeight + 1
                },
                playSoundNotification: function playSoundNotification(id) {
                    document.getElementById(id).play()
                },
                escapeHtml: function escapeHtml(unsafeText) {
                    return $("<div/>").text(unsafeText).html()
                },
                unescapeHtml: function unescapeHtml(safe) {
                    return $("<div />").html(safe).text()
                },
                imageToGrayScale: function imageToGrayScale(canvas) {
                    var context = canvas.getContext("2d");
                    var imgData = context.getImageData(0, 0, canvas.width, canvas.height);
                    var pixels = imgData.data;
                    for (var i = 0, n = pixels.length; i < n; i += 4) {
                        var grayscale = pixels[i] * .3 + pixels[i + 1] * .59 + pixels[i + 2] * .11;
                        pixels[i] = grayscale;
                        pixels[i + 1] = grayscale;
                        pixels[i + 2] = grayscale
                    }
                    context.putImageData(imgData, 0, 0)
                },
                setTooltip: function setTooltip(element, key, position) {
                    element.setAttribute("data-i18n", "[data-content]" + key);
                    element.setAttribute("data-toggle", "popover");
                    element.setAttribute("data-placement", position);
                    element.setAttribute("data-html", true);
                    element.setAttribute("data-container", "body")
                },
                prependChild: function prependChild(container, newChild) {
                    var firstChild = container.childNodes[0];
                    if (firstChild) {
                        container.insertBefore(newChild, firstChild)
                    } else {
                        container.appendChild(newChild)
                    }
                },
                isButtonEnabled: function isButtonEnabled(name) {
                    return interfaceConfig.TOOLBAR_BUTTONS.indexOf(name) !== -1
                },
                hideDisabledButtons: function hideDisabledButtons(mappings) {
                    var selector = Object.keys(mappings).map(function(buttonName) {
                        return UIUtil.isButtonEnabled(buttonName) ? null : mappings[buttonName]
                    }).filter(function(item) {
                        return item
                    }).join(",");
                    $(selector).hide()
                },
                redirect: function redirect(url) {
                    window.location.href = url
                },
                isFullScreen: function isFullScreen() {
                    return document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen
                },
                attrsToString: function attrsToString(attrs) {
                    return Object.keys(attrs).map(function(key) {
                        return " " + key + '="' + attrs[key] + '"'
                    }).join(" ")
                },
                isVisible: function isVisible(el) {
                    return el.offsetParent !== null
                },
                animateShowElement: function animateShowElement(selector, show, hideDelay) {
                    if (show) {
                        if (!selector.is(":visible")) selector.css("display", "inline-block");
                        selector.fadeIn(300, function() {
                            selector.css({
                                opacity: 1
                            })
                        });
                        if (hideDelay && hideDelay > 0) setTimeout(function() {
                            selector.fadeOut(300, function() {
                                selector.css({
                                    opacity: 0
                                })
                            })
                        }, hideDelay)
                    } else {
                        selector.fadeOut(300, function() {
                            selector.css({
                                opacity: 0
                            })
                        })
                    }
                },
                parseCssInt: function parseCssInt(cssValue) {
                    return parseInt(cssValue) || 0
                }
            };
            exports.default = UIUtil
        }, {}],
        30: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _JitsiPopover = require("../util/JitsiPopover");
            var _JitsiPopover2 = _interopRequireDefault(_JitsiPopover);
            var _VideoLayout = require("./VideoLayout");
            var _VideoLayout2 = _interopRequireDefault(_VideoLayout);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }

            function ConnectionIndicator(videoContainer, id) {
                this.videoContainer = videoContainer;
                this.bandwidth = null;
                this.packetLoss = null;
                this.bitrate = null;
                this.showMoreValue = false;
                this.resolution = null;
                this.isResolutionHD = null;
                this.transport = [];
                this.popover = null;
                this.id = id;
                this.create()
            }
            ConnectionIndicator.connectionQualityValues = {
                98: "18px",
                81: "15px",
                64: "11px",
                47: "7px",
                30: "3px",
                0: "0px"
            };
            ConnectionIndicator.getIP = function(value) {
                return value.substring(0, value.lastIndexOf(":"))
            };
            ConnectionIndicator.getPort = function(value) {
                return value.substring(value.lastIndexOf(":") + 1, value.length)
            };
            ConnectionIndicator.getStringFromArray = function(array) {
                var res = "";
                for (var i = 0; i < array.length; i++) {
                    res += (i === 0 ? "" : ", ") + array[i]
                }
                return res
            };
            ConnectionIndicator.prototype.generateText = function() {
                var downloadBitrate, uploadBitrate, packetLoss, i;
                var translate = APP.translation.translateString;
                if (this.bitrate === null) {
                    downloadBitrate = "N/A";
                    uploadBitrate = "N/A"
                } else {
                    downloadBitrate = this.bitrate.download ? this.bitrate.download + " Kbps" : "N/A";
                    uploadBitrate = this.bitrate.upload ? this.bitrate.upload + " Kbps" : "N/A"
                }
                if (this.packetLoss === null) {
                    packetLoss = "N/A"
                } else {
                    packetLoss = "<span class='jitsipopover_green'>&darr;</span>" + (this.packetLoss.download !== null ? this.packetLoss.download : "N/A") + "% <span class='jitsipopover_orange'>&uarr;</span>" + (this.packetLoss.upload !== null ? this.packetLoss.upload : "N/A") + "%"
                }
                var resolutions = this.resolution || {};
                var resolutionStr = Object.keys(resolutions).map(function(ssrc) {
                    var _resolutions$ssrc = resolutions[ssrc];
                    var width = _resolutions$ssrc.width;
                    var height = _resolutions$ssrc.height;
                    return width + "x" + height
                }).join(", ") || "N/A";
                var result = "<table style='width:100%'>" + "<tr>" + "<td><span class='jitsipopover_blue' data-i18n='connectionindicator.bitrate'>" + translate("connectionindicator.bitrate") + "</span></td>" + "<td><span class='jitsipopover_green'>&darr;</span>" + downloadBitrate + " <span class='jitsipopover_orange'>&uarr;</span>" + uploadBitrate + "</td>" + "</tr><tr>" + "<td><span class='jitsipopover_blue' data-i18n='connectionindicator.packetloss'>" + translate("connectionindicator.packetloss") + "</span></td>" + "<td>" + packetLoss + "</td>" + "</tr><tr>" + "<td><span class='jitsipopover_blue' data-i18n='connectionindicator.resolution'>" + translate("connectionindicator.resolution") + "</span></td>" + "<td>" + resolutionStr + "</td></tr></table>";
                if (this.videoContainer.videoSpanId == "localVideoContainer") {
                    result += '<div class="jitsipopover_showmore" ' + "onclick = \"APP.UI.connectionIndicatorShowMore('" + "local')\"  data-i18n='connectionindicator." + (this.showMoreValue ? "less" : "more") + "'>" + translate("connectionindicator." + (this.showMoreValue ? "less" : "more")) + "</div><br />"
                }
                if (this.showMoreValue) {
                    var downloadBandwidth, uploadBandwidth, transport;
                    if (this.bandwidth === null) {
                        downloadBandwidth = "N/A";
                        uploadBandwidth = "N/A"
                    } else {
                        downloadBandwidth = this.bandwidth.download ? this.bandwidth.download + " Kbps" : "N/A";
                        uploadBandwidth = this.bandwidth.upload ? this.bandwidth.upload + " Kbps" : "N/A"
                    }
                    if (!this.transport || this.transport.length === 0) {
                        transport = "<tr>" + "<td><span class='jitsipopover_blue' " + "data-i18n='connectionindicator.address'>" + translate("connectionindicator.address") + "</span></td>" + "<td> N/A</td></tr>"
                    } else {
                        var data = {
                            remoteIP: [],
                            localIP: [],
                            remotePort: [],
                            localPort: []
                        };
                        for (i = 0; i < this.transport.length; i++) {
                            var ip = ConnectionIndicator.getIP(this.transport[i].ip);
                            var port = ConnectionIndicator.getPort(this.transport[i].ip);
                            var localIP = ConnectionIndicator.getIP(this.transport[i].localip);
                            var localPort = ConnectionIndicator.getPort(this.transport[i].localip);
                            if (data.remoteIP.indexOf(ip) == -1) {
                                data.remoteIP.push(ip)
                            }
                            if (data.remotePort.indexOf(port) == -1) {
                                data.remotePort.push(port)
                            }
                            if (data.localIP.indexOf(localIP) == -1) {
                                data.localIP.push(localIP)
                            }
                            if (data.localPort.indexOf(localPort) == -1) {
                                data.localPort.push(localPort)
                            }
                        }
                        var local_address_key = "connectionindicator.localaddress";
                        var remote_address_key = "connectionindicator.remoteaddress";
                        var localTransport = "<tr><td><span class='jitsipopover_blue' data-i18n='" + local_address_key + "' data-i18n-options='" + JSON.stringify({
                            count: data.localIP.length
                        }) + "'>" + translate(local_address_key, {
                            count: data.localIP.length
                        }) + "</span></td><td> " + ConnectionIndicator.getStringFromArray(data.localIP) + "</td></tr>";
                        transport = "<tr><td><span class='jitsipopover_blue' data-i18n='" + remote_address_key + "' data-i18n-options='" + JSON.stringify({
                            count: data.remoteIP.length
                        }) + "'>" + translate(remote_address_key, {
                            count: data.remoteIP.length
                        }) + "</span></td><td> " + ConnectionIndicator.getStringFromArray(data.remoteIP) + "</td></tr>";
                        var key_remote = "connectionindicator.remoteport",
                            key_local = "connectionindicator.localport";
                        transport += "<tr>" + "<td>" + "<span class='jitsipopover_blue' data-i18n='" + key_remote + "' data-i18n-options='" + JSON.stringify({
                            count: this.transport.length
                        }) + "'>" + translate(key_remote, {
                            count: this.transport.length
                        }) + "</span></td><td>";
                        localTransport += "<tr>" + "<td>" + "<span class='jitsipopover_blue' data-i18n='" + key_local + "' data-i18n-options='" + JSON.stringify({
                            count: this.transport.length
                        }) + "'>" + translate(key_local, {
                            count: this.transport.length
                        }) + "</span></td><td>";
                        transport += ConnectionIndicator.getStringFromArray(data.remotePort);
                        localTransport += ConnectionIndicator.getStringFromArray(data.localPort);
                        transport += "</td></tr>";
                        transport += localTransport + "</td></tr>";
                        transport += "<tr>" + "<td><span class='jitsipopover_blue' data-i18n='connectionindicator.transport'>" + translate("connectionindicator.transport") + "</span></td>" + "<td>" + this.transport[0].type + "</td></tr>"
                    }
                    result += "<table  style='width:100%'>" + "<tr>" + "<td>" + "<span class='jitsipopover_blue' data-i18n='connectionindicator.bandwidth'>" + translate("connectionindicator.bandwidth") + "</span>" + "</td><td>" + "<span class='jitsipopover_green'>&darr;</span>" + downloadBandwidth + " <span class='jitsipopover_orange'>&uarr;</span>" + uploadBandwidth + "</td></tr>";
                    result += transport + "</table>"
                }
                return result
            };
            ConnectionIndicator.prototype.showMore = function() {
                this.showMoreValue = !this.showMoreValue;
                this.updatePopoverData()
            };

            function createIcon(classes) {
                var icon = document.createElement("span");
                for (var i in classes) {
                    icon.classList.add(classes[i])
                }
                icon.appendChild(document.createElement("i")).classList.add("icon-connection");
                return icon
            }
            ConnectionIndicator.prototype.create = function() {
                this.connectionIndicatorContainer = document.createElement("div");
                this.connectionIndicatorContainer.className = "connectionindicator";
                this.connectionIndicatorContainer.style.display = "none";
                this.videoContainer.container.appendChild(this.connectionIndicatorContainer);
                this.popover = new _JitsiPopover2.default($("#" + this.videoContainer.videoSpanId + " > .connectionindicator"), {
                    content: "<div class=\"connection_info\" data-i18n='connectionindicator.na'>" + APP.translation.translateString("connectionindicator.na") + "</div>",
                    skin: "black"
                });
                var origShowFunc = this.popover.show;
                this.popover.show = function() {
                    this.updatePopoverData(true);
                    origShowFunc.call(this.popover)
                }.bind(this);
                this.emptyIcon = this.connectionIndicatorContainer.appendChild(createIcon(["connection", "connection_empty"]));
                this.fullIcon = this.connectionIndicatorContainer.appendChild(createIcon(["connection", "connection_full"]))
            };
            ConnectionIndicator.prototype.remove = function() {
                if (this.connectionIndicatorContainer.parentNode) {
                    this.connectionIndicatorContainer.parentNode.removeChild(this.connectionIndicatorContainer)
                }
                this.popover.forceHide()
            };
            ConnectionIndicator.prototype.updateConnectionQuality = function(percent, object) {
                if (percent === null) {
                    this.connectionIndicatorContainer.style.display = "none";
                    this.popover.forceHide();
                    return
                } else {
                    if (this.connectionIndicatorContainer.style.display == "none") {
                        this.connectionIndicatorContainer.style.display = "block";
                        this.videoContainer.updateIconPositions()
                    }
                }
                this.bandwidth = object.bandwidth;
                this.bitrate = object.bitrate;
                this.packetLoss = object.packetLoss;
                this.transport = object.transport;
                if (object.resolution) {
                    this.resolution = object.resolution
                }
                for (var quality in ConnectionIndicator.connectionQualityValues) {
                    if (percent >= quality) {
                        this.fullIcon.style.width = ConnectionIndicator.connectionQualityValues[quality]
                    }
                }
                if (object.isResolutionHD) {
                    this.isResolutionHD = object.isResolutionHD
                }
                this.updateResolutionIndicator();
                this.updatePopoverData()
            };
            ConnectionIndicator.prototype.updateResolution = function(resolution) {
                this.resolution = resolution;
                this.updateResolutionIndicator();
                this.updatePopoverData()
            };
            ConnectionIndicator.prototype.updatePopoverData = function(force) {
                if (this.popover.popoverShown || force) {
                    this.popover.updateContent('<div class="connection_info">' + this.generateText() + "</div>");
                    APP.translation.translateElement($(".connection_info"))
                }
            };
            ConnectionIndicator.prototype.hide = function() {
                this.popover.forceHide()
            };
            ConnectionIndicator.prototype.hideIndicator = function() {
                this.connectionIndicatorContainer.style.display = "none";
                if (this.popover) this.popover.forceHide()
            };
            ConnectionIndicator.prototype.updateResolutionIndicator = function() {
                var _this = this;
                if (this.id !== null && _VideoLayout2.default.isCurrentlyOnLarge(this.id)) {
                    var showResolutionLabel = false;
                    if (this.isResolutionHD !== null) showResolutionLabel = this.isResolutionHD;
                    else if (this.resolution !== null) {
                        (function() {
                            var resolutions = _this.resolution || {};
                            Object.keys(resolutions).map(function(ssrc) {
                                var _resolutions$ssrc2 = resolutions[ssrc];
                                var width = _resolutions$ssrc2.width;
                                var height = _resolutions$ssrc2.height;
                                if (height >= config.minHDHeight) showResolutionLabel = true
                            })
                        })()
                    }
                    _VideoLayout2.default.updateResolutionLabel(showResolutionLabel)
                }
            };
            exports.default = ConnectionIndicator
        }, {
            "../util/JitsiPopover": 27,
            "./VideoLayout": 37
        }],
        31: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _UIEvents = require("../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var thumbAspectRatio = 1 / 1;
            var FilmStrip = {
                init: function init(eventEmitter) {
                    this.filmStrip = $("#remoteVideos");
                    this.eventEmitter = eventEmitter
                },
                toggleFilmStrip: function toggleFilmStrip(visible) {
                    if (typeof visible === "boolean" && this.isFilmStripVisible() == visible) {
                        return
                    }
                    this.filmStrip.toggleClass("hidden");
                    var eventEmitter = this.eventEmitter;
                    if (eventEmitter) {
                        eventEmitter.emit(_UIEvents2.default.TOGGLED_FILM_STRIP, this.isFilmStripVisible())
                    }
                },
                isFilmStripVisible: function isFilmStripVisible() {
                    return !this.filmStrip.hasClass("hidden")
                },
                setupFilmStripOnly: function setupFilmStripOnly() {
                    this.filmStrip.css({
                        padding: "0px 0px 18px 0px",
                        right: 0
                    })
                },
                getFilmStripHeight: function getFilmStripHeight() {
                    if (this.isFilmStripVisible()) {
                        return this.filmStrip.outerHeight()
                    } else {
                        return 0
                    }
                },
                getFilmStripWidth: function getFilmStripWidth() {
                    return this.filmStrip.innerWidth() - parseInt(this.filmStrip.css("paddingLeft"), 10) - parseInt(this.filmStrip.css("paddingRight"), 10)
                },
                calculateThumbnailSize: function calculateThumbnailSize(isSideBarVisible) {
                    var availableHeight = interfaceConfig.FILM_STRIP_MAX_HEIGHT;
                    var numvids = this.getThumbs(true).length;
                    var localVideoContainer = $("#localVideoContainer");
                    var videoAreaAvailableWidth = _UIUtil2.default.getAvailableVideoWidth(isSideBarVisible) - _UIUtil2.default.parseCssInt(this.filmStrip.css("right"), 10) - _UIUtil2.default.parseCssInt(this.filmStrip.css("paddingLeft"), 10) - _UIUtil2.default.parseCssInt(this.filmStrip.css("paddingRight"), 10) - _UIUtil2.default.parseCssInt(this.filmStrip.css("borderLeftWidth"), 10) - _UIUtil2.default.parseCssInt(this.filmStrip.css("borderRightWidth"), 10) - 5;
                    var availableWidth = videoAreaAvailableWidth;
                    if (numvids) availableWidth = Math.floor((videoAreaAvailableWidth - numvids * (_UIUtil2.default.parseCssInt(localVideoContainer.css("borderLeftWidth"), 10) + _UIUtil2.default.parseCssInt(localVideoContainer.css("borderRightWidth"), 10) + _UIUtil2.default.parseCssInt(localVideoContainer.css("paddingLeft"), 10) + _UIUtil2.default.parseCssInt(localVideoContainer.css("paddingRight"), 10) + _UIUtil2.default.parseCssInt(localVideoContainer.css("marginLeft"), 10) + _UIUtil2.default.parseCssInt(localVideoContainer.css("marginRight"), 10))) / numvids);
                    var maxHeight = Math.min(interfaceConfig.FILM_STRIP_MAX_HEIGHT || 120, availableHeight);
                    availableHeight = Math.min(maxHeight, window.innerHeight - 18);
                    if (availableHeight < availableWidth) {
                        availableWidth = availableHeight
                    } else availableHeight = availableWidth;
                    return {
                        thumbWidth: availableWidth,
                        thumbHeight: availableHeight
                    }
                },
                resizeThumbnails: function resizeThumbnails(thumbWidth, thumbHeight) {
                    var _this = this;
                    var animate = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];
                    var forceUpdate = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];
                    return new Promise(function(resolve) {
                        _this.getThumbs(!forceUpdate).animate({
                            height: thumbHeight,
                            width: thumbWidth
                        }, {
                            queue: false,
                            duration: animate ? 500 : 0,
                            complete: resolve
                        });
                        _this.filmStrip.animate({
                            height: thumbHeight + 2
                        }, {
                            queue: false,
                            duration: animate ? 500 : 0
                        });
                        if (!animate) {
                            resolve()
                        }
                    })
                },
                getThumbs: function getThumbs() {
                    var only_visible = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];
                    var selector = "span";
                    if (only_visible) {
                        selector += ":visible"
                    }
                    if ($("#localVideoContainer").hasClass("hidden")) return this.filmStrip.children(selector).not("#localVideoContainer");
                    else return this.filmStrip.children(selector)
                }
            };
            exports.default = FilmStrip
        }, {
            "../../../service/UI/UIEvents": 364,
            "../util/UIUtil": 29
        }],
        32: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _createClass = function() {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor)
                    }
                }
                return function(Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor
                }
            }();

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function")
                }
            }
            var LargeContainer = function() {
                function LargeContainer() {
                    _classCallCheck(this, LargeContainer)
                }
                _createClass(LargeContainer, [{
                    key: "show",
                    value: function show() {}
                }, {
                    key: "hide",
                    value: function hide() {}
                }, {
                    key: "resize",
                    value: function resize(containerWidth, containerHeight, animate) {}
                }, {
                    key: "onHoverIn",
                    value: function onHoverIn(e) {}
                }, {
                    key: "onHoverOut",
                    value: function onHoverOut(e) {}
                }, {
                    key: "setStream",
                    value: function setStream(stream, videoType) {}
                }, {
                    key: "showAvatar",
                    value: function showAvatar(show) {}
                }, {
                    key: "stayOnStage",
                    value: function stayOnStage() {}
                }]);
                return LargeContainer
            }();
            exports.default = LargeContainer
        }, {}],
        33: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            exports.VIDEO_CONTAINER_TYPE = undefined;
            var _slicedToArray = function() {
                function sliceIterator(arr, i) {
                    var _arr = [];
                    var _n = true;
                    var _d = false;
                    var _e = undefined;
                    try {
                        for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {
                            _arr.push(_s.value);
                            if (i && _arr.length === i) break
                        }
                    } catch (err) {
                        _d = true;
                        _e = err
                    } finally {
                        try {
                            if (!_n && _i["return"]) _i["return"]()
                        } finally {
                            if (_d) throw _e
                        }
                    }
                    return _arr
                }
                return function(arr, i) {
                    if (Array.isArray(arr)) {
                        return arr
                    } else if (Symbol.iterator in Object(arr)) {
                        return sliceIterator(arr, i)
                    } else {
                        throw new TypeError("Invalid attempt to destructure non-iterable instance")
                    }
                }
            }();
            var _createClass = function() {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor)
                    }
                }
                return function(Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor
                }
            }();
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _UIEvents = require("../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _LargeContainer2 = require("./LargeContainer");
            var _LargeContainer3 = _interopRequireDefault(_LargeContainer2);
            var _FilmStrip = require("./FilmStrip");
            var _FilmStrip2 = _interopRequireDefault(_FilmStrip);
            var _Avatar = require("../avatar/Avatar");
            var _Avatar2 = _interopRequireDefault(_Avatar);
            var _helpers = require("../../util/helpers");

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function")
                }
            }

            function _possibleConstructorReturn(self, call) {
                if (!self) {
                    throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
                }
                return call && (typeof call === "object" || typeof call === "function") ? call : self
            }

            function _inherits(subClass, superClass) {
                if (typeof superClass !== "function" && superClass !== null) {
                    throw new TypeError("Super expression must either be null or a function, not " + typeof superClass)
                }
                subClass.prototype = Object.create(superClass && superClass.prototype, {
                    constructor: {
                        value: subClass,
                        enumerable: false,
                        writable: true,
                        configurable: true
                    }
                });
                if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass
            }
            var FADE_DURATION_MS = 300;
            var VIDEO_CONTAINER_TYPE = exports.VIDEO_CONTAINER_TYPE = "camera";

            function getStreamOwnerId(stream) {
                if (!stream) {
                    return
                }
                if (stream.isLocal()) {
                    return APP.conference.localId
                } else {
                    return stream.getParticipantId()
                }
            }

            function getDesktopVideoSize(videoWidth, videoHeight, videoSpaceWidth, videoSpaceHeight) {
                var aspectRatio = videoWidth / videoHeight;
                var availableWidth = Math.max(videoWidth, videoSpaceWidth);
                var availableHeight = Math.max(videoHeight, videoSpaceHeight);
                videoSpaceHeight -= _FilmStrip2.default.getFilmStripHeight();
                if (availableWidth / aspectRatio >= videoSpaceHeight) {
                    availableHeight = videoSpaceHeight;
                    availableWidth = availableHeight * aspectRatio
                }
                if (availableHeight * aspectRatio >= videoSpaceWidth) {
                    availableWidth = videoSpaceWidth;
                    availableHeight = availableWidth / aspectRatio
                }
                return [availableWidth, availableHeight]
            }

            function getCameraVideoSize(videoWidth, videoHeight, videoSpaceWidth, videoSpaceHeight) {
                var aspectRatio = videoWidth / videoHeight;
                var availableWidth = videoWidth;
                var availableHeight = videoHeight;
                if (interfaceConfig.VIDEO_LAYOUT_FIT == "height") {
                    availableHeight = videoSpaceHeight;
                    availableWidth = availableHeight * aspectRatio
                } else if (interfaceConfig.VIDEO_LAYOUT_FIT == "width") {
                    availableWidth = videoSpaceWidth;
                    availableHeight = availableWidth / aspectRatio
                } else if (interfaceConfig.VIDEO_LAYOUT_FIT == "both") {
                    availableWidth = Math.max(videoWidth, videoSpaceWidth);
                    availableHeight = Math.max(videoHeight, videoSpaceHeight);
                    if (availableWidth / aspectRatio < videoSpaceHeight) {
                        availableHeight = videoSpaceHeight;
                        availableWidth = availableHeight * aspectRatio
                    }
                    if (availableHeight * aspectRatio < videoSpaceWidth) {
                        availableWidth = videoSpaceWidth;
                        availableHeight = availableWidth / aspectRatio
                    }
                }
                return [availableWidth, availableHeight]
            }

            function getCameraVideoPosition(videoWidth, videoHeight, videoSpaceWidth, videoSpaceHeight) {
                if (_UIUtil2.default.isFullScreen()) {
                    videoSpaceHeight = window.innerHeight
                }
                var horizontalIndent = (videoSpaceWidth - videoWidth) / 2;
                var verticalIndent = (videoSpaceHeight - videoHeight) / 2;
                return {
                    horizontalIndent: horizontalIndent,
                    verticalIndent: verticalIndent
                }
            }

            function getDesktopVideoPosition(videoWidth, videoHeight, videoSpaceWidth, videoSpaceHeight) {
                var horizontalIndent = (videoSpaceWidth - videoWidth) / 2;
                var verticalIndent = 0;
                return {
                    horizontalIndent: horizontalIndent,
                    verticalIndent: verticalIndent
                }
            }
            var VideoContainer = function(_LargeContainer) {
                _inherits(VideoContainer, _LargeContainer);
                _createClass(VideoContainer, [{
                    key: "$video",
                    get: function get() {
                        return $("#largeVideo")
                    }
                }, {
                    key: "id",
                    get: function get() {
                        return getStreamOwnerId(this.stream)
                    }
                }]);

                function VideoContainer(onPlay) {
                    _classCallCheck(this, VideoContainer);
                    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(VideoContainer).call(this));
                    _this.stream = null;
                    _this.videoType = null;
                    _this.localFlipX = true;
                    _this.isVisible = false;
                    _this.$avatar = $("#dominantSpeaker");
                    _this.$wrapper = $("#largeVideoWrapper");
                    _this.avatarHeight = $("#dominantSpeakerAvatar").height();
                    _this.$video[0].onplay = onPlay;
                    return _this
                }
                _createClass(VideoContainer, [{
                    key: "getStreamSize",
                    value: function getStreamSize() {
                        var video = this.$video[0];
                        return {
                            width: video.videoWidth,
                            height: video.videoHeight
                        }
                    }
                }, {
                    key: "getVideoSize",
                    value: function getVideoSize(containerWidth, containerHeight) {
                        var _getStreamSize = this.getStreamSize();
                        var width = _getStreamSize.width;
                        var height = _getStreamSize.height;
                        if (this.stream && this.isScreenSharing()) {
                            return getDesktopVideoSize(width, height, containerWidth, containerHeight)
                        } else {
                            return getCameraVideoSize(width, height, containerWidth, containerHeight)
                        }
                    }
                }, {
                    key: "getVideoPosition",
                    value: function getVideoPosition(width, height, containerWidth, containerHeight) {
                        if (this.stream && this.isScreenSharing()) {
                            return getDesktopVideoPosition(width, height, containerWidth, containerHeight)
                        } else {
                            return getCameraVideoPosition(width, height, containerWidth, containerHeight)
                        }
                    }
                }, {
                    key: "resize",
                    value: function resize(containerWidth, containerHeight) {
                        var animate = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];
                        var _getVideoSize = this.getVideoSize(containerWidth, containerHeight);
                        var _getVideoSize2 = _slicedToArray(_getVideoSize, 2);
                        var width = _getVideoSize2[0];
                        var height = _getVideoSize2[1];
                        var _getVideoPosition = this.getVideoPosition(width, height, containerWidth, containerHeight);
                        var horizontalIndent = _getVideoPosition.horizontalIndent;
                        var verticalIndent = _getVideoPosition.verticalIndent;
                        var top = containerHeight / 2 - this.avatarHeight / 4 * 3;
                        this.$avatar.css("top", top);
                        this.$wrapper.animate({
                            width: width,
                            height: height,
                            top: verticalIndent,
                            bottom: verticalIndent,
                            left: horizontalIndent,
                            right: horizontalIndent
                        }, {
                            queue: false,
                            duration: animate ? 500 : 0
                        })
                    }
                }, {
                    key: "setStream",
                    value: function setStream(stream, videoType) {
                        if (this.stream) {
                            this.stream.detach(this.$video[0])
                        }
                        this.stream = stream;
                        this.videoType = videoType;
                        if (!stream) {
                            return
                        }
                        stream.attach(this.$video[0]);
                        var flipX = stream.isLocal() && this.localFlipX;
                        this.$video.css({
                            transform: flipX ? "scaleX(-1)" : "none"
                        })
                    }
                }, {
                    key: "setLocalFlipX",
                    value: function setLocalFlipX(val) {
                        this.localFlipX = val;
                        if (!this.$video || !this.stream || !this.stream.isLocal()) return;
                        this.$video.css({
                            transform: this.localFlipX ? "scaleX(-1)" : "none"
                        })
                    }
                }, {
                    key: "isScreenSharing",
                    value: function isScreenSharing() {
                        return this.videoType === "desktop"
                    }
                }, {
                    key: "showAvatar",
                    value: function showAvatar(show) {
                        this.$avatar.css("visibility", show ? "visible" : "hidden")
                    }
                }, {
                    key: "show",
                    value: function show() {
                        var _this2 = this;
                        if (this.isVisible) {
                            return Promise.resolve()
                        }
                        var $wrapper = this.$wrapper;
                        return new Promise(function(resolve) {
                            _this2.$wrapper.css("visibility", "visible").fadeTo(FADE_DURATION_MS, 1, function() {
                                _this2.isVisible = true;
                                resolve()
                            })
                        })
                    }
                }, {
                    key: "hide",
                    value: function hide() {
                        var _this3 = this;
                        this.showAvatar(false);
                        if (!this.isVisible) {
                            return Promise.resolve()
                        }
                        return new Promise(function(resolve) {
                            _this3.$wrapper.fadeTo(FADE_DURATION_MS, 0, function() {
                                _this3.$wrapper.css("visibility", "hidden");
                                _this3.isVisible = false;
                                resolve()
                            })
                        })
                    }
                }, {
                    key: "stayOnStage",
                    value: function stayOnStage() {
                        return false
                    }
                }]);
                return VideoContainer
            }(_LargeContainer3.default);
            var LargeVideoManager = function() {
                function LargeVideoManager() {
                    var _this4 = this;
                    _classCallCheck(this, LargeVideoManager);
                    this.containers = {};
                    this.state = VIDEO_CONTAINER_TYPE;
                    this.videoContainer = new VideoContainer(function() {
                        return _this4.resizeContainer(VIDEO_CONTAINER_TYPE)
                    });
                    this.addContainer(VIDEO_CONTAINER_TYPE, this.videoContainer);
                    this.addContainer("desktop", this.videoContainer);
                    this.width = 0;
                    this.height = 0;
                    this.$container = $("#largeVideoContainer");
                    this.$container.css({
                        display: "inline-block"
                    });
                    if (interfaceConfig.SHOW_JITSI_WATERMARK) {
                        var leftWatermarkDiv = this.$container.find("div.watermark.leftwatermark");
                        leftWatermarkDiv.css({
                            display: "block"
                        });
                        leftWatermarkDiv.parent().attr("href", interfaceConfig.JITSI_WATERMARK_LINK)
                    }
                    if (interfaceConfig.SHOW_BRAND_WATERMARK) {
                        var rightWatermarkDiv = this.$container.find("div.watermark.rightwatermark");
                        rightWatermarkDiv.css({
                            display: "block",
                            backgroundImage: "url(images/rightwatermark.png)"
                        });
                        rightWatermarkDiv.parent().attr("href", interfaceConfig.BRAND_WATERMARK_LINK)
                    }
                    if (interfaceConfig.SHOW_POWERED_BY) {
                        this.$container.children("a.poweredby").css({
                            display: "block"
                        })
                    }
                    this.$container.hover(function(e) {
                        return _this4.onHoverIn(e)
                    }, function(e) {
                        return _this4.onHoverOut(e)
                    })
                }
                _createClass(LargeVideoManager, [{
                    key: "onHoverIn",
                    value: function onHoverIn(e) {
                        if (!this.state) {
                            return
                        }
                        var container = this.getContainer(this.state);
                        container.onHoverIn(e)
                    }
                }, {
                    key: "onHoverOut",
                    value: function onHoverOut(e) {
                        if (!this.state) {
                            return
                        }
                        var container = this.getContainer(this.state);
                        container.onHoverOut(e)
                    }
                }, {
                    key: "scheduleLargeVideoUpdate",
                    value: function scheduleLargeVideoUpdate() {
                        var _this5 = this;
                        if (this.updateInProcess || !this.newStreamData) {
                            return
                        }
                        this.updateInProcess = true;
                        var container = this.getContainer(this.state);
                        var preUpdate = void 0;
                        if (this.newStreamData.id != this.id) {
                            preUpdate = container.hide()
                        } else {
                            preUpdate = Promise.resolve()
                        }
                        preUpdate.then(function() {
                            var _newStreamData = _this5.newStreamData;
                            var id = _newStreamData.id;
                            var stream = _newStreamData.stream;
                            var videoType = _newStreamData.videoType;
                            var resolve = _newStreamData.resolve;
                            _this5.newStreamData = null;
                            console.info("hover in %s", id);
                            _this5.state = videoType;
                            var container = _this5.getContainer(_this5.state);
                            container.setStream(stream, videoType);
                            _this5.updateAvatar(_Avatar2.default.getAvatarUrl(id));
                            var isVideoMuted = false;
                            if (videoType == VIDEO_CONTAINER_TYPE) isVideoMuted = stream ? stream.isMuted() : true;
                            container.showAvatar(isVideoMuted);
                            var promise = void 0;
                            if (isVideoMuted) {
                                _this5.showWatermark(true);
                                promise = Promise.resolve()
                            } else {
                                promise = container.show()
                            }
                            promise.then(resolve);
                            return promise
                        }).then(function() {
                            _this5.updateInProcess = false;
                            _this5.scheduleLargeVideoUpdate()
                        })
                    }
                }, {
                    key: "updateLargeVideo",
                    value: function updateLargeVideo(userID, stream, videoType) {
                        if (this.newStreamData) {
                            this.newStreamData.reject()
                        }
                        this.newStreamData = (0, _helpers.createDeferred)();
                        this.newStreamData.id = userID;
                        this.newStreamData.stream = stream;
                        this.newStreamData.videoType = videoType;
                        this.scheduleLargeVideoUpdate();
                        return this.newStreamData.promise
                    }
                }, {
                    key: "updateContainerSize",
                    value: function updateContainerSize(isSideBarVisible) {
                        this.width = _UIUtil2.default.getAvailableVideoWidth(isSideBarVisible);
                        this.height = window.innerHeight
                    }
                }, {
                    key: "resizeContainer",
                    value: function resizeContainer(type) {
                        var animate = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];
                        var container = this.getContainer(type);
                        container.resize(this.width, this.height, animate)
                    }
                }, {
                    key: "resize",
                    value: function resize(animate) {
                        var _this6 = this;
                        Object.keys(this.containers).forEach(function(type) {
                            return _this6.resizeContainer(type, animate)
                        });
                        this.$container.animate({
                            width: this.width,
                            height: this.height
                        }, {
                            queue: false,
                            duration: animate ? 500 : 0
                        })
                    }
                }, {
                    key: "enableVideoProblemFilter",
                    value: function enableVideoProblemFilter(enable) {
                        var container = this.getContainer(this.state);
                        container.$video.toggleClass("videoProblemFilter", enable)
                    }
                }, {
                    key: "updateAvatar",
                    value: function updateAvatar(avatarUrl) {
                        $("#dominantSpeakerAvatar").attr("src", avatarUrl)
                    }
                }, {
                    key: "showWatermark",
                    value: function showWatermark(show) {
                        $(".watermark").css("visibility", show ? "visible" : "hidden")
                    }
                }, {
                    key: "addContainer",
                    value: function addContainer(type, container) {
                        if (this.containers[type]) {
                            throw new Error("container of type " + type + " already exist")
                        }
                        this.containers[type] = container;
                        this.resizeContainer(type)
                    }
                }, {
                    key: "getContainer",
                    value: function getContainer(type) {
                        var container = this.containers[type];
                        if (!container) {
                            throw new Error("container of type " + type + " doesn't exist")
                        }
                        return container
                    }
                }, {
                    key: "removeContainer",
                    value: function removeContainer(type) {
                        if (!this.containers[type]) {
                            throw new Error("container of type " + type + " doesn't exist")
                        }
                        delete this.containers[type]
                    }
                }, {
                    key: "showContainer",
                    value: function showContainer(type) {
                        var _this7 = this;
                        if (this.state === type) {
                            return Promise.resolve()
                        }
                        var oldContainer = this.containers[this.state];
                        if (this.state === VIDEO_CONTAINER_TYPE) {
                            this.showWatermark(false)
                        }
                        oldContainer.hide();
                        this.state = type;
                        var container = this.getContainer(type);
                        return container.show().then(function() {
                            if (type === VIDEO_CONTAINER_TYPE) {
                                _this7.showWatermark(true)
                            }
                        })
                    }
                }, {
                    key: "onLocalFlipXChange",
                    value: function onLocalFlipXChange(val) {
                        this.videoContainer.setLocalFlipX(val)
                    }
                }, {
                    key: "id",
                    get: function get() {
                        var container = this.getContainer(this.state);
                        return container.id
                    }
                }]);
                return LargeVideoManager
            }();
            exports.default = LargeVideoManager
        }, {
            "../../../service/UI/UIEvents": 364,
            "../../util/helpers": 51,
            "../avatar/Avatar": 13,
            "../util/UIUtil": 29,
            "./FilmStrip": 31,
            "./LargeContainer": 32
        }],
        34: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _ConnectionIndicator = require("./ConnectionIndicator");
            var _ConnectionIndicator2 = _interopRequireDefault(_ConnectionIndicator);
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _UIEvents = require("../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _SmallVideo = require("./SmallVideo");
            var _SmallVideo2 = _interopRequireDefault(_SmallVideo);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var RTCUIUtils = JitsiMeetJS.util.RTCUIHelper;
            var TrackEvents = JitsiMeetJS.events.track;

            function LocalVideo(VideoLayout, emitter) {
                this.videoSpanId = "localVideoContainer";
                this.container = $("#localVideoContainer").get(0);
                this.localVideoId = null;
                this.bindHoverHandler();
                if (config.enableLocalVideoFlip) this._buildContextMenu();
                this.isLocal = true;
                this.emitter = emitter;
                Object.defineProperty(this, "id", {
                    get: function get() {
                        return APP.conference.localId
                    }
                });
                _SmallVideo2.default.call(this, VideoLayout)
            }
            LocalVideo.prototype = Object.create(_SmallVideo2.default.prototype);
            LocalVideo.prototype.constructor = LocalVideo;

            function createEditDisplayNameButton() {
                var editButton = document.createElement("a");
                editButton.className = "displayname";
                _UIUtil2.default.setTooltip(editButton, "videothumbnail.editnickname", "top");
                editButton.innerHTML = '<i class="fa fa-pencil"></i>';
                return editButton
            }
            LocalVideo.prototype.setDisplayName = function(displayName, key) {
                if (!this.container) {
                    console.warn("Unable to set displayName - " + this.videoSpanId + " does not exist");
                    return
                }
                var nameSpan = $("#" + this.videoSpanId + ">span.displayname");
                var defaultLocalDisplayName = APP.translation.generateTranslationHTML(interfaceConfig.DEFAULT_LOCAL_DISPLAY_NAME);
                var meHTML;
                if (nameSpan.length > 0) {
                    if (nameSpan.text() !== displayName) {
                        if (displayName && displayName.length > 0) {
                            meHTML = APP.translation.generateTranslationHTML("me");
                            $("#localDisplayName").html(_UIUtil2.default.escapeHtml(displayName) + " (" + meHTML + ")")
                        } else {
                            $("#localDisplayName").html(defaultLocalDisplayName)
                        }
                    }
                    this.updateView()
                } else {
                    var editButton = createEditDisplayNameButton();
                    nameSpan = document.createElement("span");
                    nameSpan.className = "displayname";
                    $("#" + this.videoSpanId)[0].appendChild(nameSpan);
                    if (displayName && displayName.length > 0) {
                        meHTML = APP.translation.generateTranslationHTML("me");
                        nameSpan.innerHTML = _UIUtil2.default.escapeHtml(displayName) + meHTML
                    } else {
                        nameSpan.innerHTML = defaultLocalDisplayName
                    }
                    nameSpan.id = "localDisplayName";
                    this.container.appendChild(editButton);
                    APP.translation.translateElement($("a.displayname"));
                    var editableText = document.createElement("input");
                    editableText.className = "displayname";
                    editableText.type = "text";
                    editableText.id = "editDisplayName";
                    if (displayName && displayName.length) {
                        editableText.value = displayName
                    }
                    var defaultNickname = APP.translation.translateString("defaultNickname", {
                        name: "Jane Pink"
                    });
                    editableText.setAttribute("style", "display:none;");
                    editableText.setAttribute("data-18n", "[placeholder]defaultNickname");
                    editableText.setAttribute("data-i18n-options", JSON.stringify({
                        name: "Jane Pink"
                    }));
                    editableText.setAttribute("placeholder", defaultNickname);
                    this.container.appendChild(editableText);
                    var self = this;
                    $("#localVideoContainer .displayname").bind("click", function(e) {
                        var editDisplayName = $("#editDisplayName");
                        e.preventDefault();
                        e.stopPropagation();
                        $("#localDisplayName").hide();
                        editDisplayName.show();
                        editDisplayName.focus();
                        editDisplayName.select();
                        editDisplayName.one("focusout", function(e) {
                            self.emitter.emit(_UIEvents2.default.NICKNAME_CHANGED, this.value);
                            $("#editDisplayName").hide()
                        });
                        editDisplayName.on("keydown", function(e) {
                            if (e.keyCode === 13) {
                                e.preventDefault();
                                $("#editDisplayName").hide()
                            }
                        })
                    })
                }
            };
            LocalVideo.prototype.createConnectionIndicator = function() {
                if (this.connectionIndicator) return;
                this.connectionIndicator = new _ConnectionIndicator2.default(this, null)
            };
            LocalVideo.prototype.changeVideo = function(stream) {
                var _this = this;
                this.videoStream = stream;
                var localVideoClick = function localVideoClick(event) {
                    if (event.stopPropagation) {
                        event.stopPropagation()
                    }
                    _this.VideoLayout.handleVideoThumbClicked(_this.id)
                };
                var localVideoContainerSelector = $("#localVideoContainer");
                localVideoContainerSelector.off("click");
                localVideoContainerSelector.on("click", localVideoClick);
                var localVideo = document.createElement("video");
                localVideo.id = this.localVideoId = "localVideo_" + stream.getId();
                RTCUIUtils.setAutoPlay(localVideo, true);
                RTCUIUtils.setVolume(localVideo, 0);
                var localVideoContainer = document.getElementById("localVideoWrapper");
                _UIUtil2.default.prependChild(localVideoContainer, localVideo);
                localVideo.onclick = localVideoClick;
                var isVideo = stream.videoType != "desktop";
                this._enableDisableContextMenu(isVideo);
                this.setFlipX(isVideo ? APP.settings.getLocalFlipX() : false);
                localVideo = stream.attach(localVideo);
                var endedHandler = function endedHandler() {
                    localVideoContainer.removeChild(localVideo);
                    if (_this.VideoLayout.isCurrentlyOnLarge(_this.id)) _this.VideoLayout.updateLargeVideo(_this.id);
                    stream.off(TrackEvents.LOCAL_TRACK_STOPPED, endedHandler)
                };
                stream.on(TrackEvents.LOCAL_TRACK_STOPPED, endedHandler)
            };
            LocalVideo.prototype.setVisible = function(visible) {
                $("#localVideoContainer").toggleClass("hidden");
                if (visible) {
                    $("#localVideoContainer").show()
                } else {
                    $("#localVideoContainer").hide()
                }
            };
            LocalVideo.prototype.setFlipX = function(val) {
                this.emitter.emit(_UIEvents2.default.LOCAL_FLIPX_CHANGED, val);
                if (!this.localVideoId) return;
                if (val) {
                    this.selectVideoElement().addClass("flipVideoX")
                } else {
                    this.selectVideoElement().removeClass("flipVideoX")
                }
            };
            LocalVideo.prototype._buildContextMenu = function() {
                var _this2 = this;
                $.contextMenu({
                    selector: "#" + this.videoSpanId,
                    zIndex: 1e4,
                    items: {
                        flip: {
                            name: "Flip",
                            callback: function callback() {
                                var val = !APP.settings.getLocalFlipX();
                                _this2.setFlipX(val);
                                APP.settings.setLocalFlipX(val)
                            }
                        }
                    },
                    events: {
                        show: function show(options) {
                            options.items.flip.name = APP.translation.translateString("videothumbnail.flip")
                        }
                    }
                })
            };
            LocalVideo.prototype._enableDisableContextMenu = function(enable) {
                if ($("#" + this.videoSpanId).contextMenu) $("#" + this.videoSpanId).contextMenu(enable)
            };
            exports.default = LocalVideo
        }, {
            "../../../service/UI/UIEvents": 364,
            "../util/UIUtil": 29,
            "./ConnectionIndicator": 30,
            "./SmallVideo": 36
        }],
        35: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _ConnectionIndicator = require("./ConnectionIndicator");
            var _ConnectionIndicator2 = _interopRequireDefault(_ConnectionIndicator);
            var _SmallVideo = require("./SmallVideo");
            var _SmallVideo2 = _interopRequireDefault(_SmallVideo);
            var _AudioLevels = require("../audio_levels/AudioLevels");
            var _AudioLevels2 = _interopRequireDefault(_AudioLevels);
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _UIEvents = require("../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }

            function RemoteVideo(id, VideoLayout, emitter) {
                this.id = id;
                this.emitter = emitter;
                this.videoSpanId = "participant_" + id;
                _SmallVideo2.default.call(this, VideoLayout);
                this.addRemoteVideoContainer();
                this.connectionIndicator = new _ConnectionIndicator2.default(this, id);
                this.setDisplayName();
                this.bindHoverHandler();
                this.flipX = false;
                this.isLocal = false
            }
            RemoteVideo.prototype = Object.create(_SmallVideo2.default.prototype);
            RemoteVideo.prototype.constructor = RemoteVideo;
            RemoteVideo.prototype.addRemoteVideoContainer = function() {
                this.container = RemoteVideo.createContainer(this.videoSpanId);
                if (APP.conference.isModerator) {
                    this.addRemoteVideoMenu()
                }
                var _VideoLayout$resizeTh = this.VideoLayout.resizeThumbnails();
                var thumbWidth = _VideoLayout$resizeTh.thumbWidth;
                var thumbHeight = _VideoLayout$resizeTh.thumbHeight;
                _AudioLevels2.default.updateAudioLevelCanvas(this.id, thumbWidth, thumbHeight);
                return this.container
            };
            if (!interfaceConfig.filmStripOnly) {
                RemoteVideo.prototype.addRemoteVideoMenu = function() {
                    var _this = this;
                    var spanElement = document.createElement("span");
                    spanElement.className = "remotevideomenu";
                    this.container.appendChild(spanElement);
                    var menuElement = document.createElement("i");
                    menuElement.className = "fa fa-angle-down";
                    menuElement.title = "Remote user controls";
                    spanElement.appendChild(menuElement);
                    var popupmenuElement = document.createElement("ul");
                    popupmenuElement.className = "popupmenu";
                    popupmenuElement.id = "remote_popupmenu_" + this.id;
                    spanElement.appendChild(popupmenuElement);
                    var muteMenuItem = document.createElement("li");
                    var muteLinkItem = document.createElement("a");
                    var mutedIndicator = "<i style='float:left;' " + "class='icon-mic-disabled'></i>";
                    if (!this.isMuted) {
                        muteLinkItem.innerHTML = mutedIndicator + " <div style='width: 90px;margin-left: 20px;' " + "data-i18n='videothumbnail.domute'></div>";
                        muteLinkItem.className = "mutelink"
                    } else {
                        muteLinkItem.innerHTML = mutedIndicator + " <div style='width: 90px;margin-left: 20px;' " + "data-i18n='videothumbnail.muted'></div>";
                        muteLinkItem.className = "mutelink disabled"
                    }
                    muteLinkItem.onclick = function(event) {
                        if ($(_this).attr("disabled")) {
                            event.preventDefault()
                        }
                        var isMute = !!_this.isMuted;
                        _this.emitter.emit(_UIEvents2.default.REMOTE_AUDIO_MUTED, _this.id);
                        popupmenuElement.setAttribute("style", "display:none;");
                        if (isMute) {
                            _this.innerHTML = mutedIndicator + " <div style='width: 90px;margin-left: 20px;' " + "data-i18n='videothumbnail.muted'></div>";
                            _this.className = "mutelink disabled"
                        } else {
                            _this.innerHTML = mutedIndicator + " <div style='width: 90px;margin-left: 20px;' " + "data-i18n='videothumbnail.domute'></div>";
                            _this.className = "mutelink"
                        }
                    };
                    muteMenuItem.appendChild(muteLinkItem);
                    popupmenuElement.appendChild(muteMenuItem);
                    var ejectIndicator = "<i style='float:left;' class='fa fa-eject'></i>";
                    var ejectMenuItem = document.createElement("li");
                    var ejectLinkItem = document.createElement("a");
                    var ejectText = "<div style='width: 90px;margin-left: 20px;' " + "data-i18n='videothumbnail.kick'>&nbsp;</div>";
                    ejectLinkItem.innerHTML = ejectIndicator + " " + ejectText;
                    ejectLinkItem.onclick = function(event) {
                        _this.emitter.emit(_UIEvents2.default.USER_KICKED, _this.id);
                        popupmenuElement.setAttribute("style", "display:none;")
                    };
                    ejectMenuItem.appendChild(ejectLinkItem);
                    popupmenuElement.appendChild(ejectMenuItem);
                    var paddingSpan = document.createElement("span");
                    paddingSpan.className = "popupmenuPadding";
                    popupmenuElement.appendChild(paddingSpan);
                    APP.translation.translateElement($("#" + popupmenuElement.id + " > li > a > div"))
                }
            } else {
                RemoteVideo.prototype.addRemoteVideoMenu = function() {}
            }
            RemoteVideo.prototype.removeRemoteStreamElement = function(stream) {
                if (!this.container) return false;
                var isVideo = stream.isVideoTrack();
                var elementID = _SmallVideo2.default.getStreamElementID(stream);
                var select = null;
                if (isVideo) {
                    select = $("#" + elementID)
                } else select = $("#" + this.videoSpanId + ">audio");
                select.remove();
                console.info((isVideo ? "Video" : "Audio") + " removed " + this.id, select);
                if (isVideo && this.VideoLayout.isCurrentlyOnLarge(this.id)) this.VideoLayout.updateLargeVideo(this.id)
            };
            RemoteVideo.prototype.remove = function() {
                console.log("Remove thumbnail", this.id);
                this.removeConnectionIndicator();
                this.VideoLayout.updateAfterThumbRemoved(this.id);
                if (this.container.parentNode) {
                    this.container.parentNode.removeChild(this.container)
                }
            };
            RemoteVideo.prototype.waitForPlayback = function(streamElement, stream) {
                var webRtcStream = stream.getOriginalStream();
                var isVideo = stream.isVideoTrack();
                if (!isVideo || webRtcStream.id === "mixedmslabel") {
                    return
                }
                var self = this;
                var onPlayingHandler = function onPlayingHandler() {
                    self.VideoLayout.videoactive(streamElement, self.id);
                    streamElement.onplaying = null
                };
                streamElement.onplaying = onPlayingHandler
            };
            RemoteVideo.prototype.hasVideoStarted = function() {
                var videoSelector = this.selectVideoElement();
                return videoSelector.length && videoSelector[0].currentTime > 0
            };
            RemoteVideo.prototype.addRemoteStreamElement = function(stream) {
                var _this2 = this;
                if (!this.container) {
                    return
                }
                var isVideo = stream.isVideoTrack();
                isVideo ? this.videoStream = stream : this.audioStream = stream;
                var onClickHandler = function onClickHandler(event) {
                    var source = event.target || event.srcElement;
                    if ($(source).parents(".popupmenu").length === 0) {
                        _this2.VideoLayout.handleVideoThumbClicked(_this2.id)
                    }
                    if (event.stopPropagation && event.preventDefault) {
                        event.stopPropagation();
                        event.preventDefault()
                    }
                    return false
                };
                this.container.onclick = onClickHandler;
                if (!stream.getOriginalStream()) return;
                var streamElement = _SmallVideo2.default.createStreamElement(stream);
                var newElementId = streamElement.id;
                _UIUtil2.default.prependChild(this.container, streamElement);
                $(streamElement).hide();
                if (!isVideo || this.container.offsetParent !== null && isVideo) {
                    this.waitForPlayback(streamElement, stream);
                    streamElement = stream.attach(streamElement)
                }
                $(streamElement).click(onClickHandler)
            }, RemoteVideo.prototype.showPeerContainer = function(state) {
                if (!this.container) return;
                var isHide = state === "hide";
                var resizeThumbnails = false;
                if (!isHide) {
                    if (!$(this.container).is(":visible")) {
                        resizeThumbnails = true;
                        $(this.container).show()
                    }
                    this.updateView()
                } else if ($(this.container).is(":visible") && isHide) {
                    resizeThumbnails = true;
                    $(this.container).hide();
                    if (this.connectionIndicator) this.connectionIndicator.hide()
                }
                if (resizeThumbnails) {
                    this.VideoLayout.resizeThumbnails()
                }
            };
            RemoteVideo.prototype.updateResolution = function(resolution) {
                if (this.connectionIndicator) {
                    this.connectionIndicator.updateResolution(resolution)
                }
            };
            RemoteVideo.prototype.removeConnectionIndicator = function() {
                if (this.connectionIndicator) this.connectionIndicator.remove()
            };
            RemoteVideo.prototype.hideConnectionIndicator = function() {
                if (this.connectionIndicator) this.connectionIndicator.hide()
            };
            RemoteVideo.prototype.updateRemoteVideoMenu = function(isMuted) {
                var muteMenuItem = $("#remote_popupmenu_" + this.id + ">li>a.mutelink");
                var mutedIndicator = "<i class='icon-mic-disabled'></i>";
                if (muteMenuItem.length) {
                    var muteLink = muteMenuItem.get(0);
                    if (isMuted) {
                        muteLink.innerHTML = mutedIndicator + " Muted";
                        muteLink.className = "mutelink disabled"
                    } else {
                        muteLink.innerHTML = mutedIndicator + " Mute";
                        muteLink.className = "mutelink"
                    }
                }
            };
            RemoteVideo.prototype.setDisplayName = function(displayName, key) {
                if (!this.container) {
                    console.warn("Unable to set displayName - " + this.videoSpanId + " does not exist");
                    return
                }
                var nameSpan = $("#" + this.videoSpanId + ">span.displayname");
                if (nameSpan.length > 0) {
                    if (displayName && displayName.length > 0) {
                        var displaynameSpan = $("#" + this.videoSpanId + "_name");
                        if (displaynameSpan.text() !== displayName) displaynameSpan.text(displayName)
                    } else if (key && key.length > 0) {
                        var nameHtml = APP.translation.generateTranslationHTML(key);
                        $("#" + this.videoSpanId + "_name").html(nameHtml)
                    } else $("#" + this.videoSpanId + "_name").text(interfaceConfig.DEFAULT_REMOTE_DISPLAY_NAME)
                } else {
                    nameSpan = document.createElement("span");
                    nameSpan.className = "displayname";
                    $("#" + this.videoSpanId)[0].appendChild(nameSpan);
                    if (displayName && displayName.length > 0) {
                        $(nameSpan).text(displayName)
                    } else {
                        nameSpan.innerHTML = interfaceConfig.DEFAULT_REMOTE_DISPLAY_NAME
                    }
                    nameSpan.id = this.videoSpanId + "_name"
                }
            };
            RemoteVideo.prototype.removeRemoteVideoMenu = function() {
                var menuSpan = $("#" + this.videoSpanId + ">span.remotevideomenu");
                if (menuSpan.length) {
                    menuSpan.remove()
                }
            };
            RemoteVideo.createContainer = function(spanId) {
                var container = document.createElement("span");
                container.id = spanId;
                container.className = "videocontainer";
                var remotes = document.getElementById("remoteVideos");
                return remotes.appendChild(container)
            };
            exports.default = RemoteVideo
        }, {
            "../../../service/UI/UIEvents": 364,
            "../audio_levels/AudioLevels": 8,
            "../util/UIUtil": 29,
            "./ConnectionIndicator": 30,
            "./SmallVideo": 36
        }],
        36: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _Avatar = require("../avatar/Avatar");
            var _Avatar2 = _interopRequireDefault(_Avatar);
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var RTCUIHelper = JitsiMeetJS.util.RTCUIHelper;

            function SmallVideo(VideoLayout) {
                this.isMuted = false;
                this.hasAvatar = false;
                this.isVideoMuted = false;
                this.videoStream = null;
                this.audioStream = null;
                this.VideoLayout = VideoLayout
            }

            function setVisibility(selector, show) {
                if (selector && selector.length > 0) {
                    selector.css("visibility", show ? "visible" : "hidden")
                }
            }
            SmallVideo.prototype.getId = function() {
                return this.id
            };
            SmallVideo.prototype.isVisible = function() {
                return $("#" + this.videoSpanId).is(":visible")
            };
            SmallVideo.prototype.showDisplayName = function(isShow) {
                var nameSpan = $("#" + this.videoSpanId + ">span.displayname").get(0);
                if (isShow) {
                    if (nameSpan && nameSpan.innerHTML && nameSpan.innerHTML.length) nameSpan.setAttribute("style", "display:inline-block;")
                } else {
                    if (nameSpan) nameSpan.setAttribute("style", "display:none;")
                }
            };
            SmallVideo.prototype.enableDeviceAvailabilityIcons = function(enable) {
                if (typeof enable === "undefined") return;
                this.deviceAvailabilityIconsEnabled = enable
            };
            SmallVideo.prototype.setDeviceAvailabilityIcons = function(devices) {
                if (!this.deviceAvailabilityIconsEnabled) return;
                if (!this.container) return;
                var noMic = $("#" + this.videoSpanId + " > .noMic");
                var noVideo = $("#" + this.videoSpanId + " > .noVideo");
                noMic.remove();
                noVideo.remove();
                if (!devices.audio) {
                    this.container.appendChild(document.createElement("div")).setAttribute("class", "noMic")
                }
                if (!devices.video) {
                    this.container.appendChild(document.createElement("div")).setAttribute("class", "noVideo")
                }
                if (!devices.audio && !devices.video) {
                    noMic.css("background-position", "75%");
                    noVideo.css("background-position", "25%");
                    noVideo.css("background-color", "transparent")
                }
            };
            SmallVideo.prototype.setVideoType = function(videoType) {
                this.videoType = videoType
            };
            SmallVideo.prototype.getVideoType = function() {
                return this.videoType
            };
            SmallVideo.prototype.setPresenceStatus = function(statusMsg) {
                if (!this.container) {
                    return
                }
                var statusSpan = $("#" + this.videoSpanId + ">span.status");
                if (!statusSpan.length) {
                    statusSpan = document.createElement("span");
                    statusSpan.className = "status";
                    statusSpan.id = this.videoSpanId + "_status";
                    $("#" + this.videoSpanId)[0].appendChild(statusSpan);
                    statusSpan = $("#" + this.videoSpanId + ">span.status")
                }
                if (statusMsg && statusMsg.length) {
                    $("#" + this.videoSpanId + "_status").text(statusMsg);
                    statusSpan.get(0).setAttribute("style", "display:inline-block;")
                } else {
                    statusSpan.get(0).setAttribute("style", "display:none;")
                }
            };
            SmallVideo.createStreamElement = function(stream) {
                var isVideo = stream.isVideoTrack();
                var element = isVideo ? document.createElement("video") : document.createElement("audio");
                if (isVideo) {
                    element.setAttribute("muted", "true")
                }
                RTCUIHelper.setAutoPlay(element, true);
                element.id = SmallVideo.getStreamElementID(stream);
                element.onplay = function() {
                    var type = isVideo ? "video" : "audio";
                    var now = APP.connectionTimes[type + ".render"] = window.performance.now();
                    console.log("(TIME) Render " + type + ":	", now)
                };
                return element
            };
            SmallVideo.getStreamElementID = function(stream) {
                var isVideo = stream.isVideoTrack();
                return (isVideo ? "remoteVideo_" : "remoteAudio_") + stream.getId()
            };
            SmallVideo.prototype.bindHoverHandler = function() {
                var self = this;
                $(this.container).hover(function() {
                    self.showDisplayName(true)
                }, function() {
                    if (!self.VideoLayout.isLargeVideoVisible() || !self.VideoLayout.isCurrentlyOnLarge(self.id)) self.showDisplayName(false)
                })
            };
            SmallVideo.prototype.updateStatsIndicator = function(percent, object) {
                if (this.connectionIndicator) this.connectionIndicator.updateConnectionQuality(percent, object)
            };
            SmallVideo.prototype.hideIndicator = function() {
                if (this.connectionIndicator) this.connectionIndicator.hideIndicator()
            };
            SmallVideo.prototype.showAudioIndicator = function(isMuted) {
                var audioMutedSpan = $("#" + this.videoSpanId + ">span.audioMuted");
                if (!isMuted) {
                    if (audioMutedSpan.length > 0) {
                        audioMutedSpan.popover("hide");
                        audioMutedSpan.remove()
                    }
                } else {
                    if (!audioMutedSpan.length) {
                        audioMutedSpan = document.createElement("span");
                        audioMutedSpan.className = "audioMuted";
                        _UIUtil2.default.setTooltip(audioMutedSpan, "videothumbnail.mute", "top");
                        this.container.appendChild(audioMutedSpan);
                        APP.translation.translateElement($("#" + this.videoSpanId + " > span"));
                        var mutedIndicator = document.createElement("i");
                        mutedIndicator.className = "icon-mic-disabled";
                        audioMutedSpan.appendChild(mutedIndicator)
                    }
                    this.updateIconPositions()
                }
                this.isMuted = isMuted
            };
            SmallVideo.prototype.setMutedView = function(isMuted) {
                this.isVideoMuted = isMuted;
                this.updateView();
                var videoMutedSpan = $("#" + this.videoSpanId + ">span.videoMuted");
                if (isMuted === false) {
                    if (videoMutedSpan.length > 0) {
                        videoMutedSpan.remove()
                    }
                } else {
                    if (!videoMutedSpan.length) {
                        videoMutedSpan = document.createElement("span");
                        videoMutedSpan.className = "videoMuted";
                        this.container.appendChild(videoMutedSpan);
                        var mutedIndicator = document.createElement("i");
                        mutedIndicator.className = "icon-camera-disabled";
                        _UIUtil2.default.setTooltip(mutedIndicator, "videothumbnail.videomute", "top");
                        videoMutedSpan.appendChild(mutedIndicator);
                        APP.translation.translateElement($("#" + this.videoSpanId + " > span > i"))
                    }
                    this.updateIconPositions()
                }
            };
            SmallVideo.prototype.updateIconPositions = function() {
                var audioMutedSpan = $("#" + this.videoSpanId + ">span.audioMuted");
                var connectionIndicator = $("#" + this.videoSpanId + ">div.connectionindicator");
                var videoMutedSpan = $("#" + this.videoSpanId + ">span.videoMuted");
                if (connectionIndicator.length > 0 && connectionIndicator[0].style.display != "none") {
                    audioMutedSpan.css({
                        right: "23px"
                    });
                    videoMutedSpan.css({
                        right: (audioMutedSpan.length > 0 ? 23 : 0) + 30 + "px"
                    })
                } else {
                    audioMutedSpan.css({
                        right: "0px"
                    });
                    videoMutedSpan.css({
                        right: (audioMutedSpan.length > 0 ? 30 : 0) + "px"
                    })
                }
            };
            SmallVideo.prototype.createModeratorIndicatorElement = function() {
                var indicatorSpan = $("#" + this.videoSpanId + " .focusindicator");
                if (!indicatorSpan || indicatorSpan.length === 0) {
                    indicatorSpan = document.createElement("span");
                    indicatorSpan.className = "focusindicator";
                    this.container.appendChild(indicatorSpan);
                    indicatorSpan = $("#" + this.videoSpanId + " .focusindicator")
                }
                if (indicatorSpan.children().length !== 0) return;
                var moderatorIndicator = document.createElement("i");
                moderatorIndicator.className = "fa fa-star";
                indicatorSpan[0].appendChild(moderatorIndicator);
                _UIUtil2.default.setTooltip(indicatorSpan[0], "videothumbnail.moderator", "top");
                APP.translation.translateElement($("#" + this.videoSpanId + " .focusindicator"))
            };
            SmallVideo.prototype.selectVideoElement = function() {
                return $(RTCUIHelper.findVideoElement($("#" + this.videoSpanId)[0]));
            };
            SmallVideo.prototype.focus = function(isFocused) {
                var focusedCssClass = "videoContainerFocused";
                var isFocusClassEnabled = $(this.container).hasClass(focusedCssClass);
                if (!isFocused && isFocusClassEnabled) {
                    $(this.container).removeClass(focusedCssClass)
                } else if (isFocused && !isFocusClassEnabled) {
                    $(this.container).addClass(focusedCssClass)
                }
            };
            SmallVideo.prototype.hasVideo = function() {
                return this.selectVideoElement().length !== 0
            };
            SmallVideo.prototype.updateView = function() {
                if (!this.hasAvatar) {
                    if (this.id) {
                        this.avatarChanged(_Avatar2.default.getAvatarUrl(this.id))
                    } else {
                        console.error("Unable to init avatar - no id", this);
                        return
                    }
                }
                var video = this.selectVideoElement();
                var avatar = $("#avatar_" + this.id);
                var isCurrentlyOnLarge = this.VideoLayout.isCurrentlyOnLarge(this.id);
                var showVideo = !this.isVideoMuted && !isCurrentlyOnLarge;
                var showAvatar;
                if (!this.isLocal && !this.VideoLayout.isInLastN(this.id) || this.isVideoMuted) {
                    showAvatar = true
                } else {
                    showAvatar = !this.videoStream || this.videoStream.isMuted()
                }
                showAvatar = showAvatar && !isCurrentlyOnLarge;
                if (video && video.length > 0) {
                    setVisibility(video, showVideo)
                }
                setVisibility(avatar, showAvatar);
                this.showDisplayName(!showVideo && !showAvatar)
            };
            SmallVideo.prototype.avatarChanged = function(avatarUrl) {
                var thumbnail = $("#" + this.videoSpanId);
                var avatar = $("#avatar_" + this.id);
                this.hasAvatar = true;
                if (avatar && avatar.length > 0) {
                    avatar[0].src = avatarUrl
                } else {
                    if (thumbnail && thumbnail.length > 0) {
                        avatar = document.createElement("img");
                        avatar.id = "avatar_" + this.id;
                        avatar.className = "userAvatar";
                        avatar.src = avatarUrl;
                        thumbnail.append(avatar)
                    }
                }
            };
            SmallVideo.prototype.updateDominantSpeakerIndicator = function(isSpeaker) {
                if (!this.container) {
                    console.warn("Unable to set dominant speaker indicator - " + this.videoSpanId + " does not exist");
                    return
                }
                var indicatorSpan = $("#" + this.videoSpanId + ">span.dominantspeakerindicator");
                if (indicatorSpan.length <= 0) {
                    indicatorSpan = document.createElement("span");
                    indicatorSpan.innerHTML = "<i id='speakerindicatoricon' class='fa fa-bullhorn'></i>";
                    indicatorSpan.className = "dominantspeakerindicator";
                    $("#" + this.videoSpanId)[0].appendChild(indicatorSpan);
                    _UIUtil2.default.setTooltip(indicatorSpan, "speaker", "left");
                    APP.translation.translateElement($(indicatorSpan))
                }
                $(indicatorSpan).css("visibility", isSpeaker ? "visible" : "hidden")
            };
            exports.default = SmallVideo
        }, {
            "../avatar/Avatar": 13,
            "../util/UIUtil": 29
        }],
        37: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _AudioLevels = require("../audio_levels/AudioLevels");
            var _AudioLevels2 = _interopRequireDefault(_AudioLevels);
            var _Avatar = require("../avatar/Avatar");
            var _Avatar2 = _interopRequireDefault(_Avatar);
            var _BottomToolbar = require("../toolbars/BottomToolbar");
            var _BottomToolbar2 = _interopRequireDefault(_BottomToolbar);
            var _FilmStrip = require("./FilmStrip");
            var _FilmStrip2 = _interopRequireDefault(_FilmStrip);
            var _UIEvents = require("../../../service/UI/UIEvents");
            var _UIEvents2 = _interopRequireDefault(_UIEvents);
            var _UIUtil = require("../util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);
            var _RemoteVideo = require("./RemoteVideo");
            var _RemoteVideo2 = _interopRequireDefault(_RemoteVideo);
            var _LargeVideo = require("./LargeVideo");
            var _LargeVideo2 = _interopRequireDefault(_LargeVideo);
            var _SharedVideo = require("../shared_video/SharedVideo");
            var _LocalVideo = require("./LocalVideo");
            var _LocalVideo2 = _interopRequireDefault(_LocalVideo);
            var _SidePanelToggler = require("../side_pannels/SidePanelToggler");
            var _SidePanelToggler2 = _interopRequireDefault(_SidePanelToggler);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var RTCUIUtil = JitsiMeetJS.util.RTCUIHelper;
            var remoteVideos = {};
            var localVideoThumbnail = null;
            var currentDominantSpeaker = null;
            var localLastNCount = config.channelLastN;
            var localLastNSet = [];
            var lastNEndpointsCache = [];
            var lastNPickupId = null;
            var eventEmitter = null;
            var pinnedId = null;
            var localFlipX = null;

            function onContactClicked(id) {
                if (APP.conference.isLocalId(id)) {
                    $("#localVideoContainer").click();
                    return
                }
                var remoteVideo = remoteVideos[id];
                if (remoteVideo && remoteVideo.hasVideo()) {
                    if (remoteVideo.hasVideoStarted()) {
                        VideoLayout.handleVideoThumbClicked(id)
                    } else {
                        lastNPickupId = id;
                        eventEmitter.emit(_UIEvents2.default.PINNED_ENDPOINT, remoteVideo, true)
                    }
                }
            }

            function getPeerContainerResourceId(containerElement) {
                if (localVideoThumbnail.container === containerElement) {
                    return localVideoThumbnail.id
                }
                var i = containerElement.id.indexOf("participant_");
                if (i >= 0) {
                    return containerElement.id.substring(i + 12)
                }
            }
            var largeVideo = void 0;
            var VideoLayout = {
                init: function init(emitter) {
                    eventEmitter = emitter;
                    eventEmitter.addListener(_UIEvents2.default.LOCAL_FLIPX_CHANGED, function(val) {
                        localFlipX = val;
                        if (largeVideo) largeVideo.onLocalFlipXChange(val)
                    });
                    localVideoThumbnail = new _LocalVideo2.default(VideoLayout, emitter);
                    localVideoThumbnail.setVideoType(_LargeVideo.VIDEO_CONTAINER_TYPE);
                    this.resizeThumbnails(false, true, false);
                    emitter.addListener(_UIEvents2.default.CONTACT_CLICKED, onContactClicked);
                    this.lastNCount = config.channelLastN
                },
                initLargeVideo: function initLargeVideo(isSideBarVisible) {
                    largeVideo = new _LargeVideo2.default;
                    if (localFlipX) {
                        largeVideo.onLocalFlipXChange(localFlipX)
                    }
                    largeVideo.updateContainerSize(isSideBarVisible);
                    _AudioLevels2.default.init()
                },
                setAudioLevel: function setAudioLevel(id, lvl) {
                    if (!largeVideo) {
                        return
                    }
                    _AudioLevels2.default.updateAudioLevel(id, lvl, largeVideo.id)
                },
                isInLastN: function isInLastN(resource) {
                    return this.lastNCount < 0 || this.lastNCount > 0 && !lastNEndpointsCache.length || lastNEndpointsCache && lastNEndpointsCache.indexOf(resource) !== -1
                },
                changeLocalAudio: function changeLocalAudio(stream) {
                    var localAudio = document.getElementById("localAudio");
                    localAudio = stream.attach(localAudio);
                    localAudio.width = 1;
                    localAudio.height = 1
                },
                changeLocalVideo: function changeLocalVideo(stream) {
                    localVideoThumbnail.setDisplayName();
                    localVideoThumbnail.createConnectionIndicator();
                    var localId = APP.conference.localId;
                    this.onVideoTypeChanged(localId, stream.videoType);
                    var _resizeThumbnails = this.resizeThumbnails(false, true);
                    var thumbWidth = _resizeThumbnails.thumbWidth;
                    var thumbHeight = _resizeThumbnails.thumbHeight;
                    _AudioLevels2.default.updateAudioLevelCanvas(null, thumbWidth, thumbHeight);
                    if (!stream.isMuted()) {
                        localVideoThumbnail.changeVideo(stream)
                    }
                    if (this.isCurrentlyOnLarge(localId)) {
                        this.updateLargeVideo(localId, true)
                    }
                },
                mucJoined: function mucJoined() {
                    if (largeVideo && !largeVideo.id) {
                        this.updateLargeVideo(APP.conference.localId, true)
                    }
                },
                setDeviceAvailabilityIcons: function setDeviceAvailabilityIcons(id, devices) {
                    if (APP.conference.isLocalId(id)) {
                        localVideoThumbnail.setDeviceAvailabilityIcons(devices);
                        return
                    }
                    var video = remoteVideos[id];
                    if (!video) {
                        return
                    }
                    video.setDeviceAvailabilityIcons(devices)
                },
                enableDeviceAvailabilityIcons: function enableDeviceAvailabilityIcons(id, enable) {
                    var video = void 0;
                    if (APP.conference.isLocalId(id)) {
                        video = localVideoThumbnail
                    } else {
                        video = remoteVideos[id]
                    }
                    if (video) video.enableDeviceAvailabilityIcons(enable)
                },
                setLocalVideoVisible: function setLocalVideoVisible(visible) {
                    localVideoThumbnail.setVisible(visible)
                },
                updateAfterThumbRemoved: function updateAfterThumbRemoved(id) {
                    if (!this.isCurrentlyOnLarge(id)) {
                        return
                    }
                    var newId = void 0;
                    if (pinnedId) newId = pinnedId;
                    else if (currentDominantSpeaker) newId = currentDominantSpeaker;
                    else newId = this.electLastVisibleVideo();
                    this.updateLargeVideo(newId)
                },
                electLastVisibleVideo: function electLastVisibleVideo() {
                    var thumbs = _FilmStrip2.default.getThumbs(true).filter('[id!="mixedstream"]');
                    var lastVisible = thumbs.filter(":visible:last");
                    if (lastVisible.length) {
                        var _id = getPeerContainerResourceId(lastVisible[0]);
                        if (remoteVideos[_id]) {
                            console.info("electLastVisibleVideo: " + _id);
                            return _id
                        }
                    }
                    console.info("Last visible video no longer exists");
                    thumbs = _FilmStrip2.default.getThumbs();
                    if (thumbs.length) {
                        var _id2 = getPeerContainerResourceId(thumbs[0]);
                        if (remoteVideos[_id2]) {
                            console.info("electLastVisibleVideo: " + _id2);
                            return _id2
                        }
                    }
                    console.info("Fallback to local video...");
                    var id = APP.conference.localId;
                    console.info("electLastVisibleVideo: " + id);
                    return id
                },
                onRemoteStreamAdded: function onRemoteStreamAdded(stream) {
                    var id = stream.getParticipantId();
                    var remoteVideo = remoteVideos[id];
                    if (!remoteVideo) return;
                    remoteVideo.addRemoteStreamElement(stream);
                    if (stream.isMuted()) {
                        if (stream.getType() === "audio") this.onAudioMute(stream.getParticipantId(), true);
                        else this.onVideoMute(stream.getParticipantId(), true)
                    }
                },
                onRemoteStreamRemoved: function onRemoteStreamRemoved(stream) {
                    var id = stream.getParticipantId();
                    var remoteVideo = remoteVideos[id];
                    if (remoteVideo) {
                        remoteVideo.removeRemoteStreamElement(stream)
                    }
                },
                getRemoteVideoType: function getRemoteVideoType(id) {
                    var smallVideo = VideoLayout.getSmallVideo(id);
                    return smallVideo ? smallVideo.getVideoType() : null
                },
                isPinned: function isPinned(id) {
                    return pinnedId ? id === pinnedId : false
                },
                getPinnedId: function getPinnedId() {
                    return pinnedId
                },
                handleVideoThumbClicked: function handleVideoThumbClicked(id) {
                    if (pinnedId) {
                        var oldSmallVideo = VideoLayout.getSmallVideo(pinnedId);
                        if (oldSmallVideo && !interfaceConfig.filmStripOnly) oldSmallVideo.focus(false)
                    }
                    var smallVideo = VideoLayout.getSmallVideo(id);
                    if (pinnedId === id) {
                        pinnedId = null;
                        if (currentDominantSpeaker) {
                            if (smallVideo && smallVideo.hasVideo()) {
                                this.updateLargeVideo(currentDominantSpeaker)
                            }
                        }
                        eventEmitter.emit(_UIEvents2.default.PINNED_ENDPOINT, smallVideo, false);
                        return
                    }
                    pinnedId = id;
                    if (id) {
                        if (smallVideo && !interfaceConfig.filmStripOnly) smallVideo.focus(true);
                        eventEmitter.emit(_UIEvents2.default.PINNED_ENDPOINT, smallVideo, true)
                    }
                    this.updateLargeVideo(id)
                },
                addParticipantContainer: function addParticipantContainer(id, smallVideo) {
                    var remoteVideo = void 0;
                    if (smallVideo) remoteVideo = smallVideo;
                    else remoteVideo = new _RemoteVideo2.default(id, VideoLayout, eventEmitter);
                    remoteVideos[id] = remoteVideo;
                    var videoType = VideoLayout.getRemoteVideoType(id);
                    if (!videoType) {
                        videoType = _LargeVideo.VIDEO_CONTAINER_TYPE
                    }
                    remoteVideo.setVideoType(videoType);
                    if (localLastNCount && localLastNCount > 0 && _FilmStrip2.default.getThumbs().length >= localLastNCount + 2) {
                        remoteVideo.showPeerContainer("hide")
                    } else {
                        VideoLayout.resizeThumbnails(false, true)
                    }
                },
                videoactive: function videoactive(videoelem, resourceJid) {
                    console.info(resourceJid + " video is now active", videoelem);
                    VideoLayout.resizeThumbnails(false, false, false, function() {
                        $(videoelem).show()
                    });
                    if (!pinnedId && !currentDominantSpeaker && this.isLargeContainerTypeVisible(_LargeVideo.VIDEO_CONTAINER_TYPE) || pinnedId === resourceJid || !pinnedId && resourceJid && currentDominantSpeaker === resourceJid || this.isCurrentlyOnLarge(resourceJid)) {
                        this.updateLargeVideo(resourceJid, true)
                    }
                },
                setPresenceStatus: function setPresenceStatus(id, statusMsg) {
                    var remoteVideo = remoteVideos[id];
                    if (remoteVideo) remoteVideo.setPresenceStatus(statusMsg)
                },
                showModeratorIndicator: function showModeratorIndicator() {
                    var isModerator = APP.conference.isModerator;
                    if (isModerator) {
                        localVideoThumbnail.createModeratorIndicatorElement()
                    }
                    APP.conference.listMembers().forEach(function(member) {
                        var id = member.getId();
                        var remoteVideo = remoteVideos[id];
                        if (!remoteVideo) return;
                        if (member.isModerator()) {
                            remoteVideo.removeRemoteVideoMenu();
                            remoteVideo.createModeratorIndicatorElement()
                        } else if (isModerator) {
                            if ($("#remote_popupmenu_" + id).length <= 0) {
                                remoteVideo.addRemoteVideoMenu()
                            }
                        }
                    })
                },
                showLocalAudioIndicator: function showLocalAudioIndicator(isMuted) {
                    localVideoThumbnail.showAudioIndicator(isMuted)
                },
                resizeThumbnails: function resizeThumbnails() {
                    var animate = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];
                    var forceUpdate = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];
                    var isSideBarVisible = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];
                    var onComplete = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];
                    isSideBarVisible = isSideBarVisible !== null ? isSideBarVisible : _SidePanelToggler2.default.isVisible();
                    var _FilmStrip$calculateT = _FilmStrip2.default.calculateThumbnailSize(isSideBarVisible);
                    var thumbWidth = _FilmStrip$calculateT.thumbWidth;
                    var thumbHeight = _FilmStrip$calculateT.thumbHeight;
                    $(".userAvatar").css("left", (thumbWidth - thumbHeight) / 2);
                    _FilmStrip2.default.resizeThumbnails(thumbWidth, thumbHeight, animate, forceUpdate).then(function() {
                        _BottomToolbar2.default.resizeToolbar(thumbWidth, thumbHeight);
                        _AudioLevels2.default.updateCanvasSize(thumbWidth, thumbHeight);
                        if (onComplete && typeof onComplete === "function") onComplete()
                    });
                    return {
                        thumbWidth: thumbWidth,
                        thumbHeight: thumbHeight
                    }
                },
                onAudioMute: function onAudioMute(id, isMuted) {
                    if (APP.conference.isLocalId(id)) {
                        localVideoThumbnail.showAudioIndicator(isMuted)
                    } else {
                        var remoteVideo = remoteVideos[id];
                        if (!remoteVideo) return;
                        remoteVideo.showAudioIndicator(isMuted);
                        if (APP.conference.isModerator) {
                            remoteVideo.updateRemoteVideoMenu(isMuted)
                        }
                    }
                },
                onVideoMute: function onVideoMute(id, value) {
                    if (APP.conference.isLocalId(id)) {
                        localVideoThumbnail.setMutedView(value)
                    } else {
                        var remoteVideo = remoteVideos[id];
                        if (remoteVideo) remoteVideo.setMutedView(value)
                    }
                    if (this.isCurrentlyOnLarge(id)) {
                        this.updateLargeVideo(id, true)
                    }
                },
                onDisplayNameChanged: function onDisplayNameChanged(id, displayName, status) {
                    if (id === "localVideoContainer" || APP.conference.isLocalId(id)) {
                        localVideoThumbnail.setDisplayName(displayName)
                    } else {
                        var remoteVideo = remoteVideos[id];
                        if (remoteVideo) remoteVideo.setDisplayName(displayName, status)
                    }
                },
                onDominantSpeakerChanged: function onDominantSpeakerChanged(id) {
                    if (id === currentDominantSpeaker) {
                        return
                    }
                    var oldSpeakerRemoteVideo = remoteVideos[currentDominantSpeaker];
                    if (APP.conference.isLocalId(id)) {
                        if (oldSpeakerRemoteVideo) {
                            oldSpeakerRemoteVideo.updateDominantSpeakerIndicator(false);
                            localVideoThumbnail.updateDominantSpeakerIndicator(true);
                            currentDominantSpeaker = null
                        }
                        return
                    }
                    var remoteVideo = remoteVideos[id];
                    if (!remoteVideo) {
                        return
                    }
                    remoteVideo.updateDominantSpeakerIndicator(true);
                    localVideoThumbnail.updateDominantSpeakerIndicator(false);
                    if (oldSpeakerRemoteVideo) {
                        oldSpeakerRemoteVideo.updateDominantSpeakerIndicator(false)
                    }
                    currentDominantSpeaker = id;
                    if (!pinnedId && remoteVideo.hasVideoStarted() && !this.getCurrentlyOnLargeContainer().stayOnStage()) {
                        this.updateLargeVideo(id)
                    }
                },
                onLastNEndpointsChanged: function onLastNEndpointsChanged(lastNEndpoints, endpointsEnteringLastN) {
                    var _this = this;
                    if (this.lastNCount !== lastNEndpoints.length) this.lastNCount = lastNEndpoints.length;
                    lastNEndpointsCache = lastNEndpoints;
                    if (this.lastNCount > localLastNCount) {
                        localLastNCount = this.lastNCount
                    }
                    var nextLocalLastNSet = lastNEndpoints.slice(0);
                    for (var i = 0; i < localLastNSet.length; i++) {
                        if (nextLocalLastNSet.length >= localLastNCount) {
                            break
                        }
                        var resourceJid = localLastNSet[i];
                        if (nextLocalLastNSet.indexOf(resourceJid) === -1) {
                            nextLocalLastNSet.push(resourceJid)
                        }
                    }
                    localLastNSet = nextLocalLastNSet;
                    var updateLargeVideo = false;
                    _FilmStrip2.default.getThumbs().each(function(index, element) {
                        var resourceJid = getPeerContainerResourceId(element);
                        var smallVideo = remoteVideos[resourceJid];
                        if (APP.conference.isLocalId(resourceJid)) return;
                        var isReceived = true;
                        if (resourceJid && lastNEndpoints.indexOf(resourceJid) < 0 && localLastNSet.indexOf(resourceJid) < 0) {
                            console.log("Remove from last N", resourceJid);
                            if (smallVideo) smallVideo.showPeerContainer("hide");
                            else if (!APP.conference.isLocalId(resourceJid)) console.error("No remote video for: " + resourceJid);
                            isReceived = false
                        } else if (resourceJid && smallVideo.isVisible() && lastNEndpoints.indexOf(resourceJid) < 0 && localLastNSet.indexOf(resourceJid) >= 0) {
                            if (smallVideo) smallVideo.showPeerContainer("avatar");
                            else if (!APP.conference.isLocalId(resourceJid)) console.error("No remote video for: " + resourceJid);
                            isReceived = false
                        }
                        if (!isReceived) {
                            if (!updateLargeVideo && _this.isCurrentlyOnLarge(resourceJid)) {
                                updateLargeVideo = true
                            }
                        }
                    });
                    if (!endpointsEnteringLastN || endpointsEnteringLastN.length < 0) endpointsEnteringLastN = lastNEndpoints;
                    if (endpointsEnteringLastN && endpointsEnteringLastN.length > 0) {
                        endpointsEnteringLastN.forEach(function(resourceJid) {
                            var remoteVideo = remoteVideos[resourceJid];
                            if (remoteVideo) remoteVideo.showPeerContainer("show");
                            if (!remoteVideo.isVisible()) {
                                console.log("Add to last N", resourceJid);
                                remoteVideo.addRemoteStreamElement(remoteVideo.videoStream);
                                if (lastNPickupId == resourceJid) {
                                    lastNPickupId = null;
                                    VideoLayout.handleVideoThumbClicked(resourceJid);
                                    updateLargeVideo = false
                                }
                                remoteVideo.waitForPlayback(remoteVideo.selectVideoElement()[0], remoteVideo.videoStream)
                            }
                        })
                    }
                    if (updateLargeVideo) {
                        var resource;
                        for (i = 0; i < lastNEndpoints.length; i++) {
                            resource = lastNEndpoints[i];
                            if (!resource || APP.conference.isLocalId(resource)) continue;
                            this.updateLargeVideo(resource);
                            break
                        }
                    }
                },
                updateLocalConnectionStats: function updateLocalConnectionStats(percent, object) {
                    var resolutions = object.resolution;
                    object.resolution = resolutions[APP.conference.localId];
                    localVideoThumbnail.updateStatsIndicator(percent, object);
                    Object.keys(resolutions).forEach(function(id) {
                        if (APP.conference.isLocalId(id)) {
                            return
                        }
                        var resolution = resolutions[id];
                        var remoteVideo = remoteVideos[id];
                        if (resolution && remoteVideo) {
                            remoteVideo.updateResolution(resolution)
                        }
                    })
                },
                updateConnectionStats: function updateConnectionStats(id, percent, object) {
                    var remoteVideo = remoteVideos[id];
                    if (remoteVideo) {
                        remoteVideo.updateStatsIndicator(percent, object)
                    }
                },
                hideConnectionIndicator: function hideConnectionIndicator(id) {
                    var remoteVideo = remoteVideos[id];
                    if (remoteVideo) remoteVideo.hideConnectionIndicator()
                },
                hideStats: function hideStats() {
                    for (var video in remoteVideos) {
                        var remoteVideo = remoteVideos[video];
                        if (remoteVideo) remoteVideo.hideIndicator()
                    }
                    localVideoThumbnail.hideIndicator()
                },
                removeParticipantContainer: function removeParticipantContainer(id) {
                    if (pinnedId === id) {
                        console.info("Focused video owner has left the conference");
                        pinnedId = null
                    }
                    if (currentDominantSpeaker === id) {
                        console.info("Dominant speaker has left the conference");
                        currentDominantSpeaker = null
                    }
                    var remoteVideo = remoteVideos[id];
                    if (remoteVideo) {
                        console.info("Removing remote video: " + id);
                        delete remoteVideos[id];
                        remoteVideo.remove()
                    } else {
                        console.warn("No remote video for " + id)
                    }
                    VideoLayout.resizeThumbnails()
                },
                onVideoTypeChanged: function onVideoTypeChanged(id, newVideoType) {
                    if (VideoLayout.getRemoteVideoType(id) === newVideoType) {
                        return
                    }
                    console.info("Peer video type changed: ", id, newVideoType);
                    var smallVideo;
                    if (APP.conference.isLocalId(id)) {
                        if (!localVideoThumbnail) {
                            console.warn("Local video not ready yet");
                            return
                        }
                        smallVideo = localVideoThumbnail
                    } else if (remoteVideos[id]) {
                        smallVideo = remoteVideos[id]
                    } else {
                        return
                    }
                    smallVideo.setVideoType(newVideoType);
                    if (this.isCurrentlyOnLarge(id)) {
                        this.updateLargeVideo(id, true)
                    }
                },
                showMore: function showMore(id) {
                    if (id === "local") {
                        localVideoThumbnail.connectionIndicator.showMore()
                    } else {
                        var remoteVideo = remoteVideos[id];
                        if (remoteVideo) {
                            remoteVideo.connectionIndicator.showMore()
                        } else {
                            console.info("Error - no remote video for id: " + id)
                        }
                    }
                },
                resizeVideoArea: function resizeVideoArea(isSideBarVisible) {
                    var forceUpdate = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];
                    var animate = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];
                    var completeFunction = arguments.length <= 3 || arguments[3] === undefined ? null : arguments[3];
                    if (largeVideo) {
                        largeVideo.updateContainerSize(isSideBarVisible);
                        largeVideo.resize(animate)
                    }
                    var availableHeight = window.innerHeight;
                    var availableWidth = _UIUtil2.default.getAvailableVideoWidth(isSideBarVisible);
                    if (availableWidth < 0 || availableHeight < 0) {
                        return
                    }
                    this.resizeThumbnails(false, forceUpdate, isSideBarVisible);
                    $("#videospace").animate({
                        right: window.innerWidth - availableWidth,
                        width: availableWidth,
                        height: availableHeight
                    }, {
                        queue: false,
                        duration: animate ? 500 : 1,
                        complete: completeFunction
                    })
                },
                getSmallVideo: function getSmallVideo(id) {
                    if (APP.conference.isLocalId(id)) {
                        return localVideoThumbnail
                    } else {
                        return remoteVideos[id]
                    }
                },
                changeUserAvatar: function changeUserAvatar(id, avatarUrl) {
                    var smallVideo = VideoLayout.getSmallVideo(id);
                    if (smallVideo) {
                        smallVideo.avatarChanged(avatarUrl)
                    } else {
                        console.warn("Missed avatar update - no small video yet for " + id)
                    }
                    if (this.isCurrentlyOnLarge(id)) {
                        largeVideo.updateAvatar(avatarUrl)
                    }
                },
                onVideoInterrupted: function onVideoInterrupted() {
                    this.enableVideoProblemFilter(true);
                    var reconnectingKey = "connection.RECONNECTING";
                    $("#videoConnectionMessage").attr("data-i18n", reconnectingKey).text(APP.translation.translateString(reconnectingKey)).css({
                        display: "block"
                    })
                },
                onVideoRestored: function onVideoRestored() {
                    this.enableVideoProblemFilter(false);
                    $("#videoConnectionMessage").css({
                        display: "none"
                    })
                },
                enableVideoProblemFilter: function enableVideoProblemFilter(enable) {
                    if (!largeVideo) {
                        return
                    }
                    largeVideo.enableVideoProblemFilter(enable)
                },
                isLargeVideoVisible: function isLargeVideoVisible() {
                    return this.isLargeContainerTypeVisible(_LargeVideo.VIDEO_CONTAINER_TYPE)
                },
                getCurrentlyOnLargeContainer: function getCurrentlyOnLargeContainer() {
                    return largeVideo.getContainer(largeVideo.state)
                },
                isCurrentlyOnLarge: function isCurrentlyOnLarge(id) {
                    return largeVideo && largeVideo.id === id
                },
                updateLargeVideo: function updateLargeVideo(id, forceUpdate) {
                    var _this2 = this;
                    if (!largeVideo) {
                        return
                    }
                    var isOnLarge = this.isCurrentlyOnLarge(id);
                    var currentId = largeVideo.id;
                    if (!isOnLarge || forceUpdate) {
                        var oldSmallVideo;
                        (function() {
                            var videoType = _this2.getRemoteVideoType(id);
                            if (id !== currentId && videoType === _LargeVideo.VIDEO_CONTAINER_TYPE) {
                                eventEmitter.emit(_UIEvents2.default.SELECTED_ENDPOINT, id)
                            }
                            if (currentId) {
                                oldSmallVideo = _this2.getSmallVideo(currentId)
                            }
                            var smallVideo = _this2.getSmallVideo(id);
                            largeVideo.updateLargeVideo(id, smallVideo.videoStream, videoType).then(function() {
                                smallVideo.updateView();
                                oldSmallVideo && oldSmallVideo.updateView()
                            }, function() {})
                        })()
                    } else if (currentId) {
                        var currentSmallVideo = this.getSmallVideo(currentId);
                        currentSmallVideo.updateView()
                    }
                },
                addLargeVideoContainer: function addLargeVideoContainer(type, container) {
                    largeVideo && largeVideo.addContainer(type, container)
                },
                removeLargeVideoContainer: function removeLargeVideoContainer(type) {
                    largeVideo && largeVideo.removeContainer(type)
                },
                showLargeVideoContainer: function showLargeVideoContainer(type, show) {
                    if (!largeVideo) {
                        return Promise.reject()
                    }
                    var isVisible = this.isLargeContainerTypeVisible(type);
                    if (isVisible === show) {
                        return Promise.resolve()
                    }
                    var currentId = largeVideo.id;
                    if (currentId) {
                        var oldSmallVideo = this.getSmallVideo(currentId)
                    }
                    var containerTypeToShow = type;
                    if (!show) {
                        if (pinnedId) containerTypeToShow = this.getRemoteVideoType(pinnedId);
                        else containerTypeToShow = _LargeVideo.VIDEO_CONTAINER_TYPE
                    }
                    return largeVideo.showContainer(containerTypeToShow).then(function() {
                        if (oldSmallVideo) oldSmallVideo && oldSmallVideo.updateView()
                    })
                },
                isLargeContainerTypeVisible: function isLargeContainerTypeVisible(type) {
                    return largeVideo && largeVideo.state === type
                },
                getLargeVideoID: function getLargeVideoID() {
                    return largeVideo.id
                },
                getLargeVideo: function getLargeVideo() {
                    return largeVideo
                },
                updateResolutionLabel: function updateResolutionLabel(isResolutionHD) {
                    var videoResolutionLabel = $("#videoResolutionLabel");
                    if (isResolutionHD && !videoResolutionLabel.is(":visible")) videoResolutionLabel.css({
                        display: "block"
                    });
                    else if (!isResolutionHD && videoResolutionLabel.is(":visible")) videoResolutionLabel.css({
                        display: "none"
                    })
                },
                setLocalFlipX: function setLocalFlipX(val) {
                    this.localFlipX = val
                }
            };
            exports.default = VideoLayout
        }, {
            "../../../service/UI/UIEvents": 364,
            "../audio_levels/AudioLevels": 8,
            "../avatar/Avatar": 13,
            "../shared_video/SharedVideo": 16,
            "../side_pannels/SidePanelToggler": 17,
            "../toolbars/BottomToolbar": 24,
            "../util/UIUtil": 29,
            "./FilmStrip": 31,
            "./LargeVideo": 33,
            "./LocalVideo": 34,
            "./RemoteVideo": 35
        }],
        38: [function(require, module, exports) {
            "use strict";
            var animateTimeout, updateTimeout;
            var RoomnameGenerator = require("../../util/RoomnameGenerator");

            function enter_room() {
                var val = $("#enter_room_field").val();
                if (!val) {
                    val = $("#enter_room_field").attr("room_name")
                }
                if (val) {
                    window.location.pathname = "/" + val
                }
            }

            function animate(word) {
                var currentVal = $("#enter_room_field").attr("placeholder");
                $("#enter_room_field").attr("placeholder", currentVal + word.substr(0, 1));
                animateTimeout = setTimeout(function() {
                    animate(word.substring(1, word.length))
                }, 70)
            }

            function update_roomname() {
                var word = RoomnameGenerator.generateRoomWithoutSeparator();
                $("#enter_room_field").attr("room_name", word);
                $("#enter_room_field").attr("placeholder", "");
                clearTimeout(animateTimeout);
                animate(word);
                updateTimeout = setTimeout(update_roomname, 1e4)
            }

            function setupWelcomePage() {
                $("#videoconference_page").hide();
                $("#domain_name").text(window.location.protocol + "//" + window.location.host + "/");
                if (interfaceConfig.SHOW_JITSI_WATERMARK) {
                    var leftWatermarkDiv = $("#welcome_page_header div[class='watermark leftwatermark']");
                    if (leftWatermarkDiv && leftWatermarkDiv.length > 0) {
                        leftWatermarkDiv.css({
                            display: "block"
                        });
                        leftWatermarkDiv.parent().get(0).href = interfaceConfig.JITSI_WATERMARK_LINK
                    }
                }
                if (interfaceConfig.SHOW_BRAND_WATERMARK) {
                    var rightWatermarkDiv = $("#welcome_page_header div[class='watermark rightwatermark']");
                    if (rightWatermarkDiv && rightWatermarkDiv.length > 0) {
                        rightWatermarkDiv.css({
                            display: "block"
                        });
                        rightWatermarkDiv.parent().get(0).href = interfaceConfig.BRAND_WATERMARK_LINK;
                        rightWatermarkDiv.get(0).style.backgroundImage = "url(images/rightwatermark.png)"
                    }
                }
                if (interfaceConfig.SHOW_POWERED_BY) {
                    $("#welcome_page_header>a[class='poweredby']").css({
                        display: "block"
                    })
                }
                $("#enter_room_button").click(function() {
                    enter_room()
                });
                $("#enter_room_field").keydown(function(event) {
                    if (event.keyCode === 13) {
                        enter_room()
                    }
                });
                if (interfaceConfig.GENERATE_ROOMNAMES_ON_WELCOME_PAGE !== false) {
                    var updateTimeout;
                    var animateTimeout;
                    var selector = $("#reload_roomname");
                    selector.click(function() {
                        clearTimeout(updateTimeout);
                        clearTimeout(animateTimeout);
                        update_roomname()
                    });
                    selector.show();
                    update_roomname()
                }
                $("#disable_welcome").click(function() {
                    APP.settings.setWelcomePageEnabled(!$("#disable_welcome").is(":checked"))
                })
            }
            module.exports = setupWelcomePage
        }, {
            "../../util/RoomnameGenerator": 50
        }],
        39: [function(require, module, exports) {
            "use strict";
            var JSSHA = require("jssha");
            module.exports = {
                chooseAddress: function chooseAddress(config, roomName) {
                    if (!roomName || !config.boshList || !Array.isArray(config.boshList) || !config.boshList.length) {
                        return
                    }
                    var hash = new JSSHA(roomName, "TEXT").getHash("SHA-1", "HEX");
                    var n = parseInt("0x" + hash.substr(-6));
                    var idx = n % config.boshList.length;
                    var attemptFirstAddress;
                    config.bosh = config.boshList[idx];
                    console.log("Setting config.bosh to " + config.bosh + " (idx=" + idx + ")");
                    if (config.boshAttemptFirstList && Array.isArray(config.boshAttemptFirstList) && config.boshAttemptFirstList.length > 0) {
                        idx = n % config.boshAttemptFirstList.length;
                        attemptFirstAddress = config.boshAttemptFirstList[idx];
                        if (attemptFirstAddress != config.bosh) {
                            config.boshAttemptFirst = attemptFirstAddress;
                            console.log("Setting config.boshAttemptFirst=" + attemptFirstAddress + " (idx=" + idx + ")")
                        } else {
                            console.log("Not setting boshAttemptFirst, address matches.")
                        }
                    }
                }
            }
        }, {
            jssha: 359
        }],
        40: [function(require, module, exports) {
            "use strict";
            var configUtil = require("./Util");
            var HttpConfig = {
                obtainConfig: function obtainConfig(endpoint, roomName, complete) {
                    console.info("Send config request to " + endpoint + " for room: " + roomName);
                    $.ajax(endpoint, {
                        method: "POST",
                        contentType: "application/json",
                        data: JSON.stringify({
                            roomName: roomName
                        }),
                        dataType: "json",
                        error: function error(jqXHR, textStatus, errorThrown) {
                            console.error("Get config error: ", jqXHR, errorThrown);
                            var error = "Get config response status: " + textStatus;
                            complete(false, error)
                        },
                        success: function success(data, textStatus, jqXHR) {
                            try {
                                configUtil.overrideConfigJSON(config, interfaceConfig, data);
                                complete(true);
                                return
                            } catch (exception) {
                                console.error("Parse config error: ", exception);
                                complete(false, exception)
                            }
                        }
                    })
                }
            };
            module.exports = HttpConfig
        }, {
            "./Util": 42
        }],
        41: [function(require, module, exports) {
            "use strict";
            var configUtils = require("./Util");
            var params = {};
            params = getConfigParamsFromUrl();
            var URLProcessor = {
                setConfigParametersFromUrl: function setConfigParametersFromUrl() {
                    var configJSON = {
                        config: {},
                        interfaceConfig: {}
                    };
                    for (var key in params) {
                        if (typeof key !== "string") {
                            console.warn("Invalid config key: ", key);
                            continue
                        }
                        var confObj = null,
                            confKey;
                        if (key.indexOf("config.") === 0) {
                            confObj = configJSON.config;
                            confKey = key.substr("config.".length)
                        } else if (key.indexOf("interfaceConfig.") === 0) {
                            confObj = configJSON.interfaceConfig;
                            confKey = key.substr("interfaceConfig.".length)
                        }
                        if (!confObj) continue;
                        confObj[confKey] = params[key]
                    }
                    configUtils.overrideConfigJSON(config, interfaceConfig, configJSON)
                }
            };
            module.exports = URLProcessor
        }, {
            "./Util": 42
        }],
        42: [function(require, module, exports) {
            "use strict";
            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj
            };
            var ConfigUtil = {
                overrideConfigJSON: function overrideConfigJSON(config, interfaceConfig, newConfig) {
                    var configRoot, key, value, confObj;
                    for (configRoot in newConfig) {
                        confObj = null;
                        if (configRoot == "config") {
                            confObj = config
                        } else if (configRoot == "interfaceConfig") {
                            confObj = interfaceConfig
                        } else {
                            continue
                        }
                        for (key in newConfig[configRoot]) {
                            value = newConfig[configRoot][key];
                            if (confObj[key] && _typeof(confObj[key]) !== (typeof value === "undefined" ? "undefined" : _typeof(value))) {
                                console.log("Overriding a " + configRoot + " property with a property of different type.")
                            }
                            console.info("Overriding " + key + " with: " + value);
                            confObj[key] = value
                        }
                    }
                }
            };
            module.exports = ConfigUtil
        }, {}],
        43: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _events = require("events");
            var _events2 = _interopRequireDefault(_events);
            var _CQEvents = require("../../service/connectionquality/CQEvents");
            var _CQEvents2 = _interopRequireDefault(_CQEvents);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var eventEmitter = new _events2.default;
            var stats = {};
            var remoteStats = {};
            var localConnectionQuality = 100;
            var remoteConnectionQuality = {};

            function parseMUCStats(stats) {
                if (!stats || !stats.children || !stats.children.length) return null;
                var children = stats.children;
                var extractedStats = {};
                children.forEach(function(child) {
                    if (child.tagName !== "stat" || !child.attributes) return;
                    var attrKeys = Object.keys(child.attributes);
                    if (!attrKeys || !attrKeys.length) return;
                    attrKeys.forEach(function(attr) {
                        extractedStats[attr] = child.attributes[attr]
                    })
                });
                return {
                    bitrate: {
                        download: extractedStats.bitrate_download,
                        upload: extractedStats.bitrate_upload
                    },
                    packetLoss: {
                        total: extractedStats.packetLoss_total,
                        download: extractedStats.packetLoss_download,
                        upload: extractedStats.packetLoss_upload
                    }
                }
            }

            function calculateQuality(newVal, oldVal) {
                return newVal <= oldVal ? newVal : (9 * oldVal + newVal) / 10
            }
            exports.default = {
                updateLocalStats: function updateLocalStats(data) {
                    stats = data;
                    var newVal = 100 - stats.packetLoss.total;
                    localConnectionQuality = calculateQuality(newVal, localConnectionQuality);
                    eventEmitter.emit(_CQEvents2.default.LOCALSTATS_UPDATED, localConnectionQuality, stats)
                },
                updateRemoteStats: function updateRemoteStats(id, data) {
                    data = parseMUCStats(data);
                    if (!data || !data.packetLoss || !data.packetLoss.total) {
                        eventEmitter.emit(_CQEvents2.default.REMOTESTATS_UPDATED, id, null, null);
                        return
                    }
                    remoteStats[id] = data;
                    var newVal = 100 - data.packetLoss.total;
                    var oldVal = remoteConnectionQuality[id];
                    remoteConnectionQuality[id] = calculateQuality(newVal, oldVal);
                    eventEmitter.emit(_CQEvents2.default.REMOTESTATS_UPDATED, id, remoteConnectionQuality[id], remoteStats[id])
                },
                getStats: function getStats() {
                    return stats
                },
                addListener: function addListener(type, listener) {
                    eventEmitter.on(type, listener)
                },
                convertToMUCStats: function convertToMUCStats(stats) {
                    return [{
                        tagName: "stat",
                        attributes: {
                            bitrate_download: stats.bitrate.download
                        }
                    }, {
                        tagName: "stat",
                        attributes: {
                            bitrate_upload: stats.bitrate.upload
                        }
                    }, {
                        tagName: "stat",
                        attributes: {
                            packetLoss_total: stats.packetLoss.total
                        }
                    }, {
                        tagName: "stat",
                        attributes: {
                            packetLoss_download: stats.packetLoss.download
                        }
                    }, {
                        tagName: "stat",
                        attributes: {
                            packetLoss_upload: stats.packetLoss.upload
                        }
                    }]
                }
            }
        }, {
            "../../service/connectionquality/CQEvents": 365,
            events: 352
        }],
        44: [function(require, module, exports) {
            "use strict";
            var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
                return typeof obj
            } : function(obj) {
                return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj
            };
            var shortcuts = {};

            function initShortcutHandlers() {
                shortcuts = {
                    67: {
                        character: "C",
                        id: "toggleChatPopover",
                        "function": function _function() {
                            APP.UI.toggleChat()
                        }
                    },
                    68: {
                        character: "D",
                        id: "toggleDesktopSharingPopover",
                        "function": function _function() {
                            APP.conference.toggleScreenSharing()
                        }
                    },
                    70: {
                        character: "F",
                        id: "filmstripPopover",
                        "function": function _function() {
                            APP.UI.toggleFilmStrip();
                        }
                    },
                    77: {
                        character: "M",
                        id: "mutePopover",
                        "function": function _function() {
                            APP.conference.toggleAudioMuted()
                        }
                    },
                    84: {
                        character: "T",
                        "function": function _function() {
                            APP.conference.muteAudio(true)
                        }
                    },
                    86: {
                        character: "V",
                        id: "toggleVideoPopover",
                        "function": function _function() {
                            APP.conference.toggleVideoMuted()
                        }
                    }
                }
            }
            var KeyboardShortcut = {
                init: function init() {
                    initShortcutHandlers();
                    window.onkeyup = function(e) {
                        var keycode = e.which;
                        if (!($(":focus").is("input[type=text]") || $(":focus").is("input[type=password]") || $(":focus").is("textarea"))) {
                            if (_typeof(shortcuts[keycode]) === "object") {
                                shortcuts[keycode].function()
                            } else if (keycode >= "0".charCodeAt(0) && keycode <= "9".charCodeAt(0)) {
                                APP.UI.clickOnVideo(keycode - "0".charCodeAt(0) + 1)
                            }
                        } else if (keycode === 27 && $("#smileysContainer").is(":visible")) {
                            APP.UI.toggleSmileys()
                        }
                    };
                    window.onkeydown = function(e) {
                        if (!($(":focus").is("input[type=text]") || $(":focus").is("input[type=password]") || $(":focus").is("textarea"))) {
                            if (e.which === "T".charCodeAt(0)) {
                                if (APP.conference.isLocalAudioMuted()) APP.conference.muteAudio(false)
                            }
                        }
                    };
                    var self = this;
                    $("body").popover({
                        selector: "[data-toggle=popover]",
                        trigger: "click hover",
                        content: function content() {
                            return this.getAttribute("content") + self.getShortcut(this.getAttribute("shortcut"))
                        }
                    })
                },
                getShortcut: function getShortcut(id) {
                    for (var keycode in shortcuts) {
                        if (shortcuts.hasOwnProperty(keycode)) {
                            if (shortcuts[keycode].id === id) {
                                return " (" + shortcuts[keycode].character + ")"
                            }
                        }
                    }
                    return ""
                }
            };
            module.exports = KeyboardShortcut
        }, {}],
        45: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _createClass = function() {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor)
                    }
                }
                return function(Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor
                }
            }();

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function")
                }
            }
            var _USER_INFO_COMMAND = "userinfo";
            var Recorder = function() {
                function Recorder() {
                    _classCallCheck(this, Recorder);
                    if (config.iAmRecorder) this._sendRecorderInfo()
                }
                _createClass(Recorder, [{
                    key: "_sendRecorderInfo",
                    value: function _sendRecorderInfo() {
                        var commands = APP.conference.commands;
                        commands.removeCommand(_USER_INFO_COMMAND);
                        var self = this;
                        commands.sendCommand(_USER_INFO_COMMAND, {
                            attributes: {
                                xmlns: "http://jitsi.org/jitmeet/userinfo",
                                robot: true
                            }
                        })
                    }
                }]);
                return Recorder
            }();
            exports.default = Recorder
        }, {}],
        46: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _UIUtil = require("../UI/util/UIUtil");
            var _UIUtil2 = _interopRequireDefault(_UIUtil);

            function _interopRequireDefault(obj) {
                return obj && obj.__esModule ? obj : {
                    "default": obj
                }
            }
            var email = "";
            var displayName = "";
            var language = null;
            var cameraDeviceId = "";
            var micDeviceId = "";
            var welcomePageDisabled = false;
            var localFlipX = null;

            function supportsLocalStorage() {
                try {
                    return "localStorage" in window && window.localStorage !== null
                } catch (e) {
                    console.log("localstorage is not supported");
                    return false
                }
            }

            function generateUniqueId() {
                function _p8() {
                    return (Math.random().toString(16) + "000000000").substr(2, 8)
                }
                return _p8() + _p8() + _p8() + _p8()
            }
            if (supportsLocalStorage()) {
                if (!window.localStorage.jitsiMeetId) {
                    window.localStorage.jitsiMeetId = generateUniqueId();
                    console.log("generated id", window.localStorage.jitsiMeetId)
                }
                email = _UIUtil2.default.unescapeHtml(window.localStorage.email || "");
                localFlipX = JSON.parse(window.localStorage.localFlipX || true);
                displayName = _UIUtil2.default.unescapeHtml(window.localStorage.displayname || "");
                language = window.localStorage.language;
                cameraDeviceId = window.localStorage.cameraDeviceId || "";
                micDeviceId = window.localStorage.micDeviceId || "";
                welcomePageDisabled = JSON.parse(window.localStorage.welcomePageDisabled || false);
                var audioOutputDeviceId = window.localStorage.audioOutputDeviceId || "default";
                if (audioOutputDeviceId !== JitsiMeetJS.mediaDevices.getAudioOutputDevice()) {
                    JitsiMeetJS.mediaDevices.setAudioOutputDevice(audioOutputDeviceId).catch(function(ex) {
                        console.error("failed to set audio output device from local " + "storage", ex)
                    })
                }
            } else {
                console.log("local storage is not supported")
            }
            exports.default = {
                setDisplayName: function setDisplayName(newDisplayName) {
                    displayName = newDisplayName;
                    window.localStorage.displayname = _UIUtil2.default.escapeHtml(displayName)
                },
                getDisplayName: function getDisplayName() {
                    return displayName
                },
                setEmail: function setEmail(newEmail) {
                    email = newEmail;
                    window.localStorage.email = _UIUtil2.default.escapeHtml(newEmail)
                },
                getEmail: function getEmail() {
                    return email
                },
                getLanguage: function getLanguage() {
                    return language
                },
                setLanguage: function setLanguage(lang) {
                    language = lang;
                    window.localStorage.language = lang
                },
                setLocalFlipX: function setLocalFlipX(val) {
                    localFlipX = val;
                    window.localStorage.localFlipX = val
                },
                getLocalFlipX: function getLocalFlipX() {
                    return localFlipX
                },
                getCameraDeviceId: function getCameraDeviceId() {
                    return cameraDeviceId
                },
                setCameraDeviceId: function setCameraDeviceId() {
                    var newId = arguments.length <= 0 || arguments[0] === undefined ? "" : arguments[0];
                    cameraDeviceId = newId;
                    window.localStorage.cameraDeviceId = newId
                },
                getMicDeviceId: function getMicDeviceId() {
                    return micDeviceId
                },
                setMicDeviceId: function setMicDeviceId() {
                    var newId = arguments.length <= 0 || arguments[0] === undefined ? "" : arguments[0];
                    micDeviceId = newId;
                    window.localStorage.micDeviceId = newId
                },
                getAudioOutputDeviceId: function getAudioOutputDeviceId() {
                    return JitsiMeetJS.mediaDevices.getAudioOutputDevice()
                },
                setAudioOutputDeviceId: function setAudioOutputDeviceId() {
                    var newId = arguments.length <= 0 || arguments[0] === undefined ? "default" : arguments[0];
                    return JitsiMeetJS.mediaDevices.setAudioOutputDevice(newId).then(function() {
                        return window.localStorage.audioOutputDeviceId = newId
                    })
                },
                isWelcomePageEnabled: function isWelcomePageEnabled() {
                    return !welcomePageDisabled
                },
                setWelcomePageEnabled: function setWelcomePageEnabled(enabled) {
                    welcomePageDisabled = !enabled;
                    window.localStorage.welcomePageDisabled = welcomePageDisabled
                }
            }
        }, {
            "../UI/util/UIUtil": 29
        }],
        47: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            var _createClass = function() {
                function defineProperties(target, props) {
                    for (var i = 0; i < props.length; i++) {
                        var descriptor = props[i];
                        descriptor.enumerable = descriptor.enumerable || false;
                        descriptor.configurable = true;
                        if ("value" in descriptor) descriptor.writable = true;
                        Object.defineProperty(target, descriptor.key, descriptor)
                    }
                }
                return function(Constructor, protoProps, staticProps) {
                    if (protoProps) defineProperties(Constructor.prototype, protoProps);
                    if (staticProps) defineProperties(Constructor, staticProps);
                    return Constructor
                }
            }();

            function _classCallCheck(instance, Constructor) {
                if (!(instance instanceof Constructor)) {
                    throw new TypeError("Cannot call a class as a function")
                }
            }
            if (config.disableThirdPartyRequests !== true) {
                JitsiMeetJS.util.ScriptUtil.loadScript("analytics.js?v=1", true, false)
            }
            var NoopAnalytics = function() {
                function NoopAnalytics() {
                    _classCallCheck(this, NoopAnalytics)
                }
                _createClass(NoopAnalytics, [{
                    key: "sendEvent",
                    value: function sendEvent() {}
                }]);
                return NoopAnalytics
            }();
            var AnalyticsAdapter = function() {
                function AnalyticsAdapter() {
                    _classCallCheck(this, AnalyticsAdapter)
                }
                _createClass(AnalyticsAdapter, [{
                    key: "sendEvent",
                    value: function sendEvent() {
                        var a = this.analytics;
                        if (a === null || typeof a === "undefined") {
                            var AnalyticsImpl = window.Analytics || NoopAnalytics;
                            this.analytics = a = new AnalyticsImpl
                        }
                        try {
                            var _a;
                            (_a = a).sendEvent.apply(_a, arguments)
                        } catch (ignored) {}
                    }
                }]);
                return AnalyticsAdapter
            }();
            exports.default = new AnalyticsAdapter
        }, {}],
        48: [function(require, module, exports) {
            "use strict";
            var i18n = require("i18next-client");
            var languages = require("../../service/translation/languages");
            var DEFAULT_LANG = languages.EN;
            i18n.addPostProcessor("resolveAppName", function(value, key, options) {
                return value.replace("__app__", interfaceConfig.APP_NAME)
            });
            var defaultOptions = {
                detectLngQS: "lang",
                useCookie: false,
                fallbackLng: DEFAULT_LANG,
                load: "unspecific",
                resGetPath: "lang/__ns__-__lng__.json",
                ns: {
                    namespaces: ["main", "languages"],
                    defaultNs: "main"
                },
                lngWhitelist: languages.getLanguages(),
                fallbackOnNull: true,
                fallbackOnEmpty: true,
                useDataAttrOptions: true,
                app: interfaceConfig.APP_NAME,
                getAsync: true,
                defaultValueFromContent: false,
                customLoad: function customLoad(lng, ns, options, done) {
                    var resPath = "lang/__ns__-__lng__.json";
                    if (lng === languages.EN) resPath = "lang/__ns__.json";
                    var url = i18n.functions.applyReplacement(resPath, {
                        lng: lng,
                        ns: ns
                    });
                    i18n.functions.ajax({
                        url: url,
                        success: function success(data, status, xhr) {
                            i18n.functions.log("loaded: " + url);
                            done(null, data)
                        },
                        error: function error(xhr, status, _error) {
                            if (status && status == 200 || xhr && xhr.status && xhr.status == 200) {
                                i18n.functions.error("There is a typo in: " + url)
                            } else if (status && status == 404 || xhr && xhr.status && xhr.status == 404) {
                                i18n.functions.log("Does not exist: " + url)
                            } else {
                                var theStatus = status ? status : xhr && xhr.status ? xhr.status : null;
                                i18n.functions.log(theStatus + " when loading " + url)
                            }
                            done(_error, {})
                        },
                        dataType: "json",
                        async: options.getAsync
                    })
                }
            };

            function initCompleted(t) {
                $("[data-i18n]").i18n()
            }

            function getLangFromQuery() {
                var query = window.location.search.substring(1);
                var vars = query.split("&");
                for (var i = 0; i < vars.length; i++) {
                    var pair = vars[i].split("=");
                    if (pair[0] == "lang") {
                        return pair[1]
                    }
                }
                return null
            }
            module.exports = {
                init: function init(settingsLang) {
                    var options = defaultOptions;
                    var lang = getLangFromQuery() || settingsLang || config.defaultLanguage;
                    if (lang) {
                        options.lng = lang
                    }
                    i18n.init(options, initCompleted)
                },
                translateString: function translateString(key, options) {
                    return i18n.t(key, options)
                },
                setLanguage: function setLanguage(lang) {
                    if (!lang) lang = DEFAULT_LANG;
                    i18n.setLng(lang, defaultOptions, initCompleted)
                },
                getCurrentLanguage: function getCurrentLanguage() {
                    return i18n.lng()
                },
                translateElement: function translateElement(selector) {
                    selector.i18n()
                },
                generateTranslationHTML: function generateTranslationHTML(key, options) {
                    var str = '<span data-i18n="' + key + '"';
                    if (options) {
                        str += ' data-i18n-options="' + JSON.stringify(options) + '"'
                    }
                    str += ">";
                    str += this.translateString(key, options);
                    str += "</span>";
                    return str
                }
            }
        }, {
            "../../service/translation/languages": 366,
            "i18next-client": 354
        }],
        49: [function(require, module, exports) {
            "use strict";
            var ALPHANUM = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
            var HEX_DIGITS = "0123456789abcdef";

            function randomInt(min, max) {
                return Math.floor(Math.random() * (max - min + 1)) + min
            }

            function randomElement(arr) {
                return arr[randomInt(0, arr.length - 1)]
            }

            function randomAlphanumStr(length) {
                var result = "";
                for (var i = 0; i < length; i += 1) {
                    result += randomElement(ALPHANUM)
                }
                return result
            }
            var RandomUtil = {
                randomHexDigit: function randomHexDigit() {
                    return randomElement(HEX_DIGITS)
                },
                randomHexString: function randomHexString(len) {
                    var ret = "";
                    while (len--) {
                        ret += this.randomHexDigit()
                    }
                    return ret
                },
                randomElement: randomElement,
                randomAlphanumStr: randomAlphanumStr,
                randomInt: randomInt
            };
            module.exports = RandomUtil
        }, {}],
        50: [function(require, module, exports) {
            "use strict";
            var RandomUtil = require("./RandomUtil");
            var pluralNouns = ["Aliens", "Animals", "Antelopes", "Ants", "Apes", "Apples", "Baboons", "Bacteria", "Badgers", "Bananas", "Bats", "Bears", "Birds", "Bonobos", "Brides", "Bugs", "Bulls", "Butterflies", "Cheetahs", "Cherries", "Chicken", "Children", "Chimps", "Clowns", "Cows", "Creatures", "Dinosaurs", "Dogs", "Dolphins", "Donkeys", "Dragons", "Ducks", "Dwarfs", "Eagles", "Elephants", "Elves", "Fathers", "Fish", "Flowers", "Frogs", "Fruit", "Fungi", "Galaxies", "Geese", "Goats", "Gorillas", "Hedgehogs", "Hippos", "Horses", "Hunters", "Insects", "Kids", "Knights", "Lemons", "Lemurs", "Leopards", "LifeForms", "Lions", "Lizards", "Mice", "Monkeys", "Monsters", "Mushrooms", "Octopodes", "Oranges", "Orangutans", "Organisms", "Pants", "Parrots", "Penguins", "People", "Pigeons", "Pigs", "Pineapples", "Plants", "Potatoes", "Priests", "Rats", "Reptiles", "Reptilians", "Rhinos", "Seagulls", "Sheep", "Siblings", "Snakes", "Spaghetti", "Spiders", "Squid", "Squirrels", "Stars", "Students", "Teachers", "Tigers", "Tomatoes", "Trees", "Vampires", "Vegetables", "Viruses", "Vulcans", "Weasels", "Werewolves", "Whales", "Witches", "Wizards", "Wolves", "Workers", "Worms", "Zebras"];
            var verbs = ["Abandon", "Adapt", "Advertise", "Answer", "Anticipate", "Appreciate", "Approach", "Argue", "Ask", "Bite", "Blossom", "Blush", "Breathe", "Breed", "Bribe", "Burn", "Calculate", "Clean", "Code", "Communicate", "Compute", "Confess", "Confiscate", "Conjugate", "Conjure", "Consume", "Contemplate", "Crawl", "Dance", "Delegate", "Devour", "Develop", "Differ", "Discuss", "Dissolve", "Drink", "Eat", "Elaborate", "Emancipate", "Estimate", "Expire", "Extinguish", "Extract", "Facilitate", "Fall", "Feed", "Finish", "Floss", "Fly", "Follow", "Fragment", "Freeze", "Gather", "Glow", "Grow", "Hex", "Hide", "Hug", "Hurry", "Improve", "Intersect", "Investigate", "Jinx", "Joke", "Jubilate", "Kiss", "Laugh", "Manage", "Meet", "Merge", "Move", "Object", "Observe", "Offer", "Paint", "Participate", "Party", "Perform", "Plan", "Pursue", "Pierce", "Play", "Postpone", "Pray", "Proclaim", "Question", "Read", "Reckon", "Rejoice", "Represent", "Resize", "Rhyme", "Scream", "Search", "Select", "Share", "Shoot", "Shout", "Signal", "Sing", "Skate", "Sleep", "Smile", "Smoke", "Solve", "Spell", "Steer", "Stink", "Substitute", "Swim", "Taste", "Teach", "Terminate", "Think", "Type", "Unite", "Vanish", "Worship"];
            var adverbs = ["Absently", "Accurately", "Accusingly", "Adorably", "AllTheTime", "Alone", "Always", "Amazingly", "Angrily", "Anxiously", "Anywhere", "Appallingly", "Apparently", "Articulately", "Astonishingly", "Badly", "Barely", "Beautifully", "Blindly", "Bravely", "Brightly", "Briskly", "Brutally", "Calmly", "Carefully", "Casually", "Cautiously", "Cleverly", "Constantly", "Correctly", "Crazily", "Curiously", "Cynically", "Daily", "Dangerously", "Deliberately", "Delicately", "Desperately", "Discreetly", "Eagerly", "Easily", "Euphoricly", "Evenly", "Everywhere", "Exactly", "Expectantly", "Extensively", "Ferociously", "Fiercely", "Finely", "Flatly", "Frequently", "Frighteningly", "Gently", "Gloriously", "Grimly", "Guiltily", "Happily", "Hard", "Hastily", "Heroically", "High", "Highly", "Hourly", "Humbly", "Hysterically", "Immensely", "Impartially", "Impolitely", "Indifferently", "Intensely", "Jealously", "Jovially", "Kindly", "Lazily", "Lightly", "Loudly", "Lovingly", "Loyally", "Magnificently", "Malevolently", "Merrily", "Mightily", "Miserably", "Mysteriously", "NOT", "Nervously", "Nicely", "Nowhere", "Objectively", "Obnoxiously", "Obsessively", "Obviously", "Often", "Painfully", "Patiently", "Playfully", "Politely", "Poorly", "Precisely", "Promptly", "Quickly", "Quietly", "Randomly", "Rapidly", "Rarely", "Recklessly", "Regularly", "Remorsefully", "Responsibly", "Rudely", "Ruthlessly", "Sadly", "Scornfully", "Seamlessly", "Seldom", "Selfishly", "Seriously", "Shakily", "Sharply", "Sideways", "Silently", "Sleepily", "Slightly", "Slowly", "Slyly", "Smoothly", "Softly", "Solemnly", "Steadily", "Sternly", "Strangely", "Strongly", "Stunningly", "Surely", "Tenderly", "Thoughtfully", "Tightly", "Uneasily", "Vanishingly", "Violently", "Warmly", "Weakly", "Wearily", "Weekly", "Weirdly", "Well", "Well", "Wickedly", "Wildly", "Wisely", "Wonderfully", "Yearly"];
            var adjectives = ["Abominable", "Accurate", "Adorable", "All", "Alleged", "Ancient", "Angry", "Anxious", "Appalling", "Apparent", "Astonishing", "Attractive", "Awesome", "Baby", "Bad", "Beautiful", "Benign", "Big", "Bitter", "Blind", "Blue", "Bold", "Brave", "Bright", "Brisk", "Calm", "Camouflaged", "Casual", "Cautious", "Choppy", "Chosen", "Clever", "Cold", "Cool", "Crawly", "Crazy", "Creepy", "Cruel", "Curious", "Cynical", "Dangerous", "Dark", "Delicate", "Desperate", "Difficult", "Discreet", "Disguised", "Dizzy", "Dumb", "Eager", "Easy", "Edgy", "Electric", "Elegant", "Emancipated", "Enormous", "Euphoric", "Evil", "Fast", "Ferocious", "Fierce", "Fine", "Flawed", "Flying", "Foolish", "Foxy", "Freezing", "Funny", "Furious", "Gentle", "Glorious", "Golden", "Good", "Green", "Green", "Guilty", "Hairy", "Happy", "Hard", "Hasty", "Hazy", "Heroic", "Hostile", "Hot", "Humble", "Humongous", "Humorous", "Hysterical", "Idealistic", "Ignorant", "Immense", "Impartial", "Impolite", "Indifferent", "Infuriated", "Insightful", "Intense", "Interesting", "Intimidated", "Intriguing", "Jealous", "Jolly", "Jovial", "Jumpy", "Kind", "Laughing", "Lazy", "Liquid", "Lonely", "Longing", "Loud", "Loving", "Loyal", "Macabre", "Mad", "Magical", "Magnificent", "Malevolent", "Medieval", "Memorable", "Mere", "Merry", "Mighty", "Mischievous", "Miserable", "Modified", "Moody", "Most", "Mysterious", "Mystical", "Needy", "Nervous", "Nice", "Objective", "Obnoxious", "Obsessive", "Obvious", "Opinionated", "Orange", "Painful", "Passionate", "Perfect", "Pink", "Playful", "Poisonous", "Polite", "Poor", "Popular", "Powerful", "Precise", "Preserved", "Pretty", "Purple", "Quick", "Quiet", "Random", "Rapid", "Rare", "Real", "Reassuring", "Reckless", "Red", "Regular", "Remorseful", "Responsible", "Rich", "Rude", "Ruthless", "Sad", "Scared", "Scary", "Scornful", "Screaming", "Selfish", "Serious", "Shady", "Shaky", "Sharp", "Shiny", "Shy", "Simple", "Sleepy", "Slow", "Sly", "Small", "Smart", "Smelly", "Smiling", "Smooth", "Smug", "Sober", "Soft", "Solemn", "Square", "Square", "Steady", "Strange", "Strong", "Stunning", "Subjective", "Successful", "Surly", "Sweet", "Tactful", "Tense", "Thoughtful", "Tight", "Tiny", "Tolerant", "Uneasy", "Unique", "Unseen", "Warm", "Weak", "Weird", "WellCooked", "Wild", "Wise", "Witty", "Wonderful", "Worried", "Yellow", "Young", "Zealous"];
            var CATEGORIES = {
                _PLURALNOUN_: pluralNouns,
                _VERB_: verbs,
                _ADVERB_: adverbs,
                _ADJECTIVE_: adjectives
            };
            var PATTERNS = ["_ADJECTIVE__PLURALNOUN__VERB__ADVERB_"];

            function hasTemplate(s) {
                for (var template in CATEGORIES) {
                    if (s.indexOf(template) >= 0) {
                        return true
                    }
                }
            }
            var RoomnameGenerator = {
                generateRoomWithoutSeparator: function generateRoomWithoutSeparator() {
                    var name = RandomUtil.randomElement(PATTERNS);
                    var word;
                    while (hasTemplate(name)) {
                        for (var template in CATEGORIES) {
                            word = RandomUtil.randomElement(CATEGORIES[template]);
                            name = name.replace(template, word)
                        }
                    }
                    return name
                }
            };
            module.exports = RoomnameGenerator
        }, {
            "./RandomUtil": 49
        }],
        51: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            exports.createDeferred = createDeferred;
            exports.reload = reload;

            function createDeferred() {
                var deferred = {};
                deferred.promise = new Promise(function(resolve, reject) {
                    deferred.resolve = resolve;
                    deferred.reject = reject
                });
                return deferred
            }

            function reload() {
                window.location.reload()
            }
        }, {}],
        52: [function(require, module, exports) {
            (function(global) {
                jQuery = global.jQuery = require("/var/lib/jenkins/jobs/jitsi-meet-debian/workspace/jitsi-meet/node_modules/jquery/dist/jquery.js");
                var __browserify_shim_require__ = require;
                (function browserifyShim(module, define, require) {
                    (function($) {
                        var defaults = {
                                className: "autosizejs",
                                id: "autosizejs",
                                append: "\n",
                                callback: false,
                                resizeDelay: 10,
                                placeholder: true
                            },
                            copy = '<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',
                            typographyStyles = ["fontFamily", "fontSize", "fontWeight", "fontStyle", "letterSpacing", "textTransform", "wordSpacing", "textIndent", "whiteSpace"],
                            mirrored, mirror = $(copy).data("autosize", true)[0];
                        mirror.style.lineHeight = "99px";
                        if ($(mirror).css("lineHeight") === "99px") {
                            typographyStyles.push("lineHeight")
                        }
                        mirror.style.lineHeight = "";
                        $.fn.autosize = function(options) {
                            if (!this.length) {
                                return this
                            }
                            options = $.extend({}, defaults, options || {});
                            if (mirror.parentNode !== document.body) {
                                $(document.body).append(mirror)
                            }
                            return this.each(function() {
                                var ta = this,
                                    $ta = $(ta),
                                    maxHeight, minHeight, boxOffset = 0,
                                    callback = $.isFunction(options.callback),
                                    originalStyles = {
                                        height: ta.style.height,
                                        overflow: ta.style.overflow,
                                        overflowY: ta.style.overflowY,
                                        wordWrap: ta.style.wordWrap,
                                        resize: ta.style.resize
                                    },
                                    timeout, width = $ta.width(),
                                    taResize = $ta.css("resize");
                                if ($ta.data("autosize")) {
                                    return
                                }
                                $ta.data("autosize", true);
                                if ($ta.css("box-sizing") === "border-box" || $ta.css("-moz-box-sizing") === "border-box" || $ta.css("-webkit-box-sizing") === "border-box") {
                                    boxOffset = $ta.outerHeight() - $ta.height()
                                }
                                minHeight = Math.max(parseInt($ta.css("minHeight"), 10) - boxOffset || 0, $ta.height());
                                $ta.css({
                                    overflow: "hidden",
                                    overflowY: "hidden",
                                    wordWrap: "break-word"
                                });
                                if (taResize === "vertical") {
                                    $ta.css("resize", "none")
                                } else if (taResize === "both") {
                                    $ta.css("resize", "horizontal")
                                }

                                function setWidth() {
                                    var width;
                                    var style = window.getComputedStyle ? window.getComputedStyle(ta, null) : false;
                                    if (style) {
                                        width = ta.getBoundingClientRect().width;
                                        if (width === 0 || typeof width !== "number") {
                                            width = parseInt(style.width, 10)
                                        }
                                        $.each(["paddingLeft", "paddingRight", "borderLeftWidth", "borderRightWidth"], function(i, val) {
                                            width -= parseInt(style[val], 10)
                                        })
                                    } else {
                                        width = $ta.width()
                                    }
                                    mirror.style.width = Math.max(width, 0) + "px"
                                }

                                function initMirror() {
                                    var styles = {};
                                    mirrored = ta;
                                    mirror.className = options.className;
                                    mirror.id = options.id;
                                    maxHeight = parseInt($ta.css("maxHeight"), 10);
                                    $.each(typographyStyles, function(i, val) {
                                        styles[val] = $ta.css(val)
                                    });
                                    $(mirror).css(styles).attr("wrap", $ta.attr("wrap"));
                                    setWidth();
                                    if (window.chrome) {
                                        var width = ta.style.width;
                                        ta.style.width = "0px";
                                        var ignore = ta.offsetWidth;
                                        ta.style.width = width
                                    }
                                }

                                function adjust() {
                                    var height, original;
                                    if (mirrored !== ta) {
                                        initMirror()
                                    } else {
                                        setWidth()
                                    }
                                    if (!ta.value && options.placeholder) {
                                        mirror.value = $ta.attr("placeholder") || ""
                                    } else {
                                        mirror.value = ta.value
                                    }
                                    mirror.value += options.append || "";
                                    mirror.style.overflowY = ta.style.overflowY;
                                    original = parseInt(ta.style.height, 10);
                                    mirror.scrollTop = 0;
                                    mirror.scrollTop = 9e4;
                                    height = mirror.scrollTop;
                                    if (maxHeight && height > maxHeight) {
                                        ta.style.overflowY = "scroll";
                                        height = maxHeight
                                    } else {
                                        ta.style.overflowY = "hidden";
                                        if (height < minHeight) {
                                            height = minHeight
                                        }
                                    }
                                    height += boxOffset;
                                    if (original !== height) {
                                        ta.style.height = height + "px";
                                        if (callback) {
                                            options.callback.call(ta, ta)
                                        }
                                        $ta.trigger("autosize.resized")
                                    }
                                }

                                function resize() {
                                    clearTimeout(timeout);
                                    timeout = setTimeout(function() {
                                        var newWidth = $ta.width();
                                        if (newWidth !== width) {
                                            width = newWidth;
                                            adjust()
                                        }
                                    }, parseInt(options.resizeDelay, 10))
                                }
                                if ("onpropertychange" in ta) {
                                    if ("oninput" in ta) {
                                        $ta.on("input.autosize keyup.autosize", adjust)
                                    } else {
                                        $ta.on("propertychange.autosize", function() {
                                            if (event.propertyName === "value") {
                                                adjust()
                                            }
                                        })
                                    }
                                } else {
                                    $ta.on("input.autosize", adjust)
                                }
                                if (options.resizeDelay !== false) {
                                    $(window).on("resize.autosize", resize)
                                }
                                $ta.on("autosize.resize", adjust);
                                $ta.on("autosize.resizeIncludeStyle", function() {
                                    mirrored = null;
                                    adjust()
                                });
                                $ta.on("autosize.destroy", function() {
                                    mirrored = null;
                                    clearTimeout(timeout);
                                    $(window).off("resize", resize);
                                    $ta.off("autosize").off(".autosize").css(originalStyles).removeData("autosize")
                                });
                                adjust()
                            })
                        }
                    })(jQuery || $)
                }).call(global, module, undefined, undefined)
            }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
        }, {
            "/var/lib/jenkins/jobs/jitsi-meet-debian/workspace/jitsi-meet/node_modules/jquery/dist/jquery.js": 358
        }],
        53: [function(require, module, exports) {
            (function(global) {
                "use strict";
                require("core-js/shim");
                require("babel-regenerator-runtime");
                require("core-js/fn/regexp/escape");
                if (global._babelPolyfill) {
                    throw new Error("only one instance of babel-polyfill is allowed")
                }
                global._babelPolyfill = true;
                var DEFINE_PROPERTY = "defineProperty";

                function define(O, key, value) {
                    O[key] || Object[DEFINE_PROPERTY](O, key, {
                        writable: true,
                        configurable: true,
                        value: value
                    })
                }
                define(String.prototype, "padLeft", "".padStart);
                define(String.prototype, "padRight", "".padEnd);
                "pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(key) {
                    [][key] && define(Array, key, Function.call.bind([][key]))
                })
            }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
        }, {
            "babel-regenerator-runtime": 54,
            "core-js/fn/regexp/escape": 55,
            "core-js/shim": 349
        }],
        54: [function(require, module, exports) {
            (function(process, global) {
                ! function(global) {
                    "use strict";
                    var hasOwn = Object.prototype.hasOwnProperty;
                    var undefined;
                    var iteratorSymbol = typeof Symbol === "function" && Symbol.iterator || "@@iterator";
                    var inModule = typeof module === "object";
                    var runtime = global.regeneratorRuntime;
                    if (runtime) {
                        if (inModule) {
                            module.exports = runtime
                        }
                        return
                    }
                    runtime = global.regeneratorRuntime = inModule ? module.exports : {};

                    function wrap(innerFn, outerFn, self, tryLocsList) {
                        var generator = Object.create((outerFn || Generator).prototype);
                        var context = new Context(tryLocsList || []);
                        generator._invoke = makeInvokeMethod(innerFn, self, context);
                        return generator
                    }
                    runtime.wrap = wrap;

                    function tryCatch(fn, obj, arg) {
                        try {
                            return {
                                type: "normal",
                                arg: fn.call(obj, arg)
                            }
                        } catch (err) {
                            return {
                                type: "throw",
                                arg: err
                            }
                        }
                    }
                    var GenStateSuspendedStart = "suspendedStart";
                    var GenStateSuspendedYield = "suspendedYield";
                    var GenStateExecuting = "executing";
                    var GenStateCompleted = "completed";
                    var ContinueSentinel = {};

                    function Generator() {}

                    function GeneratorFunction() {}

                    function GeneratorFunctionPrototype() {}
                    var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;
                    GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;
                    GeneratorFunctionPrototype.constructor = GeneratorFunction;
                    GeneratorFunction.displayName = "GeneratorFunction";

                    function defineIteratorMethods(prototype) {
                        ["next", "throw", "return"].forEach(function(method) {
                            prototype[method] = function(arg) {
                                return this._invoke(method, arg)
                            }
                        })
                    }
                    runtime.isGeneratorFunction = function(genFun) {
                        var ctor = typeof genFun === "function" && genFun.constructor;
                        return ctor ? ctor === GeneratorFunction || (ctor.displayName || ctor.name) === "GeneratorFunction" : false
                    };
                    runtime.mark = function(genFun) {
                        if (Object.setPrototypeOf) {
                            Object.setPrototypeOf(genFun, GeneratorFunctionPrototype)
                        } else {
                            genFun.__proto__ = GeneratorFunctionPrototype
                        }
                        genFun.prototype = Object.create(Gp);
                        return genFun
                    };
                    runtime.awrap = function(arg) {
                        return new AwaitArgument(arg)
                    };

                    function AwaitArgument(arg) {
                        this.arg = arg
                    }

                    function AsyncIterator(generator) {
                        function invoke(method, arg) {
                            var result = generator[method](arg);
                            var value = result.value;
                            return value instanceof AwaitArgument ? Promise.resolve(value.arg).then(invokeNext, invokeThrow) : Promise.resolve(value).then(function(unwrapped) {
                                result.value = unwrapped;
                                return result
                            })
                        }
                        if (typeof process === "object" && process.domain) {
                            invoke = process.domain.bind(invoke)
                        }
                        var invokeNext = invoke.bind(generator, "next");
                        var invokeThrow = invoke.bind(generator, "throw");
                        var invokeReturn = invoke.bind(generator, "return");
                        var previousPromise;

                        function enqueue(method, arg) {
                            function callInvokeWithMethodAndArg() {
                                return invoke(method, arg)
                            }
                            return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : new Promise(function(resolve) {
                                resolve(callInvokeWithMethodAndArg())
                            })
                        }
                        this._invoke = enqueue
                    }
                    defineIteratorMethods(AsyncIterator.prototype);
                    runtime.async = function(innerFn, outerFn, self, tryLocsList) {
                        var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList));
                        return runtime.isGeneratorFunction(outerFn) ? iter : iter.next().then(function(result) {
                            return result.done ? result.value : iter.next()
                        })
                    };

                    function makeInvokeMethod(innerFn, self, context) {
                        var state = GenStateSuspendedStart;
                        return function invoke(method, arg) {
                            if (state === GenStateExecuting) {
                                throw new Error("Generator is already running")
                            }
                            if (state === GenStateCompleted) {
                                if (method === "throw") {
                                    throw arg
                                }
                                return doneResult()
                            }
                            while (true) {
                                var delegate = context.delegate;
                                if (delegate) {
                                    if (method === "return" || method === "throw" && delegate.iterator[method] === undefined) {
                                        context.delegate = null;
                                        var returnMethod = delegate.iterator["return"];
                                        if (returnMethod) {
                                            var record = tryCatch(returnMethod, delegate.iterator, arg);
                                            if (record.type === "throw") {
                                                method = "throw";
                                                arg = record.arg;
                                                continue
                                            }
                                        }
                                        if (method === "return") {
                                            continue
                                        }
                                    }
                                    var record = tryCatch(delegate.iterator[method], delegate.iterator, arg);
                                    if (record.type === "throw") {
                                        context.delegate = null;
                                        method = "throw";
                                        arg = record.arg;
                                        continue
                                    }
                                    method = "next";
                                    arg = undefined;
                                    var info = record.arg;
                                    if (info.done) {
                                        context[delegate.resultName] = info.value;
                                        context.next = delegate.nextLoc
                                    } else {
                                        state = GenStateSuspendedYield;
                                        return info
                                    }
                                    context.delegate = null
                                }
                                if (method === "next") {
                                    context._sent = arg;
                                    if (state === GenStateSuspendedYield) {
                                        context.sent = arg
                                    } else {
                                        context.sent = undefined
                                    }
                                } else if (method === "throw") {
                                    if (state === GenStateSuspendedStart) {
                                        state = GenStateCompleted;
                                        throw arg
                                    }
                                    if (context.dispatchException(arg)) {
                                        method = "next";
                                        arg = undefined
                                    }
                                } else if (method === "return") {
                                    context.abrupt("return", arg)
                                }
                                state = GenStateExecuting;
                                var record = tryCatch(innerFn, self, context);
                                if (record.type === "normal") {
                                    state = context.done ? GenStateCompleted : GenStateSuspendedYield;
                                    var info = {
                                        value: record.arg,
                                        done: context.done
                                    };
                                    if (record.arg === ContinueSentinel) {
                                        if (context.delegate && method === "next") {
                                            arg = undefined
                                        }
                                    } else {
                                        return info
                                    }
                                } else if (record.type === "throw") {
                                    state = GenStateCompleted;
                                    method = "throw";
                                    arg = record.arg
                                }
                            }
                        }
                    }
                    defineIteratorMethods(Gp);
                    Gp[iteratorSymbol] = function() {
                        return this
                    };
                    Gp.toString = function() {
                        return "[object Generator]"
                    };

                    function pushTryEntry(locs) {
                        var entry = {
                            tryLoc: locs[0]
                        };
                        if (1 in locs) {
                            entry.catchLoc = locs[1]
                        }
                        if (2 in locs) {
                            entry.finallyLoc = locs[2];
                            entry.afterLoc = locs[3]
                        }
                        this.tryEntries.push(entry)
                    }

                    function resetTryEntry(entry) {
                        var record = entry.completion || {};
                        record.type = "normal";
                        delete record.arg;
                        entry.completion = record
                    }

                    function Context(tryLocsList) {
                        this.tryEntries = [{
                            tryLoc: "root"
                        }];
                        tryLocsList.forEach(pushTryEntry, this);
                        this.reset(true)
                    }
                    runtime.keys = function(object) {
                        var keys = [];
                        for (var key in object) {
                            keys.push(key)
                        }
                        keys.reverse();
                        return function next() {
                            while (keys.length) {
                                var key = keys.pop();
                                if (key in object) {
                                    next.value = key;
                                    next.done = false;
                                    return next
                                }
                            }
                            next.done = true;
                            return next
                        }
                    };

                    function values(iterable) {
                        if (iterable) {
                            var iteratorMethod = iterable[iteratorSymbol];
                            if (iteratorMethod) {
                                return iteratorMethod.call(iterable)
                            }
                            if (typeof iterable.next === "function") {
                                return iterable
                            }
                            if (!isNaN(iterable.length)) {
                                var i = -1,
                                    next = function next() {
                                        while (++i < iterable.length) {
                                            if (hasOwn.call(iterable, i)) {
                                                next.value = iterable[i];
                                                next.done = false;
                                                return next
                                            }
                                        }
                                        next.value = undefined;
                                        next.done = true;
                                        return next
                                    };
                                return next.next = next
                            }
                        }
                        return {
                            next: doneResult
                        }
                    }
                    runtime.values = values;

                    function doneResult() {
                        return {
                            value: undefined,
                            done: true
                        }
                    }
                    Context.prototype = {
                        constructor: Context,
                        reset: function(skipTempReset) {
                            this.prev = 0;
                            this.next = 0;
                            this.sent = undefined;
                            this.done = false;
                            this.delegate = null;
                            this.tryEntries.forEach(resetTryEntry);
                            if (!skipTempReset) {
                                for (var name in this) {
                                    if (name.charAt(0) === "t" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {
                                        this[name] = undefined
                                    }
                                }
                            }
                        },
                        stop: function() {
                            this.done = true;
                            var rootEntry = this.tryEntries[0];
                            var rootRecord = rootEntry.completion;
                            if (rootRecord.type === "throw") {
                                throw rootRecord.arg
                            }
                            return this.rval
                        },
                        dispatchException: function(exception) {
                            if (this.done) {
                                throw exception
                            }
                            var context = this;

                            function handle(loc, caught) {
                                record.type = "throw";
                                record.arg = exception;
                                context.next = loc;
                                return !!caught
                            }
                            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                                var entry = this.tryEntries[i];
                                var record = entry.completion;
                                if (entry.tryLoc === "root") {
                                    return handle("end")
                                }
                                if (entry.tryLoc <= this.prev) {
                                    var hasCatch = hasOwn.call(entry, "catchLoc");
                                    var hasFinally = hasOwn.call(entry, "finallyLoc");
                                    if (hasCatch && hasFinally) {
                                        if (this.prev < entry.catchLoc) {
                                            return handle(entry.catchLoc, true)
                                        } else if (this.prev < entry.finallyLoc) {
                                            return handle(entry.finallyLoc)
                                        }
                                    } else if (hasCatch) {
                                        if (this.prev < entry.catchLoc) {
                                            return handle(entry.catchLoc, true)
                                        }
                                    } else if (hasFinally) {
                                        if (this.prev < entry.finallyLoc) {
                                            return handle(entry.finallyLoc)
                                        }
                                    } else {
                                        throw new Error("try statement without catch or finally")
                                    }
                                }
                            }
                        },
                        abrupt: function(type, arg) {
                            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                                var entry = this.tryEntries[i];
                                if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) {
                                    var finallyEntry = entry;
                                    break
                                }
                            }
                            if (finallyEntry && (type === "break" || type === "continue") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {
                                finallyEntry = null
                            }
                            var record = finallyEntry ? finallyEntry.completion : {};
                            record.type = type;
                            record.arg = arg;
                            if (finallyEntry) {
                                this.next = finallyEntry.finallyLoc
                            } else {
                                this.complete(record)
                            }
                            return ContinueSentinel
                        },
                        complete: function(record, afterLoc) {
                            if (record.type === "throw") {
                                throw record.arg
                            }
                            if (record.type === "break" || record.type === "continue") {
                                this.next = record.arg
                            } else if (record.type === "return") {
                                this.rval = record.arg;
                                this.next = "end"
                            } else if (record.type === "normal" && afterLoc) {
                                this.next = afterLoc;
                            }
                        },
                        finish: function(finallyLoc) {
                            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                                var entry = this.tryEntries[i];
                                if (entry.finallyLoc === finallyLoc) {
                                    this.complete(entry.completion, entry.afterLoc);
                                    resetTryEntry(entry);
                                    return ContinueSentinel
                                }
                            }
                        },
                        "catch": function(tryLoc) {
                            for (var i = this.tryEntries.length - 1; i >= 0; --i) {
                                var entry = this.tryEntries[i];
                                if (entry.tryLoc === tryLoc) {
                                    var record = entry.completion;
                                    if (record.type === "throw") {
                                        var thrown = record.arg;
                                        resetTryEntry(entry)
                                    }
                                    return thrown
                                }
                            }
                            throw new Error("illegal catch attempt")
                        },
                        delegateYield: function(iterable, resultName, nextLoc) {
                            this.delegate = {
                                iterator: values(iterable),
                                resultName: resultName,
                                nextLoc: nextLoc
                            };
                            return ContinueSentinel
                        }
                    }
                }(typeof global === "object" ? global : typeof window === "object" ? window : typeof self === "object" ? self : this)
            }).call(this, require("_process"), typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
        }, {
            _process: 353
        }],
        55: [function(require, module, exports) {
            require("../../modules/core.regexp.escape");
            module.exports = require("../../modules/_core").RegExp.escape
        }, {
            "../../modules/_core": 76,
            "../../modules/core.regexp.escape": 173
        }],
        56: [function(require, module, exports) {
            module.exports = function(it) {
                if (typeof it != "function") throw TypeError(it + " is not a function!");
                return it
            }
        }, {}],
        57: [function(require, module, exports) {
            var cof = require("./_cof");
            module.exports = function(it, msg) {
                if (typeof it != "number" && cof(it) != "Number") throw TypeError(msg);
                return +it
            }
        }, {
            "./_cof": 71
        }],
        58: [function(require, module, exports) {
            var UNSCOPABLES = require("./_wks")("unscopables"),
                ArrayProto = Array.prototype;
            if (ArrayProto[UNSCOPABLES] == undefined) require("./_hide")(ArrayProto, UNSCOPABLES, {});
            module.exports = function(key) {
                ArrayProto[UNSCOPABLES][key] = true
            }
        }, {
            "./_hide": 93,
            "./_wks": 170
        }],
        59: [function(require, module, exports) {
            module.exports = function(it, Constructor, name, forbiddenField) {
                if (!(it instanceof Constructor) || forbiddenField !== undefined && forbiddenField in it) {
                    throw TypeError(name + ": incorrect invocation!")
                }
                return it
            }
        }, {}],
        60: [function(require, module, exports) {
            var isObject = require("./_is-object");
            module.exports = function(it) {
                if (!isObject(it)) throw TypeError(it + " is not an object!");
                return it
            }
        }, {
            "./_is-object": 102
        }],
        61: [function(require, module, exports) {
            "use strict";
            var toObject = require("./_to-object"),
                toIndex = require("./_to-index"),
                toLength = require("./_to-length");
            module.exports = [].copyWithin || function copyWithin(target, start) {
                var O = toObject(this),
                    len = toLength(O.length),
                    to = toIndex(target, len),
                    from = toIndex(start, len),
                    end = arguments.length > 2 ? arguments[2] : undefined,
                    count = Math.min((end === undefined ? len : toIndex(end, len)) - from, len - to),
                    inc = 1;
                if (from < to && to < from + count) {
                    inc = -1;
                    from += count - 1;
                    to += count - 1
                }
                while (count-- > 0) {
                    if (from in O) O[to] = O[from];
                    else delete O[to];
                    to += inc;
                    from += inc
                }
                return O
            }
        }, {
            "./_to-index": 158,
            "./_to-length": 161,
            "./_to-object": 162
        }],
        62: [function(require, module, exports) {
            "use strict";
            var toObject = require("./_to-object"),
                toIndex = require("./_to-index"),
                toLength = require("./_to-length");
            module.exports = function fill(value) {
                var O = toObject(this),
                    length = toLength(O.length),
                    aLen = arguments.length,
                    index = toIndex(aLen > 1 ? arguments[1] : undefined, length),
                    end = aLen > 2 ? arguments[2] : undefined,
                    endPos = end === undefined ? length : toIndex(end, length);
                while (endPos > index) O[index++] = value;
                return O
            }
        }, {
            "./_to-index": 158,
            "./_to-length": 161,
            "./_to-object": 162
        }],
        63: [function(require, module, exports) {
            var forOf = require("./_for-of");
            module.exports = function(iter, ITERATOR) {
                var result = [];
                forOf(iter, false, result.push, result, ITERATOR);
                return result
            }
        }, {
            "./_for-of": 90
        }],
        64: [function(require, module, exports) {
            var toIObject = require("./_to-iobject"),
                toLength = require("./_to-length"),
                toIndex = require("./_to-index");
            module.exports = function(IS_INCLUDES) {
                return function($this, el, fromIndex) {
                    var O = toIObject($this),
                        length = toLength(O.length),
                        index = toIndex(fromIndex, length),
                        value;
                    if (IS_INCLUDES && el != el)
                        while (length > index) {
                            value = O[index++];
                            if (value != value) return true
                        } else
                            for (; length > index; index++)
                                if (IS_INCLUDES || index in O) {
                                    if (O[index] === el) return IS_INCLUDES || index || 0
                                }
                    return !IS_INCLUDES && -1
                }
            }
        }, {
            "./_to-index": 158,
            "./_to-iobject": 160,
            "./_to-length": 161
        }],
        65: [function(require, module, exports) {
            var ctx = require("./_ctx"),
                IObject = require("./_iobject"),
                toObject = require("./_to-object"),
                toLength = require("./_to-length"),
                asc = require("./_array-species-create");
            module.exports = function(TYPE, $create) {
                var IS_MAP = TYPE == 1,
                    IS_FILTER = TYPE == 2,
                    IS_SOME = TYPE == 3,
                    IS_EVERY = TYPE == 4,
                    IS_FIND_INDEX = TYPE == 6,
                    NO_HOLES = TYPE == 5 || IS_FIND_INDEX,
                    create = $create || asc;
                return function($this, callbackfn, that) {
                    var O = toObject($this),
                        self = IObject(O),
                        f = ctx(callbackfn, that, 3),
                        length = toLength(self.length),
                        index = 0,
                        result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined,
                        val, res;
                    for (; length > index; index++)
                        if (NO_HOLES || index in self) {
                            val = self[index];
                            res = f(val, index, O);
                            if (TYPE) {
                                if (IS_MAP) result[index] = res;
                                else if (res) switch (TYPE) {
                                    case 3:
                                        return true;
                                    case 5:
                                        return val;
                                    case 6:
                                        return index;
                                    case 2:
                                        result.push(val)
                                } else if (IS_EVERY) return false
                            }
                        }
                    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result
                }
            }
        }, {
            "./_array-species-create": 68,
            "./_ctx": 78,
            "./_iobject": 98,
            "./_to-length": 161,
            "./_to-object": 162
        }],
        66: [function(require, module, exports) {
            var aFunction = require("./_a-function"),
                toObject = require("./_to-object"),
                IObject = require("./_iobject"),
                toLength = require("./_to-length");
            module.exports = function(that, callbackfn, aLen, memo, isRight) {
                aFunction(callbackfn);
                var O = toObject(that),
                    self = IObject(O),
                    length = toLength(O.length),
                    index = isRight ? length - 1 : 0,
                    i = isRight ? -1 : 1;
                if (aLen < 2)
                    for (;;) {
                        if (index in self) {
                            memo = self[index];
                            index += i;
                            break
                        }
                        index += i;
                        if (isRight ? index < 0 : length <= index) {
                            throw TypeError("Reduce of empty array with no initial value")
                        }
                    }
                for (; isRight ? index >= 0 : length > index; index += i)
                    if (index in self) {
                        memo = callbackfn(memo, self[index], index, O)
                    }
                return memo
            }
        }, {
            "./_a-function": 56,
            "./_iobject": 98,
            "./_to-length": 161,
            "./_to-object": 162
        }],
        67: [function(require, module, exports) {
            var isObject = require("./_is-object"),
                isArray = require("./_is-array"),
                SPECIES = require("./_wks")("species");
            module.exports = function(original) {
                var C;
                if (isArray(original)) {
                    C = original.constructor;
                    if (typeof C == "function" && (C === Array || isArray(C.prototype))) C = undefined;
                    if (isObject(C)) {
                        C = C[SPECIES];
                        if (C === null) C = undefined
                    }
                }
                return C === undefined ? Array : C
            }
        }, {
            "./_is-array": 100,
            "./_is-object": 102,
            "./_wks": 170
        }],
        68: [function(require, module, exports) {
            var speciesConstructor = require("./_array-species-constructor");
            module.exports = function(original, length) {
                return new(speciesConstructor(original))(length)
            }
        }, {
            "./_array-species-constructor": 67
        }],
        69: [function(require, module, exports) {
            "use strict";
            var aFunction = require("./_a-function"),
                isObject = require("./_is-object"),
                invoke = require("./_invoke"),
                arraySlice = [].slice,
                factories = {};
            var construct = function(F, len, args) {
                if (!(len in factories)) {
                    for (var n = [], i = 0; i < len; i++) n[i] = "a[" + i + "]";
                    factories[len] = Function("F,a", "return new F(" + n.join(",") + ")")
                }
                return factories[len](F, args)
            };
            module.exports = Function.bind || function bind(that) {
                var fn = aFunction(this),
                    partArgs = arraySlice.call(arguments, 1);
                var bound = function() {
                    var args = partArgs.concat(arraySlice.call(arguments));
                    return this instanceof bound ? construct(fn, args.length, args) : invoke(fn, args, that)
                };
                if (isObject(fn.prototype)) bound.prototype = fn.prototype;
                return bound
            }
        }, {
            "./_a-function": 56,
            "./_invoke": 97,
            "./_is-object": 102
        }],
        70: [function(require, module, exports) {
            var cof = require("./_cof"),
                TAG = require("./_wks")("toStringTag"),
                ARG = cof(function() {
                    return arguments
                }()) == "Arguments";
            var tryGet = function(it, key) {
                try {
                    return it[key]
                } catch (e) {}
            };
            module.exports = function(it) {
                var O, T, B;
                return it === undefined ? "Undefined" : it === null ? "Null" : typeof(T = tryGet(O = Object(it), TAG)) == "string" ? T : ARG ? cof(O) : (B = cof(O)) == "Object" && typeof O.callee == "function" ? "Arguments" : B
            }
        }, {
            "./_cof": 71,
            "./_wks": 170
        }],
        71: [function(require, module, exports) {
            var toString = {}.toString;
            module.exports = function(it) {
                return toString.call(it).slice(8, -1)
            }
        }, {}],
        72: [function(require, module, exports) {
            "use strict";
            var dP = require("./_object-dp").f,
                create = require("./_object-create"),
                hide = require("./_hide"),
                redefineAll = require("./_redefine-all"),
                ctx = require("./_ctx"),
                anInstance = require("./_an-instance"),
                defined = require("./_defined"),
                forOf = require("./_for-of"),
                $iterDefine = require("./_iter-define"),
                step = require("./_iter-step"),
                setSpecies = require("./_set-species"),
                DESCRIPTORS = require("./_descriptors"),
                fastKey = require("./_meta").fastKey,
                SIZE = DESCRIPTORS ? "_s" : "size";
            var getEntry = function(that, key) {
                var index = fastKey(key),
                    entry;
                if (index !== "F") return that._i[index];
                for (entry = that._f; entry; entry = entry.n) {
                    if (entry.k == key) return entry
                }
            };
            module.exports = {
                getConstructor: function(wrapper, NAME, IS_MAP, ADDER) {
                    var C = wrapper(function(that, iterable) {
                        anInstance(that, C, NAME, "_i");
                        that._i = create(null);
                        that._f = undefined;
                        that._l = undefined;
                        that[SIZE] = 0;
                        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that)
                    });
                    redefineAll(C.prototype, {
                        clear: function clear() {
                            for (var that = this, data = that._i, entry = that._f; entry; entry = entry.n) {
                                entry.r = true;
                                if (entry.p) entry.p = entry.p.n = undefined;
                                delete data[entry.i]
                            }
                            that._f = that._l = undefined;
                            that[SIZE] = 0
                        },
                        "delete": function(key) {
                            var that = this,
                                entry = getEntry(that, key);
                            if (entry) {
                                var next = entry.n,
                                    prev = entry.p;
                                delete that._i[entry.i];
                                entry.r = true;
                                if (prev) prev.n = next;
                                if (next) next.p = prev;
                                if (that._f == entry) that._f = next;
                                if (that._l == entry) that._l = prev;
                                that[SIZE]--
                            }
                            return !!entry
                        },
                        forEach: function forEach(callbackfn) {
                            anInstance(this, C, "forEach");
                            var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3),
                                entry;
                            while (entry = entry ? entry.n : this._f) {
                                f(entry.v, entry.k, this);
                                while (entry && entry.r) entry = entry.p
                            }
                        },
                        has: function has(key) {
                            return !!getEntry(this, key)
                        }
                    });
                    if (DESCRIPTORS) dP(C.prototype, "size", {
                        get: function() {
                            return defined(this[SIZE])
                        }
                    });
                    return C
                },
                def: function(that, key, value) {
                    var entry = getEntry(that, key),
                        prev, index;
                    if (entry) {
                        entry.v = value
                    } else {
                        that._l = entry = {
                            i: index = fastKey(key, true),
                            k: key,
                            v: value,
                            p: prev = that._l,
                            n: undefined,
                            r: false
                        };
                        if (!that._f) that._f = entry;
                        if (prev) prev.n = entry;
                        that[SIZE]++;
                        if (index !== "F") that._i[index] = entry
                    }
                    return that
                },
                getEntry: getEntry,
                setStrong: function(C, NAME, IS_MAP) {
                    $iterDefine(C, NAME, function(iterated, kind) {
                        this._t = iterated;
                        this._k = kind;
                        this._l = undefined
                    }, function() {
                        var that = this,
                            kind = that._k,
                            entry = that._l;
                        while (entry && entry.r) entry = entry.p;
                        if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {
                            that._t = undefined;
                            return step(1)
                        }
                        if (kind == "keys") return step(0, entry.k);
                        if (kind == "values") return step(0, entry.v);
                        return step(0, [entry.k, entry.v])
                    }, IS_MAP ? "entries" : "values", !IS_MAP, true);
                    setSpecies(NAME)
                }
            }
        }, {
            "./_an-instance": 59,
            "./_ctx": 78,
            "./_defined": 80,
            "./_descriptors": 81,
            "./_for-of": 90,
            "./_hide": 93,
            "./_iter-define": 106,
            "./_iter-step": 108,
            "./_meta": 115,
            "./_object-create": 119,
            "./_object-dp": 120,
            "./_redefine-all": 139,
            "./_set-species": 144
        }],
        73: [function(require, module, exports) {
            var classof = require("./_classof"),
                from = require("./_array-from-iterable");
            module.exports = function(NAME) {
                return function toJSON() {
                    if (classof(this) != NAME) throw TypeError(NAME + "#toJSON isn't generic");
                    return from(this)
                }
            }
        }, {
            "./_array-from-iterable": 63,
            "./_classof": 70
        }],
        74: [function(require, module, exports) {
            "use strict";
            var redefineAll = require("./_redefine-all"),
                getWeak = require("./_meta").getWeak,
                anObject = require("./_an-object"),
                isObject = require("./_is-object"),
                anInstance = require("./_an-instance"),
                forOf = require("./_for-of"),
                createArrayMethod = require("./_array-methods"),
                $has = require("./_has"),
                arrayFind = createArrayMethod(5),
                arrayFindIndex = createArrayMethod(6),
                id = 0;
            var uncaughtFrozenStore = function(that) {
                return that._l || (that._l = new UncaughtFrozenStore)
            };
            var UncaughtFrozenStore = function() {
                this.a = []
            };
            var findUncaughtFrozen = function(store, key) {
                return arrayFind(store.a, function(it) {
                    return it[0] === key
                })
            };
            UncaughtFrozenStore.prototype = {
                get: function(key) {
                    var entry = findUncaughtFrozen(this, key);
                    if (entry) return entry[1]
                },
                has: function(key) {
                    return !!findUncaughtFrozen(this, key)
                },
                set: function(key, value) {
                    var entry = findUncaughtFrozen(this, key);
                    if (entry) entry[1] = value;
                    else this.a.push([key, value])
                },
                "delete": function(key) {
                    var index = arrayFindIndex(this.a, function(it) {
                        return it[0] === key
                    });
                    if (~index) this.a.splice(index, 1);
                    return !!~index
                }
            };
            module.exports = {
                getConstructor: function(wrapper, NAME, IS_MAP, ADDER) {
                    var C = wrapper(function(that, iterable) {
                        anInstance(that, C, NAME, "_i");
                        that._i = id++;
                        that._l = undefined;
                        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that)
                    });
                    redefineAll(C.prototype, {
                        "delete": function(key) {
                            if (!isObject(key)) return false;
                            var data = getWeak(key);
                            if (data === true) return uncaughtFrozenStore(this)["delete"](key);
                            return data && $has(data, this._i) && delete data[this._i]
                        },
                        has: function has(key) {
                            if (!isObject(key)) return false;
                            var data = getWeak(key);
                            if (data === true) return uncaughtFrozenStore(this).has(key);
                            return data && $has(data, this._i)
                        }
                    });
                    return C
                },
                def: function(that, key, value) {
                    var data = getWeak(anObject(key), true);
                    if (data === true) uncaughtFrozenStore(that).set(key, value);
                    else data[that._i] = value;
                    return that
                },
                ufstore: uncaughtFrozenStore
            }
        }, {
            "./_an-instance": 59,
            "./_an-object": 60,
            "./_array-methods": 65,
            "./_for-of": 90,
            "./_has": 92,
            "./_is-object": 102,
            "./_meta": 115,
            "./_redefine-all": 139
        }],
        75: [function(require, module, exports) {
            "use strict";
            var global = require("./_global"),
                $export = require("./_export"),
                redefine = require("./_redefine"),
                redefineAll = require("./_redefine-all"),
                meta = require("./_meta"),
                forOf = require("./_for-of"),
                anInstance = require("./_an-instance"),
                isObject = require("./_is-object"),
                fails = require("./_fails"),
                $iterDetect = require("./_iter-detect"),
                setToStringTag = require("./_set-to-string-tag"),
                inheritIfRequired = require("./_inherit-if-required");
            module.exports = function(NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {
                var Base = global[NAME],
                    C = Base,
                    ADDER = IS_MAP ? "set" : "add",
                    proto = C && C.prototype,
                    O = {};
                var fixMethod = function(KEY) {
                    var fn = proto[KEY];
                    redefine(proto, KEY, KEY == "delete" ? function(a) {
                        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a)
                    } : KEY == "has" ? function has(a) {
                        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a)
                    } : KEY == "get" ? function get(a) {
                        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a)
                    } : KEY == "add" ? function add(a) {
                        fn.call(this, a === 0 ? 0 : a);
                        return this
                    } : function set(a, b) {
                        fn.call(this, a === 0 ? 0 : a, b);
                        return this
                    })
                };
                if (typeof C != "function" || !(IS_WEAK || proto.forEach && !fails(function() {
                        (new C).entries().next()
                    }))) {
                    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);
                    redefineAll(C.prototype, methods);
                    meta.NEED = true
                } else {
                    var instance = new C,
                        HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance,
                        THROWS_ON_PRIMITIVES = fails(function() {
                            instance.has(1)
                        }),
                        ACCEPT_ITERABLES = $iterDetect(function(iter) {
                            new C(iter)
                        }),
                        BUGGY_ZERO = !IS_WEAK && fails(function() {
                            var $instance = new C,
                                index = 5;
                            while (index--) $instance[ADDER](index, index);
                            return !$instance.has(-0)
                        });
                    if (!ACCEPT_ITERABLES) {
                        C = wrapper(function(target, iterable) {
                            anInstance(target, C, NAME);
                            var that = inheritIfRequired(new Base, target, C);
                            if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);
                            return that
                        });
                        C.prototype = proto;
                        proto.constructor = C
                    }
                    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {
                        fixMethod("delete");
                        fixMethod("has");
                        IS_MAP && fixMethod("get")
                    }
                    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);
                    if (IS_WEAK && proto.clear) delete proto.clear
                }
                setToStringTag(C, NAME);
                O[NAME] = C;
                $export($export.G + $export.W + $export.F * (C != Base), O);
                if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);
                return C
            }
        }, {
            "./_an-instance": 59,
            "./_export": 85,
            "./_fails": 87,
            "./_for-of": 90,
            "./_global": 91,
            "./_inherit-if-required": 96,
            "./_is-object": 102,
            "./_iter-detect": 107,
            "./_meta": 115,
            "./_redefine": 140,
            "./_redefine-all": 139,
            "./_set-to-string-tag": 145
        }],
        76: [function(require, module, exports) {
            var core = module.exports = {
                version: "2.4.0"
            };
            if (typeof __e == "number") __e = core
        }, {}],
        77: [function(require, module, exports) {
            "use strict";
            var $defineProperty = require("./_object-dp"),
                createDesc = require("./_property-desc");
            module.exports = function(object, index, value) {
                if (index in object) $defineProperty.f(object, index, createDesc(0, value));
                else object[index] = value
            }
        }, {
            "./_object-dp": 120,
            "./_property-desc": 138
        }],
        78: [function(require, module, exports) {
            var aFunction = require("./_a-function");
            module.exports = function(fn, that, length) {
                aFunction(fn);
                if (that === undefined) return fn;
                switch (length) {
                    case 1:
                        return function(a) {
                            return fn.call(that, a)
                        };
                    case 2:
                        return function(a, b) {
                            return fn.call(that, a, b)
                        };
                    case 3:
                        return function(a, b, c) {
                            return fn.call(that, a, b, c)
                        }
                }
                return function() {
                    return fn.apply(that, arguments)
                }
            }
        }, {
            "./_a-function": 56
        }],
        79: [function(require, module, exports) {
            "use strict";
            var anObject = require("./_an-object"),
                toPrimitive = require("./_to-primitive"),
                NUMBER = "number";
            module.exports = function(hint) {
                if (hint !== "string" && hint !== NUMBER && hint !== "default") throw TypeError("Incorrect hint");
                return toPrimitive(anObject(this), hint != NUMBER)
            }
        }, {
            "./_an-object": 60,
            "./_to-primitive": 163
        }],
        80: [function(require, module, exports) {
            module.exports = function(it) {
                if (it == undefined) throw TypeError("Can't call method on  " + it);
                return it
            }
        }, {}],
        81: [function(require, module, exports) {
            module.exports = !require("./_fails")(function() {
                return Object.defineProperty({}, "a", {
                    get: function() {
                        return 7
                    }
                }).a != 7
            })
        }, {
            "./_fails": 87
        }],
        82: [function(require, module, exports) {
            var isObject = require("./_is-object"),
                document = require("./_global").document,
                is = isObject(document) && isObject(document.createElement);
            module.exports = function(it) {
                return is ? document.createElement(it) : {}
            }
        }, {
            "./_global": 91,
            "./_is-object": 102
        }],
        83: [function(require, module, exports) {
            module.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")
        }, {}],
        84: [function(require, module, exports) {
            var getKeys = require("./_object-keys"),
                gOPS = require("./_object-gops"),
                pIE = require("./_object-pie");
            module.exports = function(it) {
                var result = getKeys(it),
                    getSymbols = gOPS.f;
                if (getSymbols) {
                    var symbols = getSymbols(it),
                        isEnum = pIE.f,
                        i = 0,
                        key;
                    while (symbols.length > i)
                        if (isEnum.call(it, key = symbols[i++])) result.push(key)
                }
                return result
            }
        }, {
            "./_object-gops": 126,
            "./_object-keys": 129,
            "./_object-pie": 130
        }],
        85: [function(require, module, exports) {
            var global = require("./_global"),
                core = require("./_core"),
                hide = require("./_hide"),
                redefine = require("./_redefine"),
                ctx = require("./_ctx"),
                PROTOTYPE = "prototype";
            var $export = function(type, name, source) {
                var IS_FORCED = type & $export.F,
                    IS_GLOBAL = type & $export.G,
                    IS_STATIC = type & $export.S,
                    IS_PROTO = type & $export.P,
                    IS_BIND = type & $export.B,
                    target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE],
                    exports = IS_GLOBAL ? core : core[name] || (core[name] = {}),
                    expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {}),
                    key, own, out, exp;
                if (IS_GLOBAL) source = name;
                for (key in source) {
                    own = !IS_FORCED && target && target[key] !== undefined;
                    out = (own ? target : source)[key];
                    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == "function" ? ctx(Function.call, out) : out;
                    if (target) redefine(target, key, out, type & $export.U);
                    if (exports[key] != out) hide(exports, key, exp);
                    if (IS_PROTO && expProto[key] != out) expProto[key] = out
                }
            };
            global.core = core;
            $export.F = 1;
            $export.G = 2;
            $export.S = 4;
            $export.P = 8;
            $export.B = 16;
            $export.W = 32;
            $export.U = 64;
            $export.R = 128;
            module.exports = $export
        }, {
            "./_core": 76,
            "./_ctx": 78,
            "./_global": 91,
            "./_hide": 93,
            "./_redefine": 140
        }],
        86: [function(require, module, exports) {
            var MATCH = require("./_wks")("match");
            module.exports = function(KEY) {
                var re = /./;
                try {
                    "/./" [KEY](re)
                } catch (e) {
                    try {
                        re[MATCH] = false;
                        return !"/./" [KEY](re)
                    } catch (f) {}
                }
                return true
            }
        }, {
            "./_wks": 170
        }],
        87: [function(require, module, exports) {
            module.exports = function(exec) {
                try {
                    return !!exec()
                } catch (e) {
                    return true
                }
            }
        }, {}],
        88: [function(require, module, exports) {
            "use strict";
            var hide = require("./_hide"),
                redefine = require("./_redefine"),
                fails = require("./_fails"),
                defined = require("./_defined"),
                wks = require("./_wks");
            module.exports = function(KEY, length, exec) {
                var SYMBOL = wks(KEY),
                    fns = exec(defined, SYMBOL, "" [KEY]),
                    strfn = fns[0],
                    rxfn = fns[1];
                if (fails(function() {
                        var O = {};
                        O[SYMBOL] = function() {
                            return 7
                        };
                        return "" [KEY](O) != 7
                    })) {
                    redefine(String.prototype, KEY, strfn);
                    hide(RegExp.prototype, SYMBOL, length == 2 ? function(string, arg) {
                        return rxfn.call(string, this, arg)
                    } : function(string) {
                        return rxfn.call(string, this)
                    })
                }
            }
        }, {
            "./_defined": 80,
            "./_fails": 87,
            "./_hide": 93,
            "./_redefine": 140,
            "./_wks": 170
        }],
        89: [function(require, module, exports) {
            "use strict";
            var anObject = require("./_an-object");
            module.exports = function() {
                var that = anObject(this),
                    result = "";
                if (that.global) result += "g";
                if (that.ignoreCase) result += "i";
                if (that.multiline) result += "m";
                if (that.unicode) result += "u";
                if (that.sticky) result += "y";
                return result
            }
        }, {
            "./_an-object": 60
        }],
        90: [function(require, module, exports) {
            var ctx = require("./_ctx"),
                call = require("./_iter-call"),
                isArrayIter = require("./_is-array-iter"),
                anObject = require("./_an-object"),
                toLength = require("./_to-length"),
                getIterFn = require("./core.get-iterator-method"),
                BREAK = {},
                RETURN = {};
            var exports = module.exports = function(iterable, entries, fn, that, ITERATOR) {
                var iterFn = ITERATOR ? function() {
                        return iterable
                    } : getIterFn(iterable),
                    f = ctx(fn, that, entries ? 2 : 1),
                    index = 0,
                    length, step, iterator, result;
                if (typeof iterFn != "function") throw TypeError(iterable + " is not iterable!");
                if (isArrayIter(iterFn))
                    for (length = toLength(iterable.length); length > index; index++) {
                        result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
                        if (result === BREAK || result === RETURN) return result
                    } else
                        for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {
                            result = call(iterator, f, step.value, entries);
                            if (result === BREAK || result === RETURN) return result
                        }
            };
            exports.BREAK = BREAK;
            exports.RETURN = RETURN
        }, {
            "./_an-object": 60,
            "./_ctx": 78,
            "./_is-array-iter": 99,
            "./_iter-call": 104,
            "./_to-length": 161,
            "./core.get-iterator-method": 171
        }],
        91: [function(require, module, exports) {
            var global = module.exports = typeof window != "undefined" && window.Math == Math ? window : typeof self != "undefined" && self.Math == Math ? self : Function("return this")();
            if (typeof __g == "number") __g = global
        }, {}],
        92: [function(require, module, exports) {
            var hasOwnProperty = {}.hasOwnProperty;
            module.exports = function(it, key) {
                return hasOwnProperty.call(it, key)
            }
        }, {}],
        93: [function(require, module, exports) {
            var dP = require("./_object-dp"),
                createDesc = require("./_property-desc");
            module.exports = require("./_descriptors") ? function(object, key, value) {
                return dP.f(object, key, createDesc(1, value))
            } : function(object, key, value) {
                object[key] = value;
                return object
            }
        }, {
            "./_descriptors": 81,
            "./_object-dp": 120,
            "./_property-desc": 138
        }],
        94: [function(require, module, exports) {
            module.exports = require("./_global").document && document.documentElement
        }, {
            "./_global": 91
        }],
        95: [function(require, module, exports) {
            module.exports = !require("./_descriptors") && !require("./_fails")(function() {
                return Object.defineProperty(require("./_dom-create")("div"), "a", {
                    get: function() {
                        return 7
                    }
                }).a != 7
            })
        }, {
            "./_descriptors": 81,
            "./_dom-create": 82,
            "./_fails": 87
        }],
        96: [function(require, module, exports) {
            var isObject = require("./_is-object"),
                setPrototypeOf = require("./_set-proto").set;
            module.exports = function(that, target, C) {
                var P, S = target.constructor;
                if (S !== C && typeof S == "function" && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {
                    setPrototypeOf(that, P)
                }
                return that
            }
        }, {
            "./_is-object": 102,
            "./_set-proto": 143
        }],
        97: [function(require, module, exports) {
            module.exports = function(fn, args, that) {
                var un = that === undefined;
                switch (args.length) {
                    case 0:
                        return un ? fn() : fn.call(that);
                    case 1:
                        return un ? fn(args[0]) : fn.call(that, args[0]);
                    case 2:
                        return un ? fn(args[0], args[1]) : fn.call(that, args[0], args[1]);
                    case 3:
                        return un ? fn(args[0], args[1], args[2]) : fn.call(that, args[0], args[1], args[2]);
                    case 4:
                        return un ? fn(args[0], args[1], args[2], args[3]) : fn.call(that, args[0], args[1], args[2], args[3])
                }
                return fn.apply(that, args)
            }
        }, {}],
        98: [function(require, module, exports) {
            var cof = require("./_cof");
            module.exports = Object("z").propertyIsEnumerable(0) ? Object : function(it) {
                return cof(it) == "String" ? it.split("") : Object(it)
            }
        }, {
            "./_cof": 71
        }],
        99: [function(require, module, exports) {
            var Iterators = require("./_iterators"),
                ITERATOR = require("./_wks")("iterator"),
                ArrayProto = Array.prototype;
            module.exports = function(it) {
                return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it)
            }
        }, {
            "./_iterators": 109,
            "./_wks": 170
        }],
        100: [function(require, module, exports) {
            var cof = require("./_cof");
            module.exports = Array.isArray || function isArray(arg) {
                return cof(arg) == "Array"
            }
        }, {
            "./_cof": 71
        }],
        101: [function(require, module, exports) {
            var isObject = require("./_is-object"),
                floor = Math.floor;
            module.exports = function isInteger(it) {
                return !isObject(it) && isFinite(it) && floor(it) === it
            }
        }, {
            "./_is-object": 102
        }],
        102: [function(require, module, exports) {
            module.exports = function(it) {
                return typeof it === "object" ? it !== null : typeof it === "function"
            }
        }, {}],
        103: [function(require, module, exports) {
            var isObject = require("./_is-object"),
                cof = require("./_cof"),
                MATCH = require("./_wks")("match");
            module.exports = function(it) {
                var isRegExp;
                return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == "RegExp")
            }
        }, {
            "./_cof": 71,
            "./_is-object": 102,
            "./_wks": 170
        }],
        104: [function(require, module, exports) {
            var anObject = require("./_an-object");
            module.exports = function(iterator, fn, value, entries) {
                try {
                    return entries ? fn(anObject(value)[0], value[1]) : fn(value)
                } catch (e) {
                    var ret = iterator["return"];
                    if (ret !== undefined) anObject(ret.call(iterator));
                    throw e
                }
            }
        }, {
            "./_an-object": 60
        }],
        105: [function(require, module, exports) {
            "use strict";
            var create = require("./_object-create"),
                descriptor = require("./_property-desc"),
                setToStringTag = require("./_set-to-string-tag"),
                IteratorPrototype = {};
            require("./_hide")(IteratorPrototype, require("./_wks")("iterator"), function() {
                return this
            });
            module.exports = function(Constructor, NAME, next) {
                Constructor.prototype = create(IteratorPrototype, {
                    next: descriptor(1, next)
                });
                setToStringTag(Constructor, NAME + " Iterator")
            }
        }, {
            "./_hide": 93,
            "./_object-create": 119,
            "./_property-desc": 138,
            "./_set-to-string-tag": 145,
            "./_wks": 170
        }],
        106: [function(require, module, exports) {
            "use strict";
            var LIBRARY = require("./_library"),
                $export = require("./_export"),
                redefine = require("./_redefine"),
                hide = require("./_hide"),
                has = require("./_has"),
                Iterators = require("./_iterators"),
                $iterCreate = require("./_iter-create"),
                setToStringTag = require("./_set-to-string-tag"),
                getPrototypeOf = require("./_object-gpo"),
                ITERATOR = require("./_wks")("iterator"),
                BUGGY = !([].keys && "next" in [].keys()),
                FF_ITERATOR = "@@iterator",
                KEYS = "keys",
                VALUES = "values";
            var returnThis = function() {
                return this
            };
            module.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
                $iterCreate(Constructor, NAME, next);
                var getMethod = function(kind) {
                    if (!BUGGY && kind in proto) return proto[kind];
                    switch (kind) {
                        case KEYS:
                            return function keys() {
                                return new Constructor(this, kind)
                            };
                        case VALUES:
                            return function values() {
                                return new Constructor(this, kind)
                            }
                    }
                    return function entries() {
                        return new Constructor(this, kind)
                    }
                };
                var TAG = NAME + " Iterator",
                    DEF_VALUES = DEFAULT == VALUES,
                    VALUES_BUG = false,
                    proto = Base.prototype,
                    $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT],
                    $default = $native || getMethod(DEFAULT),
                    $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod("entries") : undefined,
                    $anyNative = NAME == "Array" ? proto.entries || $native : $native,
                    methods, key, IteratorPrototype;
                if ($anyNative) {
                    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));
                    if (IteratorPrototype !== Object.prototype) {
                        setToStringTag(IteratorPrototype, TAG, true);
                        if (!LIBRARY && !has(IteratorPrototype, ITERATOR)) hide(IteratorPrototype, ITERATOR, returnThis)
                    }
                }
                if (DEF_VALUES && $native && $native.name !== VALUES) {
                    VALUES_BUG = true;
                    $default = function values() {
                        return $native.call(this)
                    }
                }
                if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {
                    hide(proto, ITERATOR, $default)
                }
                Iterators[NAME] = $default;
                Iterators[TAG] = returnThis;
                if (DEFAULT) {
                    methods = {
                        values: DEF_VALUES ? $default : getMethod(VALUES),
                        keys: IS_SET ? $default : getMethod(KEYS),
                        entries: $entries
                    };
                    if (FORCED)
                        for (key in methods) {
                            if (!(key in proto)) redefine(proto, key, methods[key])
                        } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods)
                }
                return methods
            }
        }, {
            "./_export": 85,
            "./_has": 92,
            "./_hide": 93,
            "./_iter-create": 105,
            "./_iterators": 109,
            "./_library": 111,
            "./_object-gpo": 127,
            "./_redefine": 140,
            "./_set-to-string-tag": 145,
            "./_wks": 170
        }],
        107: [function(require, module, exports) {
            var ITERATOR = require("./_wks")("iterator"),
                SAFE_CLOSING = false;
            try {
                var riter = [7][ITERATOR]();
                riter["return"] = function() {
                    SAFE_CLOSING = true
                };
                Array.from(riter, function() {
                    throw 2
                })
            } catch (e) {}
            module.exports = function(exec, skipClosing) {
                if (!skipClosing && !SAFE_CLOSING) return false;
                var safe = false;
                try {
                    var arr = [7],
                        iter = arr[ITERATOR]();
                    iter.next = function() {
                        return {
                            done: safe = true
                        }
                    };
                    arr[ITERATOR] = function() {
                        return iter
                    };
                    exec(arr)
                } catch (e) {}
                return safe
            }
        }, {
            "./_wks": 170
        }],
        108: [function(require, module, exports) {
            module.exports = function(done, value) {
                return {
                    value: value,
                    done: !!done
                }
            }
        }, {}],
        109: [function(require, module, exports) {
            module.exports = {}
        }, {}],
        110: [function(require, module, exports) {
            var getKeys = require("./_object-keys"),
                toIObject = require("./_to-iobject");
            module.exports = function(object, el) {
                var O = toIObject(object),
                    keys = getKeys(O),
                    length = keys.length,
                    index = 0,
                    key;
                while (length > index)
                    if (O[key = keys[index++]] === el) return key
            }
        }, {
            "./_object-keys": 129,
            "./_to-iobject": 160
        }],
        111: [function(require, module, exports) {
            module.exports = false
        }, {}],
        112: [function(require, module, exports) {
            var $expm1 = Math.expm1;
            module.exports = !$expm1 || $expm1(10) > 22025.465794806718 || $expm1(10) < 22025.465794806718 || $expm1(-2e-17) != -2e-17 ? function expm1(x) {
                return (x = +x) == 0 ? x : x > -1e-6 && x < 1e-6 ? x + x * x / 2 : Math.exp(x) - 1
            } : $expm1
        }, {}],
        113: [function(require, module, exports) {
            module.exports = Math.log1p || function log1p(x) {
                return (x = +x) > -1e-8 && x < 1e-8 ? x - x * x / 2 : Math.log(1 + x)
            }
        }, {}],
        114: [function(require, module, exports) {
            module.exports = Math.sign || function sign(x) {
                return (x = +x) == 0 || x != x ? x : x < 0 ? -1 : 1
            }
        }, {}],
        115: [function(require, module, exports) {
            var META = require("./_uid")("meta"),
                isObject = require("./_is-object"),
                has = require("./_has"),
                setDesc = require("./_object-dp").f,
                id = 0;
            var isExtensible = Object.isExtensible || function() {
                return true
            };
            var FREEZE = !require("./_fails")(function() {
                return isExtensible(Object.preventExtensions({}))
            });
            var setMeta = function(it) {
                setDesc(it, META, {
                    value: {
                        i: "O" + ++id,
                        w: {}
                    }
                })
            };
            var fastKey = function(it, create) {
                if (!isObject(it)) return typeof it == "symbol" ? it : (typeof it == "string" ? "S" : "P") + it;
                if (!has(it, META)) {
                    if (!isExtensible(it)) return "F";
                    if (!create) return "E";
                    setMeta(it)
                }
                return it[META].i
            };
            var getWeak = function(it, create) {
                if (!has(it, META)) {
                    if (!isExtensible(it)) return true;
                    if (!create) return false;
                    setMeta(it)
                }
                return it[META].w
            };
            var onFreeze = function(it) {
                if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);
                return it
            };
            var meta = module.exports = {
                KEY: META,
                NEED: false,
                fastKey: fastKey,
                getWeak: getWeak,
                onFreeze: onFreeze
            }
        }, {
            "./_fails": 87,
            "./_has": 92,
            "./_is-object": 102,
            "./_object-dp": 120,
            "./_uid": 167
        }],
        116: [function(require, module, exports) {
            var Map = require("./es6.map"),
                $export = require("./_export"),
                shared = require("./_shared")("metadata"),
                store = shared.store || (shared.store = new(require("./es6.weak-map")));
            var getOrCreateMetadataMap = function(target, targetKey, create) {
                var targetMetadata = store.get(target);
                if (!targetMetadata) {
                    if (!create) return undefined;
                    store.set(target, targetMetadata = new Map)
                }
                var keyMetadata = targetMetadata.get(targetKey);
                if (!keyMetadata) {
                    if (!create) return undefined;
                    targetMetadata.set(targetKey, keyMetadata = new Map)
                }
                return keyMetadata
            };
            var ordinaryHasOwnMetadata = function(MetadataKey, O, P) {
                var metadataMap = getOrCreateMetadataMap(O, P, false);
                return metadataMap === undefined ? false : metadataMap.has(MetadataKey)
            };
            var ordinaryGetOwnMetadata = function(MetadataKey, O, P) {
                var metadataMap = getOrCreateMetadataMap(O, P, false);
                return metadataMap === undefined ? undefined : metadataMap.get(MetadataKey)
            };
            var ordinaryDefineOwnMetadata = function(MetadataKey, MetadataValue, O, P) {
                getOrCreateMetadataMap(O, P, true).set(MetadataKey, MetadataValue)
            };
            var ordinaryOwnMetadataKeys = function(target, targetKey) {
                var metadataMap = getOrCreateMetadataMap(target, targetKey, false),
                    keys = [];
                if (metadataMap) metadataMap.forEach(function(_, key) {
                    keys.push(key)
                });
                return keys
            };
            var toMetaKey = function(it) {
                return it === undefined || typeof it == "symbol" ? it : String(it)
            };
            var exp = function(O) {
                $export($export.S, "Reflect", O)
            };
            module.exports = {
                store: store,
                map: getOrCreateMetadataMap,
                has: ordinaryHasOwnMetadata,
                get: ordinaryGetOwnMetadata,
                set: ordinaryDefineOwnMetadata,
                keys: ordinaryOwnMetadataKeys,
                key: toMetaKey,
                exp: exp
            }
        }, {
            "./_export": 85,
            "./_shared": 147,
            "./es6.map": 203,
            "./es6.weak-map": 309
        }],
        117: [function(require, module, exports) {
            var global = require("./_global"),
                macrotask = require("./_task").set,
                Observer = global.MutationObserver || global.WebKitMutationObserver,
                process = global.process,
                Promise = global.Promise,
                isNode = require("./_cof")(process) == "process";
            module.exports = function() {
                var head, last, notify;
                var flush = function() {
                    var parent, fn;
                    if (isNode && (parent = process.domain)) parent.exit();
                    while (head) {
                        fn = head.fn;
                        head = head.next;
                        try {
                            fn()
                        } catch (e) {
                            if (head) notify();
                            else last = undefined;
                            throw e
                        }
                    }
                    last = undefined;
                    if (parent) parent.enter()
                };
                if (isNode) {
                    notify = function() {
                        process.nextTick(flush)
                    }
                } else if (Observer) {
                    var toggle = true,
                        node = document.createTextNode("");
                    new Observer(flush).observe(node, {
                        characterData: true
                    });
                    notify = function() {
                        node.data = toggle = !toggle
                    }
                } else if (Promise && Promise.resolve) {
                    var promise = Promise.resolve();
                    notify = function() {
                        promise.then(flush)
                    }
                } else {
                    notify = function() {
                        macrotask.call(global, flush)
                    }
                }
                return function(fn) {
                    var task = {
                        fn: fn,
                        next: undefined
                    };
                    if (last) last.next = task;
                    if (!head) {
                        head = task;
                        notify()
                    }
                    last = task
                }
            }
        }, {
            "./_cof": 71,
            "./_global": 91,
            "./_task": 157
        }],
        118: [function(require, module, exports) {
            "use strict";
            var getKeys = require("./_object-keys"),
                gOPS = require("./_object-gops"),
                pIE = require("./_object-pie"),
                toObject = require("./_to-object"),
                IObject = require("./_iobject"),
                $assign = Object.assign;
            module.exports = !$assign || require("./_fails")(function() {
                var A = {},
                    B = {},
                    S = Symbol(),
                    K = "abcdefghijklmnopqrst";
                A[S] = 7;
                K.split("").forEach(function(k) {
                    B[k] = k
                });
                return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join("") != K
            }) ? function assign(target, source) {
                var T = toObject(target),
                    aLen = arguments.length,
                    index = 1,
                    getSymbols = gOPS.f,
                    isEnum = pIE.f;
                while (aLen > index) {
                    var S = IObject(arguments[index++]),
                        keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S),
                        length = keys.length,
                        j = 0,
                        key;
                    while (length > j)
                        if (isEnum.call(S, key = keys[j++])) T[key] = S[key]
                }
                return T
            } : $assign
        }, {
            "./_fails": 87,
            "./_iobject": 98,
            "./_object-gops": 126,
            "./_object-keys": 129,
            "./_object-pie": 130,
            "./_to-object": 162
        }],
        119: [function(require, module, exports) {
            var anObject = require("./_an-object"),
                dPs = require("./_object-dps"),
                enumBugKeys = require("./_enum-bug-keys"),
                IE_PROTO = require("./_shared-key")("IE_PROTO"),
                Empty = function() {},
                PROTOTYPE = "prototype";
            var createDict = function() {
                var iframe = require("./_dom-create")("iframe"),
                    i = enumBugKeys.length,
                    gt = ">",
                    iframeDocument;
                iframe.style.display = "none";
                require("./_html").appendChild(iframe);
                iframe.src = "javascript:";
                iframeDocument = iframe.contentWindow.document;
                iframeDocument.open();
                iframeDocument.write("<script>document.F=Object</script" + gt);
                iframeDocument.close();
                createDict = iframeDocument.F;
                while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];
                return createDict()
            };
            module.exports = Object.create || function create(O, Properties) {
                var result;
                if (O !== null) {
                    Empty[PROTOTYPE] = anObject(O);
                    result = new Empty;
                    Empty[PROTOTYPE] = null;
                    result[IE_PROTO] = O
                } else result = createDict();
                return Properties === undefined ? result : dPs(result, Properties)
            }
        }, {
            "./_an-object": 60,
            "./_dom-create": 82,
            "./_enum-bug-keys": 83,
            "./_html": 94,
            "./_object-dps": 121,
            "./_shared-key": 146
        }],
        120: [function(require, module, exports) {
            var anObject = require("./_an-object"),
                IE8_DOM_DEFINE = require("./_ie8-dom-define"),
                toPrimitive = require("./_to-primitive"),
                dP = Object.defineProperty;
            exports.f = require("./_descriptors") ? Object.defineProperty : function defineProperty(O, P, Attributes) {
                anObject(O);
                P = toPrimitive(P, true);
                anObject(Attributes);
                if (IE8_DOM_DEFINE) try {
                    return dP(O, P, Attributes)
                } catch (e) {}
                if ("get" in Attributes || "set" in Attributes) throw TypeError("Accessors not supported!");
                if ("value" in Attributes) O[P] = Attributes.value;
                return O
            }
        }, {
            "./_an-object": 60,
            "./_descriptors": 81,
            "./_ie8-dom-define": 95,
            "./_to-primitive": 163
        }],
        121: [function(require, module, exports) {
            var dP = require("./_object-dp"),
                anObject = require("./_an-object"),
                getKeys = require("./_object-keys");
            module.exports = require("./_descriptors") ? Object.defineProperties : function defineProperties(O, Properties) {
                anObject(O);
                var keys = getKeys(Properties),
                    length = keys.length,
                    i = 0,
                    P;
                while (length > i) dP.f(O, P = keys[i++], Properties[P]);
                return O
            }
        }, {
            "./_an-object": 60,
            "./_descriptors": 81,
            "./_object-dp": 120,
            "./_object-keys": 129
        }],
        122: [function(require, module, exports) {
            module.exports = require("./_library") || !require("./_fails")(function() {
                var K = Math.random();
                __defineSetter__.call(null, K, function() {});
                delete require("./_global")[K]
            })
        }, {
            "./_fails": 87,
            "./_global": 91,
            "./_library": 111
        }],
        123: [function(require, module, exports) {
            var pIE = require("./_object-pie"),
                createDesc = require("./_property-desc"),
                toIObject = require("./_to-iobject"),
                toPrimitive = require("./_to-primitive"),
                has = require("./_has"),
                IE8_DOM_DEFINE = require("./_ie8-dom-define"),
                gOPD = Object.getOwnPropertyDescriptor;
            exports.f = require("./_descriptors") ? gOPD : function getOwnPropertyDescriptor(O, P) {
                O = toIObject(O);
                P = toPrimitive(P, true);
                if (IE8_DOM_DEFINE) try {
                    return gOPD(O, P)
                } catch (e) {}
                if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P])
            }
        }, {
            "./_descriptors": 81,
            "./_has": 92,
            "./_ie8-dom-define": 95,
            "./_object-pie": 130,
            "./_property-desc": 138,
            "./_to-iobject": 160,
            "./_to-primitive": 163
        }],
        124: [function(require, module, exports) {
            var toIObject = require("./_to-iobject"),
                gOPN = require("./_object-gopn").f,
                toString = {}.toString;
            var windowNames = typeof window == "object" && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];
            var getWindowNames = function(it) {
                try {
                    return gOPN(it)
                } catch (e) {
                    return windowNames.slice()
                }
            };
            module.exports.f = function getOwnPropertyNames(it) {
                return windowNames && toString.call(it) == "[object Window]" ? getWindowNames(it) : gOPN(toIObject(it))
            }
        }, {
            "./_object-gopn": 125,
            "./_to-iobject": 160
        }],
        125: [function(require, module, exports) {
            var $keys = require("./_object-keys-internal"),
                hiddenKeys = require("./_enum-bug-keys").concat("length", "prototype");
            exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {
                return $keys(O, hiddenKeys)
            }
        }, {
            "./_enum-bug-keys": 83,
            "./_object-keys-internal": 128
        }],
        126: [function(require, module, exports) {
            exports.f = Object.getOwnPropertySymbols
        }, {}],
        127: [function(require, module, exports) {
            var has = require("./_has"),
                toObject = require("./_to-object"),
                IE_PROTO = require("./_shared-key")("IE_PROTO"),
                ObjectProto = Object.prototype;
            module.exports = Object.getPrototypeOf || function(O) {
                O = toObject(O);
                if (has(O, IE_PROTO)) return O[IE_PROTO];
                if (typeof O.constructor == "function" && O instanceof O.constructor) {
                    return O.constructor.prototype
                }
                return O instanceof Object ? ObjectProto : null
            }
        }, {
            "./_has": 92,
            "./_shared-key": 146,
            "./_to-object": 162
        }],
        128: [function(require, module, exports) {
            var has = require("./_has"),
                toIObject = require("./_to-iobject"),
                arrayIndexOf = require("./_array-includes")(false),
                IE_PROTO = require("./_shared-key")("IE_PROTO");
            module.exports = function(object, names) {
                var O = toIObject(object),
                    i = 0,
                    result = [],
                    key;
                for (key in O)
                    if (key != IE_PROTO) has(O, key) && result.push(key);
                while (names.length > i)
                    if (has(O, key = names[i++])) {
                        ~arrayIndexOf(result, key) || result.push(key)
                    }
                return result
            }
        }, {
            "./_array-includes": 64,
            "./_has": 92,
            "./_shared-key": 146,
            "./_to-iobject": 160
        }],
        129: [function(require, module, exports) {
            var $keys = require("./_object-keys-internal"),
                enumBugKeys = require("./_enum-bug-keys");
            module.exports = Object.keys || function keys(O) {
                return $keys(O, enumBugKeys)
            }
        }, {
            "./_enum-bug-keys": 83,
            "./_object-keys-internal": 128
        }],
        130: [function(require, module, exports) {
            exports.f = {}.propertyIsEnumerable
        }, {}],
        131: [function(require, module, exports) {
            var $export = require("./_export"),
                core = require("./_core"),
                fails = require("./_fails");
            module.exports = function(KEY, exec) {
                var fn = (core.Object || {})[KEY] || Object[KEY],
                    exp = {};
                exp[KEY] = exec(fn);
                $export($export.S + $export.F * fails(function() {
                    fn(1)
                }), "Object", exp)
            }
        }, {
            "./_core": 76,
            "./_export": 85,
            "./_fails": 87
        }],
        132: [function(require, module, exports) {
            var getKeys = require("./_object-keys"),
                toIObject = require("./_to-iobject"),
                isEnum = require("./_object-pie").f;
            module.exports = function(isEntries) {
                return function(it) {
                    var O = toIObject(it),
                        keys = getKeys(O),
                        length = keys.length,
                        i = 0,
                        result = [],
                        key;
                    while (length > i)
                        if (isEnum.call(O, key = keys[i++])) {
                            result.push(isEntries ? [key, O[key]] : O[key])
                        }
                    return result
                }
            }
        }, {
            "./_object-keys": 129,
            "./_object-pie": 130,
            "./_to-iobject": 160
        }],
        133: [function(require, module, exports) {
            var gOPN = require("./_object-gopn"),
                gOPS = require("./_object-gops"),
                anObject = require("./_an-object"),
                Reflect = require("./_global").Reflect;
            module.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {
                var keys = gOPN.f(anObject(it)),
                    getSymbols = gOPS.f;
                return getSymbols ? keys.concat(getSymbols(it)) : keys
            }
        }, {
            "./_an-object": 60,
            "./_global": 91,
            "./_object-gopn": 125,
            "./_object-gops": 126
        }],
        134: [function(require, module, exports) {
            var $parseFloat = require("./_global").parseFloat,
                $trim = require("./_string-trim").trim;
            module.exports = 1 / $parseFloat(require("./_string-ws") + "-0") !== -Infinity ? function parseFloat(str) {
                var string = $trim(String(str), 3),
                    result = $parseFloat(string);
                return result === 0 && string.charAt(0) == "-" ? -0 : result
            } : $parseFloat
        }, {
            "./_global": 91,
            "./_string-trim": 155,
            "./_string-ws": 156
        }],
        135: [function(require, module, exports) {
            var $parseInt = require("./_global").parseInt,
                $trim = require("./_string-trim").trim,
                ws = require("./_string-ws"),
                hex = /^[\-+]?0[xX]/;
            module.exports = $parseInt(ws + "08") !== 8 || $parseInt(ws + "0x16") !== 22 ? function parseInt(str, radix) {
                var string = $trim(String(str), 3);
                return $parseInt(string, radix >>> 0 || (hex.test(string) ? 16 : 10))
            } : $parseInt
        }, {
            "./_global": 91,
            "./_string-trim": 155,
            "./_string-ws": 156
        }],
        136: [function(require, module, exports) {
            "use strict";
            var path = require("./_path"),
                invoke = require("./_invoke"),
                aFunction = require("./_a-function");
            module.exports = function() {
                var fn = aFunction(this),
                    length = arguments.length,
                    pargs = Array(length),
                    i = 0,
                    _ = path._,
                    holder = false;
                while (length > i)
                    if ((pargs[i] = arguments[i++]) === _) holder = true;
                return function() {
                    var that = this,
                        aLen = arguments.length,
                        j = 0,
                        k = 0,
                        args;
                    if (!holder && !aLen) return invoke(fn, pargs, that);
                    args = pargs.slice();
                    if (holder)
                        for (; length > j; j++)
                            if (args[j] === _) args[j] = arguments[k++];
                    while (aLen > k) args.push(arguments[k++]);
                    return invoke(fn, args, that)
                }
            }
        }, {
            "./_a-function": 56,
            "./_invoke": 97,
            "./_path": 137
        }],
        137: [function(require, module, exports) {
            module.exports = require("./_global")
        }, {
            "./_global": 91
        }],
        138: [function(require, module, exports) {
            module.exports = function(bitmap, value) {
                return {
                    enumerable: !(bitmap & 1),
                    configurable: !(bitmap & 2),
                    writable: !(bitmap & 4),
                    value: value
                }
            }
        }, {}],
        139: [function(require, module, exports) {
            var redefine = require("./_redefine");
            module.exports = function(target, src, safe) {
                for (var key in src) redefine(target, key, src[key], safe);
                return target
            }
        }, {
            "./_redefine": 140
        }],
        140: [function(require, module, exports) {
            var global = require("./_global"),
                hide = require("./_hide"),
                has = require("./_has"),
                SRC = require("./_uid")("src"),
                TO_STRING = "toString",
                $toString = Function[TO_STRING],
                TPL = ("" + $toString).split(TO_STRING);
            require("./_core").inspectSource = function(it) {
                return $toString.call(it)
            };
            (module.exports = function(O, key, val, safe) {
                var isFunction = typeof val == "function";
                if (isFunction) has(val, "name") || hide(val, "name", key);
                if (O[key] === val) return;
                if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? "" + O[key] : TPL.join(String(key)));
                if (O === global) {
                    O[key] = val
                } else {
                    if (!safe) {
                        delete O[key];
                        hide(O, key, val)
                    } else {
                        if (O[key]) O[key] = val;
                        else hide(O, key, val)
                    }
                }
            })(Function.prototype, TO_STRING, function toString() {
                return typeof this == "function" && this[SRC] || $toString.call(this)
            })
        }, {
            "./_core": 76,
            "./_global": 91,
            "./_has": 92,
            "./_hide": 93,
            "./_uid": 167
        }],
        141: [function(require, module, exports) {
            module.exports = function(regExp, replace) {
                var replacer = replace === Object(replace) ? function(part) {
                    return replace[part]
                } : replace;
                return function(it) {
                    return String(it).replace(regExp, replacer)
                }
            }
        }, {}],
        142: [function(require, module, exports) {
            module.exports = Object.is || function is(x, y) {
                return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y
            }
        }, {}],
        143: [function(require, module, exports) {
            var isObject = require("./_is-object"),
                anObject = require("./_an-object");
            var check = function(O, proto) {
                anObject(O);
                if (!isObject(proto) && proto !== null) throw TypeError(proto + ": can't set as prototype!")
            };
            module.exports = {
                set: Object.setPrototypeOf || ("__proto__" in {} ? function(test, buggy, set) {
                    try {
                        set = require("./_ctx")(Function.call, require("./_object-gopd").f(Object.prototype, "__proto__").set, 2);
                        set(test, []);
                        buggy = !(test instanceof Array)
                    } catch (e) {
                        buggy = true
                    }
                    return function setPrototypeOf(O, proto) {
                        check(O, proto);
                        if (buggy) O.__proto__ = proto;
                        else set(O, proto);
                        return O
                    }
                }({}, false) : undefined),
                check: check
            }
        }, {
            "./_an-object": 60,
            "./_ctx": 78,
            "./_is-object": 102,
            "./_object-gopd": 123
        }],
        144: [function(require, module, exports) {
            "use strict";
            var global = require("./_global"),
                dP = require("./_object-dp"),
                DESCRIPTORS = require("./_descriptors"),
                SPECIES = require("./_wks")("species");
            module.exports = function(KEY) {
                var C = global[KEY];
                if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {
                    configurable: true,
                    get: function() {
                        return this
                    }
                })
            }
        }, {
            "./_descriptors": 81,
            "./_global": 91,
            "./_object-dp": 120,
            "./_wks": 170
        }],
        145: [function(require, module, exports) {
            var def = require("./_object-dp").f,
                has = require("./_has"),
                TAG = require("./_wks")("toStringTag");
            module.exports = function(it, tag, stat) {
                if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, {
                    configurable: true,
                    value: tag
                })
            }
        }, {
            "./_has": 92,
            "./_object-dp": 120,
            "./_wks": 170
        }],
        146: [function(require, module, exports) {
            var shared = require("./_shared")("keys"),
                uid = require("./_uid");
            module.exports = function(key) {
                return shared[key] || (shared[key] = uid(key))
            }
        }, {
            "./_shared": 147,
            "./_uid": 167
        }],
        147: [function(require, module, exports) {
            var global = require("./_global"),
                SHARED = "__core-js_shared__",
                store = global[SHARED] || (global[SHARED] = {});
            module.exports = function(key) {
                return store[key] || (store[key] = {})
            }
        }, {
            "./_global": 91
        }],
        148: [function(require, module, exports) {
            var anObject = require("./_an-object"),
                aFunction = require("./_a-function"),
                SPECIES = require("./_wks")("species");
            module.exports = function(O, D) {
                var C = anObject(O).constructor,
                    S;
                return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S)
            }
        }, {
            "./_a-function": 56,
            "./_an-object": 60,
            "./_wks": 170
        }],
        149: [function(require, module, exports) {
            var fails = require("./_fails");
            module.exports = function(method, arg) {
                return !!method && fails(function() {
                    arg ? method.call(null, function() {}, 1) : method.call(null)
                })
            }
        }, {
            "./_fails": 87
        }],
        150: [function(require, module, exports) {
            var toInteger = require("./_to-integer"),
                defined = require("./_defined");
            module.exports = function(TO_STRING) {
                return function(that, pos) {
                    var s = String(defined(that)),
                        i = toInteger(pos),
                        l = s.length,
                        a, b;
                    if (i < 0 || i >= l) return TO_STRING ? "" : undefined;
                    a = s.charCodeAt(i);
                    return a < 55296 || a > 56319 || i + 1 === l || (b = s.charCodeAt(i + 1)) < 56320 || b > 57343 ? TO_STRING ? s.charAt(i) : a : TO_STRING ? s.slice(i, i + 2) : (a - 55296 << 10) + (b - 56320) + 65536
                }
            }
        }, {
            "./_defined": 80,
            "./_to-integer": 159
        }],
        151: [function(require, module, exports) {
            var isRegExp = require("./_is-regexp"),
                defined = require("./_defined");
            module.exports = function(that, searchString, NAME) {
                if (isRegExp(searchString)) throw TypeError("String#" + NAME + " doesn't accept regex!");
                return String(defined(that))
            }
        }, {
            "./_defined": 80,
            "./_is-regexp": 103
        }],
        152: [function(require, module, exports) {
            var $export = require("./_export"),
                fails = require("./_fails"),
                defined = require("./_defined"),
                quot = /"/g;
            var createHTML = function(string, tag, attribute, value) {
                var S = String(defined(string)),
                    p1 = "<" + tag;
                if (attribute !== "") p1 += " " + attribute + '="' + String(value).replace(quot, "&quot;") + '"';
                return p1 + ">" + S + "</" + tag + ">"
            };
            module.exports = function(NAME, exec) {
                var O = {};
                O[NAME] = exec(createHTML);
                $export($export.P + $export.F * fails(function() {
                    var test = "" [NAME]('"');
                    return test !== test.toLowerCase() || test.split('"').length > 3
                }), "String", O)
            }
        }, {
            "./_defined": 80,
            "./_export": 85,
            "./_fails": 87
        }],
        153: [function(require, module, exports) {
            var toLength = require("./_to-length"),
                repeat = require("./_string-repeat"),
                defined = require("./_defined");
            module.exports = function(that, maxLength, fillString, left) {
                var S = String(defined(that)),
                    stringLength = S.length,
                    fillStr = fillString === undefined ? " " : String(fillString),
                    intMaxLength = toLength(maxLength);
                if (intMaxLength <= stringLength || fillStr == "") return S;
                var fillLen = intMaxLength - stringLength,
                    stringFiller = repeat.call(fillStr, Math.ceil(fillLen / fillStr.length));
                if (stringFiller.length > fillLen) stringFiller = stringFiller.slice(0, fillLen);
                return left ? stringFiller + S : S + stringFiller
            }
        }, {
            "./_defined": 80,
            "./_string-repeat": 154,
            "./_to-length": 161
        }],
        154: [function(require, module, exports) {
            "use strict";
            var toInteger = require("./_to-integer"),
                defined = require("./_defined");
            module.exports = function repeat(count) {
                var str = String(defined(this)),
                    res = "",
                    n = toInteger(count);
                if (n < 0 || n == Infinity) throw RangeError("Count can't be negative");
                for (; n > 0;
                    (n >>>= 1) && (str += str))
                    if (n & 1) res += str;
                return res
            }
        }, {
            "./_defined": 80,
            "./_to-integer": 159
        }],
        155: [function(require, module, exports) {
            var $export = require("./_export"),
                defined = require("./_defined"),
                fails = require("./_fails"),
                spaces = require("./_string-ws"),
                space = "[" + spaces + "]",
                non = "",
                ltrim = RegExp("^" + space + space + "*"),
                rtrim = RegExp(space + space + "*$");
            var exporter = function(KEY, exec, ALIAS) {
                var exp = {};
                var FORCE = fails(function() {
                    return !!spaces[KEY]() || non[KEY]() != non
                });
                var fn = exp[KEY] = FORCE ? exec(trim) : spaces[KEY];
                if (ALIAS) exp[ALIAS] = fn;
                $export($export.P + $export.F * FORCE, "String", exp)
            };
            var trim = exporter.trim = function(string, TYPE) {
                string = String(defined(string));
                if (TYPE & 1) string = string.replace(ltrim, "");
                if (TYPE & 2) string = string.replace(rtrim, "");
                return string
            };
            module.exports = exporter
        }, {
            "./_defined": 80,
            "./_export": 85,
            "./_fails": 87,
            "./_string-ws": 156
        }],
        156: [function(require, module, exports) {
            module.exports = "	\n\f\r   " + "\u2028\u2029\ufeff"
        }, {}],
        157: [function(require, module, exports) {
            var ctx = require("./_ctx"),
                invoke = require("./_invoke"),
                html = require("./_html"),
                cel = require("./_dom-create"),
                global = require("./_global"),
                process = global.process,
                setTask = global.setImmediate,
                clearTask = global.clearImmediate,
                MessageChannel = global.MessageChannel,
                counter = 0,
                queue = {},
                ONREADYSTATECHANGE = "onreadystatechange",
                defer, channel, port;
            var run = function() {
                var id = +this;
                if (queue.hasOwnProperty(id)) {
                    var fn = queue[id];
                    delete queue[id];
                    fn()
                }
            };
            var listener = function(event) {
                run.call(event.data)
            };
            if (!setTask || !clearTask) {
                setTask = function setImmediate(fn) {
                    var args = [],
                        i = 1;
                    while (arguments.length > i) args.push(arguments[i++]);
                    queue[++counter] = function() {
                        invoke(typeof fn == "function" ? fn : Function(fn), args)
                    };
                    defer(counter);
                    return counter
                };
                clearTask = function clearImmediate(id) {
                    delete queue[id]
                };
                if (require("./_cof")(process) == "process") {
                    defer = function(id) {
                        process.nextTick(ctx(run, id, 1))
                    }
                } else if (MessageChannel) {
                    channel = new MessageChannel;
                    port = channel.port2;
                    channel.port1.onmessage = listener;
                    defer = ctx(port.postMessage, port, 1)
                } else if (global.addEventListener && typeof postMessage == "function" && !global.importScripts) {
                    defer = function(id) {
                        global.postMessage(id + "", "*")
                    };
                    global.addEventListener("message", listener, false)
                } else if (ONREADYSTATECHANGE in cel("script")) {
                    defer = function(id) {
                        html.appendChild(cel("script"))[ONREADYSTATECHANGE] = function() {
                            html.removeChild(this);
                            run.call(id)
                        }
                    }
                } else {
                    defer = function(id) {
                        setTimeout(ctx(run, id, 1), 0)
                    }
                }
            }
            module.exports = {
                set: setTask,
                clear: clearTask
            }
        }, {
            "./_cof": 71,
            "./_ctx": 78,
            "./_dom-create": 82,
            "./_global": 91,
            "./_html": 94,
            "./_invoke": 97
        }],
        158: [function(require, module, exports) {
            var toInteger = require("./_to-integer"),
                max = Math.max,
                min = Math.min;
            module.exports = function(index, length) {
                index = toInteger(index);
                return index < 0 ? max(index + length, 0) : min(index, length)
            }
        }, {
            "./_to-integer": 159
        }],
        159: [function(require, module, exports) {
            var ceil = Math.ceil,
                floor = Math.floor;
            module.exports = function(it) {
                return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it)
            }
        }, {}],
        160: [function(require, module, exports) {
            var IObject = require("./_iobject"),
                defined = require("./_defined");
            module.exports = function(it) {
                return IObject(defined(it))
            }
        }, {
            "./_defined": 80,
            "./_iobject": 98
        }],
        161: [function(require, module, exports) {
            var toInteger = require("./_to-integer"),
                min = Math.min;
            module.exports = function(it) {
                return it > 0 ? min(toInteger(it), 9007199254740991) : 0
            }
        }, {
            "./_to-integer": 159
        }],
        162: [function(require, module, exports) {
            var defined = require("./_defined");
            module.exports = function(it) {
                return Object(defined(it))
            }
        }, {
            "./_defined": 80
        }],
        163: [function(require, module, exports) {
            var isObject = require("./_is-object");
            module.exports = function(it, S) {
                if (!isObject(it)) return it;
                var fn, val;
                if (S && typeof(fn = it.toString) == "function" && !isObject(val = fn.call(it))) return val;
                if (typeof(fn = it.valueOf) == "function" && !isObject(val = fn.call(it))) return val;
                if (!S && typeof(fn = it.toString) == "function" && !isObject(val = fn.call(it))) return val;
                throw TypeError("Can't convert object to primitive value")
            }
        }, {
            "./_is-object": 102
        }],
        164: [function(require, module, exports) {
            "use strict";
            if (require("./_descriptors")) {
                var LIBRARY = require("./_library"),
                    global = require("./_global"),
                    fails = require("./_fails"),
                    $export = require("./_export"),
                    $typed = require("./_typed"),
                    $buffer = require("./_typed-buffer"),
                    ctx = require("./_ctx"),
                    anInstance = require("./_an-instance"),
                    propertyDesc = require("./_property-desc"),
                    hide = require("./_hide"),
                    redefineAll = require("./_redefine-all"),
                    isInteger = require("./_is-integer"),
                    toInteger = require("./_to-integer"),
                    toLength = require("./_to-length"),
                    toIndex = require("./_to-index"),
                    toPrimitive = require("./_to-primitive"),
                    has = require("./_has"),
                    same = require("./_same-value"),
                    classof = require("./_classof"),
                    isObject = require("./_is-object"),
                    toObject = require("./_to-object"),
                    isArrayIter = require("./_is-array-iter"),
                    create = require("./_object-create"),
                    getPrototypeOf = require("./_object-gpo"),
                    gOPN = require("./_object-gopn").f,
                    isIterable = require("./core.is-iterable"),
                    getIterFn = require("./core.get-iterator-method"),
                    uid = require("./_uid"),
                    wks = require("./_wks"),
                    createArrayMethod = require("./_array-methods"),
                    createArrayIncludes = require("./_array-includes"),
                    speciesConstructor = require("./_species-constructor"),
                    ArrayIterators = require("./es6.array.iterator"),
                    Iterators = require("./_iterators"),
                    $iterDetect = require("./_iter-detect"),
                    setSpecies = require("./_set-species"),
                    arrayFill = require("./_array-fill"),
                    arrayCopyWithin = require("./_array-copy-within"),
                    $DP = require("./_object-dp"),
                    $GOPD = require("./_object-gopd"),
                    dP = $DP.f,
                    gOPD = $GOPD.f,
                    RangeError = global.RangeError,
                    TypeError = global.TypeError,
                    Uint8Array = global.Uint8Array,
                    ARRAY_BUFFER = "ArrayBuffer",
                    SHARED_BUFFER = "Shared" + ARRAY_BUFFER,
                    BYTES_PER_ELEMENT = "BYTES_PER_ELEMENT",
                    PROTOTYPE = "prototype",
                    ArrayProto = Array[PROTOTYPE],
                    $ArrayBuffer = $buffer.ArrayBuffer,
                    $DataView = $buffer.DataView,
                    arrayForEach = createArrayMethod(0),
                    arrayFilter = createArrayMethod(2),
                    arraySome = createArrayMethod(3),
                    arrayEvery = createArrayMethod(4),
                    arrayFind = createArrayMethod(5),
                    arrayFindIndex = createArrayMethod(6),
                    arrayIncludes = createArrayIncludes(true),
                    arrayIndexOf = createArrayIncludes(false),
                    arrayValues = ArrayIterators.values,
                    arrayKeys = ArrayIterators.keys,
                    arrayEntries = ArrayIterators.entries,
                    arrayLastIndexOf = ArrayProto.lastIndexOf,
                    arrayReduce = ArrayProto.reduce,
                    arrayReduceRight = ArrayProto.reduceRight,
                    arrayJoin = ArrayProto.join,
                    arraySort = ArrayProto.sort,
                    arraySlice = ArrayProto.slice,
                    arrayToString = ArrayProto.toString,
                    arrayToLocaleString = ArrayProto.toLocaleString,
                    ITERATOR = wks("iterator"),
                    TAG = wks("toStringTag"),
                    TYPED_CONSTRUCTOR = uid("typed_constructor"),
                    DEF_CONSTRUCTOR = uid("def_constructor"),
                    ALL_CONSTRUCTORS = $typed.CONSTR,
                    TYPED_ARRAY = $typed.TYPED,
                    VIEW = $typed.VIEW,
                    WRONG_LENGTH = "Wrong length!";
                var $map = createArrayMethod(1, function(O, length) {
                    return allocate(speciesConstructor(O, O[DEF_CONSTRUCTOR]), length)
                });
                var LITTLE_ENDIAN = fails(function() {
                    return new Uint8Array(new Uint16Array([1]).buffer)[0] === 1
                });
                var FORCED_SET = !!Uint8Array && !!Uint8Array[PROTOTYPE].set && fails(function() {
                    new Uint8Array(1).set({})
                });
                var strictToLength = function(it, SAME) {
                    if (it === undefined) throw TypeError(WRONG_LENGTH);
                    var number = +it,
                        length = toLength(it);
                    if (SAME && !same(number, length)) throw RangeError(WRONG_LENGTH);
                    return length
                };
                var toOffset = function(it, BYTES) {
                    var offset = toInteger(it);
                    if (offset < 0 || offset % BYTES) throw RangeError("Wrong offset!");
                    return offset
                };
                var validate = function(it) {
                    if (isObject(it) && TYPED_ARRAY in it) return it;
                    throw TypeError(it + " is not a typed array!")
                };
                var allocate = function(C, length) {
                    if (!(isObject(C) && TYPED_CONSTRUCTOR in C)) {
                        throw TypeError("It is not a typed array constructor!")
                    }
                    return new C(length)
                };
                var speciesFromList = function(O, list) {
                    return fromList(speciesConstructor(O, O[DEF_CONSTRUCTOR]), list)
                };
                var fromList = function(C, list) {
                    var index = 0,
                        length = list.length,
                        result = allocate(C, length);
                    while (length > index) result[index] = list[index++];
                    return result
                };
                var addGetter = function(it, key, internal) {
                    dP(it, key, {
                        get: function() {
                            return this._d[internal]
                        }
                    })
                };
                var $from = function from(source) {
                    var O = toObject(source),
                        aLen = arguments.length,
                        mapfn = aLen > 1 ? arguments[1] : undefined,
                        mapping = mapfn !== undefined,
                        iterFn = getIterFn(O),
                        i, length, values, result, step, iterator;
                    if (iterFn != undefined && !isArrayIter(iterFn)) {
                        for (iterator = iterFn.call(O), values = [], i = 0; !(step = iterator.next()).done; i++) {
                            values.push(step.value)
                        }
                        O = values
                    }
                    if (mapping && aLen > 2) mapfn = ctx(mapfn, arguments[2], 2);
                    for (i = 0, length = toLength(O.length), result = allocate(this, length); length > i; i++) {
                        result[i] = mapping ? mapfn(O[i], i) : O[i]
                    }
                    return result
                };
                var $of = function of() {
                    var index = 0,
                        length = arguments.length,
                        result = allocate(this, length);
                    while (length > index) result[index] = arguments[index++];
                    return result
                };
                var TO_LOCALE_BUG = !!Uint8Array && fails(function() {
                    arrayToLocaleString.call(new Uint8Array(1))
                });
                var $toLocaleString = function toLocaleString() {
                    return arrayToLocaleString.apply(TO_LOCALE_BUG ? arraySlice.call(validate(this)) : validate(this), arguments)
                };
                var proto = {
                    copyWithin: function copyWithin(target, start) {
                        return arrayCopyWithin.call(validate(this), target, start, arguments.length > 2 ? arguments[2] : undefined)
                    },
                    every: function every(callbackfn) {
                        return arrayEvery(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined)
                    },
                    fill: function fill(value) {
                        return arrayFill.apply(validate(this), arguments)
                    },
                    filter: function filter(callbackfn) {
                        return speciesFromList(this, arrayFilter(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined))
                    },
                    find: function find(predicate) {
                        return arrayFind(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined)
                    },
                    findIndex: function findIndex(predicate) {
                        return arrayFindIndex(validate(this), predicate, arguments.length > 1 ? arguments[1] : undefined)
                    },
                    forEach: function forEach(callbackfn) {
                        arrayForEach(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined)
                    },
                    indexOf: function indexOf(searchElement) {
                        return arrayIndexOf(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined)
                    },
                    includes: function includes(searchElement) {
                        return arrayIncludes(validate(this), searchElement, arguments.length > 1 ? arguments[1] : undefined)
                    },
                    join: function join(separator) {
                        return arrayJoin.apply(validate(this), arguments)
                    },
                    lastIndexOf: function lastIndexOf(searchElement) {
                        return arrayLastIndexOf.apply(validate(this), arguments)
                    },
                    map: function map(mapfn) {
                        return $map(validate(this), mapfn, arguments.length > 1 ? arguments[1] : undefined)
                    },
                    reduce: function reduce(callbackfn) {
                        return arrayReduce.apply(validate(this), arguments)
                    },
                    reduceRight: function reduceRight(callbackfn) {
                        return arrayReduceRight.apply(validate(this), arguments)
                    },
                    reverse: function reverse() {
                        var that = this,
                            length = validate(that).length,
                            middle = Math.floor(length / 2),
                            index = 0,
                            value;
                        while (index < middle) {
                            value = that[index];
                            that[index++] = that[--length];
                            that[length] = value
                        }
                        return that
                    },
                    some: function some(callbackfn) {
                        return arraySome(validate(this), callbackfn, arguments.length > 1 ? arguments[1] : undefined)
                    },
                    sort: function sort(comparefn) {
                        return arraySort.call(validate(this), comparefn)
                    },
                    subarray: function subarray(begin, end) {
                        var O = validate(this),
                            length = O.length,
                            $begin = toIndex(begin, length);
                        return new(speciesConstructor(O, O[DEF_CONSTRUCTOR]))(O.buffer, O.byteOffset + $begin * O.BYTES_PER_ELEMENT, toLength((end === undefined ? length : toIndex(end, length)) - $begin))
                    }
                };
                var $slice = function slice(start, end) {
                    return speciesFromList(this, arraySlice.call(validate(this), start, end))
                };
                var $set = function set(arrayLike) {
                    validate(this);
                    var offset = toOffset(arguments[1], 1),
                        length = this.length,
                        src = toObject(arrayLike),
                        len = toLength(src.length),
                        index = 0;
                    if (len + offset > length) throw RangeError(WRONG_LENGTH);
                    while (index < len) this[offset + index] = src[index++]
                };
                var $iterators = {
                    entries: function entries() {
                        return arrayEntries.call(validate(this))
                    },
                    keys: function keys() {
                        return arrayKeys.call(validate(this))
                    },
                    values: function values() {
                        return arrayValues.call(validate(this))
                    }
                };
                var isTAIndex = function(target, key) {
                    return isObject(target) && target[TYPED_ARRAY] && typeof key != "symbol" && key in target && String(+key) == String(key)
                };
                var $getDesc = function getOwnPropertyDescriptor(target, key) {
                    return isTAIndex(target, key = toPrimitive(key, true)) ? propertyDesc(2, target[key]) : gOPD(target, key)
                };
                var $setDesc = function defineProperty(target, key, desc) {
                    if (isTAIndex(target, key = toPrimitive(key, true)) && isObject(desc) && has(desc, "value") && !has(desc, "get") && !has(desc, "set") && !desc.configurable && (!has(desc, "writable") || desc.writable) && (!has(desc, "enumerable") || desc.enumerable)) {
                        target[key] = desc.value;
                        return target
                    } else return dP(target, key, desc)
                };
                if (!ALL_CONSTRUCTORS) {
                    $GOPD.f = $getDesc;
                    $DP.f = $setDesc
                }
                $export($export.S + $export.F * !ALL_CONSTRUCTORS, "Object", {
                    getOwnPropertyDescriptor: $getDesc,
                    defineProperty: $setDesc
                });
                if (fails(function() {
                        arrayToString.call({})
                    })) {
                    arrayToString = arrayToLocaleString = function toString() {
                        return arrayJoin.call(this)
                    }
                }
                var $TypedArrayPrototype$ = redefineAll({}, proto);
                redefineAll($TypedArrayPrototype$, $iterators);
                hide($TypedArrayPrototype$, ITERATOR, $iterators.values);
                redefineAll($TypedArrayPrototype$, {
                    slice: $slice,
                    set: $set,
                    constructor: function() {},
                    toString: arrayToString,
                    toLocaleString: $toLocaleString
                });
                addGetter($TypedArrayPrototype$, "buffer", "b");
                addGetter($TypedArrayPrototype$, "byteOffset", "o");
                addGetter($TypedArrayPrototype$, "byteLength", "l");
                addGetter($TypedArrayPrototype$, "length", "e");
                dP($TypedArrayPrototype$, TAG, {
                    get: function() {
                        return this[TYPED_ARRAY]
                    }
                });
                module.exports = function(KEY, BYTES, wrapper, CLAMPED) {
                    CLAMPED = !!CLAMPED;
                    var NAME = KEY + (CLAMPED ? "Clamped" : "") + "Array",
                        ISNT_UINT8 = NAME != "Uint8Array",
                        GETTER = "get" + KEY,
                        SETTER = "set" + KEY,
                        TypedArray = global[NAME],
                        Base = TypedArray || {},
                        TAC = TypedArray && getPrototypeOf(TypedArray),
                        FORCED = !TypedArray || !$typed.ABV,
                        O = {},
                        TypedArrayPrototype = TypedArray && TypedArray[PROTOTYPE];
                    var getter = function(that, index) {
                        var data = that._d;
                        return data.v[GETTER](index * BYTES + data.o, LITTLE_ENDIAN)
                    };
                    var setter = function(that, index, value) {
                        var data = that._d;
                        if (CLAMPED) value = (value = Math.round(value)) < 0 ? 0 : value > 255 ? 255 : value & 255;
                        data.v[SETTER](index * BYTES + data.o, value, LITTLE_ENDIAN)
                    };
                    var addElement = function(that, index) {
                        dP(that, index, {
                            get: function() {
                                return getter(this, index)
                            },
                            set: function(value) {
                                return setter(this, index, value)
                            },
                            enumerable: true
                        })
                    };
                    if (FORCED) {
                        TypedArray = wrapper(function(that, data, $offset, $length) {
                            anInstance(that, TypedArray, NAME, "_d");
                            var index = 0,
                                offset = 0,
                                buffer, byteLength, length, klass;
                            if (!isObject(data)) {
                                length = strictToLength(data, true);
                                byteLength = length * BYTES;
                                buffer = new $ArrayBuffer(byteLength)
                            } else if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {
                                buffer = data;
                                offset = toOffset($offset, BYTES);
                                var $len = data.byteLength;
                                if ($length === undefined) {
                                    if ($len % BYTES) throw RangeError(WRONG_LENGTH);
                                    byteLength = $len - offset;
                                    if (byteLength < 0) throw RangeError(WRONG_LENGTH)
                                } else {
                                    byteLength = toLength($length) * BYTES;
                                    if (byteLength + offset > $len) throw RangeError(WRONG_LENGTH)
                                }
                                length = byteLength / BYTES
                            } else if (TYPED_ARRAY in data) {
                                return fromList(TypedArray, data)
                            } else {
                                return $from.call(TypedArray, data)
                            }
                            hide(that, "_d", {
                                b: buffer,
                                o: offset,
                                l: byteLength,
                                e: length,
                                v: new $DataView(buffer)
                            });
                            while (index < length) addElement(that, index++)
                        });
                        TypedArrayPrototype = TypedArray[PROTOTYPE] = create($TypedArrayPrototype$);
                        hide(TypedArrayPrototype, "constructor", TypedArray)
                    } else if (!$iterDetect(function(iter) {
                            new TypedArray(null);
                            new TypedArray(iter)
                        }, true)) {
                        TypedArray = wrapper(function(that, data, $offset, $length) {
                            anInstance(that, TypedArray, NAME);
                            var klass;
                            if (!isObject(data)) return new Base(strictToLength(data, ISNT_UINT8));
                            if (data instanceof $ArrayBuffer || (klass = classof(data)) == ARRAY_BUFFER || klass == SHARED_BUFFER) {
                                return $length !== undefined ? new Base(data, toOffset($offset, BYTES), $length) : $offset !== undefined ? new Base(data, toOffset($offset, BYTES)) : new Base(data)
                            }
                            if (TYPED_ARRAY in data) return fromList(TypedArray, data);
                            return $from.call(TypedArray, data)
                        });
                        arrayForEach(TAC !== Function.prototype ? gOPN(Base).concat(gOPN(TAC)) : gOPN(Base), function(key) {
                            if (!(key in TypedArray)) hide(TypedArray, key, Base[key])
                        });
                        TypedArray[PROTOTYPE] = TypedArrayPrototype;
                        if (!LIBRARY) TypedArrayPrototype.constructor = TypedArray
                    }
                    var $nativeIterator = TypedArrayPrototype[ITERATOR],
                        CORRECT_ITER_NAME = !!$nativeIterator && ($nativeIterator.name == "values" || $nativeIterator.name == undefined),
                        $iterator = $iterators.values;
                    hide(TypedArray, TYPED_CONSTRUCTOR, true);
                    hide(TypedArrayPrototype, TYPED_ARRAY, NAME);
                    hide(TypedArrayPrototype, VIEW, true);
                    hide(TypedArrayPrototype, DEF_CONSTRUCTOR, TypedArray);
                    if (CLAMPED ? new TypedArray(1)[TAG] != NAME : !(TAG in TypedArrayPrototype)) {
                        dP(TypedArrayPrototype, TAG, {
                            get: function() {
                                return NAME
                            }
                        })
                    }
                    O[NAME] = TypedArray;
                    $export($export.G + $export.W + $export.F * (TypedArray != Base), O);
                    $export($export.S, NAME, {
                        BYTES_PER_ELEMENT: BYTES,
                        from: $from,
                        of: $of
                    });
                    if (!(BYTES_PER_ELEMENT in TypedArrayPrototype)) hide(TypedArrayPrototype, BYTES_PER_ELEMENT, BYTES);
                    $export($export.P, NAME, proto);
                    setSpecies(NAME);
                    $export($export.P + $export.F * FORCED_SET, NAME, {
                        set: $set
                    });
                    $export($export.P + $export.F * !CORRECT_ITER_NAME, NAME, $iterators);
                    $export($export.P + $export.F * (TypedArrayPrototype.toString != arrayToString), NAME, {
                        toString: arrayToString
                    });
                    $export($export.P + $export.F * fails(function() {
                        new TypedArray(1).slice()
                    }), NAME, {
                        slice: $slice
                    });
                    $export($export.P + $export.F * (fails(function() {
                        return [1, 2].toLocaleString() != new TypedArray([1, 2]).toLocaleString()
                    }) || !fails(function() {
                        TypedArrayPrototype.toLocaleString.call([1, 2])
                    })), NAME, {
                        toLocaleString: $toLocaleString
                    });
                    Iterators[NAME] = CORRECT_ITER_NAME ? $nativeIterator : $iterator;
                    if (!LIBRARY && !CORRECT_ITER_NAME) hide(TypedArrayPrototype, ITERATOR, $iterator)
                }
            } else module.exports = function() {}
        }, {
            "./_an-instance": 59,
            "./_array-copy-within": 61,
            "./_array-fill": 62,
            "./_array-includes": 64,
            "./_array-methods": 65,
            "./_classof": 70,
            "./_ctx": 78,
            "./_descriptors": 81,
            "./_export": 85,
            "./_fails": 87,
            "./_global": 91,
            "./_has": 92,
            "./_hide": 93,
            "./_is-array-iter": 99,
            "./_is-integer": 101,
            "./_is-object": 102,
            "./_iter-detect": 107,
            "./_iterators": 109,
            "./_library": 111,
            "./_object-create": 119,
            "./_object-dp": 120,
            "./_object-gopd": 123,
            "./_object-gopn": 125,
            "./_object-gpo": 127,
            "./_property-desc": 138,
            "./_redefine-all": 139,
            "./_same-value": 142,
            "./_set-species": 144,
            "./_species-constructor": 148,
            "./_to-index": 158,
            "./_to-integer": 159,
            "./_to-length": 161,
            "./_to-object": 162,
            "./_to-primitive": 163,
            "./_typed": 166,
            "./_typed-buffer": 165,
            "./_uid": 167,
            "./_wks": 170,
            "./core.get-iterator-method": 171,
            "./core.is-iterable": 172,
            "./es6.array.iterator": 184
        }],
        165: [function(require, module, exports) {
            "use strict";
            var global = require("./_global"),
                DESCRIPTORS = require("./_descriptors"),
                LIBRARY = require("./_library"),
                $typed = require("./_typed"),
                hide = require("./_hide"),
                redefineAll = require("./_redefine-all"),
                fails = require("./_fails"),
                anInstance = require("./_an-instance"),
                toInteger = require("./_to-integer"),
                toLength = require("./_to-length"),
                gOPN = require("./_object-gopn").f,
                dP = require("./_object-dp").f,
                arrayFill = require("./_array-fill"),
                setToStringTag = require("./_set-to-string-tag"),
                ARRAY_BUFFER = "ArrayBuffer",
                DATA_VIEW = "DataView",
                PROTOTYPE = "prototype",
                WRONG_LENGTH = "Wrong length!",
                WRONG_INDEX = "Wrong index!",
                $ArrayBuffer = global[ARRAY_BUFFER],
                $DataView = global[DATA_VIEW],
                Math = global.Math,
                parseInt = global.parseInt,
                RangeError = global.RangeError,
                Infinity = global.Infinity,
                BaseBuffer = $ArrayBuffer,
                abs = Math.abs,
                pow = Math.pow,
                min = Math.min,
                floor = Math.floor,
                log = Math.log,
                LN2 = Math.LN2,
                BUFFER = "buffer",
                BYTE_LENGTH = "byteLength",
                BYTE_OFFSET = "byteOffset",
                $BUFFER = DESCRIPTORS ? "_b" : BUFFER,
                $LENGTH = DESCRIPTORS ? "_l" : BYTE_LENGTH,
                $OFFSET = DESCRIPTORS ? "_o" : BYTE_OFFSET;
            var packIEEE754 = function(value, mLen, nBytes) {
                var buffer = Array(nBytes),
                    eLen = nBytes * 8 - mLen - 1,
                    eMax = (1 << eLen) - 1,
                    eBias = eMax >> 1,
                    rt = mLen === 23 ? pow(2, -24) - pow(2, -77) : 0,
                    i = 0,
                    s = value < 0 || value === 0 && 1 / value < 0 ? 1 : 0,
                    e, m, c;
                value = abs(value);
                if (value != value || value === Infinity) {
                    m = value != value ? 1 : 0;
                    e = eMax
                } else {
                    e = floor(log(value) / LN2);
                    if (value * (c = pow(2, -e)) < 1) {
                        e--;
                        c *= 2
                    }
                    if (e + eBias >= 1) {
                        value += rt / c
                    } else {
                        value += rt * pow(2, 1 - eBias)
                    }
                    if (value * c >= 2) {
                        e++;
                        c /= 2
                    }
                    if (e + eBias >= eMax) {
                        m = 0;
                        e = eMax
                    } else if (e + eBias >= 1) {
                        m = (value * c - 1) * pow(2, mLen);
                        e = e + eBias
                    } else {
                        m = value * pow(2, eBias - 1) * pow(2, mLen);
                        e = 0
                    }
                }
                for (; mLen >= 8; buffer[i++] = m & 255, m /= 256, mLen -= 8);
                e = e << mLen | m;
                eLen += mLen;
                for (; eLen > 0; buffer[i++] = e & 255, e /= 256, eLen -= 8);
                buffer[--i] |= s * 128;
                return buffer
            };
            var unpackIEEE754 = function(buffer, mLen, nBytes) {
                var eLen = nBytes * 8 - mLen - 1,
                    eMax = (1 << eLen) - 1,
                    eBias = eMax >> 1,
                    nBits = eLen - 7,
                    i = nBytes - 1,
                    s = buffer[i--],
                    e = s & 127,
                    m;
                s >>= 7;
                for (; nBits > 0; e = e * 256 + buffer[i], i--, nBits -= 8);
                m = e & (1 << -nBits) - 1;
                e >>= -nBits;
                nBits += mLen;
                for (; nBits > 0; m = m * 256 + buffer[i], i--, nBits -= 8);
                if (e === 0) {
                    e = 1 - eBias
                } else if (e === eMax) {
                    return m ? NaN : s ? -Infinity : Infinity
                } else {
                    m = m + pow(2, mLen);
                    e = e - eBias
                }
                return (s ? -1 : 1) * m * pow(2, e - mLen)
            };
            var unpackI32 = function(bytes) {
                return bytes[3] << 24 | bytes[2] << 16 | bytes[1] << 8 | bytes[0]
            };
            var packI8 = function(it) {
                return [it & 255]
            };
            var packI16 = function(it) {
                return [it & 255, it >> 8 & 255]
            };
            var packI32 = function(it) {
                return [it & 255, it >> 8 & 255, it >> 16 & 255, it >> 24 & 255]
            };
            var packF64 = function(it) {
                return packIEEE754(it, 52, 8)
            };
            var packF32 = function(it) {
                return packIEEE754(it, 23, 4)
            };
            var addGetter = function(C, key, internal) {
                dP(C[PROTOTYPE], key, {
                    get: function() {
                        return this[internal]
                    }
                })
            };
            var get = function(view, bytes, index, isLittleEndian) {
                var numIndex = +index,
                    intIndex = toInteger(numIndex);
                if (numIndex != intIndex || intIndex < 0 || intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);
                var store = view[$BUFFER]._b,
                    start = intIndex + view[$OFFSET],
                    pack = store.slice(start, start + bytes);
                return isLittleEndian ? pack : pack.reverse()
            };
            var set = function(view, bytes, index, conversion, value, isLittleEndian) {
                var numIndex = +index,
                    intIndex = toInteger(numIndex);
                if (numIndex != intIndex || intIndex < 0 || intIndex + bytes > view[$LENGTH]) throw RangeError(WRONG_INDEX);
                var store = view[$BUFFER]._b,
                    start = intIndex + view[$OFFSET],
                    pack = conversion(+value);
                for (var i = 0; i < bytes; i++) store[start + i] = pack[isLittleEndian ? i : bytes - i - 1]
            };
            var validateArrayBufferArguments = function(that, length) {
                anInstance(that, $ArrayBuffer, ARRAY_BUFFER);
                var numberLength = +length,
                    byteLength = toLength(numberLength);
                if (numberLength != byteLength) throw RangeError(WRONG_LENGTH);
                return byteLength
            };
            if (!$typed.ABV) {
                $ArrayBuffer = function ArrayBuffer(length) {
                    var byteLength = validateArrayBufferArguments(this, length);
                    this._b = arrayFill.call(Array(byteLength), 0);
                    this[$LENGTH] = byteLength
                };
                $DataView = function DataView(buffer, byteOffset, byteLength) {
                    anInstance(this, $DataView, DATA_VIEW);
                    anInstance(buffer, $ArrayBuffer, DATA_VIEW);
                    var bufferLength = buffer[$LENGTH],
                        offset = toInteger(byteOffset);
                    if (offset < 0 || offset > bufferLength) throw RangeError("Wrong offset!");
                    byteLength = byteLength === undefined ? bufferLength - offset : toLength(byteLength);
                    if (offset + byteLength > bufferLength) throw RangeError(WRONG_LENGTH);
                    this[$BUFFER] = buffer;
                    this[$OFFSET] = offset;
                    this[$LENGTH] = byteLength
                };
                if (DESCRIPTORS) {
                    addGetter($ArrayBuffer, BYTE_LENGTH, "_l");
                    addGetter($DataView, BUFFER, "_b");
                    addGetter($DataView, BYTE_LENGTH, "_l");
                    addGetter($DataView, BYTE_OFFSET, "_o")
                }
                redefineAll($DataView[PROTOTYPE], {
                    getInt8: function getInt8(byteOffset) {
                        return get(this, 1, byteOffset)[0] << 24 >> 24
                    },
                    getUint8: function getUint8(byteOffset) {
                        return get(this, 1, byteOffset)[0]
                    },
                    getInt16: function getInt16(byteOffset) {
                        var bytes = get(this, 2, byteOffset, arguments[1]);
                        return (bytes[1] << 8 | bytes[0]) << 16 >> 16
                    },
                    getUint16: function getUint16(byteOffset) {
                        var bytes = get(this, 2, byteOffset, arguments[1]);
                        return bytes[1] << 8 | bytes[0]
                    },
                    getInt32: function getInt32(byteOffset) {
                        return unpackI32(get(this, 4, byteOffset, arguments[1]))
                    },
                    getUint32: function getUint32(byteOffset) {
                        return unpackI32(get(this, 4, byteOffset, arguments[1])) >>> 0
                    },
                    getFloat32: function getFloat32(byteOffset) {
                        return unpackIEEE754(get(this, 4, byteOffset, arguments[1]), 23, 4)
                    },
                    getFloat64: function getFloat64(byteOffset) {
                        return unpackIEEE754(get(this, 8, byteOffset, arguments[1]), 52, 8)
                    },
                    setInt8: function setInt8(byteOffset, value) {
                        set(this, 1, byteOffset, packI8, value)
                    },
                    setUint8: function setUint8(byteOffset, value) {
                        set(this, 1, byteOffset, packI8, value)
                    },
                    setInt16: function setInt16(byteOffset, value) {
                        set(this, 2, byteOffset, packI16, value, arguments[2])
                    },
                    setUint16: function setUint16(byteOffset, value) {
                        set(this, 2, byteOffset, packI16, value, arguments[2])
                    },
                    setInt32: function setInt32(byteOffset, value) {
                        set(this, 4, byteOffset, packI32, value, arguments[2])
                    },
                    setUint32: function setUint32(byteOffset, value) {
                        set(this, 4, byteOffset, packI32, value, arguments[2])
                    },
                    setFloat32: function setFloat32(byteOffset, value) {
                        set(this, 4, byteOffset, packF32, value, arguments[2])
                    },
                    setFloat64: function setFloat64(byteOffset, value) {
                        set(this, 8, byteOffset, packF64, value, arguments[2])
                    }
                })
            } else {
                if (!fails(function() {
                        new $ArrayBuffer
                    }) || !fails(function() {
                        new $ArrayBuffer(.5)
                    })) {
                    $ArrayBuffer = function ArrayBuffer(length) {
                        return new BaseBuffer(validateArrayBufferArguments(this, length))
                    };
                    var ArrayBufferProto = $ArrayBuffer[PROTOTYPE] = BaseBuffer[PROTOTYPE];
                    for (var keys = gOPN(BaseBuffer), j = 0, key; keys.length > j;) {
                        if (!((key = keys[j++]) in $ArrayBuffer)) hide($ArrayBuffer, key, BaseBuffer[key])
                    }
                    if (!LIBRARY) ArrayBufferProto.constructor = $ArrayBuffer
                }
                var view = new $DataView(new $ArrayBuffer(2)),
                    $setInt8 = $DataView[PROTOTYPE].setInt8;
                view.setInt8(0, 2147483648);
                view.setInt8(1, 2147483649);
                if (view.getInt8(0) || !view.getInt8(1)) redefineAll($DataView[PROTOTYPE], {
                    setInt8: function setInt8(byteOffset, value) {
                        $setInt8.call(this, byteOffset, value << 24 >> 24)
                    },
                    setUint8: function setUint8(byteOffset, value) {
                        $setInt8.call(this, byteOffset, value << 24 >> 24)
                    }
                }, true)
            }
            setToStringTag($ArrayBuffer, ARRAY_BUFFER);
            setToStringTag($DataView, DATA_VIEW);
            hide($DataView[PROTOTYPE], $typed.VIEW, true);
            exports[ARRAY_BUFFER] = $ArrayBuffer;
            exports[DATA_VIEW] = $DataView
        }, {
            "./_an-instance": 59,
            "./_array-fill": 62,
            "./_descriptors": 81,
            "./_fails": 87,
            "./_global": 91,
            "./_hide": 93,
            "./_library": 111,
            "./_object-dp": 120,
            "./_object-gopn": 125,
            "./_redefine-all": 139,
            "./_set-to-string-tag": 145,
            "./_to-integer": 159,
            "./_to-length": 161,
            "./_typed": 166
        }],
        166: [function(require, module, exports) {
            var global = require("./_global"),
                hide = require("./_hide"),
                uid = require("./_uid"),
                TYPED = uid("typed_array"),
                VIEW = uid("view"),
                ABV = !!(global.ArrayBuffer && global.DataView),
                CONSTR = ABV,
                i = 0,
                l = 9,
                Typed;
            var TypedArrayConstructors = "Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");
            while (i < l) {
                if (Typed = global[TypedArrayConstructors[i++]]) {
                    hide(Typed.prototype, TYPED, true);
                    hide(Typed.prototype, VIEW, true)
                } else CONSTR = false
            }
            module.exports = {
                ABV: ABV,
                CONSTR: CONSTR,
                TYPED: TYPED,
                VIEW: VIEW
            }
        }, {
            "./_global": 91,
            "./_hide": 93,
            "./_uid": 167
        }],
        167: [function(require, module, exports) {
            var id = 0,
                px = Math.random();
            module.exports = function(key) {
                return "Symbol(".concat(key === undefined ? "" : key, ")_", (++id + px).toString(36))
            }
        }, {}],
        168: [function(require, module, exports) {
            var global = require("./_global"),
                core = require("./_core"),
                LIBRARY = require("./_library"),
                wksExt = require("./_wks-ext"),
                defineProperty = require("./_object-dp").f;
            module.exports = function(name) {
                var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
                if (name.charAt(0) != "_" && !(name in $Symbol)) defineProperty($Symbol, name, {
                    value: wksExt.f(name)
                })
            }
        }, {
            "./_core": 76,
            "./_global": 91,
            "./_library": 111,
            "./_object-dp": 120,
            "./_wks-ext": 169
        }],
        169: [function(require, module, exports) {
            exports.f = require("./_wks")
        }, {
            "./_wks": 170
        }],
        170: [function(require, module, exports) {
            var store = require("./_shared")("wks"),
                uid = require("./_uid"),
                Symbol = require("./_global").Symbol,
                USE_SYMBOL = typeof Symbol == "function";
            var $exports = module.exports = function(name) {
                return store[name] || (store[name] = USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)("Symbol." + name))
            };
            $exports.store = store
        }, {
            "./_global": 91,
            "./_shared": 147,
            "./_uid": 167
        }],
        171: [function(require, module, exports) {
            var classof = require("./_classof"),
                ITERATOR = require("./_wks")("iterator"),
                Iterators = require("./_iterators");
            module.exports = require("./_core").getIteratorMethod = function(it) {
                if (it != undefined) return it[ITERATOR] || it["@@iterator"] || Iterators[classof(it)]
            }
        }, {
            "./_classof": 70,
            "./_core": 76,
            "./_iterators": 109,
            "./_wks": 170
        }],
        172: [function(require, module, exports) {
            var classof = require("./_classof"),
                ITERATOR = require("./_wks")("iterator"),
                Iterators = require("./_iterators");
            module.exports = require("./_core").isIterable = function(it) {
                var O = Object(it);
                return O[ITERATOR] !== undefined || "@@iterator" in O || Iterators.hasOwnProperty(classof(O))
            }
        }, {
            "./_classof": 70,
            "./_core": 76,
            "./_iterators": 109,
            "./_wks": 170
        }],
        173: [function(require, module, exports) {
            var $export = require("./_export"),
                $re = require("./_replacer")(/[\\^$*+?.()|[\]{}]/g, "\\$&");
            $export($export.S, "RegExp", {
                escape: function escape(it) {
                    return $re(it)
                }
            })
        }, {
            "./_export": 85,
            "./_replacer": 141
        }],
        174: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.P, "Array", {
                copyWithin: require("./_array-copy-within")
            });
            require("./_add-to-unscopables")("copyWithin")
        }, {
            "./_add-to-unscopables": 58,
            "./_array-copy-within": 61,
            "./_export": 85
        }],
        175: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $every = require("./_array-methods")(4);
            $export($export.P + $export.F * !require("./_strict-method")([].every, true), "Array", {
                every: function every(callbackfn) {
                    return $every(this, callbackfn, arguments[1])
                }
            })
        }, {
            "./_array-methods": 65,
            "./_export": 85,
            "./_strict-method": 149
        }],
        176: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.P, "Array", {
                fill: require("./_array-fill")
            });
            require("./_add-to-unscopables")("fill")
        }, {
            "./_add-to-unscopables": 58,
            "./_array-fill": 62,
            "./_export": 85
        }],
        177: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $filter = require("./_array-methods")(2);
            $export($export.P + $export.F * !require("./_strict-method")([].filter, true), "Array", {
                filter: function filter(callbackfn) {
                    return $filter(this, callbackfn, arguments[1])
                }
            })
        }, {
            "./_array-methods": 65,
            "./_export": 85,
            "./_strict-method": 149
        }],
        178: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $find = require("./_array-methods")(6),
                KEY = "findIndex",
                forced = true;
            if (KEY in []) Array(1)[KEY](function() {
                forced = false
            });
            $export($export.P + $export.F * forced, "Array", {
                findIndex: function findIndex(callbackfn) {
                    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined)
                }
            });
            require("./_add-to-unscopables")(KEY)
        }, {
            "./_add-to-unscopables": 58,
            "./_array-methods": 65,
            "./_export": 85
        }],
        179: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $find = require("./_array-methods")(5),
                KEY = "find",
                forced = true;
            if (KEY in []) Array(1)[KEY](function() {
                forced = false
            });
            $export($export.P + $export.F * forced, "Array", {
                find: function find(callbackfn) {
                    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined)
                }
            });
            require("./_add-to-unscopables")(KEY)
        }, {
            "./_add-to-unscopables": 58,
            "./_array-methods": 65,
            "./_export": 85
        }],
        180: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $forEach = require("./_array-methods")(0),
                STRICT = require("./_strict-method")([].forEach, true);
            $export($export.P + $export.F * !STRICT, "Array", {
                forEach: function forEach(callbackfn) {
                    return $forEach(this, callbackfn, arguments[1])
                }
            })
        }, {
            "./_array-methods": 65,
            "./_export": 85,
            "./_strict-method": 149
        }],
        181: [function(require, module, exports) {
            "use strict";
            var ctx = require("./_ctx"),
                $export = require("./_export"),
                toObject = require("./_to-object"),
                call = require("./_iter-call"),
                isArrayIter = require("./_is-array-iter"),
                toLength = require("./_to-length"),
                createProperty = require("./_create-property"),
                getIterFn = require("./core.get-iterator-method");
            $export($export.S + $export.F * !require("./_iter-detect")(function(iter) {
                Array.from(iter)
            }), "Array", {
                from: function from(arrayLike) {
                    var O = toObject(arrayLike),
                        C = typeof this == "function" ? this : Array,
                        aLen = arguments.length,
                        mapfn = aLen > 1 ? arguments[1] : undefined,
                        mapping = mapfn !== undefined,
                        index = 0,
                        iterFn = getIterFn(O),
                        length, result, step, iterator;
                    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
                    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {
                        for (iterator = iterFn.call(O), result = new C; !(step = iterator.next()).done; index++) {
                            createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value)
                        }
                    } else {
                        length = toLength(O.length);
                        for (result = new C(length); length > index; index++) {
                            createProperty(result, index, mapping ? mapfn(O[index], index) : O[index])
                        }
                    }
                    result.length = index;
                    return result
                }
            })
        }, {
            "./_create-property": 77,
            "./_ctx": 78,
            "./_export": 85,
            "./_is-array-iter": 99,
            "./_iter-call": 104,
            "./_iter-detect": 107,
            "./_to-length": 161,
            "./_to-object": 162,
            "./core.get-iterator-method": 171
        }],
        182: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $indexOf = require("./_array-includes")(false),
                $native = [].indexOf,
                NEGATIVE_ZERO = !!$native && 1 / [1].indexOf(1, -0) < 0;
            $export($export.P + $export.F * (NEGATIVE_ZERO || !require("./_strict-method")($native)), "Array", {
                indexOf: function indexOf(searchElement) {
                    return NEGATIVE_ZERO ? $native.apply(this, arguments) || 0 : $indexOf(this, searchElement, arguments[1])
                }
            })
        }, {
            "./_array-includes": 64,
            "./_export": 85,
            "./_strict-method": 149
        }],
        183: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Array", {
                isArray: require("./_is-array")
            })
        }, {
            "./_export": 85,
            "./_is-array": 100
        }],
        184: [function(require, module, exports) {
            "use strict";
            var addToUnscopables = require("./_add-to-unscopables"),
                step = require("./_iter-step"),
                Iterators = require("./_iterators"),
                toIObject = require("./_to-iobject");
            module.exports = require("./_iter-define")(Array, "Array", function(iterated, kind) {
                this._t = toIObject(iterated);
                this._i = 0;
                this._k = kind
            }, function() {
                var O = this._t,
                    kind = this._k,
                    index = this._i++;
                if (!O || index >= O.length) {
                    this._t = undefined;
                    return step(1)
                }
                if (kind == "keys") return step(0, index);
                if (kind == "values") return step(0, O[index]);
                return step(0, [index, O[index]])
            }, "values");
            Iterators.Arguments = Iterators.Array;
            addToUnscopables("keys");
            addToUnscopables("values");
            addToUnscopables("entries")
        }, {
            "./_add-to-unscopables": 58,
            "./_iter-define": 106,
            "./_iter-step": 108,
            "./_iterators": 109,
            "./_to-iobject": 160
        }],
        185: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                toIObject = require("./_to-iobject"),
                arrayJoin = [].join;
            $export($export.P + $export.F * (require("./_iobject") != Object || !require("./_strict-method")(arrayJoin)), "Array", {
                join: function join(separator) {
                    return arrayJoin.call(toIObject(this), separator === undefined ? "," : separator)
                }
            })
        }, {
            "./_export": 85,
            "./_iobject": 98,
            "./_strict-method": 149,
            "./_to-iobject": 160
        }],
        186: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                toIObject = require("./_to-iobject"),
                toInteger = require("./_to-integer"),
                toLength = require("./_to-length"),
                $native = [].lastIndexOf,
                NEGATIVE_ZERO = !!$native && 1 / [1].lastIndexOf(1, -0) < 0;
            $export($export.P + $export.F * (NEGATIVE_ZERO || !require("./_strict-method")($native)), "Array", {
                lastIndexOf: function lastIndexOf(searchElement) {
                    if (NEGATIVE_ZERO) return $native.apply(this, arguments) || 0;
                    var O = toIObject(this),
                        length = toLength(O.length),
                        index = length - 1;
                    if (arguments.length > 1) index = Math.min(index, toInteger(arguments[1]));
                    if (index < 0) index = length + index;
                    for (; index >= 0; index--)
                        if (index in O)
                            if (O[index] === searchElement) return index || 0;
                    return -1
                }
            })
        }, {
            "./_export": 85,
            "./_strict-method": 149,
            "./_to-integer": 159,
            "./_to-iobject": 160,
            "./_to-length": 161
        }],
        187: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $map = require("./_array-methods")(1);
            $export($export.P + $export.F * !require("./_strict-method")([].map, true), "Array", {
                map: function map(callbackfn) {
                    return $map(this, callbackfn, arguments[1])
                }
            })
        }, {
            "./_array-methods": 65,
            "./_export": 85,
            "./_strict-method": 149
        }],
        188: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                createProperty = require("./_create-property");
            $export($export.S + $export.F * require("./_fails")(function() {
                function F() {}
                return !(Array.of.call(F) instanceof F)
            }), "Array", {
                of: function of() {
                    var index = 0,
                        aLen = arguments.length,
                        result = new(typeof this == "function" ? this : Array)(aLen);
                    while (aLen > index) createProperty(result, index, arguments[index++]);
                    result.length = aLen;
                    return result
                }
            })
        }, {
            "./_create-property": 77,
            "./_export": 85,
            "./_fails": 87
        }],
        189: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $reduce = require("./_array-reduce");
            $export($export.P + $export.F * !require("./_strict-method")([].reduceRight, true), "Array", {
                reduceRight: function reduceRight(callbackfn) {
                    return $reduce(this, callbackfn, arguments.length, arguments[1], true)
                }
            })
        }, {
            "./_array-reduce": 66,
            "./_export": 85,
            "./_strict-method": 149
        }],
        190: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $reduce = require("./_array-reduce");
            $export($export.P + $export.F * !require("./_strict-method")([].reduce, true), "Array", {
                reduce: function reduce(callbackfn) {
                    return $reduce(this, callbackfn, arguments.length, arguments[1], false)
                }
            })
        }, {
            "./_array-reduce": 66,
            "./_export": 85,
            "./_strict-method": 149
        }],
        191: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                html = require("./_html"),
                cof = require("./_cof"),
                toIndex = require("./_to-index"),
                toLength = require("./_to-length"),
                arraySlice = [].slice;
            $export($export.P + $export.F * require("./_fails")(function() {
                if (html) arraySlice.call(html)
            }), "Array", {
                slice: function slice(begin, end) {
                    var len = toLength(this.length),
                        klass = cof(this);
                    end = end === undefined ? len : end;
                    if (klass == "Array") return arraySlice.call(this, begin, end);
                    var start = toIndex(begin, len),
                        upTo = toIndex(end, len),
                        size = toLength(upTo - start),
                        cloned = Array(size),
                        i = 0;
                    for (; i < size; i++) cloned[i] = klass == "String" ? this.charAt(start + i) : this[start + i];
                    return cloned
                }
            })
        }, {
            "./_cof": 71,
            "./_export": 85,
            "./_fails": 87,
            "./_html": 94,
            "./_to-index": 158,
            "./_to-length": 161
        }],
        192: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $some = require("./_array-methods")(3);
            $export($export.P + $export.F * !require("./_strict-method")([].some, true), "Array", {
                some: function some(callbackfn) {
                    return $some(this, callbackfn, arguments[1])
                }
            })
        }, {
            "./_array-methods": 65,
            "./_export": 85,
            "./_strict-method": 149
        }],
        193: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                aFunction = require("./_a-function"),
                toObject = require("./_to-object"),
                fails = require("./_fails"),
                $sort = [].sort,
                test = [1, 2, 3];
            $export($export.P + $export.F * (fails(function() {
                test.sort(undefined)
            }) || !fails(function() {
                test.sort(null)
            }) || !require("./_strict-method")($sort)), "Array", {
                sort: function sort(comparefn) {
                    return comparefn === undefined ? $sort.call(toObject(this)) : $sort.call(toObject(this), aFunction(comparefn))
                }
            })
        }, {
            "./_a-function": 56,
            "./_export": 85,
            "./_fails": 87,
            "./_strict-method": 149,
            "./_to-object": 162
        }],
        194: [function(require, module, exports) {
            require("./_set-species")("Array")
        }, {
            "./_set-species": 144
        }],
        195: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Date", {
                now: function() {
                    return (new Date).getTime()
                }
            })
        }, {
            "./_export": 85
        }],
        196: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                fails = require("./_fails"),
                getTime = Date.prototype.getTime;
            var lz = function(num) {
                return num > 9 ? num : "0" + num
            };
            $export($export.P + $export.F * (fails(function() {
                return new Date(-5e13 - 1).toISOString() != "0385-07-25T07:06:39.999Z"
            }) || !fails(function() {
                new Date(NaN).toISOString()
            })), "Date", {
                toISOString: function toISOString() {
                    if (!isFinite(getTime.call(this))) throw RangeError("Invalid time value");
                    var d = this,
                        y = d.getUTCFullYear(),
                        m = d.getUTCMilliseconds(),
                        s = y < 0 ? "-" : y > 9999 ? "+" : "";
                    return s + ("00000" + Math.abs(y)).slice(s ? -6 : -4) + "-" + lz(d.getUTCMonth() + 1) + "-" + lz(d.getUTCDate()) + "T" + lz(d.getUTCHours()) + ":" + lz(d.getUTCMinutes()) + ":" + lz(d.getUTCSeconds()) + "." + (m > 99 ? m : "0" + lz(m)) + "Z"
                }
            })
        }, {
            "./_export": 85,
            "./_fails": 87
        }],
        197: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                toObject = require("./_to-object"),
                toPrimitive = require("./_to-primitive");
            $export($export.P + $export.F * require("./_fails")(function() {
                return new Date(NaN).toJSON() !== null || Date.prototype.toJSON.call({
                    toISOString: function() {
                        return 1
                    }
                }) !== 1
            }), "Date", {
                toJSON: function toJSON(key) {
                    var O = toObject(this),
                        pv = toPrimitive(O);
                    return typeof pv == "number" && !isFinite(pv) ? null : O.toISOString()
                }
            })
        }, {
            "./_export": 85,
            "./_fails": 87,
            "./_to-object": 162,
            "./_to-primitive": 163
        }],
        198: [function(require, module, exports) {
            var TO_PRIMITIVE = require("./_wks")("toPrimitive"),
                proto = Date.prototype;
            if (!(TO_PRIMITIVE in proto)) require("./_hide")(proto, TO_PRIMITIVE, require("./_date-to-primitive"))
        }, {
            "./_date-to-primitive": 79,
            "./_hide": 93,
            "./_wks": 170
        }],
        199: [function(require, module, exports) {
            var DateProto = Date.prototype,
                INVALID_DATE = "Invalid Date",
                TO_STRING = "toString",
                $toString = DateProto[TO_STRING],
                getTime = DateProto.getTime;
            if (new Date(NaN) + "" != INVALID_DATE) {
                require("./_redefine")(DateProto, TO_STRING, function toString() {
                    var value = getTime.call(this);
                    return value === value ? $toString.call(this) : INVALID_DATE
                })
            }
        }, {
            "./_redefine": 140
        }],
        200: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.P, "Function", {
                bind: require("./_bind")
            })
        }, {
            "./_bind": 69,
            "./_export": 85
        }],
        201: [function(require, module, exports) {
            "use strict";
            var isObject = require("./_is-object"),
                getPrototypeOf = require("./_object-gpo"),
                HAS_INSTANCE = require("./_wks")("hasInstance"),
                FunctionProto = Function.prototype;
            if (!(HAS_INSTANCE in FunctionProto)) require("./_object-dp").f(FunctionProto, HAS_INSTANCE, {
                value: function(O) {
                    if (typeof this != "function" || !isObject(O)) return false;
                    if (!isObject(this.prototype)) return O instanceof this;
                    while (O = getPrototypeOf(O))
                        if (this.prototype === O) return true;
                    return false
                }
            })
        }, {
            "./_is-object": 102,
            "./_object-dp": 120,
            "./_object-gpo": 127,
            "./_wks": 170
        }],
        202: [function(require, module, exports) {
            var dP = require("./_object-dp").f,
                createDesc = require("./_property-desc"),
                has = require("./_has"),
                FProto = Function.prototype,
                nameRE = /^\s*function ([^ (]*)/,
                NAME = "name";
            var isExtensible = Object.isExtensible || function() {
                return true
            };
            NAME in FProto || require("./_descriptors") && dP(FProto, NAME, {
                configurable: true,
                get: function() {
                    try {
                        var that = this,
                            name = ("" + that).match(nameRE)[1];
                        has(that, NAME) || !isExtensible(that) || dP(that, NAME, createDesc(5, name));
                        return name
                    } catch (e) {
                        return ""
                    }
                }
            })
        }, {
            "./_descriptors": 81,
            "./_has": 92,
            "./_object-dp": 120,
            "./_property-desc": 138
        }],
        203: [function(require, module, exports) {
            "use strict";
            var strong = require("./_collection-strong");
            module.exports = require("./_collection")("Map", function(get) {
                return function Map() {
                    return get(this, arguments.length > 0 ? arguments[0] : undefined)
                }
            }, {
                get: function get(key) {
                    var entry = strong.getEntry(this, key);
                    return entry && entry.v
                },
                set: function set(key, value) {
                    return strong.def(this, key === 0 ? 0 : key, value)
                }
            }, strong, true)
        }, {
            "./_collection": 75,
            "./_collection-strong": 72
        }],
        204: [function(require, module, exports) {
            var $export = require("./_export"),
                log1p = require("./_math-log1p"),
                sqrt = Math.sqrt,
                $acosh = Math.acosh;
            $export($export.S + $export.F * !($acosh && Math.floor($acosh(Number.MAX_VALUE)) == 710 && $acosh(Infinity) == Infinity), "Math", {
                acosh: function acosh(x) {
                    return (x = +x) < 1 ? NaN : x > 94906265.62425156 ? Math.log(x) + Math.LN2 : log1p(x - 1 + sqrt(x - 1) * sqrt(x + 1))
                }
            })
        }, {
            "./_export": 85,
            "./_math-log1p": 113
        }],
        205: [function(require, module, exports) {
            var $export = require("./_export"),
                $asinh = Math.asinh;

            function asinh(x) {
                return !isFinite(x = +x) || x == 0 ? x : x < 0 ? -asinh(-x) : Math.log(x + Math.sqrt(x * x + 1))
            }
            $export($export.S + $export.F * !($asinh && 1 / $asinh(0) > 0), "Math", {
                asinh: asinh
            })
        }, {
            "./_export": 85
        }],
        206: [function(require, module, exports) {
            var $export = require("./_export"),
                $atanh = Math.atanh;
            $export($export.S + $export.F * !($atanh && 1 / $atanh(-0) < 0), "Math", {
                atanh: function atanh(x) {
                    return (x = +x) == 0 ? x : Math.log((1 + x) / (1 - x)) / 2
                }
            })
        }, {
            "./_export": 85
        }],
        207: [function(require, module, exports) {
            var $export = require("./_export"),
                sign = require("./_math-sign");
            $export($export.S, "Math", {
                cbrt: function cbrt(x) {
                    return sign(x = +x) * Math.pow(Math.abs(x), 1 / 3)
                }
            })
        }, {
            "./_export": 85,
            "./_math-sign": 114
        }],
        208: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Math", {
                clz32: function clz32(x) {
                    return (x >>>= 0) ? 31 - Math.floor(Math.log(x + .5) * Math.LOG2E) : 32
                }
            })
        }, {
            "./_export": 85
        }],
        209: [function(require, module, exports) {
            var $export = require("./_export"),
                exp = Math.exp;
            $export($export.S, "Math", {
                cosh: function cosh(x) {
                    return (exp(x = +x) + exp(-x)) / 2
                }
            })
        }, {
            "./_export": 85
        }],
        210: [function(require, module, exports) {
            var $export = require("./_export"),
                $expm1 = require("./_math-expm1");
            $export($export.S + $export.F * ($expm1 != Math.expm1), "Math", {
                expm1: $expm1
            })
        }, {
            "./_export": 85,
            "./_math-expm1": 112
        }],
        211: [function(require, module, exports) {
            var $export = require("./_export"),
                sign = require("./_math-sign"),
                pow = Math.pow,
                EPSILON = pow(2, -52),
                EPSILON32 = pow(2, -23),
                MAX32 = pow(2, 127) * (2 - EPSILON32),
                MIN32 = pow(2, -126);
            var roundTiesToEven = function(n) {
                return n + 1 / EPSILON - 1 / EPSILON
            };
            $export($export.S, "Math", {
                fround: function fround(x) {
                    var $abs = Math.abs(x),
                        $sign = sign(x),
                        a, result;
                    if ($abs < MIN32) return $sign * roundTiesToEven($abs / MIN32 / EPSILON32) * MIN32 * EPSILON32;
                    a = (1 + EPSILON32 / EPSILON) * $abs;
                    result = a - (a - $abs);
                    if (result > MAX32 || result != result) return $sign * Infinity;
                    return $sign * result
                }
            })
        }, {
            "./_export": 85,
            "./_math-sign": 114
        }],
        212: [function(require, module, exports) {
            var $export = require("./_export"),
                abs = Math.abs;
            $export($export.S, "Math", {
                hypot: function hypot(value1, value2) {
                    var sum = 0,
                        i = 0,
                        aLen = arguments.length,
                        larg = 0,
                        arg, div;
                    while (i < aLen) {
                        arg = abs(arguments[i++]);
                        if (larg < arg) {
                            div = larg / arg;
                            sum = sum * div * div + 1;
                            larg = arg
                        } else if (arg > 0) {
                            div = arg / larg;
                            sum += div * div
                        } else sum += arg
                    }
                    return larg === Infinity ? Infinity : larg * Math.sqrt(sum)
                }
            })
        }, {
            "./_export": 85
        }],
        213: [function(require, module, exports) {
            var $export = require("./_export"),
                $imul = Math.imul;
            $export($export.S + $export.F * require("./_fails")(function() {
                return $imul(4294967295, 5) != -5 || $imul.length != 2
            }), "Math", {
                imul: function imul(x, y) {
                    var UINT16 = 65535,
                        xn = +x,
                        yn = +y,
                        xl = UINT16 & xn,
                        yl = UINT16 & yn;
                    return 0 | xl * yl + ((UINT16 & xn >>> 16) * yl + xl * (UINT16 & yn >>> 16) << 16 >>> 0)
                }
            })
        }, {
            "./_export": 85,
            "./_fails": 87
        }],
        214: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Math", {
                log10: function log10(x) {
                    return Math.log(x) / Math.LN10
                }
            })
        }, {
            "./_export": 85
        }],
        215: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Math", {
                log1p: require("./_math-log1p")
            })
        }, {
            "./_export": 85,
            "./_math-log1p": 113
        }],
        216: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Math", {
                log2: function log2(x) {
                    return Math.log(x) / Math.LN2
                }
            })
        }, {
            "./_export": 85
        }],
        217: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Math", {
                sign: require("./_math-sign")
            })
        }, {
            "./_export": 85,
            "./_math-sign": 114
        }],
        218: [function(require, module, exports) {
            var $export = require("./_export"),
                expm1 = require("./_math-expm1"),
                exp = Math.exp;
            $export($export.S + $export.F * require("./_fails")(function() {
                return !Math.sinh(-2e-17) != -2e-17
            }), "Math", {
                sinh: function sinh(x) {
                    return Math.abs(x = +x) < 1 ? (expm1(x) - expm1(-x)) / 2 : (exp(x - 1) - exp(-x - 1)) * (Math.E / 2)
                }
            })
        }, {
            "./_export": 85,
            "./_fails": 87,
            "./_math-expm1": 112
        }],
        219: [function(require, module, exports) {
            var $export = require("./_export"),
                expm1 = require("./_math-expm1"),
                exp = Math.exp;
            $export($export.S, "Math", {
                tanh: function tanh(x) {
                    var a = expm1(x = +x),
                        b = expm1(-x);
                    return a == Infinity ? 1 : b == Infinity ? -1 : (a - b) / (exp(x) + exp(-x))
                }
            })
        }, {
            "./_export": 85,
            "./_math-expm1": 112
        }],
        220: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Math", {
                trunc: function trunc(it) {
                    return (it > 0 ? Math.floor : Math.ceil)(it)
                }
            })
        }, {
            "./_export": 85
        }],
        221: [function(require, module, exports) {
            "use strict";
            var global = require("./_global"),
                has = require("./_has"),
                cof = require("./_cof"),
                inheritIfRequired = require("./_inherit-if-required"),
                toPrimitive = require("./_to-primitive"),
                fails = require("./_fails"),
                gOPN = require("./_object-gopn").f,
                gOPD = require("./_object-gopd").f,
                dP = require("./_object-dp").f,
                $trim = require("./_string-trim").trim,
                NUMBER = "Number",
                $Number = global[NUMBER],
                Base = $Number,
                proto = $Number.prototype,
                BROKEN_COF = cof(require("./_object-create")(proto)) == NUMBER,
                TRIM = "trim" in String.prototype;
            var toNumber = function(argument) {
                var it = toPrimitive(argument, false);
                if (typeof it == "string" && it.length > 2) {
                    it = TRIM ? it.trim() : $trim(it, 3);
                    var first = it.charCodeAt(0),
                        third, radix, maxCode;
                    if (first === 43 || first === 45) {
                        third = it.charCodeAt(2);
                        if (third === 88 || third === 120) return NaN
                    } else if (first === 48) {
                        switch (it.charCodeAt(1)) {
                            case 66:
                            case 98:
                                radix = 2;
                                maxCode = 49;
                                break;
                            case 79:
                            case 111:
                                radix = 8;
                                maxCode = 55;
                                break;
                            default:
                                return +it
                        }
                        for (var digits = it.slice(2), i = 0, l = digits.length, code; i < l; i++) {
                            code = digits.charCodeAt(i);
                            if (code < 48 || code > maxCode) return NaN
                        }
                        return parseInt(digits, radix)
                    }
                }
                return +it
            };
            if (!$Number(" 0o1") || !$Number("0b1") || $Number("+0x1")) {
                $Number = function Number(value) {
                    var it = arguments.length < 1 ? 0 : value,
                        that = this;
                    return that instanceof $Number && (BROKEN_COF ? fails(function() {
                        proto.valueOf.call(that)
                    }) : cof(that) != NUMBER) ? inheritIfRequired(new Base(toNumber(it)), that, $Number) : toNumber(it);
                };
                for (var keys = require("./_descriptors") ? gOPN(Base) : ("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY," + "EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER," + "MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger").split(","), j = 0, key; keys.length > j; j++) {
                    if (has(Base, key = keys[j]) && !has($Number, key)) {
                        dP($Number, key, gOPD(Base, key))
                    }
                }
                $Number.prototype = proto;
                proto.constructor = $Number;
                require("./_redefine")(global, NUMBER, $Number)
            }
        }, {
            "./_cof": 71,
            "./_descriptors": 81,
            "./_fails": 87,
            "./_global": 91,
            "./_has": 92,
            "./_inherit-if-required": 96,
            "./_object-create": 119,
            "./_object-dp": 120,
            "./_object-gopd": 123,
            "./_object-gopn": 125,
            "./_redefine": 140,
            "./_string-trim": 155,
            "./_to-primitive": 163
        }],
        222: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Number", {
                EPSILON: Math.pow(2, -52)
            })
        }, {
            "./_export": 85
        }],
        223: [function(require, module, exports) {
            var $export = require("./_export"),
                _isFinite = require("./_global").isFinite;
            $export($export.S, "Number", {
                isFinite: function isFinite(it) {
                    return typeof it == "number" && _isFinite(it)
                }
            })
        }, {
            "./_export": 85,
            "./_global": 91
        }],
        224: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Number", {
                isInteger: require("./_is-integer")
            })
        }, {
            "./_export": 85,
            "./_is-integer": 101
        }],
        225: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Number", {
                isNaN: function isNaN(number) {
                    return number != number
                }
            })
        }, {
            "./_export": 85
        }],
        226: [function(require, module, exports) {
            var $export = require("./_export"),
                isInteger = require("./_is-integer"),
                abs = Math.abs;
            $export($export.S, "Number", {
                isSafeInteger: function isSafeInteger(number) {
                    return isInteger(number) && abs(number) <= 9007199254740991
                }
            })
        }, {
            "./_export": 85,
            "./_is-integer": 101
        }],
        227: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Number", {
                MAX_SAFE_INTEGER: 9007199254740991
            })
        }, {
            "./_export": 85
        }],
        228: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Number", {
                MIN_SAFE_INTEGER: -9007199254740991
            })
        }, {
            "./_export": 85
        }],
        229: [function(require, module, exports) {
            var $export = require("./_export"),
                $parseFloat = require("./_parse-float");
            $export($export.S + $export.F * (Number.parseFloat != $parseFloat), "Number", {
                parseFloat: $parseFloat
            })
        }, {
            "./_export": 85,
            "./_parse-float": 134
        }],
        230: [function(require, module, exports) {
            var $export = require("./_export"),
                $parseInt = require("./_parse-int");
            $export($export.S + $export.F * (Number.parseInt != $parseInt), "Number", {
                parseInt: $parseInt
            })
        }, {
            "./_export": 85,
            "./_parse-int": 135
        }],
        231: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                anInstance = require("./_an-instance"),
                toInteger = require("./_to-integer"),
                aNumberValue = require("./_a-number-value"),
                repeat = require("./_string-repeat"),
                $toFixed = 1..toFixed,
                floor = Math.floor,
                data = [0, 0, 0, 0, 0, 0],
                ERROR = "Number.toFixed: incorrect invocation!",
                ZERO = "0";
            var multiply = function(n, c) {
                var i = -1,
                    c2 = c;
                while (++i < 6) {
                    c2 += n * data[i];
                    data[i] = c2 % 1e7;
                    c2 = floor(c2 / 1e7)
                }
            };
            var divide = function(n) {
                var i = 6,
                    c = 0;
                while (--i >= 0) {
                    c += data[i];
                    data[i] = floor(c / n);
                    c = c % n * 1e7
                }
            };
            var numToString = function() {
                var i = 6,
                    s = "";
                while (--i >= 0) {
                    if (s !== "" || i === 0 || data[i] !== 0) {
                        var t = String(data[i]);
                        s = s === "" ? t : s + repeat.call(ZERO, 7 - t.length) + t
                    }
                }
                return s
            };
            var pow = function(x, n, acc) {
                return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc)
            };
            var log = function(x) {
                var n = 0,
                    x2 = x;
                while (x2 >= 4096) {
                    n += 12;
                    x2 /= 4096
                }
                while (x2 >= 2) {
                    n += 1;
                    x2 /= 2
                }
                return n
            };
            $export($export.P + $export.F * (!!$toFixed && (8e-5.toFixed(3) !== "0.000" || .9.toFixed(0) !== "1" || 1.255.toFixed(2) !== "1.25" || 0xde0b6b3a7640080.toFixed(0) !== "1000000000000000128") || !require("./_fails")(function() {
                $toFixed.call({})
            })), "Number", {
                toFixed: function toFixed(fractionDigits) {
                    var x = aNumberValue(this, ERROR),
                        f = toInteger(fractionDigits),
                        s = "",
                        m = ZERO,
                        e, z, j, k;
                    if (f < 0 || f > 20) throw RangeError(ERROR);
                    if (x != x) return "NaN";
                    if (x <= -1e21 || x >= 1e21) return String(x);
                    if (x < 0) {
                        s = "-";
                        x = -x
                    }
                    if (x > 1e-21) {
                        e = log(x * pow(2, 69, 1)) - 69;
                        z = e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1);
                        z *= 4503599627370496;
                        e = 52 - e;
                        if (e > 0) {
                            multiply(0, z);
                            j = f;
                            while (j >= 7) {
                                multiply(1e7, 0);
                                j -= 7
                            }
                            multiply(pow(10, j, 1), 0);
                            j = e - 1;
                            while (j >= 23) {
                                divide(1 << 23);
                                j -= 23
                            }
                            divide(1 << j);
                            multiply(1, 1);
                            divide(2);
                            m = numToString()
                        } else {
                            multiply(0, z);
                            multiply(1 << -e, 0);
                            m = numToString() + repeat.call(ZERO, f)
                        }
                    }
                    if (f > 0) {
                        k = m.length;
                        m = s + (k <= f ? "0." + repeat.call(ZERO, f - k) + m : m.slice(0, k - f) + "." + m.slice(k - f))
                    } else {
                        m = s + m
                    }
                    return m
                }
            })
        }, {
            "./_a-number-value": 57,
            "./_an-instance": 59,
            "./_export": 85,
            "./_fails": 87,
            "./_string-repeat": 154,
            "./_to-integer": 159
        }],
        232: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $fails = require("./_fails"),
                aNumberValue = require("./_a-number-value"),
                $toPrecision = 1..toPrecision;
            $export($export.P + $export.F * ($fails(function() {
                return $toPrecision.call(1, undefined) !== "1"
            }) || !$fails(function() {
                $toPrecision.call({})
            })), "Number", {
                toPrecision: function toPrecision(precision) {
                    var that = aNumberValue(this, "Number#toPrecision: incorrect invocation!");
                    return precision === undefined ? $toPrecision.call(that) : $toPrecision.call(that, precision)
                }
            })
        }, {
            "./_a-number-value": 57,
            "./_export": 85,
            "./_fails": 87
        }],
        233: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S + $export.F, "Object", {
                assign: require("./_object-assign")
            })
        }, {
            "./_export": 85,
            "./_object-assign": 118
        }],
        234: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Object", {
                create: require("./_object-create")
            })
        }, {
            "./_export": 85,
            "./_object-create": 119
        }],
        235: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S + $export.F * !require("./_descriptors"), "Object", {
                defineProperties: require("./_object-dps")
            })
        }, {
            "./_descriptors": 81,
            "./_export": 85,
            "./_object-dps": 121
        }],
        236: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S + $export.F * !require("./_descriptors"), "Object", {
                defineProperty: require("./_object-dp").f
            })
        }, {
            "./_descriptors": 81,
            "./_export": 85,
            "./_object-dp": 120
        }],
        237: [function(require, module, exports) {
            var isObject = require("./_is-object"),
                meta = require("./_meta").onFreeze;
            require("./_object-sap")("freeze", function($freeze) {
                return function freeze(it) {
                    return $freeze && isObject(it) ? $freeze(meta(it)) : it
                }
            })
        }, {
            "./_is-object": 102,
            "./_meta": 115,
            "./_object-sap": 131
        }],
        238: [function(require, module, exports) {
            var toIObject = require("./_to-iobject"),
                $getOwnPropertyDescriptor = require("./_object-gopd").f;
            require("./_object-sap")("getOwnPropertyDescriptor", function() {
                return function getOwnPropertyDescriptor(it, key) {
                    return $getOwnPropertyDescriptor(toIObject(it), key)
                }
            })
        }, {
            "./_object-gopd": 123,
            "./_object-sap": 131,
            "./_to-iobject": 160
        }],
        239: [function(require, module, exports) {
            require("./_object-sap")("getOwnPropertyNames", function() {
                return require("./_object-gopn-ext").f
            })
        }, {
            "./_object-gopn-ext": 124,
            "./_object-sap": 131
        }],
        240: [function(require, module, exports) {
            var toObject = require("./_to-object"),
                $getPrototypeOf = require("./_object-gpo");
            require("./_object-sap")("getPrototypeOf", function() {
                return function getPrototypeOf(it) {
                    return $getPrototypeOf(toObject(it))
                }
            })
        }, {
            "./_object-gpo": 127,
            "./_object-sap": 131,
            "./_to-object": 162
        }],
        241: [function(require, module, exports) {
            var isObject = require("./_is-object");
            require("./_object-sap")("isExtensible", function($isExtensible) {
                return function isExtensible(it) {
                    return isObject(it) ? $isExtensible ? $isExtensible(it) : true : false
                }
            })
        }, {
            "./_is-object": 102,
            "./_object-sap": 131
        }],
        242: [function(require, module, exports) {
            var isObject = require("./_is-object");
            require("./_object-sap")("isFrozen", function($isFrozen) {
                return function isFrozen(it) {
                    return isObject(it) ? $isFrozen ? $isFrozen(it) : false : true
                }
            })
        }, {
            "./_is-object": 102,
            "./_object-sap": 131
        }],
        243: [function(require, module, exports) {
            var isObject = require("./_is-object");
            require("./_object-sap")("isSealed", function($isSealed) {
                return function isSealed(it) {
                    return isObject(it) ? $isSealed ? $isSealed(it) : false : true
                }
            })
        }, {
            "./_is-object": 102,
            "./_object-sap": 131
        }],
        244: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Object", {
                is: require("./_same-value")
            })
        }, {
            "./_export": 85,
            "./_same-value": 142
        }],
        245: [function(require, module, exports) {
            var toObject = require("./_to-object"),
                $keys = require("./_object-keys");
            require("./_object-sap")("keys", function() {
                return function keys(it) {
                    return $keys(toObject(it))
                }
            })
        }, {
            "./_object-keys": 129,
            "./_object-sap": 131,
            "./_to-object": 162
        }],
        246: [function(require, module, exports) {
            var isObject = require("./_is-object"),
                meta = require("./_meta").onFreeze;
            require("./_object-sap")("preventExtensions", function($preventExtensions) {
                return function preventExtensions(it) {
                    return $preventExtensions && isObject(it) ? $preventExtensions(meta(it)) : it
                }
            })
        }, {
            "./_is-object": 102,
            "./_meta": 115,
            "./_object-sap": 131
        }],
        247: [function(require, module, exports) {
            var isObject = require("./_is-object"),
                meta = require("./_meta").onFreeze;
            require("./_object-sap")("seal", function($seal) {
                return function seal(it) {
                    return $seal && isObject(it) ? $seal(meta(it)) : it
                }
            })
        }, {
            "./_is-object": 102,
            "./_meta": 115,
            "./_object-sap": 131
        }],
        248: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Object", {
                setPrototypeOf: require("./_set-proto").set
            })
        }, {
            "./_export": 85,
            "./_set-proto": 143
        }],
        249: [function(require, module, exports) {
            "use strict";
            var classof = require("./_classof"),
                test = {};
            test[require("./_wks")("toStringTag")] = "z";
            if (test + "" != "[object z]") {
                require("./_redefine")(Object.prototype, "toString", function toString() {
                    return "[object " + classof(this) + "]"
                }, true)
            }
        }, {
            "./_classof": 70,
            "./_redefine": 140,
            "./_wks": 170
        }],
        250: [function(require, module, exports) {
            var $export = require("./_export"),
                $parseFloat = require("./_parse-float");
            $export($export.G + $export.F * (parseFloat != $parseFloat), {
                parseFloat: $parseFloat
            })
        }, {
            "./_export": 85,
            "./_parse-float": 134
        }],
        251: [function(require, module, exports) {
            var $export = require("./_export"),
                $parseInt = require("./_parse-int");
            $export($export.G + $export.F * (parseInt != $parseInt), {
                parseInt: $parseInt
            })
        }, {
            "./_export": 85,
            "./_parse-int": 135
        }],
        252: [function(require, module, exports) {
            "use strict";
            var LIBRARY = require("./_library"),
                global = require("./_global"),
                ctx = require("./_ctx"),
                classof = require("./_classof"),
                $export = require("./_export"),
                isObject = require("./_is-object"),
                anObject = require("./_an-object"),
                aFunction = require("./_a-function"),
                anInstance = require("./_an-instance"),
                forOf = require("./_for-of"),
                setProto = require("./_set-proto").set,
                speciesConstructor = require("./_species-constructor"),
                task = require("./_task").set,
                microtask = require("./_microtask")(),
                PROMISE = "Promise",
                TypeError = global.TypeError,
                process = global.process,
                $Promise = global[PROMISE],
                process = global.process,
                isNode = classof(process) == "process",
                empty = function() {},
                Internal, GenericPromiseCapability, Wrapper;
            var USE_NATIVE = !! function() {
                try {
                    var promise = $Promise.resolve(1),
                        FakePromise = (promise.constructor = {})[require("./_wks")("species")] = function(exec) {
                            exec(empty, empty)
                        };
                    return (isNode || typeof PromiseRejectionEvent == "function") && promise.then(empty) instanceof FakePromise
                } catch (e) {}
            }();
            var sameConstructor = function(a, b) {
                return a === b || a === $Promise && b === Wrapper
            };
            var isThenable = function(it) {
                var then;
                return isObject(it) && typeof(then = it.then) == "function" ? then : false
            };
            var newPromiseCapability = function(C) {
                return sameConstructor($Promise, C) ? new PromiseCapability(C) : new GenericPromiseCapability(C)
            };
            var PromiseCapability = GenericPromiseCapability = function(C) {
                var resolve, reject;
                this.promise = new C(function($$resolve, $$reject) {
                    if (resolve !== undefined || reject !== undefined) throw TypeError("Bad Promise constructor");
                    resolve = $$resolve;
                    reject = $$reject
                });
                this.resolve = aFunction(resolve);
                this.reject = aFunction(reject)
            };
            var perform = function(exec) {
                try {
                    exec()
                } catch (e) {
                    return {
                        error: e
                    }
                }
            };
            var notify = function(promise, isReject) {
                if (promise._n) return;
                promise._n = true;
                var chain = promise._c;
                microtask(function() {
                    var value = promise._v,
                        ok = promise._s == 1,
                        i = 0;
                    var run = function(reaction) {
                        var handler = ok ? reaction.ok : reaction.fail,
                            resolve = reaction.resolve,
                            reject = reaction.reject,
                            domain = reaction.domain,
                            result, then;
                        try {
                            if (handler) {
                                if (!ok) {
                                    if (promise._h == 2) onHandleUnhandled(promise);
                                    promise._h = 1
                                }
                                if (handler === true) result = value;
                                else {
                                    if (domain) domain.enter();
                                    result = handler(value);
                                    if (domain) domain.exit()
                                }
                                if (result === reaction.promise) {
                                    reject(TypeError("Promise-chain cycle"))
                                } else if (then = isThenable(result)) {
                                    then.call(result, resolve, reject)
                                } else resolve(result)
                            } else reject(value)
                        } catch (e) {
                            reject(e)
                        }
                    };
                    while (chain.length > i) run(chain[i++]);
                    promise._c = [];
                    promise._n = false;
                    if (isReject && !promise._h) onUnhandled(promise)
                })
            };
            var onUnhandled = function(promise) {
                task.call(global, function() {
                    var value = promise._v,
                        abrupt, handler, console;
                    if (isUnhandled(promise)) {
                        abrupt = perform(function() {
                            if (isNode) {
                                process.emit("unhandledRejection", value, promise)
                            } else if (handler = global.onunhandledrejection) {
                                handler({
                                    promise: promise,
                                    reason: value
                                })
                            } else if ((console = global.console) && console.error) {
                                console.error("Unhandled promise rejection", value)
                            }
                        });
                        promise._h = isNode || isUnhandled(promise) ? 2 : 1
                    }
                    promise._a = undefined;
                    if (abrupt) throw abrupt.error
                })
            };
            var isUnhandled = function(promise) {
                if (promise._h == 1) return false;
                var chain = promise._a || promise._c,
                    i = 0,
                    reaction;
                while (chain.length > i) {
                    reaction = chain[i++];
                    if (reaction.fail || !isUnhandled(reaction.promise)) return false
                }
                return true
            };
            var onHandleUnhandled = function(promise) {
                task.call(global, function() {
                    var handler;
                    if (isNode) {
                        process.emit("rejectionHandled", promise)
                    } else if (handler = global.onrejectionhandled) {
                        handler({
                            promise: promise,
                            reason: promise._v
                        })
                    }
                })
            };
            var $reject = function(value) {
                var promise = this;
                if (promise._d) return;
                promise._d = true;
                promise = promise._w || promise;
                promise._v = value;
                promise._s = 2;
                if (!promise._a) promise._a = promise._c.slice();
                notify(promise, true)
            };
            var $resolve = function(value) {
                var promise = this,
                    then;
                if (promise._d) return;
                promise._d = true;
                promise = promise._w || promise;
                try {
                    if (promise === value) throw TypeError("Promise can't be resolved itself");
                    if (then = isThenable(value)) {
                        microtask(function() {
                            var wrapper = {
                                _w: promise,
                                _d: false
                            };
                            try {
                                then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1))
                            } catch (e) {
                                $reject.call(wrapper, e)
                            }
                        })
                    } else {
                        promise._v = value;
                        promise._s = 1;
                        notify(promise, false)
                    }
                } catch (e) {
                    $reject.call({
                        _w: promise,
                        _d: false
                    }, e)
                }
            };
            if (!USE_NATIVE) {
                $Promise = function Promise(executor) {
                    anInstance(this, $Promise, PROMISE, "_h");
                    aFunction(executor);
                    Internal.call(this);
                    try {
                        executor(ctx($resolve, this, 1), ctx($reject, this, 1))
                    } catch (err) {
                        $reject.call(this, err)
                    }
                };
                Internal = function Promise(executor) {
                    this._c = [];
                    this._a = undefined;
                    this._s = 0;
                    this._d = false;
                    this._v = undefined;
                    this._h = 0;
                    this._n = false
                };
                Internal.prototype = require("./_redefine-all")($Promise.prototype, {
                    then: function then(onFulfilled, onRejected) {
                        var reaction = newPromiseCapability(speciesConstructor(this, $Promise));
                        reaction.ok = typeof onFulfilled == "function" ? onFulfilled : true;
                        reaction.fail = typeof onRejected == "function" && onRejected;
                        reaction.domain = isNode ? process.domain : undefined;
                        this._c.push(reaction);
                        if (this._a) this._a.push(reaction);
                        if (this._s) notify(this, false);
                        return reaction.promise
                    },
                    "catch": function(onRejected) {
                        return this.then(undefined, onRejected)
                    }
                });
                PromiseCapability = function() {
                    var promise = new Internal;
                    this.promise = promise;
                    this.resolve = ctx($resolve, promise, 1);
                    this.reject = ctx($reject, promise, 1)
                }
            }
            $export($export.G + $export.W + $export.F * !USE_NATIVE, {
                Promise: $Promise
            });
            require("./_set-to-string-tag")($Promise, PROMISE);
            require("./_set-species")(PROMISE);
            Wrapper = require("./_core")[PROMISE];
            $export($export.S + $export.F * !USE_NATIVE, PROMISE, {
                reject: function reject(r) {
                    var capability = newPromiseCapability(this),
                        $$reject = capability.reject;
                    $$reject(r);
                    return capability.promise
                }
            });
            $export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {
                resolve: function resolve(x) {
                    if (x instanceof $Promise && sameConstructor(x.constructor, this)) return x;
                    var capability = newPromiseCapability(this),
                        $$resolve = capability.resolve;
                    $$resolve(x);
                    return capability.promise
                }
            });
            $export($export.S + $export.F * !(USE_NATIVE && require("./_iter-detect")(function(iter) {
                $Promise.all(iter)["catch"](empty)
            })), PROMISE, {
                all: function all(iterable) {
                    var C = this,
                        capability = newPromiseCapability(C),
                        resolve = capability.resolve,
                        reject = capability.reject;
                    var abrupt = perform(function() {
                        var values = [],
                            index = 0,
                            remaining = 1;
                        forOf(iterable, false, function(promise) {
                            var $index = index++,
                                alreadyCalled = false;
                            values.push(undefined);
                            remaining++;
                            C.resolve(promise).then(function(value) {
                                if (alreadyCalled) return;
                                alreadyCalled = true;
                                values[$index] = value;
                                --remaining || resolve(values)
                            }, reject)
                        });
                        --remaining || resolve(values)
                    });
                    if (abrupt) reject(abrupt.error);
                    return capability.promise
                },
                race: function race(iterable) {
                    var C = this,
                        capability = newPromiseCapability(C),
                        reject = capability.reject;
                    var abrupt = perform(function() {
                        forOf(iterable, false, function(promise) {
                            C.resolve(promise).then(capability.resolve, reject)
                        })
                    });
                    if (abrupt) reject(abrupt.error);
                    return capability.promise
                }
            })
        }, {
            "./_a-function": 56,
            "./_an-instance": 59,
            "./_an-object": 60,
            "./_classof": 70,
            "./_core": 76,
            "./_ctx": 78,
            "./_export": 85,
            "./_for-of": 90,
            "./_global": 91,
            "./_is-object": 102,
            "./_iter-detect": 107,
            "./_library": 111,
            "./_microtask": 117,
            "./_redefine-all": 139,
            "./_set-proto": 143,
            "./_set-species": 144,
            "./_set-to-string-tag": 145,
            "./_species-constructor": 148,
            "./_task": 157,
            "./_wks": 170
        }],
        253: [function(require, module, exports) {
            var $export = require("./_export"),
                aFunction = require("./_a-function"),
                anObject = require("./_an-object"),
                _apply = Function.apply;
            $export($export.S, "Reflect", {
                apply: function apply(target, thisArgument, argumentsList) {
                    return _apply.call(aFunction(target), thisArgument, anObject(argumentsList))
                }
            })
        }, {
            "./_a-function": 56,
            "./_an-object": 60,
            "./_export": 85
        }],
        254: [function(require, module, exports) {
            var $export = require("./_export"),
                create = require("./_object-create"),
                aFunction = require("./_a-function"),
                anObject = require("./_an-object"),
                isObject = require("./_is-object"),
                bind = require("./_bind");
            $export($export.S + $export.F * require("./_fails")(function() {
                function F() {}
                return !(Reflect.construct(function() {}, [], F) instanceof F)
            }), "Reflect", {
                construct: function construct(Target, args) {
                    aFunction(Target);
                    anObject(args);
                    var newTarget = arguments.length < 3 ? Target : aFunction(arguments[2]);
                    if (Target == newTarget) {
                        switch (args.length) {
                            case 0:
                                return new Target;
                            case 1:
                                return new Target(args[0]);
                            case 2:
                                return new Target(args[0], args[1]);
                            case 3:
                                return new Target(args[0], args[1], args[2]);
                            case 4:
                                return new Target(args[0], args[1], args[2], args[3])
                        }
                        var $args = [null];
                        $args.push.apply($args, args);
                        return new(bind.apply(Target, $args))
                    }
                    var proto = newTarget.prototype,
                        instance = create(isObject(proto) ? proto : Object.prototype),
                        result = Function.apply.call(Target, instance, args);
                    return isObject(result) ? result : instance
                }
            })
        }, {
            "./_a-function": 56,
            "./_an-object": 60,
            "./_bind": 69,
            "./_export": 85,
            "./_fails": 87,
            "./_is-object": 102,
            "./_object-create": 119
        }],
        255: [function(require, module, exports) {
            var dP = require("./_object-dp"),
                $export = require("./_export"),
                anObject = require("./_an-object"),
                toPrimitive = require("./_to-primitive");
            $export($export.S + $export.F * require("./_fails")(function() {
                Reflect.defineProperty(dP.f({}, 1, {
                    value: 1
                }), 1, {
                    value: 2
                })
            }), "Reflect", {
                defineProperty: function defineProperty(target, propertyKey, attributes) {
                    anObject(target);
                    propertyKey = toPrimitive(propertyKey, true);
                    anObject(attributes);
                    try {
                        dP.f(target, propertyKey, attributes);
                        return true
                    } catch (e) {
                        return false
                    }
                }
            })
        }, {
            "./_an-object": 60,
            "./_export": 85,
            "./_fails": 87,
            "./_object-dp": 120,
            "./_to-primitive": 163
        }],
        256: [function(require, module, exports) {
            var $export = require("./_export"),
                gOPD = require("./_object-gopd").f,
                anObject = require("./_an-object");
            $export($export.S, "Reflect", {
                deleteProperty: function deleteProperty(target, propertyKey) {
                    var desc = gOPD(anObject(target), propertyKey);
                    return desc && !desc.configurable ? false : delete target[propertyKey]
                }
            })
        }, {
            "./_an-object": 60,
            "./_export": 85,
            "./_object-gopd": 123
        }],
        257: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                anObject = require("./_an-object");
            var Enumerate = function(iterated) {
                this._t = anObject(iterated);
                this._i = 0;
                var keys = this._k = [],
                    key;
                for (key in iterated) keys.push(key)
            };
            require("./_iter-create")(Enumerate, "Object", function() {
                var that = this,
                    keys = that._k,
                    key;
                do {
                    if (that._i >= keys.length) return {
                        value: undefined,
                        done: true
                    }
                } while (!((key = keys[that._i++]) in that._t));
                return {
                    value: key,
                    done: false
                }
            });
            $export($export.S, "Reflect", {
                enumerate: function enumerate(target) {
                    return new Enumerate(target)
                }
            })
        }, {
            "./_an-object": 60,
            "./_export": 85,
            "./_iter-create": 105
        }],
        258: [function(require, module, exports) {
            var gOPD = require("./_object-gopd"),
                $export = require("./_export"),
                anObject = require("./_an-object");
            $export($export.S, "Reflect", {
                getOwnPropertyDescriptor: function getOwnPropertyDescriptor(target, propertyKey) {
                    return gOPD.f(anObject(target), propertyKey)
                }
            })
        }, {
            "./_an-object": 60,
            "./_export": 85,
            "./_object-gopd": 123
        }],
        259: [function(require, module, exports) {
            var $export = require("./_export"),
                getProto = require("./_object-gpo"),
                anObject = require("./_an-object");
            $export($export.S, "Reflect", {
                getPrototypeOf: function getPrototypeOf(target) {
                    return getProto(anObject(target))
                }
            })
        }, {
            "./_an-object": 60,
            "./_export": 85,
            "./_object-gpo": 127
        }],
        260: [function(require, module, exports) {
            var gOPD = require("./_object-gopd"),
                getPrototypeOf = require("./_object-gpo"),
                has = require("./_has"),
                $export = require("./_export"),
                isObject = require("./_is-object"),
                anObject = require("./_an-object");

            function get(target, propertyKey) {
                var receiver = arguments.length < 3 ? target : arguments[2],
                    desc, proto;
                if (anObject(target) === receiver) return target[propertyKey];
                if (desc = gOPD.f(target, propertyKey)) return has(desc, "value") ? desc.value : desc.get !== undefined ? desc.get.call(receiver) : undefined;
                if (isObject(proto = getPrototypeOf(target))) return get(proto, propertyKey, receiver)
            }
            $export($export.S, "Reflect", {
                get: get
            })
        }, {
            "./_an-object": 60,
            "./_export": 85,
            "./_has": 92,
            "./_is-object": 102,
            "./_object-gopd": 123,
            "./_object-gpo": 127
        }],
        261: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Reflect", {
                has: function has(target, propertyKey) {
                    return propertyKey in target
                }
            })
        }, {
            "./_export": 85
        }],
        262: [function(require, module, exports) {
            var $export = require("./_export"),
                anObject = require("./_an-object"),
                $isExtensible = Object.isExtensible;
            $export($export.S, "Reflect", {
                isExtensible: function isExtensible(target) {
                    anObject(target);
                    return $isExtensible ? $isExtensible(target) : true
                }
            })
        }, {
            "./_an-object": 60,
            "./_export": 85
        }],
        263: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Reflect", {
                ownKeys: require("./_own-keys")
            })
        }, {
            "./_export": 85,
            "./_own-keys": 133
        }],
        264: [function(require, module, exports) {
            var $export = require("./_export"),
                anObject = require("./_an-object"),
                $preventExtensions = Object.preventExtensions;
            $export($export.S, "Reflect", {
                preventExtensions: function preventExtensions(target) {
                    anObject(target);
                    try {
                        if ($preventExtensions) $preventExtensions(target);
                        return true
                    } catch (e) {
                        return false
                    }
                }
            })
        }, {
            "./_an-object": 60,
            "./_export": 85
        }],
        265: [function(require, module, exports) {
            var $export = require("./_export"),
                setProto = require("./_set-proto");
            if (setProto) $export($export.S, "Reflect", {
                setPrototypeOf: function setPrototypeOf(target, proto) {
                    setProto.check(target, proto);
                    try {
                        setProto.set(target, proto);
                        return true
                    } catch (e) {
                        return false
                    }
                }
            })
        }, {
            "./_export": 85,
            "./_set-proto": 143
        }],
        266: [function(require, module, exports) {
            var dP = require("./_object-dp"),
                gOPD = require("./_object-gopd"),
                getPrototypeOf = require("./_object-gpo"),
                has = require("./_has"),
                $export = require("./_export"),
                createDesc = require("./_property-desc"),
                anObject = require("./_an-object"),
                isObject = require("./_is-object");

            function set(target, propertyKey, V) {
                var receiver = arguments.length < 4 ? target : arguments[3],
                    ownDesc = gOPD.f(anObject(target), propertyKey),
                    existingDescriptor, proto;
                if (!ownDesc) {
                    if (isObject(proto = getPrototypeOf(target))) {
                        return set(proto, propertyKey, V, receiver)
                    }
                    ownDesc = createDesc(0)
                }
                if (has(ownDesc, "value")) {
                    if (ownDesc.writable === false || !isObject(receiver)) return false;
                    existingDescriptor = gOPD.f(receiver, propertyKey) || createDesc(0);
                    existingDescriptor.value = V;
                    dP.f(receiver, propertyKey, existingDescriptor);
                    return true
                }
                return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true)
            }
            $export($export.S, "Reflect", {
                set: set
            })
        }, {
            "./_an-object": 60,
            "./_export": 85,
            "./_has": 92,
            "./_is-object": 102,
            "./_object-dp": 120,
            "./_object-gopd": 123,
            "./_object-gpo": 127,
            "./_property-desc": 138
        }],
        267: [function(require, module, exports) {
            var global = require("./_global"),
                inheritIfRequired = require("./_inherit-if-required"),
                dP = require("./_object-dp").f,
                gOPN = require("./_object-gopn").f,
                isRegExp = require("./_is-regexp"),
                $flags = require("./_flags"),
                $RegExp = global.RegExp,
                Base = $RegExp,
                proto = $RegExp.prototype,
                re1 = /a/g,
                re2 = /a/g,
                CORRECT_NEW = new $RegExp(re1) !== re1;
            if (require("./_descriptors") && (!CORRECT_NEW || require("./_fails")(function() {
                    re2[require("./_wks")("match")] = false;
                    return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, "i") != "/a/i"
                }))) {
                $RegExp = function RegExp(p, f) {
                    var tiRE = this instanceof $RegExp,
                        piRE = isRegExp(p),
                        fiU = f === undefined;
                    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p : inheritIfRequired(CORRECT_NEW ? new Base(piRE && !fiU ? p.source : p, f) : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f), tiRE ? this : proto, $RegExp)
                };
                var proxy = function(key) {
                    key in $RegExp || dP($RegExp, key, {
                        configurable: true,
                        get: function() {
                            return Base[key]
                        },
                        set: function(it) {
                            Base[key] = it
                        }
                    })
                };
                for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);
                proto.constructor = $RegExp;
                $RegExp.prototype = proto;
                require("./_redefine")(global, "RegExp", $RegExp)
            }
            require("./_set-species")("RegExp")
        }, {
            "./_descriptors": 81,
            "./_fails": 87,
            "./_flags": 89,
            "./_global": 91,
            "./_inherit-if-required": 96,
            "./_is-regexp": 103,
            "./_object-dp": 120,
            "./_object-gopn": 125,
            "./_redefine": 140,
            "./_set-species": 144,
            "./_wks": 170
        }],
        268: [function(require, module, exports) {
            if (require("./_descriptors") && /./g.flags != "g") require("./_object-dp").f(RegExp.prototype, "flags", {
                configurable: true,
                get: require("./_flags")
            })
        }, {
            "./_descriptors": 81,
            "./_flags": 89,
            "./_object-dp": 120
        }],
        269: [function(require, module, exports) {
            require("./_fix-re-wks")("match", 1, function(defined, MATCH, $match) {
                return [function match(regexp) {
                    "use strict";
                    var O = defined(this),
                        fn = regexp == undefined ? undefined : regexp[MATCH];
                    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O))
                }, $match]
            })
        }, {
            "./_fix-re-wks": 88
        }],
        270: [function(require, module, exports) {
            require("./_fix-re-wks")("replace", 2, function(defined, REPLACE, $replace) {
                return [function replace(searchValue, replaceValue) {
                    "use strict";
                    var O = defined(this),
                        fn = searchValue == undefined ? undefined : searchValue[REPLACE];
                    return fn !== undefined ? fn.call(searchValue, O, replaceValue) : $replace.call(String(O), searchValue, replaceValue)
                }, $replace]
            })
        }, {
            "./_fix-re-wks": 88
        }],
        271: [function(require, module, exports) {
            require("./_fix-re-wks")("search", 1, function(defined, SEARCH, $search) {
                return [function search(regexp) {
                    "use strict";
                    var O = defined(this),
                        fn = regexp == undefined ? undefined : regexp[SEARCH];
                    return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O))
                }, $search]
            })
        }, {
            "./_fix-re-wks": 88
        }],
        272: [function(require, module, exports) {
            require("./_fix-re-wks")("split", 2, function(defined, SPLIT, $split) {
                "use strict";
                var isRegExp = require("./_is-regexp"),
                    _split = $split,
                    $push = [].push,
                    $SPLIT = "split",
                    LENGTH = "length",
                    LAST_INDEX = "lastIndex";
                if ("abbc" [$SPLIT](/(b)*/)[1] == "c" || "test" [$SPLIT](/(?:)/, -1)[LENGTH] != 4 || "ab" [$SPLIT](/(?:ab)*/)[LENGTH] != 2 || "." [$SPLIT](/(.?)(.?)/)[LENGTH] != 4 || "." [$SPLIT](/()()/)[LENGTH] > 1 || "" [$SPLIT](/.?/)[LENGTH]) {
                    var NPCG = /()??/.exec("")[1] === undefined;
                    $split = function(separator, limit) {
                        var string = String(this);
                        if (separator === undefined && limit === 0) return [];
                        if (!isRegExp(separator)) return _split.call(string, separator, limit);
                        var output = [];
                        var flags = (separator.ignoreCase ? "i" : "") + (separator.multiline ? "m" : "") + (separator.unicode ? "u" : "") + (separator.sticky ? "y" : "");
                        var lastLastIndex = 0;
                        var splitLimit = limit === undefined ? 4294967295 : limit >>> 0;
                        var separatorCopy = new RegExp(separator.source, flags + "g");
                        var separator2, match, lastIndex, lastLength, i;
                        if (!NPCG) separator2 = new RegExp("^" + separatorCopy.source + "$(?!\\s)", flags);
                        while (match = separatorCopy.exec(string)) {
                            lastIndex = match.index + match[0][LENGTH];
                            if (lastIndex > lastLastIndex) {
                                output.push(string.slice(lastLastIndex, match.index));
                                if (!NPCG && match[LENGTH] > 1) match[0].replace(separator2, function() {
                                    for (i = 1; i < arguments[LENGTH] - 2; i++)
                                        if (arguments[i] === undefined) match[i] = undefined
                                });
                                if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));
                                lastLength = match[0][LENGTH];
                                lastLastIndex = lastIndex;
                                if (output[LENGTH] >= splitLimit) break
                            }
                            if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++
                        }
                        if (lastLastIndex === string[LENGTH]) {
                            if (lastLength || !separatorCopy.test("")) output.push("")
                        } else output.push(string.slice(lastLastIndex));
                        return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output
                    }
                } else if ("0" [$SPLIT](undefined, 0)[LENGTH]) {
                    $split = function(separator, limit) {
                        return separator === undefined && limit === 0 ? [] : _split.call(this, separator, limit)
                    }
                }
                return [function split(separator, limit) {
                    var O = defined(this),
                        fn = separator == undefined ? undefined : separator[SPLIT];
                    return fn !== undefined ? fn.call(separator, O, limit) : $split.call(String(O), separator, limit)
                }, $split]
            })
        }, {
            "./_fix-re-wks": 88,
            "./_is-regexp": 103
        }],
        273: [function(require, module, exports) {
            "use strict";
            require("./es6.regexp.flags");
            var anObject = require("./_an-object"),
                $flags = require("./_flags"),
                DESCRIPTORS = require("./_descriptors"),
                TO_STRING = "toString",
                $toString = /./ [TO_STRING];
            var define = function(fn) {
                require("./_redefine")(RegExp.prototype, TO_STRING, fn, true)
            };
            if (require("./_fails")(function() {
                    return $toString.call({
                        source: "a",
                        flags: "b"
                    }) != "/a/b"
                })) {
                define(function toString() {
                    var R = anObject(this);
                    return "/".concat(R.source, "/", "flags" in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined)
                })
            } else if ($toString.name != TO_STRING) {
                define(function toString() {
                    return $toString.call(this)
                })
            }
        }, {
            "./_an-object": 60,
            "./_descriptors": 81,
            "./_fails": 87,
            "./_flags": 89,
            "./_redefine": 140,
            "./es6.regexp.flags": 268
        }],
        274: [function(require, module, exports) {
            "use strict";
            var strong = require("./_collection-strong");
            module.exports = require("./_collection")("Set", function(get) {
                return function Set() {
                    return get(this, arguments.length > 0 ? arguments[0] : undefined)
                }
            }, {
                add: function add(value) {
                    return strong.def(this, value = value === 0 ? 0 : value, value)
                }
            }, strong)
        }, {
            "./_collection": 75,
            "./_collection-strong": 72
        }],
        275: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("anchor", function(createHTML) {
                return function anchor(name) {
                    return createHTML(this, "a", "name", name)
                }
            })
        }, {
            "./_string-html": 152
        }],
        276: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("big", function(createHTML) {
                return function big() {
                    return createHTML(this, "big", "", "")
                }
            })
        }, {
            "./_string-html": 152
        }],
        277: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("blink", function(createHTML) {
                return function blink() {
                    return createHTML(this, "blink", "", "")
                }
            })
        }, {
            "./_string-html": 152
        }],
        278: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("bold", function(createHTML) {
                return function bold() {
                    return createHTML(this, "b", "", "")
                }
            })
        }, {
            "./_string-html": 152
        }],
        279: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $at = require("./_string-at")(false);
            $export($export.P, "String", {
                codePointAt: function codePointAt(pos) {
                    return $at(this, pos)
                }
            })
        }, {
            "./_export": 85,
            "./_string-at": 150
        }],
        280: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                toLength = require("./_to-length"),
                context = require("./_string-context"),
                ENDS_WITH = "endsWith",
                $endsWith = "" [ENDS_WITH];
            $export($export.P + $export.F * require("./_fails-is-regexp")(ENDS_WITH), "String", {
                endsWith: function endsWith(searchString) {
                    var that = context(this, searchString, ENDS_WITH),
                        endPosition = arguments.length > 1 ? arguments[1] : undefined,
                        len = toLength(that.length),
                        end = endPosition === undefined ? len : Math.min(toLength(endPosition), len),
                        search = String(searchString);
                    return $endsWith ? $endsWith.call(that, search, end) : that.slice(end - search.length, end) === search
                }
            })
        }, {
            "./_export": 85,
            "./_fails-is-regexp": 86,
            "./_string-context": 151,
            "./_to-length": 161
        }],
        281: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("fixed", function(createHTML) {
                return function fixed() {
                    return createHTML(this, "tt", "", "")
                }
            })
        }, {
            "./_string-html": 152
        }],
        282: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("fontcolor", function(createHTML) {
                return function fontcolor(color) {
                    return createHTML(this, "font", "color", color)
                }
            })
        }, {
            "./_string-html": 152
        }],
        283: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("fontsize", function(createHTML) {
                return function fontsize(size) {
                    return createHTML(this, "font", "size", size)
                }
            })
        }, {
            "./_string-html": 152
        }],
        284: [function(require, module, exports) {
            var $export = require("./_export"),
                toIndex = require("./_to-index"),
                fromCharCode = String.fromCharCode,
                $fromCodePoint = String.fromCodePoint;
            $export($export.S + $export.F * (!!$fromCodePoint && $fromCodePoint.length != 1), "String", {
                fromCodePoint: function fromCodePoint(x) {
                    var res = [],
                        aLen = arguments.length,
                        i = 0,
                        code;
                    while (aLen > i) {
                        code = +arguments[i++];
                        if (toIndex(code, 1114111) !== code) throw RangeError(code + " is not a valid code point");
                        res.push(code < 65536 ? fromCharCode(code) : fromCharCode(((code -= 65536) >> 10) + 55296, code % 1024 + 56320))
                    }
                    return res.join("")
                }
            })
        }, {
            "./_export": 85,
            "./_to-index": 158
        }],
        285: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                context = require("./_string-context"),
                INCLUDES = "includes";
            $export($export.P + $export.F * require("./_fails-is-regexp")(INCLUDES), "String", {
                includes: function includes(searchString) {
                    return !!~context(this, searchString, INCLUDES).indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined)
                }
            })
        }, {
            "./_export": 85,
            "./_fails-is-regexp": 86,
            "./_string-context": 151
        }],
        286: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("italics", function(createHTML) {
                return function italics() {
                    return createHTML(this, "i", "", "")
                }
            })
        }, {
            "./_string-html": 152
        }],
        287: [function(require, module, exports) {
            "use strict";
            var $at = require("./_string-at")(true);
            require("./_iter-define")(String, "String", function(iterated) {
                this._t = String(iterated);
                this._i = 0
            }, function() {
                var O = this._t,
                    index = this._i,
                    point;
                if (index >= O.length) return {
                    value: undefined,
                    done: true
                };
                point = $at(O, index);
                this._i += point.length;
                return {
                    value: point,
                    done: false
                }
            })
        }, {
            "./_iter-define": 106,
            "./_string-at": 150
        }],
        288: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("link", function(createHTML) {
                return function link(url) {
                    return createHTML(this, "a", "href", url)
                }
            })
        }, {
            "./_string-html": 152
        }],
        289: [function(require, module, exports) {
            var $export = require("./_export"),
                toIObject = require("./_to-iobject"),
                toLength = require("./_to-length");
            $export($export.S, "String", {
                raw: function raw(callSite) {
                    var tpl = toIObject(callSite.raw),
                        len = toLength(tpl.length),
                        aLen = arguments.length,
                        res = [],
                        i = 0;
                    while (len > i) {
                        res.push(String(tpl[i++]));
                        if (i < aLen) res.push(String(arguments[i]))
                    }
                    return res.join("")
                }
            })
        }, {
            "./_export": 85,
            "./_to-iobject": 160,
            "./_to-length": 161
        }],
        290: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.P, "String", {
                repeat: require("./_string-repeat")
            })
        }, {
            "./_export": 85,
            "./_string-repeat": 154
        }],
        291: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("small", function(createHTML) {
                return function small() {
                    return createHTML(this, "small", "", "")
                }
            })
        }, {
            "./_string-html": 152
        }],
        292: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                toLength = require("./_to-length"),
                context = require("./_string-context"),
                STARTS_WITH = "startsWith",
                $startsWith = "" [STARTS_WITH];
            $export($export.P + $export.F * require("./_fails-is-regexp")(STARTS_WITH), "String", {
                startsWith: function startsWith(searchString) {
                    var that = context(this, searchString, STARTS_WITH),
                        index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length)),
                        search = String(searchString);
                    return $startsWith ? $startsWith.call(that, search, index) : that.slice(index, index + search.length) === search
                }
            })
        }, {
            "./_export": 85,
            "./_fails-is-regexp": 86,
            "./_string-context": 151,
            "./_to-length": 161
        }],
        293: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("strike", function(createHTML) {
                return function strike() {
                    return createHTML(this, "strike", "", "")
                }
            })
        }, {
            "./_string-html": 152
        }],
        294: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("sub", function(createHTML) {
                return function sub() {
                    return createHTML(this, "sub", "", "")
                }
            })
        }, {
            "./_string-html": 152
        }],
        295: [function(require, module, exports) {
            "use strict";
            require("./_string-html")("sup", function(createHTML) {
                return function sup() {
                    return createHTML(this, "sup", "", "")
                }
            })
        }, {
            "./_string-html": 152
        }],
        296: [function(require, module, exports) {
            "use strict";
            require("./_string-trim")("trim", function($trim) {
                return function trim() {
                    return $trim(this, 3)
                }
            })
        }, {
            "./_string-trim": 155
        }],
        297: [function(require, module, exports) {
            "use strict";
            var global = require("./_global"),
                has = require("./_has"),
                DESCRIPTORS = require("./_descriptors"),
                $export = require("./_export"),
                redefine = require("./_redefine"),
                META = require("./_meta").KEY,
                $fails = require("./_fails"),
                shared = require("./_shared"),
                setToStringTag = require("./_set-to-string-tag"),
                uid = require("./_uid"),
                wks = require("./_wks"),
                wksExt = require("./_wks-ext"),
                wksDefine = require("./_wks-define"),
                keyOf = require("./_keyof"),
                enumKeys = require("./_enum-keys"),
                isArray = require("./_is-array"),
                anObject = require("./_an-object"),
                toIObject = require("./_to-iobject"),
                toPrimitive = require("./_to-primitive"),
                createDesc = require("./_property-desc"),
                _create = require("./_object-create"),
                gOPNExt = require("./_object-gopn-ext"),
                $GOPD = require("./_object-gopd"),
                $DP = require("./_object-dp"),
                $keys = require("./_object-keys"),
                gOPD = $GOPD.f,
                dP = $DP.f,
                gOPN = gOPNExt.f,
                $Symbol = global.Symbol,
                $JSON = global.JSON,
                _stringify = $JSON && $JSON.stringify,
                PROTOTYPE = "prototype",
                HIDDEN = wks("_hidden"),
                TO_PRIMITIVE = wks("toPrimitive"),
                isEnum = {}.propertyIsEnumerable,
                SymbolRegistry = shared("symbol-registry"),
                AllSymbols = shared("symbols"),
                OPSymbols = shared("op-symbols"),
                ObjectProto = Object[PROTOTYPE],
                USE_NATIVE = typeof $Symbol == "function",
                QObject = global.QObject;
            var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;
            var setSymbolDesc = DESCRIPTORS && $fails(function() {
                return _create(dP({}, "a", {
                    get: function() {
                        return dP(this, "a", {
                            value: 7
                        }).a
                    }
                })).a != 7
            }) ? function(it, key, D) {
                var protoDesc = gOPD(ObjectProto, key);
                if (protoDesc) delete ObjectProto[key];
                dP(it, key, D);
                if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc)
            } : dP;
            var wrap = function(tag) {
                var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
                sym._k = tag;
                return sym
            };
            var isSymbol = USE_NATIVE && typeof $Symbol.iterator == "symbol" ? function(it) {
                return typeof it == "symbol"
            } : function(it) {
                return it instanceof $Symbol
            };
            var $defineProperty = function defineProperty(it, key, D) {
                if (it === ObjectProto) $defineProperty(OPSymbols, key, D);
                anObject(it);
                key = toPrimitive(key, true);
                anObject(D);
                if (has(AllSymbols, key)) {
                    if (!D.enumerable) {
                        if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));
                        it[HIDDEN][key] = true
                    } else {
                        if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;
                        D = _create(D, {
                            enumerable: createDesc(0, false)
                        })
                    }
                    return setSymbolDesc(it, key, D)
                }
                return dP(it, key, D)
            };
            var $defineProperties = function defineProperties(it, P) {
                anObject(it);
                var keys = enumKeys(P = toIObject(P)),
                    i = 0,
                    l = keys.length,
                    key;
                while (l > i) $defineProperty(it, key = keys[i++], P[key]);
                return it
            };
            var $create = function create(it, P) {
                return P === undefined ? _create(it) : $defineProperties(_create(it), P)
            };
            var $propertyIsEnumerable = function propertyIsEnumerable(key) {
                var E = isEnum.call(this, key = toPrimitive(key, true));
                if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;
                return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true
            };
            var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {
                it = toIObject(it);
                key = toPrimitive(key, true);
                if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;
                var D = gOPD(it, key);
                if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;
                return D
            };
            var $getOwnPropertyNames = function getOwnPropertyNames(it) {
                var names = gOPN(toIObject(it)),
                    result = [],
                    i = 0,
                    key;
                while (names.length > i) {
                    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key)
                }
                return result
            };
            var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {
                var IS_OP = it === ObjectProto,
                    names = gOPN(IS_OP ? OPSymbols : toIObject(it)),
                    result = [],
                    i = 0,
                    key;
                while (names.length > i) {
                    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key])
                }
                return result
            };
            if (!USE_NATIVE) {
                $Symbol = function Symbol() {
                    if (this instanceof $Symbol) throw TypeError("Symbol is not a constructor!");
                    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
                    var $set = function(value) {
                        if (this === ObjectProto) $set.call(OPSymbols, value);
                        if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;
                        setSymbolDesc(this, tag, createDesc(1, value))
                    };
                    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, {
                        configurable: true,
                        set: $set
                    });
                    return wrap(tag)
                };
                redefine($Symbol[PROTOTYPE], "toString", function toString() {
                    return this._k
                });
                $GOPD.f = $getOwnPropertyDescriptor;
                $DP.f = $defineProperty;
                require("./_object-gopn").f = gOPNExt.f = $getOwnPropertyNames;
                require("./_object-pie").f = $propertyIsEnumerable;
                require("./_object-gops").f = $getOwnPropertySymbols;
                if (DESCRIPTORS && !require("./_library")) {
                    redefine(ObjectProto, "propertyIsEnumerable", $propertyIsEnumerable, true)
                }
                wksExt.f = function(name) {
                    return wrap(wks(name))
                }
            }
            $export($export.G + $export.W + $export.F * !USE_NATIVE, {
                Symbol: $Symbol
            });
            for (var symbols = "hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","), i = 0; symbols.length > i;) wks(symbols[i++]);
            for (var symbols = $keys(wks.store), i = 0; symbols.length > i;) wksDefine(symbols[i++]);
            $export($export.S + $export.F * !USE_NATIVE, "Symbol", {
                "for": function(key) {
                    return has(SymbolRegistry, key += "") ? SymbolRegistry[key] : SymbolRegistry[key] = $Symbol(key)
                },
                keyFor: function keyFor(key) {
                    if (isSymbol(key)) return keyOf(SymbolRegistry, key);
                    throw TypeError(key + " is not a symbol!")
                },
                useSetter: function() {
                    setter = true
                },
                useSimple: function() {
                    setter = false
                }
            });
            $export($export.S + $export.F * !USE_NATIVE, "Object", {
                create: $create,
                defineProperty: $defineProperty,
                defineProperties: $defineProperties,
                getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
                getOwnPropertyNames: $getOwnPropertyNames,
                getOwnPropertySymbols: $getOwnPropertySymbols
            });
            $JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function() {
                var S = $Symbol();
                return _stringify([S]) != "[null]" || _stringify({
                    a: S
                }) != "{}" || _stringify(Object(S)) != "{}"
            })), "JSON", {
                stringify: function stringify(it) {
                    if (it === undefined || isSymbol(it)) return;
                    var args = [it],
                        i = 1,
                        replacer, $replacer;
                    while (arguments.length > i) args.push(arguments[i++]);
                    replacer = args[1];
                    if (typeof replacer == "function") $replacer = replacer;
                    if ($replacer || !isArray(replacer)) replacer = function(key, value) {
                        if ($replacer) value = $replacer.call(this, key, value);
                        if (!isSymbol(value)) return value
                    };
                    args[1] = replacer;
                    return _stringify.apply($JSON, args)
                }
            });
            $Symbol[PROTOTYPE][TO_PRIMITIVE] || require("./_hide")($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
            setToStringTag($Symbol, "Symbol");
            setToStringTag(Math, "Math", true);
            setToStringTag(global.JSON, "JSON", true)
        }, {
            "./_an-object": 60,
            "./_descriptors": 81,
            "./_enum-keys": 84,
            "./_export": 85,
            "./_fails": 87,
            "./_global": 91,
            "./_has": 92,
            "./_hide": 93,
            "./_is-array": 100,
            "./_keyof": 110,
            "./_library": 111,
            "./_meta": 115,
            "./_object-create": 119,
            "./_object-dp": 120,
            "./_object-gopd": 123,
            "./_object-gopn": 125,
            "./_object-gopn-ext": 124,
            "./_object-gops": 126,
            "./_object-keys": 129,
            "./_object-pie": 130,
            "./_property-desc": 138,
            "./_redefine": 140,
            "./_set-to-string-tag": 145,
            "./_shared": 147,
            "./_to-iobject": 160,
            "./_to-primitive": 163,
            "./_uid": 167,
            "./_wks": 170,
            "./_wks-define": 168,
            "./_wks-ext": 169
        }],
        298: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $typed = require("./_typed"),
                buffer = require("./_typed-buffer"),
                anObject = require("./_an-object"),
                toIndex = require("./_to-index"),
                toLength = require("./_to-length"),
                isObject = require("./_is-object"),
                TYPED_ARRAY = require("./_wks")("typed_array"),
                ArrayBuffer = require("./_global").ArrayBuffer,
                speciesConstructor = require("./_species-constructor"),
                $ArrayBuffer = buffer.ArrayBuffer,
                $DataView = buffer.DataView,
                $isView = $typed.ABV && ArrayBuffer.isView,
                $slice = $ArrayBuffer.prototype.slice,
                VIEW = $typed.VIEW,
                ARRAY_BUFFER = "ArrayBuffer";
            $export($export.G + $export.W + $export.F * (ArrayBuffer !== $ArrayBuffer), {
                ArrayBuffer: $ArrayBuffer
            });
            $export($export.S + $export.F * !$typed.CONSTR, ARRAY_BUFFER, {
                isView: function isView(it) {
                    return $isView && $isView(it) || isObject(it) && VIEW in it
                }
            });
            $export($export.P + $export.U + $export.F * require("./_fails")(function() {
                return !new $ArrayBuffer(2).slice(1, undefined).byteLength
            }), ARRAY_BUFFER, {
                slice: function slice(start, end) {
                    if ($slice !== undefined && end === undefined) return $slice.call(anObject(this), start);
                    var len = anObject(this).byteLength,
                        first = toIndex(start, len),
                        final = toIndex(end === undefined ? len : end, len),
                        result = new(speciesConstructor(this, $ArrayBuffer))(toLength(final - first)),
                        viewS = new $DataView(this),
                        viewT = new $DataView(result),
                        index = 0;
                    while (first < final) {
                        viewT.setUint8(index++, viewS.getUint8(first++))
                    }
                    return result
                }
            });
            require("./_set-species")(ARRAY_BUFFER)
        }, {
            "./_an-object": 60,
            "./_export": 85,
            "./_fails": 87,
            "./_global": 91,
            "./_is-object": 102,
            "./_set-species": 144,
            "./_species-constructor": 148,
            "./_to-index": 158,
            "./_to-length": 161,
            "./_typed": 166,
            "./_typed-buffer": 165,
            "./_wks": 170
        }],
        299: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.G + $export.W + $export.F * !require("./_typed").ABV, {
                DataView: require("./_typed-buffer").DataView
            })
        }, {
            "./_export": 85,
            "./_typed": 166,
            "./_typed-buffer": 165
        }],
        300: [function(require, module, exports) {
            require("./_typed-array")("Float32", 4, function(init) {
                return function Float32Array(data, byteOffset, length) {
                    return init(this, data, byteOffset, length)
                }
            })
        }, {
            "./_typed-array": 164
        }],
        301: [function(require, module, exports) {
            require("./_typed-array")("Float64", 8, function(init) {
                return function Float64Array(data, byteOffset, length) {
                    return init(this, data, byteOffset, length)
                }
            })
        }, {
            "./_typed-array": 164
        }],
        302: [function(require, module, exports) {
            require("./_typed-array")("Int16", 2, function(init) {
                return function Int16Array(data, byteOffset, length) {
                    return init(this, data, byteOffset, length)
                }
            })
        }, {
            "./_typed-array": 164
        }],
        303: [function(require, module, exports) {
            require("./_typed-array")("Int32", 4, function(init) {
                return function Int32Array(data, byteOffset, length) {
                    return init(this, data, byteOffset, length)
                }
            })
        }, {
            "./_typed-array": 164
        }],
        304: [function(require, module, exports) {
            require("./_typed-array")("Int8", 1, function(init) {
                return function Int8Array(data, byteOffset, length) {
                    return init(this, data, byteOffset, length)
                }
            })
        }, {
            "./_typed-array": 164
        }],
        305: [function(require, module, exports) {
            require("./_typed-array")("Uint16", 2, function(init) {
                return function Uint16Array(data, byteOffset, length) {
                    return init(this, data, byteOffset, length)
                }
            })
        }, {
            "./_typed-array": 164
        }],
        306: [function(require, module, exports) {
            require("./_typed-array")("Uint32", 4, function(init) {
                return function Uint32Array(data, byteOffset, length) {
                    return init(this, data, byteOffset, length)
                }
            })
        }, {
            "./_typed-array": 164
        }],
        307: [function(require, module, exports) {
            require("./_typed-array")("Uint8", 1, function(init) {
                return function Uint8Array(data, byteOffset, length) {
                    return init(this, data, byteOffset, length)
                }
            })
        }, {
            "./_typed-array": 164
        }],
        308: [function(require, module, exports) {
            require("./_typed-array")("Uint8", 1, function(init) {
                return function Uint8ClampedArray(data, byteOffset, length) {
                    return init(this, data, byteOffset, length)
                }
            }, true)
        }, {
            "./_typed-array": 164
        }],
        309: [function(require, module, exports) {
            "use strict";
            var each = require("./_array-methods")(0),
                redefine = require("./_redefine"),
                meta = require("./_meta"),
                assign = require("./_object-assign"),
                weak = require("./_collection-weak"),
                isObject = require("./_is-object"),
                has = require("./_has"),
                getWeak = meta.getWeak,
                isExtensible = Object.isExtensible,
                uncaughtFrozenStore = weak.ufstore,
                tmp = {},
                InternalMap;
            var wrapper = function(get) {
                return function WeakMap() {
                    return get(this, arguments.length > 0 ? arguments[0] : undefined)
                }
            };
            var methods = {
                get: function get(key) {
                    if (isObject(key)) {
                        var data = getWeak(key);
                        if (data === true) return uncaughtFrozenStore(this).get(key);
                        return data ? data[this._i] : undefined
                    }
                },
                set: function set(key, value) {
                    return weak.def(this, key, value)
                }
            };
            var $WeakMap = module.exports = require("./_collection")("WeakMap", wrapper, methods, weak, true, true);
            if ((new $WeakMap).set((Object.freeze || Object)(tmp), 7).get(tmp) != 7) {
                InternalMap = weak.getConstructor(wrapper);
                assign(InternalMap.prototype, methods);
                meta.NEED = true;
                each(["delete", "has", "get", "set"], function(key) {
                    var proto = $WeakMap.prototype,
                        method = proto[key];
                    redefine(proto, key, function(a, b) {
                        if (isObject(a) && !isExtensible(a)) {
                            if (!this._f) this._f = new InternalMap;
                            var result = this._f[key](a, b);
                            return key == "set" ? this : result
                        }
                        return method.call(this, a, b)
                    })
                })
            }
        }, {
            "./_array-methods": 65,
            "./_collection": 75,
            "./_collection-weak": 74,
            "./_has": 92,
            "./_is-object": 102,
            "./_meta": 115,
            "./_object-assign": 118,
            "./_redefine": 140
        }],
        310: [function(require, module, exports) {
            "use strict";
            var weak = require("./_collection-weak");
            require("./_collection")("WeakSet", function(get) {
                return function WeakSet() {
                    return get(this, arguments.length > 0 ? arguments[0] : undefined)
                }
            }, {
                add: function add(value) {
                    return weak.def(this, value, true)
                }
            }, weak, false, true)
        }, {
            "./_collection": 75,
            "./_collection-weak": 74
        }],
        311: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $includes = require("./_array-includes")(true);
            $export($export.P, "Array", {
                includes: function includes(el) {
                    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined)
                }
            });
            require("./_add-to-unscopables")("includes")
        }, {
            "./_add-to-unscopables": 58,
            "./_array-includes": 64,
            "./_export": 85
        }],
        312: [function(require, module, exports) {
            var $export = require("./_export"),
                microtask = require("./_microtask")(),
                process = require("./_global").process,
                isNode = require("./_cof")(process) == "process";
            $export($export.G, {
                asap: function asap(fn) {
                    var domain = isNode && process.domain;
                    microtask(domain ? domain.bind(fn) : fn)
                }
            })
        }, {
            "./_cof": 71,
            "./_export": 85,
            "./_global": 91,
            "./_microtask": 117
        }],
        313: [function(require, module, exports) {
            var $export = require("./_export"),
                cof = require("./_cof");
            $export($export.S, "Error", {
                isError: function isError(it) {
                    return cof(it) === "Error"
                }
            })
        }, {
            "./_cof": 71,
            "./_export": 85
        }],
        314: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.P + $export.R, "Map", {
                toJSON: require("./_collection-to-json")("Map")
            })
        }, {
            "./_collection-to-json": 73,
            "./_export": 85
        }],
        315: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Math", {
                iaddh: function iaddh(x0, x1, y0, y1) {
                    var $x0 = x0 >>> 0,
                        $x1 = x1 >>> 0,
                        $y0 = y0 >>> 0;
                    return $x1 + (y1 >>> 0) + (($x0 & $y0 | ($x0 | $y0) & ~($x0 + $y0 >>> 0)) >>> 31) | 0
                }
            })
        }, {
            "./_export": 85
        }],
        316: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Math", {
                imulh: function imulh(u, v) {
                    var UINT16 = 65535,
                        $u = +u,
                        $v = +v,
                        u0 = $u & UINT16,
                        v0 = $v & UINT16,
                        u1 = $u >> 16,
                        v1 = $v >> 16,
                        t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);
                    return u1 * v1 + (t >> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >> 16)
                }
            })
        }, {
            "./_export": 85
        }],
        317: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Math", {
                isubh: function isubh(x0, x1, y0, y1) {
                    var $x0 = x0 >>> 0,
                        $x1 = x1 >>> 0,
                        $y0 = y0 >>> 0;
                    return $x1 - (y1 >>> 0) - ((~$x0 & $y0 | ~($x0 ^ $y0) & $x0 - $y0 >>> 0) >>> 31) | 0
                }
            })
        }, {
            "./_export": 85
        }],
        318: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "Math", {
                umulh: function umulh(u, v) {
                    var UINT16 = 65535,
                        $u = +u,
                        $v = +v,
                        u0 = $u & UINT16,
                        v0 = $v & UINT16,
                        u1 = $u >>> 16,
                        v1 = $v >>> 16,
                        t = (u1 * v0 >>> 0) + (u0 * v0 >>> 16);
                    return u1 * v1 + (t >>> 16) + ((u0 * v1 >>> 0) + (t & UINT16) >>> 16)
                }
            })
        }, {
            "./_export": 85
        }],
        319: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                toObject = require("./_to-object"),
                aFunction = require("./_a-function"),
                $defineProperty = require("./_object-dp");
            require("./_descriptors") && $export($export.P + require("./_object-forced-pam"), "Object", {
                __defineGetter__: function __defineGetter__(P, getter) {
                    $defineProperty.f(toObject(this), P, {
                        get: aFunction(getter),
                        enumerable: true,
                        configurable: true
                    })
                }
            })
        }, {
            "./_a-function": 56,
            "./_descriptors": 81,
            "./_export": 85,
            "./_object-dp": 120,
            "./_object-forced-pam": 122,
            "./_to-object": 162
        }],
        320: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                toObject = require("./_to-object"),
                aFunction = require("./_a-function"),
                $defineProperty = require("./_object-dp");
            require("./_descriptors") && $export($export.P + require("./_object-forced-pam"), "Object", {
                __defineSetter__: function __defineSetter__(P, setter) {
                    $defineProperty.f(toObject(this), P, {
                        set: aFunction(setter),
                        enumerable: true,
                        configurable: true
                    })
                }
            })
        }, {
            "./_a-function": 56,
            "./_descriptors": 81,
            "./_export": 85,
            "./_object-dp": 120,
            "./_object-forced-pam": 122,
            "./_to-object": 162
        }],
        321: [function(require, module, exports) {
            var $export = require("./_export"),
                $entries = require("./_object-to-array")(true);
            $export($export.S, "Object", {
                entries: function entries(it) {
                    return $entries(it)
                }
            })
        }, {
            "./_export": 85,
            "./_object-to-array": 132
        }],
        322: [function(require, module, exports) {
            var $export = require("./_export"),
                ownKeys = require("./_own-keys"),
                toIObject = require("./_to-iobject"),
                gOPD = require("./_object-gopd"),
                createProperty = require("./_create-property");
            $export($export.S, "Object", {
                getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {
                    var O = toIObject(object),
                        getDesc = gOPD.f,
                        keys = ownKeys(O),
                        result = {},
                        i = 0,
                        key, D;
                    while (keys.length > i) createProperty(result, key = keys[i++], getDesc(O, key));
                    return result
                }
            })
        }, {
            "./_create-property": 77,
            "./_export": 85,
            "./_object-gopd": 123,
            "./_own-keys": 133,
            "./_to-iobject": 160
        }],
        323: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                toObject = require("./_to-object"),
                toPrimitive = require("./_to-primitive"),
                getPrototypeOf = require("./_object-gpo"),
                getOwnPropertyDescriptor = require("./_object-gopd").f;
            require("./_descriptors") && $export($export.P + require("./_object-forced-pam"), "Object", {
                __lookupGetter__: function __lookupGetter__(P) {
                    var O = toObject(this),
                        K = toPrimitive(P, true),
                        D;
                    do {
                        if (D = getOwnPropertyDescriptor(O, K)) return D.get
                    } while (O = getPrototypeOf(O))
                }
            })
        }, {
            "./_descriptors": 81,
            "./_export": 85,
            "./_object-forced-pam": 122,
            "./_object-gopd": 123,
            "./_object-gpo": 127,
            "./_to-object": 162,
            "./_to-primitive": 163
        }],
        324: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                toObject = require("./_to-object"),
                toPrimitive = require("./_to-primitive"),
                getPrototypeOf = require("./_object-gpo"),
                getOwnPropertyDescriptor = require("./_object-gopd").f;
            require("./_descriptors") && $export($export.P + require("./_object-forced-pam"), "Object", {
                __lookupSetter__: function __lookupSetter__(P) {
                    var O = toObject(this),
                        K = toPrimitive(P, true),
                        D;
                    do {
                        if (D = getOwnPropertyDescriptor(O, K)) return D.set
                    } while (O = getPrototypeOf(O))
                }
            })
        }, {
            "./_descriptors": 81,
            "./_export": 85,
            "./_object-forced-pam": 122,
            "./_object-gopd": 123,
            "./_object-gpo": 127,
            "./_to-object": 162,
            "./_to-primitive": 163
        }],
        325: [function(require, module, exports) {
            var $export = require("./_export"),
                $values = require("./_object-to-array")(false);
            $export($export.S, "Object", {
                values: function values(it) {
                    return $values(it)
                }
            })
        }, {
            "./_export": 85,
            "./_object-to-array": 132
        }],
        326: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                global = require("./_global"),
                core = require("./_core"),
                microtask = require("./_microtask")(),
                OBSERVABLE = require("./_wks")("observable"),
                aFunction = require("./_a-function"),
                anObject = require("./_an-object"),
                anInstance = require("./_an-instance"),
                redefineAll = require("./_redefine-all"),
                hide = require("./_hide"),
                forOf = require("./_for-of"),
                RETURN = forOf.RETURN;
            var getMethod = function(fn) {
                return fn == null ? undefined : aFunction(fn)
            };
            var cleanupSubscription = function(subscription) {
                var cleanup = subscription._c;
                if (cleanup) {
                    subscription._c = undefined;
                    cleanup()
                }
            };
            var subscriptionClosed = function(subscription) {
                return subscription._o === undefined
            };
            var closeSubscription = function(subscription) {
                if (!subscriptionClosed(subscription)) {
                    subscription._o = undefined;
                    cleanupSubscription(subscription)
                }
            };
            var Subscription = function(observer, subscriber) {
                anObject(observer);
                this._c = undefined;
                this._o = observer;
                observer = new SubscriptionObserver(this);
                try {
                    var cleanup = subscriber(observer),
                        subscription = cleanup;
                    if (cleanup != null) {
                        if (typeof cleanup.unsubscribe === "function") cleanup = function() {
                            subscription.unsubscribe()
                        };
                        else aFunction(cleanup);
                        this._c = cleanup
                    }
                } catch (e) {
                    observer.error(e);
                    return
                }
                if (subscriptionClosed(this)) cleanupSubscription(this)
            };
            Subscription.prototype = redefineAll({}, {
                unsubscribe: function unsubscribe() {
                    closeSubscription(this)
                }
            });
            var SubscriptionObserver = function(subscription) {
                this._s = subscription
            };
            SubscriptionObserver.prototype = redefineAll({}, {
                next: function next(value) {
                    var subscription = this._s;
                    if (!subscriptionClosed(subscription)) {
                        var observer = subscription._o;
                        try {
                            var m = getMethod(observer.next);
                            if (m) return m.call(observer, value)
                        } catch (e) {
                            try {
                                closeSubscription(subscription)
                            } finally {
                                throw e
                            }
                        }
                    }
                },
                error: function error(value) {
                    var subscription = this._s;
                    if (subscriptionClosed(subscription)) throw value;
                    var observer = subscription._o;
                    subscription._o = undefined;
                    try {
                        var m = getMethod(observer.error);
                        if (!m) throw value;
                        value = m.call(observer, value)
                    } catch (e) {
                        try {
                            cleanupSubscription(subscription)
                        } finally {
                            throw e
                        }
                    }
                    cleanupSubscription(subscription);
                    return value
                },
                complete: function complete(value) {
                    var subscription = this._s;
                    if (!subscriptionClosed(subscription)) {
                        var observer = subscription._o;
                        subscription._o = undefined;
                        try {
                            var m = getMethod(observer.complete);
                            value = m ? m.call(observer, value) : undefined
                        } catch (e) {
                            try {
                                cleanupSubscription(subscription)
                            } finally {
                                throw e
                            }
                        }
                        cleanupSubscription(subscription);
                        return value
                    }
                }
            });
            var $Observable = function Observable(subscriber) {
                anInstance(this, $Observable, "Observable", "_f")._f = aFunction(subscriber)
            };
            redefineAll($Observable.prototype, {
                subscribe: function subscribe(observer) {
                    return new Subscription(observer, this._f)
                },
                forEach: function forEach(fn) {
                    var that = this;
                    return new(core.Promise || global.Promise)(function(resolve, reject) {
                        aFunction(fn);
                        var subscription = that.subscribe({
                            next: function(value) {
                                try {
                                    return fn(value)
                                } catch (e) {
                                    reject(e);
                                    subscription.unsubscribe()
                                }
                            },
                            error: reject,
                            complete: resolve
                        })
                    })
                }
            });
            redefineAll($Observable, {
                from: function from(x) {
                    var C = typeof this === "function" ? this : $Observable;
                    var method = getMethod(anObject(x)[OBSERVABLE]);
                    if (method) {
                        var observable = anObject(method.call(x));
                        return observable.constructor === C ? observable : new C(function(observer) {
                            return observable.subscribe(observer)
                        })
                    }
                    return new C(function(observer) {
                        var done = false;
                        microtask(function() {
                            if (!done) {
                                try {
                                    if (forOf(x, false, function(it) {
                                            observer.next(it);
                                            if (done) return RETURN
                                        }) === RETURN) return
                                } catch (e) {
                                    if (done) throw e;
                                    observer.error(e);
                                    return
                                }
                                observer.complete()
                            }
                        });
                        return function() {
                            done = true
                        }
                    })
                },
                of: function of() {
                    for (var i = 0, l = arguments.length, items = Array(l); i < l;) items[i] = arguments[i++];
                    return new(typeof this === "function" ? this : $Observable)(function(observer) {
                        var done = false;
                        microtask(function() {
                            if (!done) {
                                for (var i = 0; i < items.length; ++i) {
                                    observer.next(items[i]);
                                    if (done) return
                                }
                                observer.complete()
                            }
                        });
                        return function() {
                            done = true
                        }
                    })
                }
            });
            hide($Observable.prototype, OBSERVABLE, function() {
                return this
            });
            $export($export.G, {
                Observable: $Observable
            });
            require("./_set-species")("Observable")
        }, {
            "./_a-function": 56,
            "./_an-instance": 59,
            "./_an-object": 60,
            "./_core": 76,
            "./_export": 85,
            "./_for-of": 90,
            "./_global": 91,
            "./_hide": 93,
            "./_microtask": 117,
            "./_redefine-all": 139,
            "./_set-species": 144,
            "./_wks": 170
        }],
        327: [function(require, module, exports) {
            var metadata = require("./_metadata"),
                anObject = require("./_an-object"),
                toMetaKey = metadata.key,
                ordinaryDefineOwnMetadata = metadata.set;
            metadata.exp({
                defineMetadata: function defineMetadata(metadataKey, metadataValue, target, targetKey) {
                    ordinaryDefineOwnMetadata(metadataKey, metadataValue, anObject(target), toMetaKey(targetKey))
                }
            })
        }, {
            "./_an-object": 60,
            "./_metadata": 116
        }],
        328: [function(require, module, exports) {
            var metadata = require("./_metadata"),
                anObject = require("./_an-object"),
                toMetaKey = metadata.key,
                getOrCreateMetadataMap = metadata.map,
                store = metadata.store;
            metadata.exp({
                deleteMetadata: function deleteMetadata(metadataKey, target) {
                    var targetKey = arguments.length < 3 ? undefined : toMetaKey(arguments[2]),
                        metadataMap = getOrCreateMetadataMap(anObject(target), targetKey, false);
                    if (metadataMap === undefined || !metadataMap["delete"](metadataKey)) return false;
                    if (metadataMap.size) return true;
                    var targetMetadata = store.get(target);
                    targetMetadata["delete"](targetKey);
                    return !!targetMetadata.size || store["delete"](target)
                }
            })
        }, {
            "./_an-object": 60,
            "./_metadata": 116
        }],
        329: [function(require, module, exports) {
            var Set = require("./es6.set"),
                from = require("./_array-from-iterable"),
                metadata = require("./_metadata"),
                anObject = require("./_an-object"),
                getPrototypeOf = require("./_object-gpo"),
                ordinaryOwnMetadataKeys = metadata.keys,
                toMetaKey = metadata.key;
            var ordinaryMetadataKeys = function(O, P) {
                var oKeys = ordinaryOwnMetadataKeys(O, P),
                    parent = getPrototypeOf(O);
                if (parent === null) return oKeys;
                var pKeys = ordinaryMetadataKeys(parent, P);
                return pKeys.length ? oKeys.length ? from(new Set(oKeys.concat(pKeys))) : pKeys : oKeys
            };
            metadata.exp({
                getMetadataKeys: function getMetadataKeys(target) {
                    return ordinaryMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]))
                }
            })
        }, {
            "./_an-object": 60,
            "./_array-from-iterable": 63,
            "./_metadata": 116,
            "./_object-gpo": 127,
            "./es6.set": 274
        }],
        330: [function(require, module, exports) {
            var metadata = require("./_metadata"),
                anObject = require("./_an-object"),
                getPrototypeOf = require("./_object-gpo"),
                ordinaryHasOwnMetadata = metadata.has,
                ordinaryGetOwnMetadata = metadata.get,
                toMetaKey = metadata.key;
            var ordinaryGetMetadata = function(MetadataKey, O, P) {
                var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);
                if (hasOwn) return ordinaryGetOwnMetadata(MetadataKey, O, P);
                var parent = getPrototypeOf(O);
                return parent !== null ? ordinaryGetMetadata(MetadataKey, parent, P) : undefined
            };
            metadata.exp({
                getMetadata: function getMetadata(metadataKey, target) {
                    return ordinaryGetMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]))
                }
            })
        }, {
            "./_an-object": 60,
            "./_metadata": 116,
            "./_object-gpo": 127
        }],
        331: [function(require, module, exports) {
            var metadata = require("./_metadata"),
                anObject = require("./_an-object"),
                ordinaryOwnMetadataKeys = metadata.keys,
                toMetaKey = metadata.key;
            metadata.exp({
                getOwnMetadataKeys: function getOwnMetadataKeys(target) {
                    return ordinaryOwnMetadataKeys(anObject(target), arguments.length < 2 ? undefined : toMetaKey(arguments[1]))
                }
            })
        }, {
            "./_an-object": 60,
            "./_metadata": 116
        }],
        332: [function(require, module, exports) {
            var metadata = require("./_metadata"),
                anObject = require("./_an-object"),
                ordinaryGetOwnMetadata = metadata.get,
                toMetaKey = metadata.key;
            metadata.exp({
                getOwnMetadata: function getOwnMetadata(metadataKey, target) {
                    return ordinaryGetOwnMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]))
                }
            })
        }, {
            "./_an-object": 60,
            "./_metadata": 116
        }],
        333: [function(require, module, exports) {
            var metadata = require("./_metadata"),
                anObject = require("./_an-object"),
                getPrototypeOf = require("./_object-gpo"),
                ordinaryHasOwnMetadata = metadata.has,
                toMetaKey = metadata.key;
            var ordinaryHasMetadata = function(MetadataKey, O, P) {
                var hasOwn = ordinaryHasOwnMetadata(MetadataKey, O, P);
                if (hasOwn) return true;
                var parent = getPrototypeOf(O);
                return parent !== null ? ordinaryHasMetadata(MetadataKey, parent, P) : false
            };
            metadata.exp({
                hasMetadata: function hasMetadata(metadataKey, target) {
                    return ordinaryHasMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]))
                }
            })
        }, {
            "./_an-object": 60,
            "./_metadata": 116,
            "./_object-gpo": 127
        }],
        334: [function(require, module, exports) {
            var metadata = require("./_metadata"),
                anObject = require("./_an-object"),
                ordinaryHasOwnMetadata = metadata.has,
                toMetaKey = metadata.key;
            metadata.exp({
                hasOwnMetadata: function hasOwnMetadata(metadataKey, target) {
                    return ordinaryHasOwnMetadata(metadataKey, anObject(target), arguments.length < 3 ? undefined : toMetaKey(arguments[2]))
                }
            })
        }, {
            "./_an-object": 60,
            "./_metadata": 116
        }],
        335: [function(require, module, exports) {
            var metadata = require("./_metadata"),
                anObject = require("./_an-object"),
                aFunction = require("./_a-function"),
                toMetaKey = metadata.key,
                ordinaryDefineOwnMetadata = metadata.set;
            metadata.exp({
                metadata: function metadata(metadataKey, metadataValue) {
                    return function decorator(target, targetKey) {
                        ordinaryDefineOwnMetadata(metadataKey, metadataValue, (targetKey !== undefined ? anObject : aFunction)(target), toMetaKey(targetKey))
                    }
                }
            })
        }, {
            "./_a-function": 56,
            "./_an-object": 60,
            "./_metadata": 116
        }],
        336: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.P + $export.R, "Set", {
                toJSON: require("./_collection-to-json")("Set")
            })
        }, {
            "./_collection-to-json": 73,
            "./_export": 85
        }],
        337: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $at = require("./_string-at")(true);
            $export($export.P, "String", {
                at: function at(pos) {
                    return $at(this, pos)
                }
            })
        }, {
            "./_export": 85,
            "./_string-at": 150
        }],
        338: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                defined = require("./_defined"),
                toLength = require("./_to-length"),
                isRegExp = require("./_is-regexp"),
                getFlags = require("./_flags"),
                RegExpProto = RegExp.prototype;
            var $RegExpStringIterator = function(regexp, string) {
                this._r = regexp;
                this._s = string
            };
            require("./_iter-create")($RegExpStringIterator, "RegExp String", function next() {
                var match = this._r.exec(this._s);
                return {
                    value: match,
                    done: match === null
                }
            });
            $export($export.P, "String", {
                matchAll: function matchAll(regexp) {
                    defined(this);
                    if (!isRegExp(regexp)) throw TypeError(regexp + " is not a regexp!");
                    var S = String(this),
                        flags = "flags" in RegExpProto ? String(regexp.flags) : getFlags.call(regexp),
                        rx = new RegExp(regexp.source, ~flags.indexOf("g") ? flags : "g" + flags);
                    rx.lastIndex = toLength(regexp.lastIndex);
                    return new $RegExpStringIterator(rx, S)
                }
            })
        }, {
            "./_defined": 80,
            "./_export": 85,
            "./_flags": 89,
            "./_is-regexp": 103,
            "./_iter-create": 105,
            "./_to-length": 161
        }],
        339: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $pad = require("./_string-pad");
            $export($export.P, "String", {
                padEnd: function padEnd(maxLength) {
                    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, false)
                }
            })
        }, {
            "./_export": 85,
            "./_string-pad": 153
        }],
        340: [function(require, module, exports) {
            "use strict";
            var $export = require("./_export"),
                $pad = require("./_string-pad");
            $export($export.P, "String", {
                padStart: function padStart(maxLength) {
                    return $pad(this, maxLength, arguments.length > 1 ? arguments[1] : undefined, true)
                }
            })
        }, {
            "./_export": 85,
            "./_string-pad": 153
        }],
        341: [function(require, module, exports) {
            "use strict";
            require("./_string-trim")("trimLeft", function($trim) {
                return function trimLeft() {
                    return $trim(this, 1)
                }
            }, "trimStart")
        }, {
            "./_string-trim": 155
        }],
        342: [function(require, module, exports) {
            "use strict";
            require("./_string-trim")("trimRight", function($trim) {
                return function trimRight() {
                    return $trim(this, 2)
                }
            }, "trimEnd")
        }, {
            "./_string-trim": 155
        }],
        343: [function(require, module, exports) {
            require("./_wks-define")("asyncIterator")
        }, {
            "./_wks-define": 168
        }],
        344: [function(require, module, exports) {
            require("./_wks-define")("observable")
        }, {
            "./_wks-define": 168
        }],
        345: [function(require, module, exports) {
            var $export = require("./_export");
            $export($export.S, "System", {
                global: require("./_global")
            })
        }, {
            "./_export": 85,
            "./_global": 91
        }],
        346: [function(require, module, exports) {
            var $iterators = require("./es6.array.iterator"),
                redefine = require("./_redefine"),
                global = require("./_global"),
                hide = require("./_hide"),
                Iterators = require("./_iterators"),
                wks = require("./_wks"),
                ITERATOR = wks("iterator"),
                TO_STRING_TAG = wks("toStringTag"),
                ArrayValues = Iterators.Array;
            for (var collections = ["NodeList", "DOMTokenList", "MediaList", "StyleSheetList", "CSSRuleList"], i = 0; i < 5; i++) {
                var NAME = collections[i],
                    Collection = global[NAME],
                    proto = Collection && Collection.prototype,
                    key;
                if (proto) {
                    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);
                    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);
                    Iterators[NAME] = ArrayValues;
                    for (key in $iterators)
                        if (!proto[key]) redefine(proto, key, $iterators[key], true)
                }
            }
        }, {
            "./_global": 91,
            "./_hide": 93,
            "./_iterators": 109,
            "./_redefine": 140,
            "./_wks": 170,
            "./es6.array.iterator": 184
        }],
        347: [function(require, module, exports) {
            var $export = require("./_export"),
                $task = require("./_task");
            $export($export.G + $export.B, {
                setImmediate: $task.set,
                clearImmediate: $task.clear
            })
        }, {
            "./_export": 85,
            "./_task": 157
        }],
        348: [function(require, module, exports) {
            var global = require("./_global"),
                $export = require("./_export"),
                invoke = require("./_invoke"),
                partial = require("./_partial"),
                navigator = global.navigator,
                MSIE = !!navigator && /MSIE .\./.test(navigator.userAgent);
            var wrap = function(set) {
                return MSIE ? function(fn, time) {
                    return set(invoke(partial, [].slice.call(arguments, 2), typeof fn == "function" ? fn : Function(fn)), time)
                } : set
            };
            $export($export.G + $export.B + $export.F * MSIE, {
                setTimeout: wrap(global.setTimeout),
                setInterval: wrap(global.setInterval)
            })
        }, {
            "./_export": 85,
            "./_global": 91,
            "./_invoke": 97,
            "./_partial": 136
        }],
        349: [function(require, module, exports) {
            require("./modules/es6.symbol");
            require("./modules/es6.object.create");
            require("./modules/es6.object.define-property");
            require("./modules/es6.object.define-properties");
            require("./modules/es6.object.get-own-property-descriptor");
            require("./modules/es6.object.get-prototype-of");
            require("./modules/es6.object.keys");
            require("./modules/es6.object.get-own-property-names");
            require("./modules/es6.object.freeze");
            require("./modules/es6.object.seal");
            require("./modules/es6.object.prevent-extensions");
            require("./modules/es6.object.is-frozen");
            require("./modules/es6.object.is-sealed");
            require("./modules/es6.object.is-extensible");
            require("./modules/es6.object.assign");
            require("./modules/es6.object.is");
            require("./modules/es6.object.set-prototype-of");
            require("./modules/es6.object.to-string");
            require("./modules/es6.function.bind");
            require("./modules/es6.function.name");
            require("./modules/es6.function.has-instance");
            require("./modules/es6.parse-int");
            require("./modules/es6.parse-float");
            require("./modules/es6.number.constructor");
            require("./modules/es6.number.to-fixed");
            require("./modules/es6.number.to-precision");
            require("./modules/es6.number.epsilon");
            require("./modules/es6.number.is-finite");
            require("./modules/es6.number.is-integer");
            require("./modules/es6.number.is-nan");
            require("./modules/es6.number.is-safe-integer");
            require("./modules/es6.number.max-safe-integer");
            require("./modules/es6.number.min-safe-integer");
            require("./modules/es6.number.parse-float");
            require("./modules/es6.number.parse-int");
            require("./modules/es6.math.acosh");
            require("./modules/es6.math.asinh");
            require("./modules/es6.math.atanh");
            require("./modules/es6.math.cbrt");
            require("./modules/es6.math.clz32");
            require("./modules/es6.math.cosh");
            require("./modules/es6.math.expm1");
            require("./modules/es6.math.fround");
            require("./modules/es6.math.hypot");
            require("./modules/es6.math.imul");
            require("./modules/es6.math.log10");
            require("./modules/es6.math.log1p");
            require("./modules/es6.math.log2");
            require("./modules/es6.math.sign");
            require("./modules/es6.math.sinh");
            require("./modules/es6.math.tanh");
            require("./modules/es6.math.trunc");
            require("./modules/es6.string.from-code-point");
            require("./modules/es6.string.raw");
            require("./modules/es6.string.trim");
            require("./modules/es6.string.iterator");
            require("./modules/es6.string.code-point-at");
            require("./modules/es6.string.ends-with");
            require("./modules/es6.string.includes");
            require("./modules/es6.string.repeat");
            require("./modules/es6.string.starts-with");
            require("./modules/es6.string.anchor");
            require("./modules/es6.string.big");
            require("./modules/es6.string.blink");
            require("./modules/es6.string.bold");
            require("./modules/es6.string.fixed");
            require("./modules/es6.string.fontcolor");
            require("./modules/es6.string.fontsize");
            require("./modules/es6.string.italics");
            require("./modules/es6.string.link");
            require("./modules/es6.string.small");
            require("./modules/es6.string.strike");
            require("./modules/es6.string.sub");
            require("./modules/es6.string.sup");
            require("./modules/es6.date.now");
            require("./modules/es6.date.to-json");
            require("./modules/es6.date.to-iso-string");
            require("./modules/es6.date.to-string");
            require("./modules/es6.date.to-primitive");
            require("./modules/es6.array.is-array");
            require("./modules/es6.array.from");
            require("./modules/es6.array.of");
            require("./modules/es6.array.join");
            require("./modules/es6.array.slice");
            require("./modules/es6.array.sort");
            require("./modules/es6.array.for-each");
            require("./modules/es6.array.map");
            require("./modules/es6.array.filter");
            require("./modules/es6.array.some");
            require("./modules/es6.array.every");
            require("./modules/es6.array.reduce");
            require("./modules/es6.array.reduce-right");
            require("./modules/es6.array.index-of");
            require("./modules/es6.array.last-index-of");
            require("./modules/es6.array.copy-within");
            require("./modules/es6.array.fill");
            require("./modules/es6.array.find");
            require("./modules/es6.array.find-index");
            require("./modules/es6.array.species");
            require("./modules/es6.array.iterator");
            require("./modules/es6.regexp.constructor");
            require("./modules/es6.regexp.to-string");
            require("./modules/es6.regexp.flags");
            require("./modules/es6.regexp.match");
            require("./modules/es6.regexp.replace");
            require("./modules/es6.regexp.search");
            require("./modules/es6.regexp.split");
            require("./modules/es6.promise");
            require("./modules/es6.map");
            require("./modules/es6.set");
            require("./modules/es6.weak-map");
            require("./modules/es6.weak-set");
            require("./modules/es6.typed.array-buffer");
            require("./modules/es6.typed.data-view");
            require("./modules/es6.typed.int8-array");
            require("./modules/es6.typed.uint8-array");
            require("./modules/es6.typed.uint8-clamped-array");
            require("./modules/es6.typed.int16-array");
            require("./modules/es6.typed.uint16-array");
            require("./modules/es6.typed.int32-array");
            require("./modules/es6.typed.uint32-array");
            require("./modules/es6.typed.float32-array");
            require("./modules/es6.typed.float64-array");
            require("./modules/es6.reflect.apply");
            require("./modules/es6.reflect.construct");
            require("./modules/es6.reflect.define-property");
            require("./modules/es6.reflect.delete-property");
            require("./modules/es6.reflect.enumerate");
            require("./modules/es6.reflect.get");
            require("./modules/es6.reflect.get-own-property-descriptor");
            require("./modules/es6.reflect.get-prototype-of");
            require("./modules/es6.reflect.has");
            require("./modules/es6.reflect.is-extensible");
            require("./modules/es6.reflect.own-keys");
            require("./modules/es6.reflect.prevent-extensions");
            require("./modules/es6.reflect.set");
            require("./modules/es6.reflect.set-prototype-of");
            require("./modules/es7.array.includes");
            require("./modules/es7.string.at");
            require("./modules/es7.string.pad-start");
            require("./modules/es7.string.pad-end");
            require("./modules/es7.string.trim-left");
            require("./modules/es7.string.trim-right");
            require("./modules/es7.string.match-all");
            require("./modules/es7.symbol.async-iterator");
            require("./modules/es7.symbol.observable");
            require("./modules/es7.object.get-own-property-descriptors");
            require("./modules/es7.object.values");
            require("./modules/es7.object.entries");
            require("./modules/es7.object.define-getter");
            require("./modules/es7.object.define-setter");
            require("./modules/es7.object.lookup-getter");
            require("./modules/es7.object.lookup-setter");
            require("./modules/es7.map.to-json");
            require("./modules/es7.set.to-json");
            require("./modules/es7.system.global");
            require("./modules/es7.error.is-error");
            require("./modules/es7.math.iaddh");
            require("./modules/es7.math.isubh");
            require("./modules/es7.math.imulh");
            require("./modules/es7.math.umulh");
            require("./modules/es7.reflect.define-metadata");
            require("./modules/es7.reflect.delete-metadata");
            require("./modules/es7.reflect.get-metadata");
            require("./modules/es7.reflect.get-metadata-keys");
            require("./modules/es7.reflect.get-own-metadata");
            require("./modules/es7.reflect.get-own-metadata-keys");
            require("./modules/es7.reflect.has-metadata");
            require("./modules/es7.reflect.has-own-metadata");
            require("./modules/es7.reflect.metadata");
            require("./modules/es7.asap");
            require("./modules/es7.observable");
            require("./modules/web.timers");
            require("./modules/web.immediate");
            require("./modules/web.dom.iterable");
            module.exports = require("./modules/_core")
        }, {
            "./modules/_core": 76,
            "./modules/es6.array.copy-within": 174,
            "./modules/es6.array.every": 175,
            "./modules/es6.array.fill": 176,
            "./modules/es6.array.filter": 177,
            "./modules/es6.array.find": 179,
            "./modules/es6.array.find-index": 178,
            "./modules/es6.array.for-each": 180,
            "./modules/es6.array.from": 181,
            "./modules/es6.array.index-of": 182,
            "./modules/es6.array.is-array": 183,
            "./modules/es6.array.iterator": 184,
            "./modules/es6.array.join": 185,
            "./modules/es6.array.last-index-of": 186,
            "./modules/es6.array.map": 187,
            "./modules/es6.array.of": 188,
            "./modules/es6.array.reduce": 190,
            "./modules/es6.array.reduce-right": 189,
            "./modules/es6.array.slice": 191,
            "./modules/es6.array.some": 192,
            "./modules/es6.array.sort": 193,
            "./modules/es6.array.species": 194,
            "./modules/es6.date.now": 195,
            "./modules/es6.date.to-iso-string": 196,
            "./modules/es6.date.to-json": 197,
            "./modules/es6.date.to-primitive": 198,
            "./modules/es6.date.to-string": 199,
            "./modules/es6.function.bind": 200,
            "./modules/es6.function.has-instance": 201,
            "./modules/es6.function.name": 202,
            "./modules/es6.map": 203,
            "./modules/es6.math.acosh": 204,
            "./modules/es6.math.asinh": 205,
            "./modules/es6.math.atanh": 206,
            "./modules/es6.math.cbrt": 207,
            "./modules/es6.math.clz32": 208,
            "./modules/es6.math.cosh": 209,
            "./modules/es6.math.expm1": 210,
            "./modules/es6.math.fround": 211,
            "./modules/es6.math.hypot": 212,
            "./modules/es6.math.imul": 213,
            "./modules/es6.math.log10": 214,
            "./modules/es6.math.log1p": 215,
            "./modules/es6.math.log2": 216,
            "./modules/es6.math.sign": 217,
            "./modules/es6.math.sinh": 218,
            "./modules/es6.math.tanh": 219,
            "./modules/es6.math.trunc": 220,
            "./modules/es6.number.constructor": 221,
            "./modules/es6.number.epsilon": 222,
            "./modules/es6.number.is-finite": 223,
            "./modules/es6.number.is-integer": 224,
            "./modules/es6.number.is-nan": 225,
            "./modules/es6.number.is-safe-integer": 226,
            "./modules/es6.number.max-safe-integer": 227,
            "./modules/es6.number.min-safe-integer": 228,
            "./modules/es6.number.parse-float": 229,
            "./modules/es6.number.parse-int": 230,
            "./modules/es6.number.to-fixed": 231,
            "./modules/es6.number.to-precision": 232,
            "./modules/es6.object.assign": 233,
            "./modules/es6.object.create": 234,
            "./modules/es6.object.define-properties": 235,
            "./modules/es6.object.define-property": 236,
            "./modules/es6.object.freeze": 237,
            "./modules/es6.object.get-own-property-descriptor": 238,
            "./modules/es6.object.get-own-property-names": 239,
            "./modules/es6.object.get-prototype-of": 240,
            "./modules/es6.object.is": 244,
            "./modules/es6.object.is-extensible": 241,
            "./modules/es6.object.is-frozen": 242,
            "./modules/es6.object.is-sealed": 243,
            "./modules/es6.object.keys": 245,
            "./modules/es6.object.prevent-extensions": 246,
            "./modules/es6.object.seal": 247,
            "./modules/es6.object.set-prototype-of": 248,
            "./modules/es6.object.to-string": 249,
            "./modules/es6.parse-float": 250,
            "./modules/es6.parse-int": 251,
            "./modules/es6.promise": 252,
            "./modules/es6.reflect.apply": 253,
            "./modules/es6.reflect.construct": 254,
            "./modules/es6.reflect.define-property": 255,
            "./modules/es6.reflect.delete-property": 256,
            "./modules/es6.reflect.enumerate": 257,
            "./modules/es6.reflect.get": 260,
            "./modules/es6.reflect.get-own-property-descriptor": 258,
            "./modules/es6.reflect.get-prototype-of": 259,
            "./modules/es6.reflect.has": 261,
            "./modules/es6.reflect.is-extensible": 262,
            "./modules/es6.reflect.own-keys": 263,
            "./modules/es6.reflect.prevent-extensions": 264,
            "./modules/es6.reflect.set": 266,
            "./modules/es6.reflect.set-prototype-of": 265,
            "./modules/es6.regexp.constructor": 267,
            "./modules/es6.regexp.flags": 268,
            "./modules/es6.regexp.match": 269,
            "./modules/es6.regexp.replace": 270,
            "./modules/es6.regexp.search": 271,
            "./modules/es6.regexp.split": 272,
            "./modules/es6.regexp.to-string": 273,
            "./modules/es6.set": 274,
            "./modules/es6.string.anchor": 275,
            "./modules/es6.string.big": 276,
            "./modules/es6.string.blink": 277,
            "./modules/es6.string.bold": 278,
            "./modules/es6.string.code-point-at": 279,
            "./modules/es6.string.ends-with": 280,
            "./modules/es6.string.fixed": 281,
            "./modules/es6.string.fontcolor": 282,
            "./modules/es6.string.fontsize": 283,
            "./modules/es6.string.from-code-point": 284,
            "./modules/es6.string.includes": 285,
            "./modules/es6.string.italics": 286,
            "./modules/es6.string.iterator": 287,
            "./modules/es6.string.link": 288,
            "./modules/es6.string.raw": 289,
            "./modules/es6.string.repeat": 290,
            "./modules/es6.string.small": 291,
            "./modules/es6.string.starts-with": 292,
            "./modules/es6.string.strike": 293,
            "./modules/es6.string.sub": 294,
            "./modules/es6.string.sup": 295,
            "./modules/es6.string.trim": 296,
            "./modules/es6.symbol": 297,
            "./modules/es6.typed.array-buffer": 298,
            "./modules/es6.typed.data-view": 299,
            "./modules/es6.typed.float32-array": 300,
            "./modules/es6.typed.float64-array": 301,
            "./modules/es6.typed.int16-array": 302,
            "./modules/es6.typed.int32-array": 303,
            "./modules/es6.typed.int8-array": 304,
            "./modules/es6.typed.uint16-array": 305,
            "./modules/es6.typed.uint32-array": 306,
            "./modules/es6.typed.uint8-array": 307,
            "./modules/es6.typed.uint8-clamped-array": 308,
            "./modules/es6.weak-map": 309,
            "./modules/es6.weak-set": 310,
            "./modules/es7.array.includes": 311,
            "./modules/es7.asap": 312,
            "./modules/es7.error.is-error": 313,
            "./modules/es7.map.to-json": 314,
            "./modules/es7.math.iaddh": 315,
            "./modules/es7.math.imulh": 316,
            "./modules/es7.math.isubh": 317,
            "./modules/es7.math.umulh": 318,
            "./modules/es7.object.define-getter": 319,
            "./modules/es7.object.define-setter": 320,
            "./modules/es7.object.entries": 321,
            "./modules/es7.object.get-own-property-descriptors": 322,
            "./modules/es7.object.lookup-getter": 323,
            "./modules/es7.object.lookup-setter": 324,
            "./modules/es7.object.values": 325,
            "./modules/es7.observable": 326,
            "./modules/es7.reflect.define-metadata": 327,
            "./modules/es7.reflect.delete-metadata": 328,
            "./modules/es7.reflect.get-metadata": 330,
            "./modules/es7.reflect.get-metadata-keys": 329,
            "./modules/es7.reflect.get-own-metadata": 332,
            "./modules/es7.reflect.get-own-metadata-keys": 331,
            "./modules/es7.reflect.has-metadata": 333,
            "./modules/es7.reflect.has-own-metadata": 334,
            "./modules/es7.reflect.metadata": 335,
            "./modules/es7.set.to-json": 336,
            "./modules/es7.string.at": 337,
            "./modules/es7.string.match-all": 338,
            "./modules/es7.string.pad-end": 339,
            "./modules/es7.string.pad-start": 340,
            "./modules/es7.string.trim-left": 341,
            "./modules/es7.string.trim-right": 342,
            "./modules/es7.symbol.async-iterator": 343,
            "./modules/es7.symbol.observable": 344,
            "./modules/es7.system.global": 345,
            "./modules/web.dom.iterable": 346,
            "./modules/web.immediate": 347,
            "./modules/web.timers": 348
        }],
        350: [function(require, module, exports) {
            (function(global) {
                jQuery = global.jQuery = require("/var/lib/jenkins/jobs/jitsi-meet-debian/workspace/jitsi-meet/node_modules/jquery/dist/jquery.js");
                var __browserify_shim_require__ = require;
                (function browserifyShim(module, define, require) {
                    + function($) {
                        "use strict";
                        var Popover = function(element, options) {
                            this.init("popover", element, options)
                        };
                        if (!$.fn.tooltip) throw new Error("Popover requires tooltip.js");
                        Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {
                            placement: "right",
                            trigger: "click",
                            content: "",
                            template: '<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
                        });
                        Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype);
                        Popover.prototype.constructor = Popover;
                        Popover.prototype.getDefaults = function() {
                            return Popover.DEFAULTS
                        };
                        Popover.prototype.setContent = function() {
                            var $tip = this.tip();
                            var title = this.getTitle();
                            var content = this.getContent();
                            $tip.find(".popover-title")[this.options.html ? "html" : "text"](title);
                            $tip.find(".popover-content")[this.options.html ? typeof content == "string" ? "html" : "append" : "text"](content);
                            $tip.removeClass("fade top bottom left right in");
                            if (!$tip.find(".popover-title").html()) $tip.find(".popover-title").hide()
                        };
                        Popover.prototype.hasContent = function() {
                            return this.getTitle() || this.getContent()
                        };
                        Popover.prototype.getContent = function() {
                            var $e = this.$element;
                            var o = this.options;
                            return $e.attr("data-content") || (typeof o.content == "function" ? o.content.call($e[0]) : o.content)
                        };
                        Popover.prototype.arrow = function() {
                            return this.$arrow = this.$arrow || this.tip().find(".arrow")
                        };
                        Popover.prototype.tip = function() {
                            if (!this.$tip) this.$tip = $(this.options.template);
                            return this.$tip
                        };
                        var old = $.fn.popover;
                        $.fn.popover = function(option) {
                            return this.each(function() {
                                var $this = $(this);
                                var data = $this.data("bs.popover");
                                var options = typeof option == "object" && option;
                                if (!data && option == "destroy") return;
                                if (!data) $this.data("bs.popover", data = new Popover(this, options));
                                if (typeof option == "string") data[option]()
                            })
                        };
                        $.fn.popover.Constructor = Popover;
                        $.fn.popover.noConflict = function() {
                            $.fn.popover = old;
                            return this
                        }
                    }(jQuery)
                }).call(global, module, undefined, undefined)
            }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
        }, {
            "/var/lib/jenkins/jobs/jitsi-meet-debian/workspace/jitsi-meet/node_modules/jquery/dist/jquery.js": 358
        }],
        351: [function(require, module, exports) {
            (function(global) {
                jQuery = global.jQuery = require("/var/lib/jenkins/jobs/jitsi-meet-debian/workspace/jitsi-meet/node_modules/jquery/dist/jquery.js");
                var __browserify_shim_require__ = require;
                (function browserifyShim(module, define, require) {
                    + function($) {
                        "use strict";
                        var Tooltip = function(element, options) {
                            this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null;
                            this.init("tooltip", element, options)
                        };
                        Tooltip.DEFAULTS = {
                            animation: true,
                            placement: "top",
                            selector: false,
                            template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
                            trigger: "hover focus",
                            title: "",
                            delay: 0,
                            html: false,
                            container: false
                        };
                        Tooltip.prototype.init = function(type, element, options) {
                            this.enabled = true;
                            this.type = type;
                            this.$element = $(element);
                            this.options = this.getOptions(options);
                            var triggers = this.options.trigger.split(" ");
                            for (var i = triggers.length; i--;) {
                                var trigger = triggers[i];
                                if (trigger == "click") {
                                    this.$element.on("click." + this.type, this.options.selector, $.proxy(this.toggle, this))
                                } else if (trigger != "manual") {
                                    var eventIn = trigger == "hover" ? "mouseenter" : "focusin";
                                    var eventOut = trigger == "hover" ? "mouseleave" : "focusout";
                                    this.$element.on(eventIn + "." + this.type, this.options.selector, $.proxy(this.enter, this));
                                    this.$element.on(eventOut + "." + this.type, this.options.selector, $.proxy(this.leave, this))
                                }
                            }
                            this.options.selector ? this._options = $.extend({}, this.options, {
                                trigger: "manual",
                                selector: ""
                            }) : this.fixTitle()
                        };
                        Tooltip.prototype.getDefaults = function() {
                            return Tooltip.DEFAULTS
                        };
                        Tooltip.prototype.getOptions = function(options) {
                            options = $.extend({}, this.getDefaults(), this.$element.data(), options);
                            if (options.delay && typeof options.delay == "number") {
                                options.delay = {
                                    show: options.delay,
                                    hide: options.delay
                                }
                            }
                            return options
                        };
                        Tooltip.prototype.getDelegateOptions = function() {
                            var options = {};
                            var defaults = this.getDefaults();
                            this._options && $.each(this._options, function(key, value) {
                                if (defaults[key] != value) options[key] = value
                            });
                            return options
                        };
                        Tooltip.prototype.enter = function(obj) {
                            var self = obj instanceof this.constructor ? obj : $(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type);
                            clearTimeout(self.timeout);
                            self.hoverState = "in";
                            if (!self.options.delay || !self.options.delay.show) return self.show();
                            self.timeout = setTimeout(function() {
                                if (self.hoverState == "in") self.show()
                            }, self.options.delay.show)
                        };
                        Tooltip.prototype.leave = function(obj) {
                            var self = obj instanceof this.constructor ? obj : $(obj.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type);
                            clearTimeout(self.timeout);
                            self.hoverState = "out";
                            if (!self.options.delay || !self.options.delay.hide) return self.hide();
                            self.timeout = setTimeout(function() {
                                if (self.hoverState == "out") self.hide()
                            }, self.options.delay.hide)
                        };
                        Tooltip.prototype.show = function() {
                            var e = $.Event("show.bs." + this.type);
                            if (this.hasContent() && this.enabled) {
                                this.$element.trigger(e);
                                if (e.isDefaultPrevented()) return;
                                var that = this;
                                var $tip = this.tip();
                                this.setContent();
                                if (this.options.animation) $tip.addClass("fade");
                                var placement = typeof this.options.placement == "function" ? this.options.placement.call(this, $tip[0], this.$element[0]) : this.options.placement;
                                var autoToken = /\s?auto?\s?/i;
                                var autoPlace = autoToken.test(placement);
                                if (autoPlace) placement = placement.replace(autoToken, "") || "top";
                                $tip.detach().css({
                                    top: 0,
                                    left: 0,
                                    display: "block"
                                }).addClass(placement);
                                this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element);
                                var pos = this.getPosition();
                                var actualWidth = $tip[0].offsetWidth;
                                var actualHeight = $tip[0].offsetHeight;
                                if (autoPlace) {
                                    var $parent = this.$element.parent();
                                    var orgPlacement = placement;
                                    var docScroll = document.documentElement.scrollTop || document.body.scrollTop;
                                    var parentWidth = this.options.container == "body" ? window.innerWidth : $parent.outerWidth();
                                    var parentHeight = this.options.container == "body" ? window.innerHeight : $parent.outerHeight();
                                    var parentLeft = this.options.container == "body" ? 0 : $parent.offset().left;
                                    placement = placement == "bottom" && pos.top + pos.height + actualHeight - docScroll > parentHeight ? "top" : placement == "top" && pos.top - docScroll - actualHeight < 0 ? "bottom" : placement == "right" && pos.right + actualWidth > parentWidth ? "left" : placement == "left" && pos.left - actualWidth < parentLeft ? "right" : placement;
                                    $tip.removeClass(orgPlacement).addClass(placement)
                                }
                                var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight);
                                this.applyPlacement(calculatedOffset, placement);
                                this.hoverState = null;
                                var complete = function() {
                                    that.$element.trigger("shown.bs." + that.type)
                                };
                                $.support.transition && this.$tip.hasClass("fade") ? $tip.one($.support.transition.end, complete).emulateTransitionEnd(150) : complete()
                            }
                        };
                        Tooltip.prototype.applyPlacement = function(offset, placement) {
                            var replace;
                            var $tip = this.tip();
                            var width = $tip[0].offsetWidth;
                            var height = $tip[0].offsetHeight;
                            var marginTop = parseInt($tip.css("margin-top"), 10);
                            var marginLeft = parseInt($tip.css("margin-left"), 10);
                            if (isNaN(marginTop)) marginTop = 0;
                            if (isNaN(marginLeft)) marginLeft = 0;
                            offset.top = offset.top + marginTop;
                            offset.left = offset.left + marginLeft;
                            $.offset.setOffset($tip[0], $.extend({
                                using: function(props) {
                                    $tip.css({
                                        top: Math.round(props.top),
                                        left: Math.round(props.left)
                                    })
                                }
                            }, offset), 0);
                            $tip.addClass("in");
                            var actualWidth = $tip[0].offsetWidth;
                            var actualHeight = $tip[0].offsetHeight;
                            if (placement == "top" && actualHeight != height) {
                                replace = true;
                                offset.top = offset.top + height - actualHeight
                            }
                            if (/bottom|top/.test(placement)) {
                                var delta = 0;
                                if (offset.left < 0) {
                                    delta = offset.left * -2;
                                    offset.left = 0;
                                    $tip.offset(offset);
                                    actualWidth = $tip[0].offsetWidth;
                                    actualHeight = $tip[0].offsetHeight
                                }
                                this.replaceArrow(delta - width + actualWidth, actualWidth, "left")
                            } else {
                                this.replaceArrow(actualHeight - height, actualHeight, "top")
                            }
                            if (replace) $tip.offset(offset)
                        };
                        Tooltip.prototype.replaceArrow = function(delta, dimension, position) {
                            this.arrow().css(position, delta ? 50 * (1 - delta / dimension) + "%" : "")
                        };
                        Tooltip.prototype.setContent = function() {
                            var $tip = this.tip();
                            var title = this.getTitle();
                            $tip.find(".tooltip-inner")[this.options.html ? "html" : "text"](title);
                            $tip.removeClass("fade in top bottom left right")
                        };
                        Tooltip.prototype.hide = function() {
                            var that = this;
                            var $tip = this.tip();
                            var e = $.Event("hide.bs." + this.type);

                            function complete() {
                                if (that.hoverState != "in") $tip.detach();
                                that.$element.trigger("hidden.bs." + that.type)
                            }
                            this.$element.trigger(e);
                            if (e.isDefaultPrevented()) return;
                            $tip.removeClass("in");
                            $.support.transition && this.$tip.hasClass("fade") ? $tip.one($.support.transition.end, complete).emulateTransitionEnd(150) : complete();
                            this.hoverState = null;
                            return this
                        };
                        Tooltip.prototype.fixTitle = function() {
                            var $e = this.$element;
                            if ($e.attr("title") || typeof $e.attr("data-original-title") != "string") {
                                $e.attr("data-original-title", $e.attr("title") || "").attr("title", "")
                            }
                        };
                        Tooltip.prototype.hasContent = function() {
                            return this.getTitle()
                        };
                        Tooltip.prototype.getPosition = function() {
                            var el = this.$element[0];
                            return $.extend({}, typeof el.getBoundingClientRect == "function" ? el.getBoundingClientRect() : {
                                width: el.offsetWidth,
                                height: el.offsetHeight
                            }, this.$element.offset())
                        };
                        Tooltip.prototype.getCalculatedOffset = function(placement, pos, actualWidth, actualHeight) {
                            return placement == "bottom" ? {
                                top: pos.top + pos.height,
                                left: pos.left + pos.width / 2 - actualWidth / 2
                            } : placement == "top" ? {
                                top: pos.top - actualHeight,
                                left: pos.left + pos.width / 2 - actualWidth / 2
                            } : placement == "left" ? {
                                top: pos.top + pos.height / 2 - actualHeight / 2,
                                left: pos.left - actualWidth
                            } : {
                                top: pos.top + pos.height / 2 - actualHeight / 2,
                                left: pos.left + pos.width
                            }
                        };
                        Tooltip.prototype.getTitle = function() {
                            var title;
                            var $e = this.$element;
                            var o = this.options;
                            title = $e.attr("data-original-title") || (typeof o.title == "function" ? o.title.call($e[0]) : o.title);
                            return title
                        };
                        Tooltip.prototype.tip = function() {
                            return this.$tip = this.$tip || $(this.options.template)
                        };
                        Tooltip.prototype.arrow = function() {
                            return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
                        };
                        Tooltip.prototype.validate = function() {
                            if (!this.$element[0].parentNode) {
                                this.hide();
                                this.$element = null;
                                this.options = null
                            }
                        };
                        Tooltip.prototype.enable = function() {
                            this.enabled = true
                        };
                        Tooltip.prototype.disable = function() {
                            this.enabled = false
                        };
                        Tooltip.prototype.toggleEnabled = function() {
                            this.enabled = !this.enabled
                        };
                        Tooltip.prototype.toggle = function(e) {
                            var self = e ? $(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type) : this;
                            self.tip().hasClass("in") ? self.leave(self) : self.enter(self)
                        };
                        Tooltip.prototype.destroy = function() {
                            clearTimeout(this.timeout);
                            this.hide().$element.off("." + this.type).removeData("bs." + this.type)
                        };
                        var old = $.fn.tooltip;
                        $.fn.tooltip = function(option) {
                            return this.each(function() {
                                var $this = $(this);
                                var data = $this.data("bs.tooltip");
                                var options = typeof option == "object" && option;
                                if (!data && option == "destroy") return;
                                if (!data) $this.data("bs.tooltip", data = new Tooltip(this, options));
                                if (typeof option == "string") data[option]()
                            })
                        };
                        $.fn.tooltip.Constructor = Tooltip;
                        $.fn.tooltip.noConflict = function() {
                            $.fn.tooltip = old;
                            return this
                        }
                    }(jQuery)
                }).call(global, module, undefined, undefined)
            }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
        }, {
            "/var/lib/jenkins/jobs/jitsi-meet-debian/workspace/jitsi-meet/node_modules/jquery/dist/jquery.js": 358
        }],
        352: [function(require, module, exports) {
            function EventEmitter() {
                this._events = this._events || {};
                this._maxListeners = this._maxListeners || undefined
            }
            module.exports = EventEmitter;
            EventEmitter.EventEmitter = EventEmitter;
            EventEmitter.prototype._events = undefined;
            EventEmitter.prototype._maxListeners = undefined;
            EventEmitter.defaultMaxListeners = 10;
            EventEmitter.prototype.setMaxListeners = function(n) {
                if (!isNumber(n) || n < 0 || isNaN(n)) throw TypeError("n must be a positive number");
                this._maxListeners = n;
                return this
            };
            EventEmitter.prototype.emit = function(type) {
                var er, handler, len, args, i, listeners;
                if (!this._events) this._events = {};
                if (type === "error") {
                    if (!this._events.error || isObject(this._events.error) && !this._events.error.length) {
                        er = arguments[1];
                        if (er instanceof Error) {
                            throw er
                        }
                        throw TypeError('Uncaught, unspecified "error" event.')
                    }
                }
                handler = this._events[type];
                if (isUndefined(handler)) return false;
                if (isFunction(handler)) {
                    switch (arguments.length) {
                        case 1:
                            handler.call(this);
                            break;
                        case 2:
                            handler.call(this, arguments[1]);
                            break;
                        case 3:
                            handler.call(this, arguments[1], arguments[2]);
                            break;
                        default:
                            len = arguments.length;
                            args = new Array(len - 1);
                            for (i = 1; i < len; i++) args[i - 1] = arguments[i];
                            handler.apply(this, args)
                    }
                } else if (isObject(handler)) {
                    len = arguments.length;
                    args = new Array(len - 1);
                    for (i = 1; i < len; i++) args[i - 1] = arguments[i];
                    listeners = handler.slice();
                    len = listeners.length;
                    for (i = 0; i < len; i++) listeners[i].apply(this, args)
                }
                return true
            };
            EventEmitter.prototype.addListener = function(type, listener) {
                var m;
                if (!isFunction(listener)) throw TypeError("listener must be a function");
                if (!this._events) this._events = {};
                if (this._events.newListener) this.emit("newListener", type, isFunction(listener.listener) ? listener.listener : listener);
                if (!this._events[type]) this._events[type] = listener;
                else if (isObject(this._events[type])) this._events[type].push(listener);
                else this._events[type] = [this._events[type], listener];
                if (isObject(this._events[type]) && !this._events[type].warned) {
                    var m;
                    if (!isUndefined(this._maxListeners)) {
                        m = this._maxListeners
                    } else {
                        m = EventEmitter.defaultMaxListeners
                    }
                    if (m && m > 0 && this._events[type].length > m) {
                        this._events[type].warned = true;
                        console.error("(node) warning: possible EventEmitter memory " + "leak detected. %d listeners added. " + "Use emitter.setMaxListeners() to increase limit.", this._events[type].length);
                        if (typeof console.trace === "function") {
                            console.trace()
                        }
                    }
                }
                return this
            };
            EventEmitter.prototype.on = EventEmitter.prototype.addListener;
            EventEmitter.prototype.once = function(type, listener) {
                if (!isFunction(listener)) throw TypeError("listener must be a function");
                var fired = false;

                function g() {
                    this.removeListener(type, g);
                    if (!fired) {
                        fired = true;
                        listener.apply(this, arguments)
                    }
                }
                g.listener = listener;
                this.on(type, g);
                return this
            };
            EventEmitter.prototype.removeListener = function(type, listener) {
                var list, position, length, i;
                if (!isFunction(listener)) throw TypeError("listener must be a function");
                if (!this._events || !this._events[type]) return this;
                list = this._events[type];
                length = list.length;
                position = -1;
                if (list === listener || isFunction(list.listener) && list.listener === listener) {
                    delete this._events[type];
                    if (this._events.removeListener) this.emit("removeListener", type, listener)
                } else if (isObject(list)) {
                    for (i = length; i-- > 0;) {
                        if (list[i] === listener || list[i].listener && list[i].listener === listener) {
                            position = i;
                            break
                        }
                    }
                    if (position < 0) return this;
                    if (list.length === 1) {
                        list.length = 0;
                        delete this._events[type]
                    } else {
                        list.splice(position, 1)
                    }
                    if (this._events.removeListener) this.emit("removeListener", type, listener)
                }
                return this
            };
            EventEmitter.prototype.removeAllListeners = function(type) {
                var key, listeners;
                if (!this._events) return this;
                if (!this._events.removeListener) {
                    if (arguments.length === 0) this._events = {};
                    else if (this._events[type]) delete this._events[type];
                    return this
                }
                if (arguments.length === 0) {
                    for (key in this._events) {
                        if (key === "removeListener") continue;
                        this.removeAllListeners(key)
                    }
                    this.removeAllListeners("removeListener");
                    this._events = {};
                    return this
                }
                listeners = this._events[type];
                if (isFunction(listeners)) {
                    this.removeListener(type, listeners)
                } else {
                    while (listeners.length) this.removeListener(type, listeners[listeners.length - 1])
                }
                delete this._events[type];
                return this
            };
            EventEmitter.prototype.listeners = function(type) {
                var ret;
                if (!this._events || !this._events[type]) ret = [];
                else if (isFunction(this._events[type])) ret = [this._events[type]];
                else ret = this._events[type].slice();
                return ret
            };
            EventEmitter.listenerCount = function(emitter, type) {
                var ret;
                if (!emitter._events || !emitter._events[type]) ret = 0;
                else if (isFunction(emitter._events[type])) ret = 1;
                else ret = emitter._events[type].length;
                return ret
            };

            function isFunction(arg) {
                return typeof arg === "function"
            }

            function isNumber(arg) {
                return typeof arg === "number"
            }

            function isObject(arg) {
                return typeof arg === "object" && arg !== null
            }

            function isUndefined(arg) {
                return arg === void 0
            }
        }, {}],
        353: [function(require, module, exports) {
            var process = module.exports = {};
            var queue = [];
            var draining = false;
            var currentQueue;
            var queueIndex = -1;

            function cleanUpNextTick() {
                draining = false;
                if (currentQueue.length) {
                    queue = currentQueue.concat(queue)
                } else {
                    queueIndex = -1
                }
                if (queue.length) {
                    drainQueue()
                }
            }

            function drainQueue() {
                if (draining) {
                    return
                }
                var timeout = setTimeout(cleanUpNextTick);
                draining = true;
                var len = queue.length;
                while (len) {
                    currentQueue = queue;
                    queue = [];
                    while (++queueIndex < len) {
                        if (currentQueue) {
                            currentQueue[queueIndex].run()
                        }
                    }
                    queueIndex = -1;
                    len = queue.length
                }
                currentQueue = null;
                draining = false;
                clearTimeout(timeout)
            }
            process.nextTick = function(fun) {
                var args = new Array(arguments.length - 1);
                if (arguments.length > 1) {
                    for (var i = 1; i < arguments.length; i++) {
                        args[i - 1] = arguments[i]
                    }
                }
                queue.push(new Item(fun, args));
                if (queue.length === 1 && !draining) {
                    setTimeout(drainQueue, 0)
                }
            };

            function Item(fun, array) {
                this.fun = fun;
                this.array = array
            }
            Item.prototype.run = function() {
                this.fun.apply(null, this.array)
            };
            process.title = "browser";
            process.browser = true;
            process.env = {};
            process.argv = [];
            process.version = "";
            process.versions = {};

            function noop() {}
            process.on = noop;
            process.addListener = noop;
            process.once = noop;
            process.off = noop;
            process.removeListener = noop;
            process.removeAllListeners = noop;
            process.emit = noop;
            process.binding = function(name) {
                throw new Error("process.binding is not supported")
            };
            process.cwd = function() {
                return "/"
            };
            process.chdir = function(dir) {
                throw new Error("process.chdir is not supported")
            };
            process.umask = function() {
                return 0
            }
        }, {}],
        354: [function(require, module, exports) {
            (function() {
                if (!Array.prototype.indexOf) {
                    Array.prototype.indexOf = function(searchElement) {
                        "use strict";
                        if (this == null) {
                            throw new TypeError
                        }
                        var t = Object(this);
                        var len = t.length >>> 0;
                        if (len === 0) {
                            return -1
                        }
                        var n = 0;
                        if (arguments.length > 0) {
                            n = Number(arguments[1]);
                            if (n != n) {
                                n = 0
                            } else if (n != 0 && n != Infinity && n != -Infinity) {
                                n = (n > 0 || -1) * Math.floor(Math.abs(n))
                            }
                        }
                        if (n >= len) {
                            return -1
                        }
                        var k = n >= 0 ? n : Math.max(len - Math.abs(n), 0);
                        for (; k < len; k++) {
                            if (k in t && t[k] === searchElement) {
                                return k
                            }
                        }
                        return -1
                    }
                }
                if (!Array.prototype.lastIndexOf) {
                    Array.prototype.lastIndexOf = function(searchElement) {
                        "use strict";
                        if (this == null) {
                            throw new TypeError
                        }
                        var t = Object(this);
                        var len = t.length >>> 0;
                        if (len === 0) {
                            return -1
                        }
                        var n = len;
                        if (arguments.length > 1) {
                            n = Number(arguments[1]);
                            if (n != n) {
                                n = 0
                            } else if (n != 0 && n != 1 / 0 && n != -(1 / 0)) {
                                n = (n > 0 || -1) * Math.floor(Math.abs(n))
                            }
                        }
                        var k = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);
                        for (; k >= 0; k--) {
                            if (k in t && t[k] === searchElement) {
                                return k
                            }
                        }
                        return -1
                    }
                }
                if (typeof String.prototype.trim !== "function") {
                    String.prototype.trim = function() {
                        return this.replace(/^\s+|\s+$/g, "")
                    }
                }
                var root = this,
                    $ = root.jQuery || root.Zepto,
                    i18n = {},
                    resStore = {},
                    currentLng, replacementCounter = 0,
                    languages = [],
                    initialized = false,
                    sync = {};
                if (typeof module !== "undefined" && module.exports) {
                    if (!$) {
                        try {
                            $ = require("jquery")
                        } catch (e) {}
                    }
                    if ($) {
                        $.i18n = $.i18n || i18n
                    }
                    module.exports = i18n
                } else {
                    if ($) {
                        $.i18n = $.i18n || i18n
                    }
                    root.i18n = root.i18n || i18n
                }
                sync = {
                    load: function(lngs, options, cb) {
                        if (options.useLocalStorage) {
                            sync._loadLocal(lngs, options, function(err, store) {
                                var missingLngs = [];
                                for (var i = 0, len = lngs.length; i < len; i++) {
                                    if (!store[lngs[i]]) missingLngs.push(lngs[i])
                                }
                                if (missingLngs.length > 0) {
                                    sync._fetch(missingLngs, options, function(err, fetched) {
                                        f.extend(store, fetched);
                                        sync._storeLocal(fetched);
                                        cb(null, store)
                                    })
                                } else {
                                    cb(null, store)
                                }
                            })
                        } else {
                            sync._fetch(lngs, options, function(err, store) {
                                cb(null, store)
                            })
                        }
                    },
                    _loadLocal: function(lngs, options, cb) {
                        var store = {},
                            nowMS = (new Date).getTime();
                        if (window.localStorage) {
                            var todo = lngs.length;
                            f.each(lngs, function(key, lng) {
                                var local = window.localStorage.getItem("res_" + lng);
                                if (local) {
                                    local = JSON.parse(local);
                                    if (local.i18nStamp && local.i18nStamp + options.localStorageExpirationTime > nowMS) {
                                        store[lng] = local
                                    }
                                }
                                todo--;
                                if (todo === 0) cb(null, store)
                            })
                        }
                    },
                    _storeLocal: function(store) {
                        if (window.localStorage) {
                            for (var m in store) {
                                store[m].i18nStamp = (new Date).getTime();
                                f.localStorage.setItem("res_" + m, JSON.stringify(store[m]))
                            }
                        }
                        return
                    },
                    _fetch: function(lngs, options, cb) {
                        var ns = options.ns,
                            store = {};
                        if (!options.dynamicLoad) {
                            var todo = ns.namespaces.length * lngs.length,
                                errors;
                            f.each(ns.namespaces, function(nsIndex, nsValue) {
                                f.each(lngs, function(lngIndex, lngValue) {
                                    var loadComplete = function(err, data) {
                                        if (err) {
                                            errors = errors || [];
                                            errors.push(err)
                                        }
                                        store[lngValue] = store[lngValue] || {};
                                        store[lngValue][nsValue] = data;
                                        todo--;
                                        if (todo === 0) cb(errors, store)
                                    };
                                    if (typeof options.customLoad == "function") {
                                        options.customLoad(lngValue, nsValue, options, loadComplete)
                                    } else {
                                        sync._fetchOne(lngValue, nsValue, options, loadComplete)
                                    }
                                })
                            })
                        } else {
                            var loadComplete = function(err, data) {
                                cb(null, data)
                            };
                            if (typeof options.customLoad == "function") {
                                options.customLoad(lngs, ns.namespaces, options, loadComplete)
                            } else {
                                var url = applyReplacement(options.resGetPath, {
                                    lng: lngs.join("+"),
                                    ns: ns.namespaces.join("+")
                                });
                                f.ajax({
                                    url: url,
                                    success: function(data, status, xhr) {
                                        f.log("loaded: " + url);
                                        loadComplete(null, data)
                                    },
                                    error: function(xhr, status, error) {
                                        f.log("failed loading: " + url);
                                        loadComplete("failed loading resource.json error: " + error)
                                    },
                                    dataType: "json",
                                    async: options.getAsync
                                })
                            }
                        }
                    },
                    _fetchOne: function(lng, ns, options, done) {
                        var url = applyReplacement(options.resGetPath, {
                            lng: lng,
                            ns: ns
                        });
                        f.ajax({
                            url: url,
                            success: function(data, status, xhr) {
                                f.log("loaded: " + url);
                                done(null, data)
                            },
                            error: function(xhr, status, error) {
                                if (status && status == 200 || xhr && xhr.status && xhr.status == 200) {
                                    f.error("There is a typo in: " + url)
                                } else if (status && status == 404 || xhr && xhr.status && xhr.status == 404) {
                                    f.log("Does not exist: " + url)
                                } else {
                                    var theStatus = status ? status : xhr && xhr.status ? xhr.status : null;
                                    f.log(theStatus + " when loading " + url)
                                }
                                done(error, {})
                            },
                            dataType: "json",
                            async: options.getAsync
                        })
                    },
                    postMissing: function(lng, ns, key, defaultValue, lngs) {
                        var payload = {};
                        payload[key] = defaultValue;
                        var urls = [];
                        if (o.sendMissingTo === "fallback" && o.fallbackLng[0] !== false) {
                            for (var i = 0; i < o.fallbackLng.length; i++) {
                                urls.push({
                                    lng: o.fallbackLng[i],
                                    url: applyReplacement(o.resPostPath, {
                                        lng: o.fallbackLng[i],
                                        ns: ns
                                    })
                                })
                            }
                        } else if (o.sendMissingTo === "current" || o.sendMissingTo === "fallback" && o.fallbackLng[0] === false) {
                            urls.push({
                                lng: lng,
                                url: applyReplacement(o.resPostPath, {
                                    lng: lng,
                                    ns: ns
                                })
                            })
                        } else if (o.sendMissingTo === "all") {
                            for (var i = 0, l = lngs.length; i < l; i++) {
                                urls.push({
                                    lng: lngs[i],
                                    url: applyReplacement(o.resPostPath, {
                                        lng: lngs[i],
                                        ns: ns
                                    })
                                })
                            }
                        }
                        for (var y = 0, len = urls.length; y < len; y++) {
                            var item = urls[y];
                            f.ajax({
                                url: item.url,
                                type: o.sendType,
                                data: payload,
                                success: function(data, status, xhr) {
                                    f.log("posted missing key '" + key + "' to: " + item.url);
                                    var keys = key.split(".");
                                    var x = 0;
                                    var value = resStore[item.lng][ns];
                                    while (keys[x]) {
                                        if (x === keys.length - 1) {
                                            value = value[keys[x]] = defaultValue
                                        } else {
                                            value = value[keys[x]] = value[keys[x]] || {}
                                        }
                                        x++
                                    }
                                },
                                error: function(xhr, status, error) {
                                    f.log("failed posting missing key '" + key + "' to: " + item.url)
                                },
                                dataType: "json",
                                async: o.postAsync
                            })
                        }
                    },
                    reload: reload
                };
                var o = {
                    lng: undefined,
                    load: "all",
                    preload: [],
                    lowerCaseLng: false,
                    returnObjectTrees: false,
                    fallbackLng: ["dev"],
                    fallbackNS: [],
                    detectLngQS: "setLng",
                    detectLngFromLocalStorage: false,
                    ns: "translation",
                    fallbackOnNull: true,
                    fallbackOnEmpty: false,
                    fallbackToDefaultNS: false,
                    nsseparator: ":",
                    keyseparator: ".",
                    selectorAttr: "data-i18n",
                    debug: false,
                    resGetPath: "locales/__lng__/__ns__.json",
                    resPostPath: "locales/add/__lng__/__ns__",
                    getAsync: true,
                    postAsync: true,
                    resStore: undefined,
                    useLocalStorage: false,
                    localStorageExpirationTime: 7 * 24 * 60 * 60 * 1e3,
                    dynamicLoad: false,
                    sendMissing: false,
                    sendMissingTo: "fallback",
                    sendType: "POST",
                    interpolationPrefix: "__",
                    interpolationSuffix: "__",
                    defaultVariables: false,
                    reusePrefix: "$t(",
                    reuseSuffix: ")",
                    pluralSuffix: "_plural",
                    pluralNotFound: ["plural_not_found", Math.random()].join(""),
                    contextNotFound: ["context_not_found", Math.random()].join(""),
                    escapeInterpolation: false,
                    indefiniteSuffix: "_indefinite",
                    indefiniteNotFound: ["indefinite_not_found", Math.random()].join(""),
                    setJqueryExt: true,
                    defaultValueFromContent: true,
                    useDataAttrOptions: false,
                    cookieExpirationTime: undefined,
                    useCookie: true,
                    cookieName: "i18next",
                    cookieDomain: undefined,
                    objectTreeKeyHandler: undefined,
                    postProcess: undefined,
                    parseMissingKey: undefined,
                    missingKeyHandler: sync.postMissing,
                    shortcutFunction: "sprintf"
                };

                function _extend(target, source) {
                    if (!source || typeof source === "function") {
                        return target
                    }
                    for (var attr in source) {
                        target[attr] = source[attr]
                    }
                    return target
                }

                function _deepExtend(target, source) {
                    for (var prop in source)
                        if (prop in target) _deepExtend(target[prop], source[prop]);
                        else target[prop] = source[prop];
                    return target
                }

                function _each(object, callback, args) {
                    var name, i = 0,
                        length = object.length,
                        isObj = length === undefined || Object.prototype.toString.apply(object) !== "[object Array]" || typeof object === "function";
                    if (args) {
                        if (isObj) {
                            for (name in object) {
                                if (callback.apply(object[name], args) === false) {
                                    break
                                }
                            }
                        } else {
                            for (; i < length;) {
                                if (callback.apply(object[i++], args) === false) {
                                    break
                                }
                            }
                        }
                    } else {
                        if (isObj) {
                            for (name in object) {
                                if (callback.call(object[name], name, object[name]) === false) {
                                    break
                                }
                            }
                        } else {
                            for (; i < length;) {
                                if (callback.call(object[i], i, object[i++]) === false) {
                                    break
                                }
                            }
                        }
                    }
                    return object
                }
                var _entityMap = {
                    "&": "&amp;",
                    "<": "&lt;",
                    ">": "&gt;",
                    '"': "&quot;",
                    "'": "&#39;",
                    "/": "&#x2F;"
                };

                function _escape(data) {
                    if (typeof data === "string") {
                        return data.replace(/[&<>"'\/]/g, function(s) {
                            return _entityMap[s]
                        })
                    } else {
                        return data
                    }
                }

                function _ajax(options) {
                    var getXhr = function(callback) {
                        if (window.XMLHttpRequest) {
                            return callback(null, new XMLHttpRequest)
                        } else if (window.ActiveXObject) {
                            try {
                                return callback(null, new ActiveXObject("Msxml2.XMLHTTP"))
                            } catch (e) {
                                return callback(null, new ActiveXObject("Microsoft.XMLHTTP"))
                            }
                        }
                        return callback(new Error)
                    };
                    var encodeUsingUrlEncoding = function(data) {
                        if (typeof data === "string") {
                            return data
                        }
                        var result = [];
                        for (var dataItem in data) {
                            if (data.hasOwnProperty(dataItem)) {
                                result.push(encodeURIComponent(dataItem) + "=" + encodeURIComponent(data[dataItem]))
                            }
                        }
                        return result.join("&")
                    };
                    var utf8 = function(text) {
                        text = text.replace(/\r\n/g, "\n");
                        var result = "";
                        for (var i = 0; i < text.length; i++) {
                            var c = text.charCodeAt(i);
                            if (c < 128) {
                                result += String.fromCharCode(c)
                            } else if (c > 127 && c < 2048) {
                                result += String.fromCharCode(c >> 6 | 192);
                                result += String.fromCharCode(c & 63 | 128)
                            } else {
                                result += String.fromCharCode(c >> 12 | 224);
                                result += String.fromCharCode(c >> 6 & 63 | 128);
                                result += String.fromCharCode(c & 63 | 128)
                            }
                        }
                        return result
                    };
                    var base64 = function(text) {
                        var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
                        text = utf8(text);
                        var result = "",
                            chr1, chr2, chr3, enc1, enc2, enc3, enc4, i = 0;
                        do {
                            chr1 = text.charCodeAt(i++);
                            chr2 = text.charCodeAt(i++);
                            chr3 = text.charCodeAt(i++);
                            enc1 = chr1 >> 2;
                            enc2 = (chr1 & 3) << 4 | chr2 >> 4;
                            enc3 = (chr2 & 15) << 2 | chr3 >> 6;
                            enc4 = chr3 & 63;
                            if (isNaN(chr2)) {
                                enc3 = enc4 = 64
                            } else if (isNaN(chr3)) {
                                enc4 = 64
                            }
                            result += keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4);
                            chr1 = chr2 = chr3 = "";
                            enc1 = enc2 = enc3 = enc4 = ""
                        } while (i < text.length);
                        return result
                    };
                    var mergeHeaders = function() {
                        var result = arguments[0];
                        for (var i = 1; i < arguments.length; i++) {
                            var currentHeaders = arguments[i];
                            for (var header in currentHeaders) {
                                if (currentHeaders.hasOwnProperty(header)) {
                                    result[header] = currentHeaders[header]
                                }
                            }
                        }
                        return result
                    };
                    var ajax = function(method, url, options, callback) {
                        if (typeof options === "function") {
                            callback = options;
                            options = {}
                        }
                        options.cache = options.cache || false;
                        options.data = options.data || {};
                        options.headers = options.headers || {};
                        options.jsonp = options.jsonp || false;
                        options.async = options.async === undefined ? true : options.async;
                        var headers = mergeHeaders({
                            accept: "*/*",
                            "content-type": "application/x-www-form-urlencoded;charset=UTF-8"
                        }, ajax.headers, options.headers);
                        var payload;
                        if (headers["content-type"] === "application/json") {
                            payload = JSON.stringify(options.data)
                        } else {
                            payload = encodeUsingUrlEncoding(options.data)
                        }
                        if (method === "GET") {
                            var queryString = [];
                            if (payload) {
                                queryString.push(payload);
                                payload = null
                            }
                            if (!options.cache) {
                                queryString.push("_=" + (new Date).getTime())
                            }
                            if (options.jsonp) {
                                queryString.push("callback=" + options.jsonp);
                                queryString.push("jsonp=" + options.jsonp)
                            }
                            queryString = queryString.join("&");
                            if (queryString.length > 1) {
                                if (url.indexOf("?") > -1) {
                                    url += "&" + queryString
                                } else {
                                    url += "?" + queryString
                                }
                            }
                            if (options.jsonp) {
                                var head = document.getElementsByTagName("head")[0];
                                var script = document.createElement("script");
                                script.type = "text/javascript";
                                script.src = url;
                                head.appendChild(script);
                                return
                            }
                        }
                        getXhr(function(err, xhr) {
                            if (err) return callback(err);
                            xhr.open(method, url, options.async);
                            for (var header in headers) {
                                if (headers.hasOwnProperty(header)) {
                                    xhr.setRequestHeader(header, headers[header])
                                }
                            }
                            xhr.onreadystatechange = function() {
                                if (xhr.readyState === 4) {
                                    var data = xhr.responseText || "";
                                    if (!callback) {
                                        return
                                    }
                                    callback(xhr.status, {
                                        text: function() {
                                            return data
                                        },
                                        json: function() {
                                            try {
                                                return JSON.parse(data)
                                            } catch (e) {
                                                f.error("Can not parse JSON. URL: " + url);
                                                return {}
                                            }
                                        }
                                    })
                                }
                            };
                            xhr.send(payload)
                        })
                    };
                    var http = {
                        authBasic: function(username, password) {
                            ajax.headers["Authorization"] = "Basic " + base64(username + ":" + password)
                        },
                        connect: function(url, options, callback) {
                            return ajax("CONNECT", url, options, callback)
                        },
                        del: function(url, options, callback) {
                            return ajax("DELETE", url, options, callback)
                        },
                        get: function(url, options, callback) {
                            return ajax("GET", url, options, callback)
                        },
                        head: function(url, options, callback) {
                            return ajax("HEAD", url, options, callback)
                        },
                        headers: function(headers) {
                            ajax.headers = headers || {}
                        },
                        isAllowed: function(url, verb, callback) {
                            this.options(url, function(status, data) {
                                callback(data.text().indexOf(verb) !== -1)
                            })
                        },
                        options: function(url, options, callback) {
                            return ajax("OPTIONS", url, options, callback)
                        },
                        patch: function(url, options, callback) {
                            return ajax("PATCH", url, options, callback)
                        },
                        post: function(url, options, callback) {
                            return ajax("POST", url, options, callback)
                        },
                        put: function(url, options, callback) {
                            return ajax("PUT", url, options, callback)
                        },
                        trace: function(url, options, callback) {
                            return ajax("TRACE", url, options, callback)
                        }
                    };
                    var methode = options.type ? options.type.toLowerCase() : "get";
                    http[methode](options.url, options, function(status, data) {
                        if (status === 200 || status === 0 && data.text()) {
                            options.success(data.json(), status, null)
                        } else {
                            options.error(data.text(), status, null)
                        }
                    })
                }
                var _cookie = {
                    create: function(name, value, minutes, domain) {
                        var expires;
                        if (minutes) {
                            var date = new Date;
                            date.setTime(date.getTime() + minutes * 60 * 1e3);
                            expires = "; expires=" + date.toGMTString()
                        } else expires = "";
                        domain = domain ? "domain=" + domain + ";" : "";
                        document.cookie = name + "=" + value + expires + ";" + domain + "path=/"
                    },
                    read: function(name) {
                        var nameEQ = name + "=";
                        var ca = document.cookie.split(";");
                        for (var i = 0; i < ca.length; i++) {
                            var c = ca[i];
                            while (c.charAt(0) == " ") c = c.substring(1, c.length);
                            if (c.indexOf(nameEQ) === 0) return c.substring(nameEQ.length, c.length)
                        }
                        return null
                    },
                    remove: function(name) {
                        this.create(name, "", -1)
                    }
                };
                var cookie_noop = {
                    create: function(name, value, minutes, domain) {},
                    read: function(name) {
                        return null
                    },
                    remove: function(name) {}
                };
                var f = {
                    extend: $ ? $.extend : _extend,
                    deepExtend: _deepExtend,
                    each: $ ? $.each : _each,
                    ajax: $ ? $.ajax : typeof document !== "undefined" ? _ajax : function() {},
                    cookie: typeof document !== "undefined" ? _cookie : cookie_noop,
                    detectLanguage: detectLanguage,
                    escape: _escape,
                    log: function(str) {
                        if (o.debug && typeof console !== "undefined") console.log(str)
                    },
                    error: function(str) {
                        if (typeof console !== "undefined") console.error(str)
                    },
                    getCountyIndexOfLng: function(lng) {
                        var lng_index = 0;
                        if (lng === "nb-NO" || lng === "nn-NO" || lng === "nb-no" || lng === "nn-no") lng_index = 1;
                        return lng_index
                    },
                    toLanguages: function(lng) {
                        var log = this.log;

                        function applyCase(l) {
                            var ret = l;
                            if (typeof l === "string" && l.indexOf("-") > -1) {
                                var parts = l.split("-");
                                ret = o.lowerCaseLng ? parts[0].toLowerCase() + "-" + parts[1].toLowerCase() : parts[0].toLowerCase() + "-" + parts[1].toUpperCase()
                            } else {
                                ret = o.lowerCaseLng ? l.toLowerCase() : l
                            }
                            return ret
                        }
                        var languages = [];
                        var whitelist = o.lngWhitelist || false;
                        var addLanguage = function(language) {
                            if (!whitelist || whitelist.indexOf(language) > -1) {
                                languages.push(language)
                            } else {
                                log("rejecting non-whitelisted language: " + language)
                            }
                        };
                        if (typeof lng === "string" && lng.indexOf("-") > -1) {
                            var parts = lng.split("-");
                            if (o.load !== "unspecific") addLanguage(applyCase(lng));
                            if (o.load !== "current") addLanguage(applyCase(parts[this.getCountyIndexOfLng(lng)]))
                        } else {
                            addLanguage(applyCase(lng))
                        }
                        for (var i = 0; i < o.fallbackLng.length; i++) {
                            if (languages.indexOf(o.fallbackLng[i]) === -1 && o.fallbackLng[i]) languages.push(applyCase(o.fallbackLng[i]))
                        }
                        return languages
                    },
                    regexEscape: function(str) {
                        return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&")
                    },
                    regexReplacementEscape: function(strOrFn) {
                        if (typeof strOrFn === "string") {
                            return strOrFn.replace(/\$/g, "$$$$")
                        } else {
                            return strOrFn
                        }
                    },
                    localStorage: {
                        setItem: function(key, value) {
                            if (window.localStorage) {
                                try {
                                    window.localStorage.setItem(key, value)
                                } catch (e) {
                                    f.log('failed to set value for key "' + key + '" to localStorage.')
                                }
                            }
                        }
                    }
                };

                function init(options, cb) {
                    if (typeof options === "function") {
                        cb = options;
                        options = {}
                    }
                    options = options || {};
                    f.extend(o, options);
                    delete o.fixLng;
                    if (o.functions) {
                        delete o.functions;
                        f.extend(f, options.functions)
                    }
                    if (typeof o.ns == "string") {
                        o.ns = {
                            namespaces: [o.ns],
                            defaultNs: o.ns
                        }
                    }
                    if (typeof o.fallbackNS == "string") {
                        o.fallbackNS = [o.fallbackNS]
                    }
                    if (typeof o.fallbackLng == "string" || typeof o.fallbackLng == "boolean") {
                        o.fallbackLng = [o.fallbackLng]
                    }
                    o.interpolationPrefixEscaped = f.regexEscape(o.interpolationPrefix);
                    o.interpolationSuffixEscaped = f.regexEscape(o.interpolationSuffix);
                    if (!o.lng) o.lng = f.detectLanguage();
                    languages = f.toLanguages(o.lng);
                    currentLng = languages[0];
                    f.log("currentLng set to: " + currentLng);
                    if (o.useCookie && f.cookie.read(o.cookieName) !== currentLng) {
                        f.cookie.create(o.cookieName, currentLng, o.cookieExpirationTime, o.cookieDomain)
                    }
                    if (o.detectLngFromLocalStorage && typeof document !== "undefined" && window.localStorage) {
                        f.localStorage.setItem("i18next_lng", currentLng)
                    }
                    var lngTranslate = translate;
                    if (options.fixLng) {
                        lngTranslate = function(key, options) {
                            options = options || {};
                            options.lng = options.lng || lngTranslate.lng;
                            return translate(key, options)
                        };
                        lngTranslate.lng = currentLng
                    }
                    pluralExtensions.setCurrentLng(currentLng);
                    if ($ && o.setJqueryExt) addJqueryFunct();
                    var deferred;
                    if ($ && $.Deferred) {
                        deferred = $.Deferred()
                    }
                    if (o.resStore) {
                        resStore = o.resStore;
                        initialized = true;
                        if (cb) cb(lngTranslate);
                        if (deferred) deferred.resolve(lngTranslate);
                        if (deferred) return deferred.promise();
                        return
                    }
                    var lngsToLoad = f.toLanguages(o.lng);
                    if (typeof o.preload === "string") o.preload = [o.preload];
                    for (var i = 0, l = o.preload.length; i < l; i++) {
                        var pres = f.toLanguages(o.preload[i]);
                        for (var y = 0, len = pres.length; y < len; y++) {
                            if (lngsToLoad.indexOf(pres[y]) < 0) {
                                lngsToLoad.push(pres[y])
                            }
                        }
                    }
                    i18n.sync.load(lngsToLoad, o, function(err, store) {
                        resStore = store;
                        initialized = true;
                        if (cb) cb(lngTranslate);
                        if (deferred) deferred.resolve(lngTranslate)
                    });
                    if (deferred) return deferred.promise()
                }

                function preload(lngs, cb) {
                    if (typeof lngs === "string") lngs = [lngs];
                    for (var i = 0, l = lngs.length; i < l; i++) {
                        if (o.preload.indexOf(lngs[i]) < 0) {
                            o.preload.push(lngs[i])
                        }
                    }
                    return init(cb)
                }

                function addResourceBundle(lng, ns, resources, deep) {
                    if (typeof ns !== "string") {
                        resources = ns;
                        ns = o.ns.defaultNs
                    } else if (o.ns.namespaces.indexOf(ns) < 0) {
                        o.ns.namespaces.push(ns)
                    }
                    resStore[lng] = resStore[lng] || {};
                    resStore[lng][ns] = resStore[lng][ns] || {};
                    if (deep) {
                        f.deepExtend(resStore[lng][ns], resources)
                    } else {
                        f.extend(resStore[lng][ns], resources)
                    }
                }

                function hasResourceBundle(lng, ns) {
                    if (typeof ns !== "string") {
                        ns = o.ns.defaultNs
                    }
                    resStore[lng] = resStore[lng] || {};
                    var res = resStore[lng][ns] || {};
                    var hasValues = false;
                    for (var prop in res) {
                        if (res.hasOwnProperty(prop)) {
                            hasValues = true
                        }
                    }
                    return hasValues
                }

                function removeResourceBundle(lng, ns) {
                    if (typeof ns !== "string") {
                        ns = o.ns.defaultNs
                    }
                    resStore[lng] = resStore[lng] || {};
                    resStore[lng][ns] = {}
                }

                function addResource(lng, ns, key, value) {
                    if (typeof ns !== "string") {
                        resource = ns;
                        ns = o.ns.defaultNs
                    } else if (o.ns.namespaces.indexOf(ns) < 0) {
                        o.ns.namespaces.push(ns)
                    }
                    resStore[lng] = resStore[lng] || {};
                    resStore[lng][ns] = resStore[lng][ns] || {};
                    var keys = key.split(o.keyseparator);
                    var x = 0;
                    var node = resStore[lng][ns];
                    var origRef = node;
                    while (keys[x]) {
                        if (x == keys.length - 1) node[keys[x]] = value;
                        else {
                            if (node[keys[x]] == null) node[keys[x]] = {};
                            node = node[keys[x]]
                        }
                        x++
                    }
                }

                function addResources(lng, ns, resources) {
                    if (typeof ns !== "string") {
                        resource = ns;
                        ns = o.ns.defaultNs
                    } else if (o.ns.namespaces.indexOf(ns) < 0) {
                        o.ns.namespaces.push(ns)
                    }
                    for (var m in resources) {
                        if (typeof resources[m] === "string") addResource(lng, ns, m, resources[m])
                    }
                }

                function setDefaultNamespace(ns) {
                    o.ns.defaultNs = ns
                }

                function loadNamespace(namespace, cb) {
                    loadNamespaces([namespace], cb)
                }

                function loadNamespaces(namespaces, cb) {
                    var opts = {
                        dynamicLoad: o.dynamicLoad,
                        resGetPath: o.resGetPath,
                        getAsync: o.getAsync,
                        customLoad: o.customLoad,
                        ns: {
                            namespaces: namespaces,
                            defaultNs: ""
                        }
                    };
                    var lngsToLoad = f.toLanguages(o.lng);
                    if (typeof o.preload === "string") o.preload = [o.preload];
                    for (var i = 0, l = o.preload.length; i < l; i++) {
                        var pres = f.toLanguages(o.preload[i]);
                        for (var y = 0, len = pres.length; y < len; y++) {
                            if (lngsToLoad.indexOf(pres[y]) < 0) {
                                lngsToLoad.push(pres[y])
                            }
                        }
                    }
                    var lngNeedLoad = [];
                    for (var a = 0, lenA = lngsToLoad.length; a < lenA; a++) {
                        var needLoad = false;
                        var resSet = resStore[lngsToLoad[a]];
                        if (resSet) {
                            for (var b = 0, lenB = namespaces.length; b < lenB; b++) {
                                if (!resSet[namespaces[b]]) needLoad = true
                            }
                        } else {
                            needLoad = true
                        }
                        if (needLoad) lngNeedLoad.push(lngsToLoad[a])
                    }
                    if (lngNeedLoad.length) {
                        i18n.sync._fetch(lngNeedLoad, opts, function(err, store) {
                            var todo = namespaces.length * lngNeedLoad.length;
                            f.each(namespaces, function(nsIndex, nsValue) {
                                if (o.ns.namespaces.indexOf(nsValue) < 0) {
                                    o.ns.namespaces.push(nsValue)
                                }
                                f.each(lngNeedLoad, function(lngIndex, lngValue) {
                                    resStore[lngValue] = resStore[lngValue] || {};
                                    resStore[lngValue][nsValue] = store[lngValue][nsValue];
                                    todo--;
                                    if (todo === 0 && cb) {
                                        if (o.useLocalStorage) i18n.sync._storeLocal(resStore);
                                        cb()
                                    }
                                })
                            })
                        })
                    } else {
                        if (cb) cb()
                    }
                }

                function setLng(lng, options, cb) {
                    if (typeof options === "function") {
                        cb = options;
                        options = {}
                    } else if (!options) {
                        options = {}
                    }
                    options.lng = lng;
                    return init(options, cb)
                }

                function lng() {
                    return currentLng
                }

                function reload(cb) {
                    resStore = {};
                    setLng(currentLng, cb)
                }

                function addJqueryFunct() {
                    $.t = $.t || translate;

                    function parse(ele, key, options) {
                        if (key.length === 0) return;
                        var attr = "text";
                        if (key.indexOf("[") === 0) {
                            var parts = key.split("]");
                            key = parts[1];
                            attr = parts[0].substr(1, parts[0].length - 1)
                        }
                        if (key.indexOf(";") === key.length - 1) {
                            key = key.substr(0, key.length - 2)
                        }
                        var optionsToUse;
                        if (attr === "html") {
                            optionsToUse = o.defaultValueFromContent ? $.extend({
                                defaultValue: ele.html()
                            }, options) : options;
                            ele.html($.t(key, optionsToUse))
                        } else if (attr === "text") {
                            optionsToUse = o.defaultValueFromContent ? $.extend({
                                defaultValue: ele.text()
                            }, options) : options;
                            ele.text($.t(key, optionsToUse))
                        } else if (attr === "prepend") {
                            optionsToUse = o.defaultValueFromContent ? $.extend({
                                defaultValue: ele.html()
                            }, options) : options;
                            ele.prepend($.t(key, optionsToUse))
                        } else if (attr === "append") {
                            optionsToUse = o.defaultValueFromContent ? $.extend({
                                defaultValue: ele.html()
                            }, options) : options;
                            ele.append($.t(key, optionsToUse))
                        } else if (attr.indexOf("data-") === 0) {
                            var dataAttr = attr.substr("data-".length);
                            optionsToUse = o.defaultValueFromContent ? $.extend({
                                defaultValue: ele.data(dataAttr)
                            }, options) : options;
                            var translated = $.t(key, optionsToUse);
                            ele.data(dataAttr, translated);
                            ele.attr(attr, translated)
                        } else {
                            optionsToUse = o.defaultValueFromContent ? $.extend({
                                defaultValue: ele.attr(attr)
                            }, options) : options;
                            ele.attr(attr, $.t(key, optionsToUse))
                        }
                    }

                    function localize(ele, options) {
                        var key = ele.attr(o.selectorAttr);
                        if (!key && typeof key !== "undefined" && key !== false) key = ele.text() || ele.val();
                        if (!key) return;
                        var target = ele,
                            targetSelector = ele.data("i18n-target");
                        if (targetSelector) {
                            target = ele.find(targetSelector) || ele
                        }
                        if (!options && o.useDataAttrOptions === true) {
                            options = ele.data("i18n-options")
                        }
                        options = options || {};
                        if (key.indexOf(";") >= 0) {
                            var keys = key.split(";");
                            $.each(keys, function(m, k) {
                                if (k !== "") parse(target, k, options)
                            })
                        } else {
                            parse(target, key, options)
                        }
                        if (o.useDataAttrOptions === true) ele.data("i18n-options", options)
                    }
                    $.fn.i18n = function(options) {
                        return this.each(function() {
                            localize($(this), options);
                            var elements = $(this).find("[" + o.selectorAttr + "]");
                            elements.each(function() {
                                localize($(this), options)
                            })
                        })
                    }
                }

                function applyReplacement(str, replacementHash, nestedKey, options) {
                    if (!str) return str;
                    options = options || replacementHash;
                    if (str.indexOf(options.interpolationPrefix || o.interpolationPrefix) < 0) return str;
                    var prefix = options.interpolationPrefix ? f.regexEscape(options.interpolationPrefix) : o.interpolationPrefixEscaped,
                        suffix = options.interpolationSuffix ? f.regexEscape(options.interpolationSuffix) : o.interpolationSuffixEscaped,
                        unEscapingSuffix = "HTML" + suffix;
                    var hash = replacementHash.replace && typeof replacementHash.replace === "object" ? replacementHash.replace : replacementHash;
                    f.each(hash, function(key, value) {
                        var nextKey = nestedKey ? nestedKey + o.keyseparator + key : key;
                        if (typeof value === "object" && value !== null) {
                            str = applyReplacement(str, value, nextKey, options)
                        } else {
                            if (options.escapeInterpolation || o.escapeInterpolation) {
                                str = str.replace(new RegExp([prefix, nextKey, unEscapingSuffix].join(""), "g"), f.regexReplacementEscape(value));
                                str = str.replace(new RegExp([prefix, nextKey, suffix].join(""), "g"), f.regexReplacementEscape(f.escape(value)))
                            } else {
                                str = str.replace(new RegExp([prefix, nextKey, suffix].join(""), "g"), f.regexReplacementEscape(value))
                            }
                        }
                    });
                    return str
                }
                f.applyReplacement = applyReplacement;

                function applyReuse(translated, options) {
                    var comma = ",";
                    var options_open = "{";
                    var options_close = "}";
                    var opts = f.extend({}, options);
                    delete opts.postProcess;
                    while (translated.indexOf(o.reusePrefix) != -1) {
                        replacementCounter++;
                        if (replacementCounter > o.maxRecursion) {
                            break
                        }
                        var index_of_opening = translated.lastIndexOf(o.reusePrefix);
                        var index_of_end_of_closing = translated.indexOf(o.reuseSuffix, index_of_opening) + o.reuseSuffix.length;
                        var token = translated.substring(index_of_opening, index_of_end_of_closing);
                        var token_without_symbols = token.replace(o.reusePrefix, "").replace(o.reuseSuffix, "");
                        if (index_of_end_of_closing <= index_of_opening) {
                            f.error("there is an missing closing in following translation value", translated);
                            return ""
                        }
                        if (token_without_symbols.indexOf(comma) != -1) {
                            var index_of_token_end_of_closing = token_without_symbols.indexOf(comma);
                            if (token_without_symbols.indexOf(options_open, index_of_token_end_of_closing) != -1 && token_without_symbols.indexOf(options_close, index_of_token_end_of_closing) != -1) {
                                var index_of_opts_opening = token_without_symbols.indexOf(options_open, index_of_token_end_of_closing);
                                var index_of_opts_end_of_closing = token_without_symbols.indexOf(options_close, index_of_opts_opening) + options_close.length;
                                try {
                                    opts = f.extend(opts, JSON.parse(token_without_symbols.substring(index_of_opts_opening, index_of_opts_end_of_closing)));
                                    token_without_symbols = token_without_symbols.substring(0, index_of_token_end_of_closing)
                                } catch (e) {}
                            }
                        }
                        var translated_token = _translate(token_without_symbols, opts);
                        translated = translated.replace(token, f.regexReplacementEscape(translated_token))
                    }
                    return translated
                }

                function hasContext(options) {
                    return options.context && (typeof options.context == "string" || typeof options.context == "number")
                }

                function needsPlural(options, lng) {
                    return options.count !== undefined && typeof options.count != "string"
                }

                function needsIndefiniteArticle(options) {
                    return options.indefinite_article !== undefined && typeof options.indefinite_article != "string" && options.indefinite_article
                }

                function exists(key, options) {
                    options = options || {};
                    var notFound = _getDefaultValue(key, options),
                        found = _find(key, options);
                    return found !== undefined || found === notFound
                }

                function translate(key, options) {
                    options = options || {};
                    if (!initialized) {
                        f.log("i18next not finished initialization. you might have called t function before loading resources finished.");
                        return options.defaultValue || ""
                    }
                    replacementCounter = 0;
                    return _translate.apply(null, arguments)
                }

                function _getDefaultValue(key, options) {
                    return options.defaultValue !== undefined ? options.defaultValue : key
                }

                function _injectSprintfProcessor() {
                    var values = [];
                    for (var i = 1; i < arguments.length; i++) {
                        values.push(arguments[i])
                    }
                    return {
                        postProcess: "sprintf",
                        sprintf: values
                    }
                }

                function _translate(potentialKeys, options) {
                    if (options && typeof options !== "object") {
                        if (o.shortcutFunction === "sprintf") {
                            options = _injectSprintfProcessor.apply(null, arguments)
                        } else if (o.shortcutFunction === "defaultValue") {
                            options = {
                                defaultValue: options
                            }
                        }
                    } else {
                        options = options || {}
                    }
                    if (typeof o.defaultVariables === "object") {
                        options = f.extend({}, o.defaultVariables, options)
                    }
                    if (potentialKeys === undefined || potentialKeys === null || potentialKeys === "") return "";
                    if (typeof potentialKeys === "string") {
                        potentialKeys = [potentialKeys]
                    }
                    var key = potentialKeys[0];
                    if (potentialKeys.length > 1) {
                        for (var i = 0; i < potentialKeys.length; i++) {
                            key = potentialKeys[i];
                            if (exists(key, options)) {
                                break
                            }
                        }
                    }
                    var notFound = _getDefaultValue(key, options),
                        found = _find(key, options),
                        lngs = options.lng ? f.toLanguages(options.lng, options.fallbackLng) : languages,
                        ns = options.ns || o.ns.defaultNs,
                        parts;
                    if (key.indexOf(o.nsseparator) > -1) {
                        parts = key.split(o.nsseparator);
                        ns = parts[0];
                        key = parts[1]
                    }
                    if (found === undefined && o.sendMissing && typeof o.missingKeyHandler === "function") {
                        if (options.lng) {
                            o.missingKeyHandler(lngs[0], ns, key, notFound, lngs)
                        } else {
                            o.missingKeyHandler(o.lng, ns, key, notFound, lngs)
                        }
                    }
                    var postProcessor = options.postProcess || o.postProcess;
                    if (found !== undefined && postProcessor) {
                        if (postProcessors[postProcessor]) {
                            found = postProcessors[postProcessor](found, key, options)
                        }
                    }
                    var splitNotFound = notFound;
                    if (notFound.indexOf(o.nsseparator) > -1) {
                        parts = notFound.split(o.nsseparator);
                        splitNotFound = parts[1]
                    }
                    if (splitNotFound === key && o.parseMissingKey) {
                        notFound = o.parseMissingKey(notFound)
                    }
                    if (found === undefined) {
                        notFound = applyReplacement(notFound, options);
                        notFound = applyReuse(notFound, options);
                        if (postProcessor && postProcessors[postProcessor]) {
                            var val = _getDefaultValue(key, options);
                            found = postProcessors[postProcessor](val, key, options)
                        }
                    }
                    return found !== undefined ? found : notFound
                }

                function _find(key, options) {
                    options = options || {};
                    var optionWithoutCount, translated, notFound = _getDefaultValue(key, options),
                        lngs = languages;
                    if (!resStore) {
                        return notFound
                    }
                    if (lngs[0].toLowerCase() === "cimode") return notFound;
                    if (options.lngs) lngs = options.lngs;
                    if (options.lng) {
                        lngs = f.toLanguages(options.lng, options.fallbackLng);
                        if (!resStore[lngs[0]]) {
                            var oldAsync = o.getAsync;
                            o.getAsync = false;
                            i18n.sync.load(lngs, o, function(err, store) {
                                f.extend(resStore, store);
                                o.getAsync = oldAsync
                            })
                        }
                    }
                    var ns = options.ns || o.ns.defaultNs;
                    if (key.indexOf(o.nsseparator) > -1) {
                        var parts = key.split(o.nsseparator);
                        ns = parts[0];
                        key = parts[1]
                    }
                    if (hasContext(options)) {
                        optionWithoutCount = f.extend({}, options);
                        delete optionWithoutCount.context;
                        optionWithoutCount.defaultValue = o.contextNotFound;
                        var contextKey = ns + o.nsseparator + key + "_" + options.context;
                        translated = translate(contextKey, optionWithoutCount);
                        if (translated != o.contextNotFound) {
                            return applyReplacement(translated, {
                                context: options.context
                            })
                        }
                    }
                    if (needsPlural(options, lngs[0])) {
                        optionWithoutCount = f.extend({
                            lngs: [lngs[0]]
                        }, options);
                        delete optionWithoutCount.count;
                        delete optionWithoutCount.lng;
                        optionWithoutCount.defaultValue = o.pluralNotFound;
                        var pluralKey;
                        if (!pluralExtensions.needsPlural(lngs[0], options.count)) {
                            pluralKey = ns + o.nsseparator + key
                        } else {
                            pluralKey = ns + o.nsseparator + key + o.pluralSuffix;
                            var pluralExtension = pluralExtensions.get(lngs[0], options.count);
                            if (pluralExtension >= 0) {
                                pluralKey = pluralKey + "_" + pluralExtension
                            } else if (pluralExtension === 1) {
                                pluralKey = ns + o.nsseparator + key
                            }
                        }
                        translated = translate(pluralKey, optionWithoutCount);
                        if (translated != o.pluralNotFound) {
                            return applyReplacement(translated, {
                                count: options.count,
                                interpolationPrefix: options.interpolationPrefix,
                                interpolationSuffix: options.interpolationSuffix
                            })
                        } else if (lngs.length > 1) {
                            var clone = lngs.slice();
                            clone.shift();
                            options = f.extend(options, {
                                lngs: clone
                            });
                            delete options.lng;
                            translated = translate(ns + o.nsseparator + key, options);
                            if (translated != o.pluralNotFound) return translated
                        } else {
                            return translated
                        }
                    }
                    if (needsIndefiniteArticle(options)) {
                        var optionsWithoutIndef = f.extend({}, options);
                        delete optionsWithoutIndef.indefinite_article;
                        optionsWithoutIndef.defaultValue = o.indefiniteNotFound;
                        var indefiniteKey = ns + o.nsseparator + key + (options.count && !needsPlural(options, lngs[0]) || !options.count ? o.indefiniteSuffix : "");
                        translated = translate(indefiniteKey, optionsWithoutIndef);
                        if (translated != o.indefiniteNotFound) {
                            return translated
                        }
                    }
                    var found;
                    var keys = key.split(o.keyseparator);
                    for (var i = 0, len = lngs.length; i < len; i++) {
                        if (found !== undefined) break;
                        var l = lngs[i];
                        var x = 0;
                        var value = resStore[l] && resStore[l][ns];
                        while (keys[x]) {
                            value = value && value[keys[x]];
                            x++
                        }
                        if (value !== undefined) {
                            var valueType = Object.prototype.toString.apply(value);
                            if (typeof value === "string") {
                                value = applyReplacement(value, options);
                                value = applyReuse(value, options)
                            } else if (valueType === "[object Array]" && !o.returnObjectTrees && !options.returnObjectTrees) {
                                value = value.join("\n");
                                value = applyReplacement(value, options);
                                value = applyReuse(value, options)
                            } else if (value === null && o.fallbackOnNull === true) {
                                value = undefined
                            } else if (value !== null) {
                                if (!o.returnObjectTrees && !options.returnObjectTrees) {
                                    if (o.objectTreeKeyHandler && typeof o.objectTreeKeyHandler == "function") {
                                        value = o.objectTreeKeyHandler(key, value, l, ns, options)
                                    } else {
                                        value = "key '" + ns + ":" + key + " (" + l + ")' " + "returned an object instead of string.";
                                        f.log(value)
                                    }
                                } else if (valueType !== "[object Number]" && valueType !== "[object Function]" && valueType !== "[object RegExp]") {
                                    var copy = valueType === "[object Array]" ? [] : {};
                                    f.each(value, function(m) {
                                        copy[m] = _translate(ns + o.nsseparator + key + o.keyseparator + m, options)
                                    });
                                    value = copy
                                }
                            }
                            if (typeof value === "string" && value.trim() === "" && o.fallbackOnEmpty === true) value = undefined;
                            found = value
                        }
                    }
                    if (found === undefined && !options.isFallbackLookup && (o.fallbackToDefaultNS === true || o.fallbackNS && o.fallbackNS.length > 0)) {
                        options.isFallbackLookup = true;
                        if (o.fallbackNS.length) {
                            for (var y = 0, lenY = o.fallbackNS.length; y < lenY; y++) {
                                found = _find(o.fallbackNS[y] + o.nsseparator + key, options);
                                if (found || found === "" && o.fallbackOnEmpty === false) {
                                    var foundValue = found.indexOf(o.nsseparator) > -1 ? found.split(o.nsseparator)[1] : found,
                                        notFoundValue = notFound.indexOf(o.nsseparator) > -1 ? notFound.split(o.nsseparator)[1] : notFound;
                                    if (foundValue !== notFoundValue) break
                                }
                            }
                        } else {
                            found = _find(key, options)
                        }
                        options.isFallbackLookup = false
                    }
                    return found
                }

                function detectLanguage() {
                    var detectedLng;
                    var whitelist = o.lngWhitelist || [];
                    var userLngChoices = [];
                    var qsParm = [];
                    if (typeof window !== "undefined") {
                        (function() {
                            var query = window.location.search.substring(1);
                            var params = query.split("&");
                            for (var i = 0; i < params.length; i++) {
                                var pos = params[i].indexOf("=");
                                if (pos > 0) {
                                    var key = params[i].substring(0, pos);
                                    if (key == o.detectLngQS) {
                                        userLngChoices.push(params[i].substring(pos + 1))
                                    }
                                }
                            }
                        })()
                    }
                    if (o.useCookie && typeof document !== "undefined") {
                        var c = f.cookie.read(o.cookieName);
                        if (c) userLngChoices.push(c)
                    }
                    if (o.detectLngFromLocalStorage && typeof window !== "undefined" && window.localStorage) {
                        userLngChoices.push(window.localStorage.getItem("i18next_lng"))
                    }
                    if (typeof navigator !== "undefined") {
                        if (navigator.languages) {
                            for (var i = 0; i < navigator.languages.length; i++) {
                                userLngChoices.push(navigator.languages[i])
                            }
                        }
                        if (navigator.userLanguage) {
                            userLngChoices.push(navigator.userLanguage)
                        }
                        if (navigator.language) {
                            userLngChoices.push(navigator.language)
                        }
                    }(function() {
                        for (var i = 0; i < userLngChoices.length; i++) {
                            var lng = userLngChoices[i];
                            if (lng.indexOf("-") > -1) {
                                var parts = lng.split("-");
                                lng = o.lowerCaseLng ? parts[0].toLowerCase() + "-" + parts[1].toLowerCase() : parts[0].toLowerCase() + "-" + parts[1].toUpperCase()
                            }
                            if (whitelist.length === 0 || whitelist.indexOf(lng) > -1) {
                                detectedLng = lng;
                                break
                            }
                        }
                    })();
                    if (!detectedLng) {
                        detectedLng = o.fallbackLng[0]
                    }
                    return detectedLng
                }
                var _rules = [
                    ["ach", "Acholi", [1, 2], 1],
                    ["af", "Afrikaans", [1, 2], 2],
                    ["ak", "Akan", [1, 2], 1],
                    ["am", "Amharic", [1, 2], 1],
                    ["an", "Aragonese", [1, 2], 2],
                    ["ar", "Arabic", [0, 1, 2, 3, 11, 100], 5],
                    ["arn", "Mapudungun", [1, 2], 1],
                    ["ast", "Asturian", [1, 2], 2],
                    ["ay", "Aymar", [1], 3],
                    ["az", "Azerbaijani", [1, 2], 2],
                    ["be", "Belarusian", [1, 2, 5], 4],
                    ["bg", "Bulgarian", [1, 2], 2],
                    ["bn", "Bengali", [1, 2], 2],
                    ["bo", "Tibetan", [1], 3],
                    ["br", "Breton", [1, 2], 1],
                    ["bs", "Bosnian", [1, 2, 5], 4],
                    ["ca", "Catalan", [1, 2], 2],
                    ["cgg", "Chiga", [1], 3],
                    ["cs", "Czech", [1, 2, 5], 6],
                    ["csb", "Kashubian", [1, 2, 5], 7],
                    ["cy", "Welsh", [1, 2, 3, 8], 8],
                    ["da", "Danish", [1, 2], 2],
                    ["de", "German", [1, 2], 2],
                    ["dev", "Development Fallback", [1, 2], 2],
                    ["dz", "Dzongkha", [1], 3],
                    ["el", "Greek", [1, 2], 2],
                    ["en", "English", [1, 2], 2],
                    ["eo", "Esperanto", [1, 2], 2],
                    ["es", "Spanish", [1, 2], 2],
                    ["es_ar", "Argentinean Spanish", [1, 2], 2],
                    ["et", "Estonian", [1, 2], 2],
                    ["eu", "Basque", [1, 2], 2],
                    ["fa", "Persian", [1], 3],
                    ["fi", "Finnish", [1, 2], 2],
                    ["fil", "Filipino", [1, 2], 1],
                    ["fo", "Faroese", [1, 2], 2],
                    ["fr", "French", [1, 2], 9],
                    ["fur", "Friulian", [1, 2], 2],
                    ["fy", "Frisian", [1, 2], 2],
                    ["ga", "Irish", [1, 2, 3, 7, 11], 10],
                    ["gd", "Scottish Gaelic", [1, 2, 3, 20], 11],
                    ["gl", "Galician", [1, 2], 2],
                    ["gu", "Gujarati", [1, 2], 2],
                    ["gun", "Gun", [1, 2], 1],
                    ["ha", "Hausa", [1, 2], 2],
                    ["he", "Hebrew", [1, 2], 2],
                    ["hi", "Hindi", [1, 2], 2],
                    ["hr", "Croatian", [1, 2, 5], 4],
                    ["hu", "Hungarian", [1, 2], 2],
                    ["hy", "Armenian", [1, 2], 2],
                    ["ia", "Interlingua", [1, 2], 2],
                    ["id", "Indonesian", [1], 3],
                    ["is", "Icelandic", [1, 2], 12],
                    ["it", "Italian", [1, 2], 2],
                    ["ja", "Japanese", [1], 3],
                    ["jbo", "Lojban", [1], 3],
                    ["jv", "Javanese", [0, 1], 13],
                    ["ka", "Georgian", [1], 3],
                    ["kk", "Kazakh", [1], 3],
                    ["km", "Khmer", [1], 3],
                    ["kn", "Kannada", [1, 2], 2],
                    ["ko", "Korean", [1], 3],
                    ["ku", "Kurdish", [1, 2], 2],
                    ["kw", "Cornish", [1, 2, 3, 4], 14],
                    ["ky", "Kyrgyz", [1], 3],
                    ["lb", "Letzeburgesch", [1, 2], 2],
                    ["ln", "Lingala", [1, 2], 1],
                    ["lo", "Lao", [1], 3],
                    ["lt", "Lithuanian", [1, 2, 10], 15],
                    ["lv", "Latvian", [1, 2, 0], 16],
                    ["mai", "Maithili", [1, 2], 2],
                    ["mfe", "Mauritian Creole", [1, 2], 1],
                    ["mg", "Malagasy", [1, 2], 1],
                    ["mi", "Maori", [1, 2], 1],
                    ["mk", "Macedonian", [1, 2], 17],
                    ["ml", "Malayalam", [1, 2], 2],
                    ["mn", "Mongolian", [1, 2], 2],
                    ["mnk", "Mandinka", [0, 1, 2], 18],
                    ["mr", "Marathi", [1, 2], 2],
                    ["ms", "Malay", [1], 3],
                    ["mt", "Maltese", [1, 2, 11, 20], 19],
                    ["nah", "Nahuatl", [1, 2], 2],
                    ["nap", "Neapolitan", [1, 2], 2],
                    ["nb", "Norwegian Bokmal", [1, 2], 2],
                    ["ne", "Nepali", [1, 2], 2],
                    ["nl", "Dutch", [1, 2], 2],
                    ["nn", "Norwegian Nynorsk", [1, 2], 2],
                    ["no", "Norwegian", [1, 2], 2],
                    ["nso", "Northern Sotho", [1, 2], 2],
                    ["oc", "Occitan", [1, 2], 1],
                    ["or", "Oriya", [2, 1], 2],
                    ["pa", "Punjabi", [1, 2], 2],
                    ["pap", "Papiamento", [1, 2], 2],
                    ["pl", "Polish", [1, 2, 5], 7],
                    ["pms", "Piemontese", [1, 2], 2],
                    ["ps", "Pashto", [1, 2], 2],
                    ["pt", "Portuguese", [1, 2], 2],
                    ["pt_br", "Brazilian Portuguese", [1, 2], 2],
                    ["rm", "Romansh", [1, 2], 2],
                    ["ro", "Romanian", [1, 2, 20], 20],
                    ["ru", "Russian", [1, 2, 5], 4],
                    ["sah", "Yakut", [1], 3],
                    ["sco", "Scots", [1, 2], 2],
                    ["se", "Northern Sami", [1, 2], 2],
                    ["si", "Sinhala", [1, 2], 2],
                    ["sk", "Slovak", [1, 2, 5], 6],
                    ["sl", "Slovenian", [5, 1, 2, 3], 21],
                    ["so", "Somali", [1, 2], 2],
                    ["son", "Songhay", [1, 2], 2],
                    ["sq", "Albanian", [1, 2], 2],
                    ["sr", "Serbian", [1, 2, 5], 4],
                    ["su", "Sundanese", [1], 3],
                    ["sv", "Swedish", [1, 2], 2],
                    ["sw", "Swahili", [1, 2], 2],
                    ["ta", "Tamil", [1, 2], 2],
                    ["te", "Telugu", [1, 2], 2],
                    ["tg", "Tajik", [1, 2], 1],
                    ["th", "Thai", [1], 3],
                    ["ti", "Tigrinya", [1, 2], 1],
                    ["tk", "Turkmen", [1, 2], 2],
                    ["tr", "Turkish", [1, 2], 1],
                    ["tt", "Tatar", [1], 3],
                    ["ug", "Uyghur", [1], 3],
                    ["uk", "Ukrainian", [1, 2, 5], 4],
                    ["ur", "Urdu", [1, 2], 2],
                    ["uz", "Uzbek", [1, 2], 1],
                    ["vi", "Vietnamese", [1], 3],
                    ["wa", "Walloon", [1, 2], 1],
                    ["wo", "Wolof", [1], 3],
                    ["yo", "Yoruba", [1, 2], 2],
                    ["zh", "Chinese", [1], 3]
                ];
                var _rulesPluralsTypes = {
                    1: function(n) {
                        return Number(n > 1)
                    },
                    2: function(n) {
                        return Number(n != 1)
                    },
                    3: function(n) {
                        return 0
                    },
                    4: function(n) {
                        return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2)
                    },
                    5: function(n) {
                        return Number(n === 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5)
                    },
                    6: function(n) {
                        return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2)
                    },
                    7: function(n) {
                        return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2)
                    },
                    8: function(n) {
                        return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3)
                    },
                    9: function(n) {
                        return Number(n >= 2)
                    },
                    10: function(n) {
                        return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4)
                    },
                    11: function(n) {
                        return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3)
                    },
                    12: function(n) {
                        return Number(n % 10 != 1 || n % 100 == 11)
                    },
                    13: function(n) {
                        return Number(n !== 0)
                    },
                    14: function(n) {
                        return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3)
                    },
                    15: function(n) {
                        return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2)
                    },
                    16: function(n) {
                        return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2)
                    },
                    17: function(n) {
                        return Number(n == 1 || n % 10 == 1 ? 0 : 1)
                    },
                    18: function(n) {
                        return Number(0 ? 0 : n == 1 ? 1 : 2)
                    },
                    19: function(n) {
                        return Number(n == 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3)
                    },
                    20: function(n) {
                        return Number(n == 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2)
                    },
                    21: function(n) {
                        return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0)
                    }
                };
                var pluralExtensions = {
                    rules: function() {
                        var l, rules = {};
                        for (l = _rules.length; l--;) {
                            rules[_rules[l][0]] = {
                                name: _rules[l][1],
                                numbers: _rules[l][2],
                                plurals: _rulesPluralsTypes[_rules[l][3]]
                            }
                        }
                        return rules
                    }(),
                    addRule: function(lng, obj) {
                        pluralExtensions.rules[lng] = obj
                    },
                    setCurrentLng: function(lng) {
                        if (!pluralExtensions.currentRule || pluralExtensions.currentRule.lng !== lng) {
                            var parts = lng.split("-");
                            pluralExtensions.currentRule = {
                                lng: lng,
                                rule: pluralExtensions.rules[parts[0]]
                            }
                        }
                    },
                    needsPlural: function(lng, count) {
                        var parts = lng.split("-");
                        var ext;
                        if (pluralExtensions.currentRule && pluralExtensions.currentRule.lng === lng) {
                            ext = pluralExtensions.currentRule.rule
                        } else {
                            ext = pluralExtensions.rules[parts[f.getCountyIndexOfLng(lng)]]
                        }
                        if (ext && ext.numbers.length <= 1) {
                            return false
                        } else {
                            return this.get(lng, count) !== 1
                        }
                    },
                    get: function(lng, count) {
                        var parts = lng.split("-");

                        function getResult(l, c) {
                            var ext;
                            if (pluralExtensions.currentRule && pluralExtensions.currentRule.lng === lng) {
                                ext = pluralExtensions.currentRule.rule
                            } else {
                                ext = pluralExtensions.rules[l]
                            }
                            if (ext) {
                                var i;
                                if (ext.noAbs) {
                                    i = ext.plurals(c)
                                } else {
                                    i = ext.plurals(Math.abs(c))
                                }
                                var number = ext.numbers[i];
                                if (ext.numbers.length === 2 && ext.numbers[0] === 1) {
                                    if (number === 2) {
                                        number = -1
                                    } else if (number === 1) {
                                        number = 1
                                    }
                                }
                                return number
                            } else {
                                return c === 1 ? "1" : "-1"
                            }
                        }
                        return getResult(parts[f.getCountyIndexOfLng(lng)], count)
                    }
                };
                var postProcessors = {};
                var addPostProcessor = function(name, fc) {
                    postProcessors[name] = fc
                };
                var sprintf = function() {
                    function get_type(variable) {
                        return Object.prototype.toString.call(variable).slice(8, -1).toLowerCase()
                    }

                    function str_repeat(input, multiplier) {
                        for (var output = []; multiplier > 0; output[--multiplier] = input) {}
                        return output.join("")
                    }
                    var str_format = function() {
                        if (!str_format.cache.hasOwnProperty(arguments[0])) {
                            str_format.cache[arguments[0]] = str_format.parse(arguments[0])
                        }
                        return str_format.format.call(null, str_format.cache[arguments[0]], arguments)
                    };
                    str_format.format = function(parse_tree, argv) {
                        var cursor = 1,
                            tree_length = parse_tree.length,
                            node_type = "",
                            arg, output = [],
                            i, k, match, pad, pad_character, pad_length;
                        for (i = 0; i < tree_length; i++) {
                            node_type = get_type(parse_tree[i]);
                            if (node_type === "string") {
                                output.push(parse_tree[i])
                            } else if (node_type === "array") {
                                match = parse_tree[i];
                                if (match[2]) {
                                    arg = argv[cursor];
                                    for (k = 0; k < match[2].length; k++) {
                                        if (!arg.hasOwnProperty(match[2][k])) {
                                            throw sprintf('[sprintf] property "%s" does not exist', match[2][k])
                                        }
                                        arg = arg[match[2][k]]
                                    }
                                } else if (match[1]) {
                                    arg = argv[match[1]]
                                } else {
                                    arg = argv[cursor++]
                                }
                                if (/[^s]/.test(match[8]) && get_type(arg) != "number") {
                                    throw sprintf("[sprintf] expecting number but found %s", get_type(arg))
                                }
                                switch (match[8]) {
                                    case "b":
                                        arg = arg.toString(2);
                                        break;
                                    case "c":
                                        arg = String.fromCharCode(arg);
                                        break;
                                    case "d":
                                        arg = parseInt(arg, 10);
                                        break;
                                    case "e":
                                        arg = match[7] ? arg.toExponential(match[7]) : arg.toExponential();
                                        break;
                                    case "f":
                                        arg = match[7] ? parseFloat(arg).toFixed(match[7]) : parseFloat(arg);
                                        break;
                                    case "o":
                                        arg = arg.toString(8);
                                        break;
                                    case "s":
                                        arg = (arg = String(arg)) && match[7] ? arg.substring(0, match[7]) : arg;
                                        break;
                                    case "u":
                                        arg = Math.abs(arg);
                                        break;
                                    case "x":
                                        arg = arg.toString(16);
                                        break;
                                    case "X":
                                        arg = arg.toString(16).toUpperCase();
                                        break
                                }
                                arg = /[def]/.test(match[8]) && match[3] && arg >= 0 ? "+" + arg : arg;
                                pad_character = match[4] ? match[4] == "0" ? "0" : match[4].charAt(1) : " ";
                                pad_length = match[6] - String(arg).length;
                                pad = match[6] ? str_repeat(pad_character, pad_length) : "";
                                output.push(match[5] ? arg + pad : pad + arg)
                            }
                        }
                        return output.join("")
                    };
                    str_format.cache = {};
                    str_format.parse = function(fmt) {
                        var _fmt = fmt,
                            match = [],
                            parse_tree = [],
                            arg_names = 0;
                        while (_fmt) {
                            if ((match = /^[^\x25]+/.exec(_fmt)) !== null) {
                                parse_tree.push(match[0])
                            } else if ((match = /^\x25{2}/.exec(_fmt)) !== null) {
                                parse_tree.push("%")
                            } else if ((match = /^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(_fmt)) !== null) {
                                if (match[2]) {
                                    arg_names |= 1;
                                    var field_list = [],
                                        replacement_field = match[2],
                                        field_match = [];
                                    if ((field_match = /^([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
                                        field_list.push(field_match[1]);
                                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== "") {
                                            if ((field_match = /^\.([a-z_][a-z_\d]*)/i.exec(replacement_field)) !== null) {
                                                field_list.push(field_match[1])
                                            } else if ((field_match = /^\[(\d+)\]/.exec(replacement_field)) !== null) {
                                                field_list.push(field_match[1])
                                            } else {
                                                throw "[sprintf] huh?"
                                            }
                                        }
                                    } else {
                                        throw "[sprintf] huh?"
                                    }
                                    match[2] = field_list
                                } else {
                                    arg_names |= 2
                                }
                                if (arg_names === 3) {
                                    throw "[sprintf] mixing positional and named placeholders is not (yet) supported"
                                }
                                parse_tree.push(match)
                            } else {
                                throw "[sprintf] huh?"
                            }
                            _fmt = _fmt.substring(match[0].length)
                        }
                        return parse_tree
                    };
                    return str_format
                }();
                var vsprintf = function(fmt, argv) {
                    argv.unshift(fmt);
                    return sprintf.apply(null, argv)
                };
                addPostProcessor("sprintf", function(val, key, opts) {
                    if (!opts.sprintf) return val;
                    if (Object.prototype.toString.apply(opts.sprintf) === "[object Array]") {
                        return vsprintf(val, opts.sprintf)
                    } else if (typeof opts.sprintf === "object") {
                        return sprintf(val, opts.sprintf)
                    }
                    return val
                });
                i18n.init = init;
                i18n.setLng = setLng;
                i18n.preload = preload;
                i18n.addResourceBundle = addResourceBundle;
                i18n.hasResourceBundle = hasResourceBundle;
                i18n.addResource = addResource;
                i18n.addResources = addResources;
                i18n.removeResourceBundle = removeResourceBundle;
                i18n.loadNamespace = loadNamespace;
                i18n.loadNamespaces = loadNamespaces;
                i18n.setDefaultNamespace = setDefaultNamespace;
                i18n.t = translate;
                i18n.translate = translate;
                i18n.exists = exists;
                i18n.detectLanguage = f.detectLanguage;
                i18n.pluralExtensions = pluralExtensions;
                i18n.sync = sync;
                i18n.functions = f;
                i18n.lng = lng;
                i18n.addPostProcessor = addPostProcessor;
                i18n.options = o
            })()
        }, {
            jquery: 358
        }],
        355: [function(require, module, exports) {
            (function(global) {
                jQuery = global.jQuery = require("/var/lib/jenkins/jobs/jitsi-meet-debian/workspace/jitsi-meet/node_modules/jquery/dist/jquery.js");
                var __browserify_shim_require__ = require;
                (function browserifyShim(module, define, require) {
                    (function(root, factory) {
                        if (typeof define === "function" && define.amd) {
                            define(["jquery"], factory)
                        } else {
                            factory(root.jQuery)
                        }
                    })(this, function($) {
                        "use strict";
                        var Imp = function(message, options) {
                            var t = this;
                            t.id = Imp.count++;
                            Imp.lifo.push(t);
                            if (message) {
                                t.open(message, options)
                            }
                            return t
                        };
                        Imp.defaults = {
                            prefix: "jqi",
                            classes: {
                                box: "",
                                fade: "",
                                prompt: "",
                                form: "",
                                close: "",
                                title: "",
                                message: "",
                                buttons: "",
                                button: "",
                                defaultButton: ""
                            },
                            title: "",
                            closeText: "&times;",
                            buttons: {
                                Ok: true
                            },
                            loaded: function(e) {},
                            submit: function(e, v, m, f) {},
                            close: function(e, v, m, f) {},
                            statechanging: function(e, from, to) {},
                            statechanged: function(e, to) {},
                            opacity: .6,
                            zIndex: 999,
                            overlayspeed: "slow",
                            promptspeed: "fast",
                            show: "fadeIn",
                            hide: "fadeOut",
                            focus: 0,
                            defaultButton: 0,
                            useiframe: false,
                            top: "15%",
                            position: {
                                container: null,
                                x: null,
                                y: null,
                                arrow: null,
                                width: null
                            },
                            persistent: true,
                            timeout: 0,
                            states: {},
                            state: {
                                name: null,
                                title: "",
                                html: "",
                                buttons: {
                                    Ok: true
                                },
                                focus: 0,
                                defaultButton: 0,
                                position: {
                                    container: null,
                                    x: null,
                                    y: null,
                                    arrow: null,
                                    width: null
                                },
                                submit: function(e, v, m, f) {
                                    return true
                                }
                            }
                        };
                        Imp.setDefaults = function(o) {
                            Imp.defaults = $.extend({}, Imp.defaults, o)
                        };
                        Imp.setStateDefaults = function(o) {
                            Imp.defaults.state = $.extend({}, Imp.defaults.state, o)
                        };
                        Imp.count = 0;
                        Imp.lifo = [];
                        Imp.getLast = function() {
                            var l = Imp.lifo.length;
                            return l > 0 ? Imp.lifo[l - 1] : false
                        };
                        Imp.removeFromStack = function(id) {
                            for (var i = Imp.lifo.length - 1; i >= 0; i--) {
                                if (Imp.lifo[i].id === id) {
                                    return Imp.lifo.splice(i, 1)[0]
                                }
                            }
                        };
                        Imp.prototype = {
                            id: null,
                            open: function(message, options) {
                                var t = this;
                                t.options = $.extend({}, Imp.defaults, options);
                                if (t.timeout) {
                                    clearTimeout(t.timeout)
                                }
                                t.timeout = false;
                                var opts = t.options,
                                    $body = $(document.body),
                                    $window = $(window);
                                var msgbox = '<div class="' + opts.prefix + "box " + opts.classes.box + '">';
                                if (opts.useiframe && $("object, applet").length > 0) {
                                    msgbox += '<iframe src="javascript:false;" style="display:block;position:absolute;z-index:-1;" class="' + opts.prefix + "fade " + opts.classes.fade + '"></iframe>'
                                } else {
                                    msgbox += '<div class="' + opts.prefix + "fade " + opts.classes.fade + '"></div>'
                                }
                                msgbox += '<div class="' + opts.prefix + " " + opts.classes.prompt + '">' + '<form action="javascript:false;" onsubmit="return false;" class="' + opts.prefix + "form " + opts.classes.form + '">' + '<div class="' + opts.prefix + "close " + opts.classes.close + '">' + opts.closeText + "</div>" + '<div class="' + opts.prefix + 'states"></div>' + "</form>" + "</div>" + "</div>";
                                t.jqib = $(msgbox).appendTo($body);
                                t.jqi = t.jqib.children("." + opts.prefix);
                                t.jqif = t.jqib.children("." + opts.prefix + "fade");
                                if (message.constructor === String) {
                                    message = {
                                        state0: {
                                            title: opts.title,
                                            html: message,
                                            buttons: opts.buttons,
                                            position: opts.position,
                                            focus: opts.focus,
                                            defaultButton: opts.defaultButton,
                                            submit: opts.submit
                                        }
                                    }
                                }
                                t.options.states = {};
                                var k, v;
                                for (k in message) {
                                    v = $.extend({}, Imp.defaults.state, {
                                        name: k
                                    }, message[k]);
                                    t.addState(v.name, v);
                                    if (t.currentStateName === "") {
                                        t.currentStateName = v.name
                                    }
                                }
                                t.jqi.on("click", "." + opts.prefix + "buttons button", function(e) {
                                    var $t = $(this),
                                        $state = $t.parents("." + opts.prefix + "state"),
                                        stateobj = t.options.states[$state.data("jqi-name")],
                                        msg = $state.children("." + opts.prefix + "message"),
                                        clicked = stateobj.buttons[$t.text()] || stateobj.buttons[$t.html()],
                                        forminputs = {};
                                    if (clicked === undefined) {
                                        for (var i in stateobj.buttons) {
                                            if (stateobj.buttons[i].title === $t.text() || stateobj.buttons[i].title === $t.html()) {
                                                clicked = stateobj.buttons[i].value
                                            }
                                        }
                                    }
                                    $.each(t.jqi.children("form").serializeArray(), function(i, obj) {
                                        if (forminputs[obj.name] === undefined) {
                                            forminputs[obj.name] = obj.value
                                        } else if (typeof forminputs[obj.name] === Array || typeof forminputs[obj.name] === "object") {
                                            forminputs[obj.name].push(obj.value)
                                        } else {
                                            forminputs[obj.name] = [forminputs[obj.name], obj.value]
                                        }
                                    });
                                    var promptsubmite = new $.Event("impromptu:submit");
                                    promptsubmite.stateName = stateobj.name;
                                    promptsubmite.state = $state;
                                    $state.trigger(promptsubmite, [clicked, msg, forminputs]);
                                    if (!promptsubmite.isDefaultPrevented()) {
                                        t.close(true, clicked, msg, forminputs)
                                    }
                                });
                                var fadeClicked = function() {
                                    if (opts.persistent) {
                                        var offset = opts.top.toString().indexOf("%") >= 0 ? $window.height() * (parseInt(opts.top, 10) / 100) : parseInt(opts.top, 10),
                                            top = parseInt(t.jqi.css("top").replace("px", ""), 10) - offset;
                                        $("html,body").animate({
                                            scrollTop: top
                                        }, "fast", function() {
                                            var i = 0;
                                            t.jqib.addClass(opts.prefix + "warning");
                                            var intervalid = setInterval(function() {
                                                t.jqib.toggleClass(opts.prefix + "warning");
                                                if (i++ > 1) {
                                                    clearInterval(intervalid);
                                                    t.jqib.removeClass(opts.prefix + "warning")
                                                }
                                            }, 100)
                                        })
                                    } else {
                                        t.close(true)
                                    }
                                };
                                var keyDownEventHandler = function(e) {
                                    var key = window.event ? event.keyCode : e.keyCode;
                                    if (key === 27) {
                                        fadeClicked()
                                    }
                                    if (key === 13) {
                                        var $defBtn = t.getCurrentState().find("." + opts.prefix + "defaultbutton");
                                        var $tgt = $(e.target);
                                        if ($tgt.is("textarea,." + opts.prefix + "button") === false && $defBtn.length > 0) {
                                            e.preventDefault();
                                            $defBtn.click()
                                        }
                                    }
                                    if (key === 9) {
                                        var $inputels = $("input,select,textarea,button", t.getCurrentState());
                                        var fwd = !e.shiftKey && e.target === $inputels[$inputels.length - 1];
                                        var back = e.shiftKey && e.target === $inputels[0];
                                        if (fwd || back) {
                                            setTimeout(function() {
                                                if (!$inputels) {
                                                    return
                                                }
                                                var el = $inputels[back === true ? $inputels.length - 1 : 0];
                                                if (el) {
                                                    el.focus()
                                                }
                                            }, 10);
                                            return false
                                        }
                                    }
                                };
                                t.position();
                                t.style();
                                t._windowResize = function(e) {
                                    t.position(e)
                                };
                                $window.resize({
                                    animate: false
                                }, t._windowResize);
                                t.jqif.click(fadeClicked);
                                t.jqi.find("." + opts.prefix + "close").click(function() {
                                    t.close()
                                });
                                t.jqib.on("keydown", keyDownEventHandler).on("impromptu:loaded", opts.loaded).on("impromptu:close", opts.close).on("impromptu:statechanging", opts.statechanging).on("impromptu:statechanged", opts.statechanged);
                                t.jqif[opts.show](opts.overlayspeed);
                                t.jqi[opts.show](opts.promptspeed, function() {
                                    var $firstState = t.jqi.find("." + opts.prefix + "states ." + opts.prefix + "state").eq(0);
                                    t.goToState($firstState.data("jqi-name"));
                                    t.jqib.trigger("impromptu:loaded")
                                });
                                if (opts.timeout > 0) {
                                    t.timeout = setTimeout(function() {
                                        t.close(true)
                                    }, opts.timeout)
                                }
                                return t
                            },
                            close: function(callCallback, clicked, msg, formvals) {
                                var t = this;
                                Imp.removeFromStack(t.id);
                                if (t.timeout) {
                                    clearTimeout(t.timeout);
                                    t.timeout = false
                                }
                                if (t.jqib) {
                                    t.jqib[t.options.hide]("fast", function() {
                                        t.jqib.trigger("impromptu:close", [clicked, msg, formvals]);
                                        t.jqib.remove();
                                        $(window).off("resize", t._windowResize);
                                        if (typeof callCallback === "function") {
                                            callCallback()
                                        }
                                    })
                                }
                                t.currentStateName = "";
                                return t
                            },
                            addState: function(statename, stateobj, afterState) {
                                var t = this,
                                    state = "",
                                    $state = null,
                                    arrow = "",
                                    title = "",
                                    opts = t.options,
                                    $jqistates = $("." + opts.prefix + "states"),
                                    buttons = [],
                                    showHtml, defbtn, k, v, l, i = 0;
                                stateobj = $.extend({}, Imp.defaults.state, {
                                    name: statename
                                }, stateobj);
                                if (stateobj.position.arrow !== null) {
                                    arrow = '<div class="' + opts.prefix + "arrow " + opts.prefix + "arrow" + stateobj.position.arrow + '"></div>'
                                }
                                if (stateobj.title && stateobj.title !== "") {
                                    title = '<div class="lead ' + opts.prefix + "title " + opts.classes.title + '">' + stateobj.title + "</div>"
                                }
                                showHtml = stateobj.html;
                                if (typeof stateobj.html === "function") {
                                    showHtml = "Error: html function must return text"
                                }
                                state += '<div class="' + opts.prefix + 'state" data-jqi-name="' + statename + '" style="display:none;">' + arrow + title + '<div class="' + opts.prefix + "message " + opts.classes.message + '">' + showHtml + "</div>" + '<div class="' + opts.prefix + "buttons " + opts.classes.buttons + '"' + ($.isEmptyObject(stateobj.buttons) ? 'style="display:none;"' : "") + ">";
                                if ($.isArray(stateobj.buttons)) {
                                    buttons = stateobj.buttons
                                } else if ($.isPlainObject(stateobj.buttons)) {
                                    for (k in stateobj.buttons) {
                                        if (stateobj.buttons.hasOwnProperty(k)) {
                                            buttons.push({
                                                title: k,
                                                value: stateobj.buttons[k]
                                            })
                                        }
                                    }
                                }
                                for (i = 0, l = buttons.length; i < l; i++) {
                                    v = buttons[i], defbtn = stateobj.focus === i || isNaN(stateobj.focus) && stateobj.defaultButton === i ? opts.prefix + "defaultbutton " + opts.classes.defaultButton : "";
                                    state += '<button class="' + opts.classes.button + " " + opts.prefix + "button " + defbtn;
                                    if (typeof v.classes !== "undefined") {
                                        state += " " + ($.isArray(v.classes) ? v.classes.join(" ") : v.classes) + " "
                                    }
                                    state += '" name="' + opts.prefix + "_" + statename + "_button" + v.title.replace(/[^a-z0-9]+/gi, "") + '" value="' + v.value + '">' + v.title + "</button>"
                                }
                                state += "</div></div>";
                                $state = $(state);
                                $state.on("impromptu:submit", stateobj.submit);
                                if (afterState !== undefined) {
                                    $jqistates.find('[data-jqi-name="' + afterState + '"]').after($state)
                                } else {
                                    $jqistates.append($state)
                                }
                                t.options.states[statename] = stateobj;
                                return $state
                            },
                            removeState: function(state, newState) {
                                var t = this,
                                    $state = t.getState(state),
                                    rm = function() {
                                        $state.remove()
                                    };
                                if ($state.length === 0) {
                                    return false
                                }
                                if ($state.css("display") !== "none") {
                                    if (newState !== undefined && t.getState(newState).length > 0) {
                                        t.goToState(newState, false, rm)
                                    } else if ($state.next().length > 0) {
                                        t.nextState(rm)
                                    } else if ($state.prev().length > 0) {
                                        t.prevState(rm)
                                    } else {
                                        t.close()
                                    }
                                } else {
                                    $state.slideUp("slow", rm)
                                }
                                return true
                            },
                            getApi: function() {
                                return this
                            },
                            getBox: function() {
                                return this.jqib
                            },
                            getPrompt: function() {
                                return this.jqi
                            },
                            getState: function(statename) {
                                return this.jqi.find('[data-jqi-name="' + statename + '"]')
                            },
                            getCurrentState: function() {
                                return this.getState(this.getCurrentStateName())
                            },
                            getCurrentStateName: function() {
                                return this.currentStateName
                            },
                            position: function(e) {
                                var t = this,
                                    restoreFx = $.fx.off,
                                    $state = t.getCurrentState(),
                                    stateObj = t.options.states[$state.data("jqi-name")],
                                    pos = stateObj ? stateObj.position : undefined,
                                    $window = $(window),
                                    bodyHeight = document.body.scrollHeight,
                                    windowHeight = $(window).height(),
                                    documentHeight = $(document).height(),
                                    height = bodyHeight > windowHeight ? bodyHeight : windowHeight,
                                    top = parseInt($window.scrollTop(), 10) + (t.options.top.toString().indexOf("%") >= 0 ? windowHeight * (parseInt(t.options.top, 10) / 100) : parseInt(t.options.top, 10));
                                if (e !== undefined && e.data.animate === false) {
                                    $.fx.off = true
                                }
                                t.jqib.css({
                                    position: "absolute",
                                    height: height,
                                    width: "100%",
                                    top: 0,
                                    left: 0,
                                    right: 0,
                                    bottom: 0
                                });
                                t.jqif.css({
                                    position: "fixed",
                                    height: height,
                                    width: "100%",
                                    top: 0,
                                    left: 0,
                                    right: 0,
                                    bottom: 0
                                });
                                if (pos && pos.container) {
                                    var offset = $(pos.container).offset();
                                    if ($.isPlainObject(offset) && offset.top !== undefined) {
                                        t.jqi.css({
                                            position: "absolute"
                                        });
                                        t.jqi.animate({
                                            top: offset.top + pos.y,
                                            left: offset.left + pos.x,
                                            marginLeft: 0,
                                            width: pos.width !== undefined ? pos.width : null
                                        });
                                        top = offset.top + pos.y - (t.options.top.toString().indexOf("%") >= 0 ? windowHeight * (parseInt(t.options.top, 10) / 100) : parseInt(t.options.top, 10));
                                        $("html,body").animate({
                                            scrollTop: top
                                        }, "slow", "swing", function() {})
                                    }
                                } else if (pos && pos.width) {
                                    t.jqi.css({
                                        position: "absolute",
                                        left: "50%"
                                    });
                                    t.jqi.animate({
                                        top: pos.y || top,
                                        left: pos.x || "50%",
                                        marginLeft: pos.width / 2 * -1,
                                        width: pos.width
                                    })
                                } else {
                                    t.jqi.css({
                                        position: "absolute",
                                        top: top,
                                        left: "50%",
                                        marginLeft: t.jqi.outerWidth(false) / 2 * -1
                                    })
                                }
                                if (e !== undefined && e.data.animate === false) {
                                    $.fx.off = restoreFx
                                }
                            },
                            style: function() {
                                var t = this;
                                t.jqif.css({
                                    zIndex: t.options.zIndex,
                                    display: "none",
                                    opacity: t.options.opacity
                                });
                                t.jqi.css({
                                    zIndex: t.options.zIndex + 1,
                                    display: "none"
                                });
                                t.jqib.css({
                                    zIndex: t.options.zIndex
                                })
                            },
                            goToState: function(state, subState, callback) {
                                var t = this,
                                    $jqi = t.jqi,
                                    jqiopts = t.options,
                                    $state = t.getState(state),
                                    stateobj = jqiopts.states[$state.data("jqi-name")],
                                    promptstatechanginge = new $.Event("impromptu:statechanging"),
                                    opts = t.options;
                                if (stateobj !== undefined) {
                                    if (typeof stateobj.html === "function") {
                                        var contentLaterFunc = stateobj.html;
                                        $state.find("." + opts.prefix + "message ").html(contentLaterFunc())
                                    }
                                    if (typeof subState === "function") {
                                        callback = subState;
                                        subState = false
                                    }
                                    t.jqib.trigger(promptstatechanginge, [t.getCurrentStateName(), state]);
                                    if (!promptstatechanginge.isDefaultPrevented() && $state.length > 0) {
                                        t.jqi.find("." + opts.prefix + "parentstate").removeClass(opts.prefix + "parentstate");
                                        if (subState) {
                                            t.jqi.find("." + opts.prefix + "substate").not($state).slideUp(jqiopts.promptspeed).removeClass("." + opts.prefix + "substate").find("." + opts.prefix + "arrow").hide();
                                            t.jqi.find("." + opts.prefix + "state:visible").addClass(opts.prefix + "parentstate");
                                            $state.addClass(opts.prefix + "substate")
                                        } else {
                                            t.jqi.find("." + opts.prefix + "state").not($state).slideUp(jqiopts.promptspeed).find("." + opts.prefix + "arrow").hide()
                                        }
                                        t.currentStateName = stateobj.name;
                                        $state.slideDown(jqiopts.promptspeed, function() {
                                            var $t = $(this);
                                            if (typeof stateobj.focus === "string") {
                                                $t.find(stateobj.focus).eq(0).focus()
                                            } else {
                                                $t.find("." + opts.prefix + "defaultbutton").focus()
                                            }
                                            $t.find("." + opts.prefix + "arrow").show(jqiopts.promptspeed);
                                            if (typeof callback === "function") {
                                                t.jqib.on("impromptu:statechanged", callback)
                                            }
                                            t.jqib.trigger("impromptu:statechanged", [state]);
                                            if (typeof callback === "function") {
                                                t.jqib.off("impromptu:statechanged", callback)
                                            }
                                        });
                                        if (!subState) {
                                            t.position()
                                        }
                                    }
                                }
                                return $state
                            },
                            nextState: function(callback) {
                                var t = this,
                                    $next = t.getCurrentState().next();
                                if ($next.length > 0) {
                                    t.goToState($next.data("jqi-name"), callback)
                                }
                                return $next
                            },
                            prevState: function(callback) {
                                var t = this,
                                    $prev = t.getCurrentState().prev();
                                if ($prev.length > 0) {
                                    t.goToState($prev.data("jqi-name"), callback)
                                }
                                return $prev
                            }
                        };
                        $.prompt = function(message, options) {
                            var api = new Imp(message, options);
                            return api.jqi
                        };
                        $.each(Imp, function(k, v) {
                            $.prompt[k] = v
                        });
                        $.each(Imp.prototype, function(k, v) {
                            $.prompt[k] = function() {
                                var api = Imp.getLast();
                                if (api && typeof api[k] === "function") {
                                    return api[k].apply(api, arguments)
                                }
                            }
                        });
                        $.fn.prompt = function(options) {
                            if (options === undefined) {
                                options = {}
                            }
                            if (options.withDataAndEvents === undefined) {
                                options.withDataAndEvents = false
                            }
                            $.prompt($(this).clone(options.withDataAndEvents).html(), options)
                        };
                        window.Impromptu = Imp
                    })
                }).call(global, module, undefined, undefined)
            }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
        }, {
            "/var/lib/jenkins/jobs/jitsi-meet-debian/workspace/jitsi-meet/node_modules/jquery/dist/jquery.js": 358
        }],
        356: [function(require, module, exports) {
            (function(factory) {
                if (typeof define === "function" && define.amd) {
                    define(["jquery"], factory)
                } else if (typeof exports === "object") {
                    factory(require("jquery"))
                } else {
                    factory(jQuery)
                }
            })(function($) {
                "use strict";
                $.support.htmlMenuitem = "HTMLMenuItemElement" in window;
                $.support.htmlCommand = "HTMLCommandElement" in window;
                $.support.eventSelectstart = "onselectstart" in document.documentElement;
                if (!$.ui || !$.widget) {
                    $.cleanData = function(orig) {
                        return function(elems) {
                            var events, elem, i;
                            for (i = 0; elems[i] != null; i++) {
                                elem = elems[i];
                                try {
                                    events = $._data(elem, "events");
                                    if (events && events.remove) {
                                        $(elem).triggerHandler("remove")
                                    }
                                } catch (e) {}
                            }
                            orig(elems)
                        }
                    }($.cleanData)
                }
                var $currentTrigger = null,
                    initialized = false,
                    $win = $(window),
                    counter = 0,
                    namespaces = {},
                    menus = {},
                    types = {},
                    defaults = {
                        selector: null,
                        appendTo: null,
                        trigger: "right",
                        autoHide: false,
                        delay: 200,
                        reposition: true,
                        classNames: {
                            hover: "context-menu-hover",
                            disabled: "context-menu-disabled",
                            visible: "context-menu-visible",
                            notSelectable: "context-menu-not-selectable",
                            icon: "context-menu-icon",
                            iconEdit: "context-menu-icon-edit",
                            iconCut: "context-menu-icon-cut",
                            iconCopy: "context-menu-icon-copy",
                            iconPaste: "context-menu-icon-paste",
                            iconDelete: "context-menu-icon-delete",
                            iconAdd: "context-menu-icon-add",
                            iconQuit: "context-menu-icon-quit"
                        },
                        determinePosition: function($menu) {
                            if ($.ui && $.ui.position) {
                                $menu.css("display", "block").position({
                                    my: "center top",
                                    at: "center bottom",
                                    of: this,
                                    offset: "0 5",
                                    collision: "fit"
                                }).css("display", "none")
                            } else {
                                var offset = this.offset();
                                offset.top += this.outerHeight();
                                offset.left += this.outerWidth() / 2 - $menu.outerWidth() / 2;
                                $menu.css(offset)
                            }
                        },
                        position: function(opt, x, y) {
                            var offset;
                            if (!x && !y) {
                                opt.determinePosition.call(this, opt.$menu);
                                return
                            } else if (x === "maintain" && y === "maintain") {
                                offset = opt.$menu.position()
                            } else {
                                offset = {
                                    top: y,
                                    left: x
                                }
                            }
                            var bottom = $win.scrollTop() + $win.height(),
                                right = $win.scrollLeft() + $win.width(),
                                height = opt.$menu.outerHeight(),
                                width = opt.$menu.outerWidth();
                            if (offset.top + height > bottom) {
                                offset.top -= height
                            }
                            if (offset.top < 0) {
                                offset.top = 0
                            }
                            if (offset.left + width > right) {
                                offset.left -= width
                            }
                            if (offset.left < 0) {
                                offset.left = 0
                            }
                            opt.$menu.css(offset)
                        },
                        positionSubmenu: function($menu) {
                            if ($.ui && $.ui.position) {
                                $menu.css("display", "block").position({
                                    my: "left top",
                                    at: "right top",
                                    of: this,
                                    collision: "flipfit fit"
                                }).css("display", "")
                            } else {
                                var offset = {
                                    top: 0,
                                    left: this.outerWidth()
                                };
                                $menu.css(offset)
                            }
                        },
                        zIndex: 1,
                        animation: {
                            duration: 50,
                            show: "slideDown",
                            hide: "slideUp"
                        },
                        events: {
                            show: $.noop,
                            hide: $.noop
                        },
                        callback: null,
                        items: {}
                    },
                    hoveract = {
                        timer: null,
                        pageX: null,
                        pageY: null
                    },
                    zindex = function($t) {
                        var zin = 0,
                            $tt = $t;
                        while (true) {
                            zin = Math.max(zin, parseInt($tt.css("z-index"), 10) || 0);
                            $tt = $tt.parent();
                            if (!$tt || !$tt.length || "html body".indexOf($tt.prop("nodeName").toLowerCase()) > -1) {
                                break
                            }
                        }
                        return zin
                    },
                    handle = {
                        abortevent: function(e) {
                            e.preventDefault();
                            e.stopImmediatePropagation()
                        },
                        contextmenu: function(e) {
                            var $this = $(this);
                            if (e.data.trigger === "right") {
                                e.preventDefault();
                                e.stopImmediatePropagation()
                            }
                            if (e.data.trigger !== "right" && e.data.trigger !== "demand" && e.originalEvent) {
                                return
                            }
                            if (e.mouseButton !== undefined && e.data) {
                                if (!(e.data.trigger === "left" && e.mouseButton === 0) && !(e.data.trigger === "right" && e.mouseButton === 2)) {
                                    return
                                }
                            }
                            if ($this.hasClass("context-menu-active")) {
                                return
                            }
                            if (!$this.hasClass("context-menu-disabled")) {
                                $currentTrigger = $this;
                                if (e.data.build) {
                                    var built = e.data.build($currentTrigger, e);
                                    if (built === false) {
                                        return
                                    }
                                    e.data = $.extend(true, {}, defaults, e.data, built || {});
                                    if (!e.data.items || $.isEmptyObject(e.data.items)) {
                                        if (window.console) {
                                            (console.error || console.log).call(console, "No items specified to show in contextMenu")
                                        }
                                        throw new Error("No Items specified");
                                    }
                                    e.data.$trigger = $currentTrigger;
                                    op.create(e.data)
                                }
                                var showMenu = false;
                                for (var item in e.data.items) {
                                    if (e.data.items.hasOwnProperty(item)) {
                                        var visible;
                                        if ($.isFunction(e.data.items[item].visible)) {
                                            visible = e.data.items[item].visible.call($(e.currentTarget), item, e.data)
                                        } else if (typeof item.visible !== "undefined") {
                                            visible = e.data.items[item].visible === true
                                        } else {
                                            visible = true
                                        }
                                        if (visible) {
                                            showMenu = true
                                        }
                                    }
                                }
                                if (showMenu) {
                                    var menuContainer = e.data.appendTo === null ? $("body") : $(e.data.appendTo);
                                    var srcElement = e.target || e.srcElement || e.originalTarget;
                                    if (e.offsetX !== undefined && e.offsetY !== undefined) {
                                        op.show.call($this, e.data, $(srcElement).offset().left - menuContainer.offset().left + e.offsetX, $(srcElement).offset().top - menuContainer.offset().top + e.offsetY)
                                    } else {
                                        op.show.call($this, e.data, e.pageX, e.pageY)
                                    }
                                }
                            }
                        },
                        click: function(e) {
                            e.preventDefault();
                            e.stopImmediatePropagation();
                            $(this).trigger($.Event("contextmenu", {
                                data: e.data,
                                pageX: e.pageX,
                                pageY: e.pageY
                            }))
                        },
                        mousedown: function(e) {
                            var $this = $(this);
                            if ($currentTrigger && $currentTrigger.length && !$currentTrigger.is($this)) {
                                $currentTrigger.data("contextMenu").$menu.trigger("contextmenu:hide")
                            }
                            if (e.button === 2) {
                                $currentTrigger = $this.data("contextMenuActive", true)
                            }
                        },
                        mouseup: function(e) {
                            var $this = $(this);
                            if ($this.data("contextMenuActive") && $currentTrigger && $currentTrigger.length && $currentTrigger.is($this) && !$this.hasClass("context-menu-disabled")) {
                                e.preventDefault();
                                e.stopImmediatePropagation();
                                $currentTrigger = $this;
                                $this.trigger($.Event("contextmenu", {
                                    data: e.data,
                                    pageX: e.pageX,
                                    pageY: e.pageY
                                }))
                            }
                            $this.removeData("contextMenuActive")
                        },
                        mouseenter: function(e) {
                            var $this = $(this),
                                $related = $(e.relatedTarget),
                                $document = $(document);
                            if ($related.is(".context-menu-list") || $related.closest(".context-menu-list").length) {
                                return
                            }
                            if ($currentTrigger && $currentTrigger.length) {
                                return
                            }
                            hoveract.pageX = e.pageX;
                            hoveract.pageY = e.pageY;
                            hoveract.data = e.data;
                            $document.on("mousemove.contextMenuShow", handle.mousemove);
                            hoveract.timer = setTimeout(function() {
                                hoveract.timer = null;
                                $document.off("mousemove.contextMenuShow");
                                $currentTrigger = $this;
                                $this.trigger($.Event("contextmenu", {
                                    data: hoveract.data,
                                    pageX: hoveract.pageX,
                                    pageY: hoveract.pageY
                                }))
                            }, e.data.delay)
                        },
                        mousemove: function(e) {
                            hoveract.pageX = e.pageX;
                            hoveract.pageY = e.pageY
                        },
                        mouseleave: function(e) {
                            var $related = $(e.relatedTarget);
                            if ($related.is(".context-menu-list") || $related.closest(".context-menu-list").length) {
                                return
                            }
                            try {
                                clearTimeout(hoveract.timer)
                            } catch (e) {}
                            hoveract.timer = null
                        },
                        layerClick: function(e) {
                            var $this = $(this),
                                root = $this.data("contextMenuRoot"),
                                button = e.button,
                                x = e.pageX,
                                y = e.pageY,
                                target, offset;
                            e.preventDefault();
                            e.stopImmediatePropagation();
                            setTimeout(function() {
                                var $window;
                                var triggerAction = root.trigger === "left" && button === 0 || root.trigger === "right" && button === 2;
                                if (document.elementFromPoint && root.$layer) {
                                    root.$layer.hide();
                                    target = document.elementFromPoint(x - $win.scrollLeft(), y - $win.scrollTop());
                                    root.$layer.show()
                                }
                                if (root.reposition && triggerAction) {
                                    if (document.elementFromPoint) {
                                        if (root.$trigger.is(target) || root.$trigger.has(target).length) {
                                            root.position.call(root.$trigger, root, x, y);
                                            return
                                        }
                                    } else {
                                        offset = root.$trigger.offset();
                                        $window = $(window);
                                        offset.top += $window.scrollTop();
                                        if (offset.top <= e.pageY) {
                                            offset.left += $window.scrollLeft();
                                            if (offset.left <= e.pageX) {
                                                offset.bottom = offset.top + root.$trigger.outerHeight();
                                                if (offset.bottom >= e.pageY) {
                                                    offset.right = offset.left + root.$trigger.outerWidth();
                                                    if (offset.right >= e.pageX) {
                                                        root.position.call(root.$trigger, root, x, y);
                                                        return
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                                if (target && triggerAction) {
                                    root.$trigger.one("contextmenu:hidden", function() {
                                        $(target).contextMenu({
                                            x: x,
                                            y: y,
                                            button: button
                                        })
                                    })
                                }
                                root.$menu.trigger("contextmenu:hide")
                            }, 50)
                        },
                        keyStop: function(e, opt) {
                            if (!opt.isInput) {
                                e.preventDefault()
                            }
                            e.stopPropagation()
                        },
                        key: function(e) {
                            var opt = {};
                            if ($currentTrigger) {
                                opt = $currentTrigger.data("contextMenu") || {}
                            }
                            if (opt.zIndex === undefined) {
                                opt.zIndex = 0
                            }
                            var targetZIndex = 0;
                            var getZIndexOfTriggerTarget = function(target) {
                                if (target.style.zIndex !== "") {
                                    targetZIndex = target.style.zIndex
                                } else {
                                    if (target.offsetParent !== null && target.offsetParent !== undefined) {
                                        getZIndexOfTriggerTarget(target.offsetParent)
                                    } else if (target.parentElement !== null && target.parentElement !== undefined) {
                                        getZIndexOfTriggerTarget(target.parentElement)
                                    }
                                }
                            };
                            getZIndexOfTriggerTarget(e.target);
                            if (targetZIndex > opt.zIndex) {
                                return
                            }
                            switch (e.keyCode) {
                                case 9:
                                case 38:
                                    handle.keyStop(e, opt);
                                    if (opt.isInput) {
                                        if (e.keyCode === 9 && e.shiftKey) {
                                            e.preventDefault();
                                            if (opt.$selected) {
                                                opt.$selected.find("input, textarea, select").blur()
                                            }
                                            opt.$menu.trigger("prevcommand");
                                            return
                                        } else if (e.keyCode === 38 && opt.$selected.find("input, textarea, select").prop("type") === "checkbox") {
                                            e.preventDefault();
                                            return
                                        }
                                    } else if (e.keyCode !== 9 || e.shiftKey) {
                                        opt.$menu.trigger("prevcommand");
                                        return
                                    }
                                    break;
                                case 40:
                                    handle.keyStop(e, opt);
                                    if (opt.isInput) {
                                        if (e.keyCode === 9) {
                                            e.preventDefault();
                                            if (opt.$selected) {
                                                opt.$selected.find("input, textarea, select").blur()
                                            }
                                            opt.$menu.trigger("nextcommand");
                                            return
                                        } else if (e.keyCode === 40 && opt.$selected.find("input, textarea, select").prop("type") === "checkbox") {
                                            e.preventDefault();
                                            return
                                        }
                                    } else {
                                        opt.$menu.trigger("nextcommand");
                                        return
                                    }
                                    break;
                                case 37:
                                    handle.keyStop(e, opt);
                                    if (opt.isInput || !opt.$selected || !opt.$selected.length) {
                                        break
                                    }
                                    if (!opt.$selected.parent().hasClass("context-menu-root")) {
                                        var $parent = opt.$selected.parent().parent();
                                        opt.$selected.trigger("contextmenu:blur");
                                        opt.$selected = $parent;
                                        return
                                    }
                                    break;
                                case 39:
                                    handle.keyStop(e, opt);
                                    if (opt.isInput || !opt.$selected || !opt.$selected.length) {
                                        break
                                    }
                                    var itemdata = opt.$selected.data("contextMenu") || {};
                                    if (itemdata.$menu && opt.$selected.hasClass("context-menu-submenu")) {
                                        opt.$selected = null;
                                        itemdata.$selected = null;
                                        itemdata.$menu.trigger("nextcommand");
                                        return
                                    }
                                    break;
                                case 35:
                                case 36:
                                    if (opt.$selected && opt.$selected.find("input, textarea, select").length) {
                                        return
                                    } else {
                                        (opt.$selected && opt.$selected.parent() || opt.$menu).children(":not(." + opt.classNames.disabled + ", ." + opt.classNames.notSelectable + ")")[e.keyCode === 36 ? "first" : "last"]().trigger("contextmenu:focus");
                                        e.preventDefault();
                                        return
                                    }
                                    break;
                                case 13:
                                    handle.keyStop(e, opt);
                                    if (opt.isInput) {
                                        if (opt.$selected && !opt.$selected.is("textarea, select")) {
                                            e.preventDefault();
                                            return
                                        }
                                        break
                                    }
                                    if (typeof opt.$selected !== "undefined" && opt.$selected !== null) {
                                        opt.$selected.trigger("mouseup")
                                    }
                                    return;
                                case 32:
                                case 33:
                                case 34:
                                    handle.keyStop(e, opt);
                                    return;
                                case 27:
                                    handle.keyStop(e, opt);
                                    opt.$menu.trigger("contextmenu:hide");
                                    return;
                                default:
                                    var k = String.fromCharCode(e.keyCode).toUpperCase();
                                    if (opt.accesskeys && opt.accesskeys[k]) {
                                        opt.accesskeys[k].$node.trigger(opt.accesskeys[k].$menu ? "contextmenu:focus" : "mouseup");
                                        return
                                    }
                                    break
                            }
                            e.stopPropagation();
                            if (typeof opt.$selected !== "undefined" && opt.$selected !== null) {
                                opt.$selected.trigger(e)
                            }
                        },
                        prevItem: function(e) {
                            e.stopPropagation();
                            var opt = $(this).data("contextMenu") || {};
                            var root = $(this).data("contextMenuRoot") || {};
                            if (opt.$selected) {
                                var $s = opt.$selected;
                                opt = opt.$selected.parent().data("contextMenu") || {};
                                opt.$selected = $s
                            }
                            var $children = opt.$menu.children(),
                                $prev = !opt.$selected || !opt.$selected.prev().length ? $children.last() : opt.$selected.prev(),
                                $round = $prev;
                            while ($prev.hasClass(root.classNames.disabled) || $prev.hasClass(root.classNames.notSelectable) || $prev.is(":hidden")) {
                                if ($prev.prev().length) {
                                    $prev = $prev.prev()
                                } else {
                                    $prev = $children.last()
                                }
                                if ($prev.is($round)) {
                                    return
                                }
                            }
                            if (opt.$selected) {
                                handle.itemMouseleave.call(opt.$selected.get(0), e)
                            }
                            handle.itemMouseenter.call($prev.get(0), e);
                            var $input = $prev.find("input, textarea, select");
                            if ($input.length) {
                                $input.focus()
                            }
                        },
                        nextItem: function(e) {
                            e.stopPropagation();
                            var opt = $(this).data("contextMenu") || {};
                            var root = $(this).data("contextMenuRoot") || {};
                            if (opt.$selected) {
                                var $s = opt.$selected;
                                opt = opt.$selected.parent().data("contextMenu") || {};
                                opt.$selected = $s
                            }
                            var $children = opt.$menu.children(),
                                $next = !opt.$selected || !opt.$selected.next().length ? $children.first() : opt.$selected.next(),
                                $round = $next;
                            while ($next.hasClass(root.classNames.disabled) || $next.hasClass(root.classNames.notSelectable) || $next.is(":hidden")) {
                                if ($next.next().length) {
                                    $next = $next.next()
                                } else {
                                    $next = $children.first()
                                }
                                if ($next.is($round)) {
                                    return
                                }
                            }
                            if (opt.$selected) {
                                handle.itemMouseleave.call(opt.$selected.get(0), e)
                            }
                            handle.itemMouseenter.call($next.get(0), e);
                            var $input = $next.find("input, textarea, select");
                            if ($input.length) {
                                $input.focus()
                            }
                        },
                        focusInput: function() {
                            var $this = $(this).closest(".context-menu-item"),
                                data = $this.data(),
                                opt = data.contextMenu,
                                root = data.contextMenuRoot;
                            root.$selected = opt.$selected = $this;
                            root.isInput = opt.isInput = true
                        },
                        blurInput: function() {
                            var $this = $(this).closest(".context-menu-item"),
                                data = $this.data(),
                                opt = data.contextMenu,
                                root = data.contextMenuRoot;
                            root.isInput = opt.isInput = false
                        },
                        menuMouseenter: function() {
                            var root = $(this).data().contextMenuRoot;
                            root.hovering = true
                        },
                        menuMouseleave: function(e) {
                            var root = $(this).data().contextMenuRoot;
                            if (root.$layer && root.$layer.is(e.relatedTarget)) {
                                root.hovering = false
                            }
                        },
                        itemMouseenter: function(e) {
                            var $this = $(this),
                                data = $this.data(),
                                opt = data.contextMenu,
                                root = data.contextMenuRoot;
                            root.hovering = true;
                            if (e && root.$layer && root.$layer.is(e.relatedTarget)) {
                                e.preventDefault();
                                e.stopImmediatePropagation()
                            }(opt.$menu ? opt : root).$menu.children("." + root.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur");
                            if ($this.hasClass(root.classNames.disabled) || $this.hasClass(root.classNames.notSelectable)) {
                                opt.$selected = null;
                                return
                            }
                            $this.trigger("contextmenu:focus")
                        },
                        itemMouseleave: function(e) {
                            var $this = $(this),
                                data = $this.data(),
                                opt = data.contextMenu,
                                root = data.contextMenuRoot;
                            if (root !== opt && root.$layer && root.$layer.is(e.relatedTarget)) {
                                if (typeof root.$selected !== "undefined" && root.$selected !== null) {
                                    root.$selected.trigger("contextmenu:blur")
                                }
                                e.preventDefault();
                                e.stopImmediatePropagation();
                                root.$selected = opt.$selected = opt.$node;
                                return
                            }
                            $this.trigger("contextmenu:blur")
                        },
                        itemClick: function(e) {
                            var $this = $(this),
                                data = $this.data(),
                                opt = data.contextMenu,
                                root = data.contextMenuRoot,
                                key = data.contextMenuKey,
                                callback;
                            if (!opt.items[key] || $this.is("." + root.classNames.disabled + ", .context-menu-submenu, .context-menu-separator, ." + root.classNames.notSelectable)) {
                                return
                            }
                            e.preventDefault();
                            e.stopImmediatePropagation();
                            if ($.isFunction(root.callbacks[key]) && Object.prototype.hasOwnProperty.call(root.callbacks, key)) {
                                callback = root.callbacks[key]
                            } else if ($.isFunction(root.callback)) {
                                callback = root.callback
                            } else {
                                return
                            }
                            if (callback.call(root.$trigger, key, root) !== false) {
                                root.$menu.trigger("contextmenu:hide")
                            } else if (root.$menu.parent().length) {
                                op.update.call(root.$trigger, root)
                            }
                        },
                        inputClick: function(e) {
                            e.stopImmediatePropagation()
                        },
                        hideMenu: function(e, data) {
                            var root = $(this).data("contextMenuRoot");
                            op.hide.call(root.$trigger, root, data && data.force)
                        },
                        focusItem: function(e) {
                            e.stopPropagation();
                            var $this = $(this),
                                data = $this.data(),
                                opt = data.contextMenu,
                                root = data.contextMenuRoot;
                            $this.addClass([root.classNames.hover, root.classNames.visible].join(" ")).parent().find(".context-menu-item").not($this).removeClass(root.classNames.visible).filter("." + root.classNames.hover).trigger("contextmenu:blur");
                            opt.$selected = root.$selected = $this;
                            if (opt.$node) {
                                root.positionSubmenu.call(opt.$node, opt.$menu)
                            }
                        },
                        blurItem: function(e) {
                            e.stopPropagation();
                            var $this = $(this),
                                data = $this.data(),
                                opt = data.contextMenu,
                                root = data.contextMenuRoot;
                            if (opt.autoHide) {
                                $this.removeClass(root.classNames.visible)
                            }
                            $this.removeClass(root.classNames.hover);
                            opt.$selected = null
                        }
                    },
                    op = {
                        show: function(opt, x, y) {
                            var $trigger = $(this),
                                css = {};
                            $("#context-menu-layer").trigger("mousedown");
                            opt.$trigger = $trigger;
                            if (opt.events.show.call($trigger, opt) === false) {
                                $currentTrigger = null;
                                return
                            }
                            op.update.call($trigger, opt);
                            opt.position.call($trigger, opt, x, y);
                            if (opt.zIndex) {
                                var additionalZValue = opt.zIndex;
                                if (typeof opt.zIndex === "function") {
                                    additionalZValue = opt.zIndex.call($trigger, opt)
                                }
                                css.zIndex = zindex($trigger) + additionalZValue
                            }
                            op.layer.call(opt.$menu, opt, css.zIndex);
                            opt.$menu.find("ul").css("zIndex", css.zIndex + 1);
                            opt.$menu.css(css)[opt.animation.show](opt.animation.duration, function() {
                                $trigger.trigger("contextmenu:visible")
                            });
                            $trigger.data("contextMenu", opt).addClass("context-menu-active");
                            $(document).off("keydown.contextMenu").on("keydown.contextMenu", handle.key);
                            if (opt.autoHide) {
                                $(document).on("mousemove.contextMenuAutoHide", function(e) {
                                    var pos = $trigger.offset();
                                    pos.right = pos.left + $trigger.outerWidth();
                                    pos.bottom = pos.top + $trigger.outerHeight();
                                    if (opt.$layer && !opt.hovering && (!(e.pageX >= pos.left && e.pageX <= pos.right) || !(e.pageY >= pos.top && e.pageY <= pos.bottom))) {
                                        setTimeout(function() {
                                            if (!opt.hovering) {
                                                opt.$menu.trigger("contextmenu:hide")
                                            }
                                        }, 50)
                                    }
                                })
                            }
                        },
                        hide: function(opt, force) {
                            var $trigger = $(this);
                            if (!opt) {
                                opt = $trigger.data("contextMenu") || {}
                            }
                            if (!force && opt.events && opt.events.hide.call($trigger, opt) === false) {
                                return
                            }
                            $trigger.removeData("contextMenu").removeClass("context-menu-active");
                            if (opt.$layer) {
                                setTimeout(function($layer) {
                                    return function() {
                                        $layer.remove()
                                    }
                                }(opt.$layer), 10);
                                try {
                                    delete opt.$layer
                                } catch (e) {
                                    opt.$layer = null
                                }
                            }
                            $currentTrigger = null;
                            opt.$menu.find("." + opt.classNames.hover).trigger("contextmenu:blur");
                            opt.$selected = null;
                            opt.$menu.find("." + opt.classNames.visible).removeClass(opt.classNames.visible);
                            $(document).off(".contextMenuAutoHide").off("keydown.contextMenu");
                            if (opt.$menu) {
                                opt.$menu[opt.animation.hide](opt.animation.duration, function() {
                                    if (opt.build) {
                                        opt.$menu.remove();
                                        $.each(opt, function(key) {
                                            switch (key) {
                                                case "ns":
                                                case "selector":
                                                case "build":
                                                case "trigger":
                                                    return true;
                                                default:
                                                    opt[key] = undefined;
                                                    try {
                                                        delete opt[key]
                                                    } catch (e) {}
                                                    return true
                                            }
                                        })
                                    }
                                    setTimeout(function() {
                                        $trigger.trigger("contextmenu:hidden")
                                    }, 10)
                                })
                            }
                        },
                        create: function(opt, root) {
                            if (root === undefined) {
                                root = opt
                            }
                            opt.$menu = $('<ul class="context-menu-list"></ul>').addClass(opt.className || "").data({
                                contextMenu: opt,
                                contextMenuRoot: root
                            });
                            $.each(["callbacks", "commands", "inputs"], function(i, k) {
                                opt[k] = {};
                                if (!root[k]) {
                                    root[k] = {}
                                }
                            });
                            if (!root.accesskeys) {
                                root.accesskeys = {}
                            }

                            function createNameNode(item) {
                                var $name = $("<span></span>");
                                if (item._accesskey) {
                                    if (item._beforeAccesskey) {
                                        $name.append(document.createTextNode(item._beforeAccesskey))
                                    }
                                    $("<span></span>").addClass("context-menu-accesskey").text(item._accesskey).appendTo($name);
                                    if (item._afterAccesskey) {
                                        $name.append(document.createTextNode(item._afterAccesskey))
                                    }
                                } else {
                                    $name.text(item.name)
                                }
                                return $name
                            }
                            $.each(opt.items, function(key, item) {
                                var $t = $('<li class="context-menu-item"></li>').addClass(item.className || ""),
                                    $label = null,
                                    $input = null;
                                $t.on("click", $.noop);
                                if (typeof item === "string") {
                                    item = {
                                        type: "cm_seperator"
                                    }
                                }
                                item.$node = $t.data({
                                    contextMenu: opt,
                                    contextMenuRoot: root,
                                    contextMenuKey: key
                                });
                                if (typeof item.accesskey !== "undefined") {
                                    var aks = splitAccesskey(item.accesskey);
                                    for (var i = 0, ak; ak = aks[i]; i++) {
                                        if (!root.accesskeys[ak]) {
                                            root.accesskeys[ak] = item;
                                            var matched = item.name.match(new RegExp("^(.*?)(" + ak + ")(.*)$", "i"));
                                            if (matched) {
                                                item._beforeAccesskey = matched[1];
                                                item._accesskey = matched[2];
                                                item._afterAccesskey = matched[3]
                                            }
                                            break
                                        }
                                    }
                                }
                                if (item.type && types[item.type]) {
                                    types[item.type].call($t, item, opt, root);
                                    $.each([opt, root], function(i, k) {
                                        k.commands[key] = item;
                                        if ($.isFunction(item.callback)) {
                                            k.callbacks[key] = item.callback
                                        }
                                    })
                                } else {
                                    if (item.type === "cm_seperator") {
                                        $t.addClass("context-menu-separator " + root.classNames.notSelectable)
                                    } else if (item.type === "html") {
                                        $t.addClass("context-menu-html " + root.classNames.notSelectable)
                                    } else if (item.type) {
                                        $label = $("<label></label>").appendTo($t);
                                        createNameNode(item).appendTo($label);
                                        $t.addClass("context-menu-input");
                                        opt.hasTypes = true;
                                        $.each([opt, root], function(i, k) {
                                            k.commands[key] = item;
                                            k.inputs[key] = item
                                        })
                                    } else if (item.items) {
                                        item.type = "sub"
                                    }
                                    switch (item.type) {
                                        case "cm_seperator":
                                            break;
                                        case "text":
                                            $input = $('<input type="text" value="1" name="" value="">').attr("name", "context-menu-input-" + key).val(item.value || "").appendTo($label);
                                            break;
                                        case "textarea":
                                            $input = $('<textarea name=""></textarea>').attr("name", "context-menu-input-" + key).val(item.value || "").appendTo($label);
                                            if (item.height) {
                                                $input.height(item.height)
                                            }
                                            break;
                                        case "checkbox":
                                            $input = $('<input type="checkbox" value="1" name="" value="">').attr("name", "context-menu-input-" + key).val(item.value || "").prop("checked", !!item.selected).prependTo($label);
                                            break;
                                        case "radio":
                                            $input = $('<input type="radio" value="1" name="" value="">').attr("name", "context-menu-input-" + item.radio).val(item.value || "").prop("checked", !!item.selected).prependTo($label);
                                            break;
                                        case "select":
                                            $input = $('<select name="">').attr("name", "context-menu-input-" + key).appendTo($label);
                                            if (item.options) {
                                                $.each(item.options, function(value, text) {
                                                    $("<option></option>").val(value).text(text).appendTo($input)
                                                });
                                                $input.val(item.selected)
                                            }
                                            break;
                                        case "sub":
                                            createNameNode(item).appendTo($t);
                                            item.appendTo = item.$node;
                                            op.create(item, root);
                                            $t.data("contextMenu", item).addClass("context-menu-submenu");
                                            item.callback = null;
                                            break;
                                        case "html":
                                            $(item.html).appendTo($t);
                                            break;
                                        default:
                                            $.each([opt, root], function(i, k) {
                                                k.commands[key] = item;
                                                if ($.isFunction(item.callback)) {
                                                    k.callbacks[key] = item.callback
                                                }
                                            });
                                            createNameNode(item).appendTo($t);
                                            break
                                    }
                                    if (item.type && item.type !== "sub" && item.type !== "html" && item.type !== "cm_seperator") {
                                        $input.on("focus", handle.focusInput).on("blur", handle.blurInput);
                                        if (item.events) {
                                            $input.on(item.events, opt)
                                        }
                                    }
                                    if (item.icon) {
                                        if ($.isFunction(item.icon)) {
                                            item._icon = item.icon.call(this, this, $t, key, item)
                                        } else {
                                            item._icon = root.classNames.icon + " " + root.classNames.icon + "-" + item.icon
                                        }
                                        $t.addClass(item._icon)
                                    }
                                }
                                item.$input = $input;
                                item.$label = $label;
                                $t.appendTo(opt.$menu);
                                if (!opt.hasTypes && $.support.eventSelectstart) {
                                    $t.on("selectstart.disableTextSelect", handle.abortevent)
                                }
                            });
                            if (!opt.$node) {
                                opt.$menu.css("display", "none").addClass("context-menu-root")
                            }
                            opt.$menu.appendTo(opt.appendTo || document.body)
                        },
                        resize: function($menu, nested) {
                            $menu.css({
                                position: "absolute",
                                display: "block"
                            });
                            $menu.data("width", Math.ceil($menu.outerWidth()));
                            $menu.css({
                                position: "static",
                                minWidth: "0px",
                                maxWidth: "100000px"
                            });
                            $menu.find("> li > ul").each(function() {
                                op.resize($(this), true)
                            });
                            if (!nested) {
                                $menu.find("ul").addBack().css({
                                    position: "",
                                    display: "",
                                    minWidth: "",
                                    maxWidth: ""
                                }).outerWidth(function() {
                                    return $(this).data("width")
                                })
                            }
                        },
                        update: function(opt, root) {
                            var $trigger = this;
                            if (root === undefined) {
                                root = opt;
                                op.resize(opt.$menu)
                            }
                            opt.$menu.children().each(function() {
                                var $item = $(this),
                                    key = $item.data("contextMenuKey"),
                                    item = opt.items[key],
                                    disabled = $.isFunction(item.disabled) && item.disabled.call($trigger, key, root) || item.disabled === true,
                                    visible;
                                if ($.isFunction(item.visible)) {
                                    visible = item.visible.call($trigger, key, root)
                                } else if (typeof item.visible !== "undefined") {
                                    visible = item.visible === true
                                } else {
                                    visible = true
                                }
                                $item[visible ? "show" : "hide"]();
                                $item[disabled ? "addClass" : "removeClass"](root.classNames.disabled);
                                if ($.isFunction(item.icon)) {
                                    $item.removeClass(item._icon);
                                    item._icon = item.icon.call(this, $trigger, $item, key, item);
                                    $item.addClass(item._icon)
                                }
                                if (item.type) {
                                    $item.find("input, select, textarea").prop("disabled", disabled);
                                    switch (item.type) {
                                        case "text":
                                        case "textarea":
                                            item.$input.val(item.value || "");
                                            break;
                                        case "checkbox":
                                        case "radio":
                                            item.$input.val(item.value || "").prop("checked", !!item.selected);
                                            break;
                                        case "select":
                                            item.$input.val(item.selected || "");
                                            break
                                    }
                                }
                                if (item.$menu) {
                                    op.update.call($trigger, item, root)
                                }
                            })
                        },
                        layer: function(opt, zIndex) {
                            var $layer = opt.$layer = $('<div id="context-menu-layer" style="position:fixed; z-index:' + zIndex + '; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({
                                height: $win.height(),
                                width: $win.width(),
                                display: "block"
                            }).data("contextMenuRoot", opt).insertBefore(this).on("contextmenu", handle.abortevent).on("mousedown", handle.layerClick);
                            if (document.body.style.maxWidth === undefined) {
                                $layer.css({
                                    position: "absolute",
                                    height: $(document).height()
                                })
                            }
                            return $layer
                        }
                    };

                function splitAccesskey(val) {
                    var t = val.split(/\s+/),
                        keys = [];
                    for (var i = 0, k; k = t[i]; i++) {
                        k = k.charAt(0).toUpperCase();
                        keys.push(k)
                    }
                    return keys
                }
                $.fn.contextMenu = function(operation) {
                    var $t = this,
                        $o = operation;
                    if (this.length > 0) {
                        if (operation === undefined) {
                            this.first().trigger("contextmenu")
                        } else if (operation.x !== undefined && operation.y !== undefined) {
                            this.first().trigger($.Event("contextmenu", {
                                pageX: operation.x,
                                pageY: operation.y,
                                mouseButton: operation.button
                            }))
                        } else if (operation === "hide") {
                            var $menu = this.first().data("contextMenu") ? this.first().data("contextMenu").$menu : null;
                            if ($menu) {
                                $menu.trigger("contextmenu:hide")
                            }
                        } else if (operation === "destroy") {
                            $.contextMenu("destroy", {
                                context: this
                            })
                        } else if ($.isPlainObject(operation)) {
                            operation.context = this;
                            $.contextMenu("create", operation)
                        } else if (operation) {
                            this.removeClass("context-menu-disabled")
                        } else if (!operation) {
                            this.addClass("context-menu-disabled")
                        }
                    } else {
                        $.each(menus, function() {
                            if (this.selector === $t.selector) {
                                $o.data = this;
                                $.extend($o.data, {
                                    trigger: "demand"
                                })
                            }
                        });
                        handle.contextmenu.call($o.target, $o)
                    }
                    return this
                };
                $.contextMenu = function(operation, options) {
                    if (typeof operation !== "string") {
                        options = operation;
                        operation = "create"
                    }
                    if (typeof options === "string") {
                        options = {
                            selector: options
                        }
                    } else if (options === undefined) {
                        options = {}
                    }
                    var o = $.extend(true, {}, defaults, options || {});
                    var $document = $(document);
                    var $context = $document;
                    var _hasContext = false;
                    if (!o.context || !o.context.length) {
                        o.context = document
                    } else {
                        $context = $(o.context).first();
                        o.context = $context.get(0);
                        _hasContext = o.context !== document
                    }
                    switch (operation) {
                        case "create":
                            if (!o.selector) {
                                throw new Error("No selector specified")
                            }
                            if (o.selector.match(/.context-menu-(list|item|input)($|\s)/)) {
                                throw new Error('Cannot bind to selector "' + o.selector + '" as it contains a reserved className')
                            }
                            if (!o.build && (!o.items || $.isEmptyObject(o.items))) {
                                throw new Error("No Items specified")
                            }
                            counter++;
                            o.ns = ".contextMenu" + counter;
                            if (!_hasContext) {
                                namespaces[o.selector] = o.ns
                            }
                            menus[o.ns] = o;
                            if (!o.trigger) {
                                o.trigger = "right"
                            }
                            if (!initialized) {
                                $document.on({
                                    "contextmenu:hide.contextMenu": handle.hideMenu,
                                    "prevcommand.contextMenu": handle.prevItem,
                                    "nextcommand.contextMenu": handle.nextItem,
                                    "contextmenu.contextMenu": handle.abortevent,
                                    "mouseenter.contextMenu": handle.menuMouseenter,
                                    "mouseleave.contextMenu": handle.menuMouseleave
                                }, ".context-menu-list").on("mouseup.contextMenu", ".context-menu-input", handle.inputClick).on({
                                    "mouseup.contextMenu": handle.itemClick,
                                    "contextmenu:focus.contextMenu": handle.focusItem,
                                    "contextmenu:blur.contextMenu": handle.blurItem,
                                    "contextmenu.contextMenu": handle.abortevent,
                                    "mouseenter.contextMenu": handle.itemMouseenter,
                                    "mouseleave.contextMenu": handle.itemMouseleave
                                }, ".context-menu-item");
                                initialized = true
                            }
                            $context.on("contextmenu" + o.ns, o.selector, o, handle.contextmenu);
                            if (_hasContext) {
                                $context.on("remove" + o.ns, function() {
                                    $(this).contextMenu("destroy")
                                })
                            }
                            switch (o.trigger) {
                                case "hover":
                                    $context.on("mouseenter" + o.ns, o.selector, o, handle.mouseenter).on("mouseleave" + o.ns, o.selector, o, handle.mouseleave);
                                    break;
                                case "left":
                                    $context.on("click" + o.ns, o.selector, o, handle.click);
                                    break
                            }
                            if (!o.build) {
                                op.create(o)
                            }
                            break;
                        case "destroy":
                            var $visibleMenu;
                            if (_hasContext) {
                                var context = o.context;
                                $.each(menus, function(ns, o) {
                                    if (o.context !== context) {
                                        return true
                                    }
                                    $visibleMenu = $(".context-menu-list").filter(":visible");
                                    if ($visibleMenu.length && $visibleMenu.data().contextMenuRoot.$trigger.is($(o.context).find(o.selector))) {
                                        $visibleMenu.trigger("contextmenu:hide", {
                                            force: true
                                        })
                                    }
                                    try {
                                        if (menus[o.ns].$menu) {
                                            menus[o.ns].$menu.remove()
                                        }
                                        delete menus[o.ns]
                                    } catch (e) {
                                        menus[o.ns] = null
                                    }
                                    $(o.context).off(o.ns);
                                    return true
                                })
                            } else if (!o.selector) {
                                $document.off(".contextMenu .contextMenuAutoHide");
                                $.each(menus, function(ns, o) {
                                    $(o.context).off(o.ns)
                                });
                                namespaces = {};
                                menus = {};
                                counter = 0;
                                initialized = false;
                                $("#context-menu-layer, .context-menu-list").remove()
                            } else if (namespaces[o.selector]) {
                                $visibleMenu = $(".context-menu-list").filter(":visible");
                                if ($visibleMenu.length && $visibleMenu.data().contextMenuRoot.$trigger.is(o.selector)) {
                                    $visibleMenu.trigger("contextmenu:hide", {
                                        force: true
                                    })
                                }
                                try {
                                    if (menus[namespaces[o.selector]].$menu) {
                                        menus[namespaces[o.selector]].$menu.remove()
                                    }
                                    delete menus[namespaces[o.selector]]
                                } catch (e) {
                                    menus[namespaces[o.selector]] = null
                                }
                                $document.off(namespaces[o.selector])
                            }
                            break;
                        case "html5":
                            if (!$.support.htmlCommand && !$.support.htmlMenuitem || typeof options === "boolean" && options) {
                                $('menu[type="context"]').each(function() {
                                    if (this.id) {
                                        $.contextMenu({
                                            selector: "[contextmenu=" + this.id + "]",
                                            items: $.contextMenu.fromMenu(this)
                                        })
                                    }
                                }).css("display", "none")
                            }
                            break;
                        default:
                            throw new Error('Unknown operation "' + operation + '"')
                    }
                    return this
                };
                $.contextMenu.setInputValues = function(opt, data) {
                    if (data === undefined) {
                        data = {}
                    }
                    $.each(opt.inputs, function(key, item) {
                        switch (item.type) {
                            case "text":
                            case "textarea":
                                item.value = data[key] || "";
                                break;
                            case "checkbox":
                                item.selected = data[key] ? true : false;
                                break;
                            case "radio":
                                item.selected = (data[item.radio] || "") === item.value;
                                break;
                            case "select":
                                item.selected = data[key] || "";
                                break
                        }
                    })
                };
                $.contextMenu.getInputValues = function(opt, data) {
                    if (data === undefined) {
                        data = {}
                    }
                    $.each(opt.inputs, function(key, item) {
                        switch (item.type) {
                            case "text":
                            case "textarea":
                            case "select":
                                data[key] = item.$input.val();
                                break;
                            case "checkbox":
                                data[key] = item.$input.prop("checked");
                                break;
                            case "radio":
                                if (item.$input.prop("checked")) {
                                    data[item.radio] = item.value
                                }
                                break
                        }
                    });
                    return data
                };

                function inputLabel(node) {
                    return node.id && $('label[for="' + node.id + '"]').val() || node.name
                }

                function menuChildren(items, $children, counter) {
                    if (!counter) {
                        counter = 0
                    }
                    $children.each(function() {
                        var $node = $(this),
                            node = this,
                            nodeName = this.nodeName.toLowerCase(),
                            label, item;
                        if (nodeName === "label" && $node.find("input, textarea, select").length) {
                            label = $node.text();
                            $node = $node.children().first();
                            node = $node.get(0);
                            nodeName = node.nodeName.toLowerCase()
                        }
                        switch (nodeName) {
                            case "menu":
                                item = {
                                    name: $node.attr("label"),
                                    items: {}
                                };
                                counter = menuChildren(item.items, $node.children(), counter);
                                break;
                            case "a":
                            case "button":
                                item = {
                                    name: $node.text(),
                                    disabled: !!$node.attr("disabled"),
                                    callback: function() {
                                        return function() {
                                            $node.click()
                                        }
                                    }()
                                };
                                break;
                            case "menuitem":
                            case "command":
                                switch ($node.attr("type")) {
                                    case undefined:
                                    case "command":
                                    case "menuitem":
                                        item = {
                                            name: $node.attr("label"),
                                            disabled: !!$node.attr("disabled"),
                                            icon: $node.attr("icon"),
                                            callback: function() {
                                                return function() {
                                                    $node.click()
                                                }
                                            }()
                                        };
                                        break;
                                    case "checkbox":
                                        item = {
                                            type: "checkbox",
                                            disabled: !!$node.attr("disabled"),
                                            name: $node.attr("label"),
                                            selected: !!$node.attr("checked")
                                        };
                                        break;
                                    case "radio":
                                        item = {
                                            type: "radio",
                                            disabled: !!$node.attr("disabled"),
                                            name: $node.attr("label"),
                                            radio: $node.attr("radiogroup"),
                                            value: $node.attr("id"),
                                            selected: !!$node.attr("checked")
                                        };
                                        break;
                                    default:
                                        item = undefined
                                }
                                break;
                            case "hr":
                                item = "-------";
                                break;
                            case "input":
                                switch ($node.attr("type")) {
                                    case "text":
                                        item = {
                                            type: "text",
                                            name: label || inputLabel(node),
                                            disabled: !!$node.attr("disabled"),
                                            value: $node.val()
                                        };
                                        break;
                                    case "checkbox":
                                        item = {
                                            type: "checkbox",
                                            name: label || inputLabel(node),
                                            disabled: !!$node.attr("disabled"),
                                            selected: !!$node.attr("checked")
                                        };
                                        break;
                                    case "radio":
                                        item = {
                                            type: "radio",
                                            name: label || inputLabel(node),
                                            disabled: !!$node.attr("disabled"),
                                            radio: !!$node.attr("name"),
                                            value: $node.val(),
                                            selected: !!$node.attr("checked")
                                        };
                                        break;
                                    default:
                                        item = undefined;
                                        break
                                }
                                break;
                            case "select":
                                item = {
                                    type: "select",
                                    name: label || inputLabel(node),
                                    disabled: !!$node.attr("disabled"),
                                    selected: $node.val(),
                                    options: {}
                                };
                                $node.children().each(function() {
                                    item.options[this.value] = $(this).text()
                                });
                                break;
                            case "textarea":
                                item = {
                                    type: "textarea",
                                    name: label || inputLabel(node),
                                    disabled: !!$node.attr("disabled"),
                                    value: $node.val()
                                };
                                break;
                            case "label":
                                break;
                            default:
                                item = {
                                    type: "html",
                                    html: $node.clone(true)
                                };
                                break
                        }
                        if (item) {
                            counter++;
                            items["key" + counter] = item
                        }
                    });
                    return counter
                }
                $.contextMenu.fromMenu = function(element) {
                    var $this = $(element),
                        items = {};
                    menuChildren(items, $this.children());
                    return items
                };
                $.contextMenu.defaults = defaults;
                $.contextMenu.types = types;
                $.contextMenu.handle = handle;
                $.contextMenu.op = op;
                $.contextMenu.menus = menus
            })
        }, {
            jquery: 358
        }],
        357: [function(require, module, exports) {
            var jQuery = require("jquery");
            (function($, undefined) {
                var uuid = 0,
                    runiqueId = /^ui-id-\d+$/;
                $.ui = $.ui || {};
                $.extend($.ui, {
                    version: "1.10.3",
                    keyCode: {
                        BACKSPACE: 8,
                        COMMA: 188,
                        DELETE: 46,
                        DOWN: 40,
                        END: 35,
                        ENTER: 13,
                        ESCAPE: 27,
                        HOME: 36,
                        LEFT: 37,
                        NUMPAD_ADD: 107,
                        NUMPAD_DECIMAL: 110,
                        NUMPAD_DIVIDE: 111,
                        NUMPAD_ENTER: 108,
                        NUMPAD_MULTIPLY: 106,
                        NUMPAD_SUBTRACT: 109,
                        PAGE_DOWN: 34,
                        PAGE_UP: 33,
                        PERIOD: 190,
                        RIGHT: 39,
                        SPACE: 32,
                        TAB: 9,
                        UP: 38
                    }
                });
                $.fn.extend({
                    focus: function(orig) {
                        return function(delay, fn) {
                            return typeof delay === "number" ? this.each(function() {
                                var elem = this;
                                setTimeout(function() {
                                    $(elem).focus();
                                    if (fn) {
                                        fn.call(elem)
                                    }
                                }, delay)
                            }) : orig.apply(this, arguments)
                        }
                    }($.fn.focus),
                    scrollParent: function() {
                        var scrollParent;
                        if ($.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position"))) {
                            scrollParent = this.parents().filter(function() {
                                return /(relative|absolute|fixed)/.test($.css(this, "position")) && /(auto|scroll)/.test($.css(this, "overflow") + $.css(this, "overflow-y") + $.css(this, "overflow-x"))
                            }).eq(0)
                        } else {
                            scrollParent = this.parents().filter(function() {
                                return /(auto|scroll)/.test($.css(this, "overflow") + $.css(this, "overflow-y") + $.css(this, "overflow-x"))
                            }).eq(0)
                        }
                        return /fixed/.test(this.css("position")) || !scrollParent.length ? $(document) : scrollParent
                    },
                    zIndex: function(zIndex) {
                        if (zIndex !== undefined) {
                            return this.css("zIndex", zIndex)
                        }
                        if (this.length) {
                            var elem = $(this[0]),
                                position, value;
                            while (elem.length && elem[0] !== document) {
                                position = elem.css("position");
                                if (position === "absolute" || position === "relative" || position === "fixed") {
                                    value = parseInt(elem.css("zIndex"), 10);
                                    if (!isNaN(value) && value !== 0) {
                                        return value
                                    }
                                }
                                elem = elem.parent()
                            }
                        }
                        return 0
                    },
                    uniqueId: function() {
                        return this.each(function() {
                            if (!this.id) {
                                this.id = "ui-id-" + ++uuid
                            }
                        })
                    },
                    removeUniqueId: function() {
                        return this.each(function() {
                            if (runiqueId.test(this.id)) {
                                $(this).removeAttr("id")
                            }
                        })
                    }
                });

                function focusable(element, isTabIndexNotNaN) {
                    var map, mapName, img, nodeName = element.nodeName.toLowerCase();
                    if ("area" === nodeName) {
                        map = element.parentNode;
                        mapName = map.name;
                        if (!element.href || !mapName || map.nodeName.toLowerCase() !== "map") {
                            return false
                        }
                        img = $("img[usemap=#" + mapName + "]")[0];
                        return !!img && visible(img)
                    }
                    return (/input|select|textarea|button|object/.test(nodeName) ? !element.disabled : "a" === nodeName ? element.href || isTabIndexNotNaN : isTabIndexNotNaN) && visible(element)
                }

                function visible(element) {
                    return $.expr.filters.visible(element) && !$(element).parents().addBack().filter(function() {
                        return $.css(this, "visibility") === "hidden"
                    }).length
                }
                $.extend($.expr[":"], {
                    data: $.expr.createPseudo ? $.expr.createPseudo(function(dataName) {
                        return function(elem) {
                            return !!$.data(elem, dataName)
                        }
                    }) : function(elem, i, match) {
                        return !!$.data(elem, match[3])
                    },
                    focusable: function(element) {
                        return focusable(element, !isNaN($.attr(element, "tabindex")))
                    },
                    tabbable: function(element) {
                        var tabIndex = $.attr(element, "tabindex"),
                            isTabIndexNaN = isNaN(tabIndex);
                        return (isTabIndexNaN || tabIndex >= 0) && focusable(element, !isTabIndexNaN)
                    }
                });
                if (!$("<a>").outerWidth(1).jquery) {
                    $.each(["Width", "Height"], function(i, name) {
                        var side = name === "Width" ? ["Left", "Right"] : ["Top", "Bottom"],
                            type = name.toLowerCase(),
                            orig = {
                                innerWidth: $.fn.innerWidth,
                                innerHeight: $.fn.innerHeight,
                                outerWidth: $.fn.outerWidth,
                                outerHeight: $.fn.outerHeight
                            };

                        function reduce(elem, size, border, margin) {
                            $.each(side, function() {
                                size -= parseFloat($.css(elem, "padding" + this)) || 0;
                                if (border) {
                                    size -= parseFloat($.css(elem, "border" + this + "Width")) || 0
                                }
                                if (margin) {
                                    size -= parseFloat($.css(elem, "margin" + this)) || 0
                                }
                            });
                            return size
                        }
                        $.fn["inner" + name] = function(size) {
                            if (size === undefined) {
                                return orig["inner" + name].call(this)
                            }
                            return this.each(function() {
                                $(this).css(type, reduce(this, size) + "px")
                            })
                        };
                        $.fn["outer" + name] = function(size, margin) {
                            if (typeof size !== "number") {
                                return orig["outer" + name].call(this, size)
                            }
                            return this.each(function() {
                                $(this).css(type, reduce(this, size, true, margin) + "px")
                            })
                        }
                    })
                }
                if (!$.fn.addBack) {
                    $.fn.addBack = function(selector) {
                        return this.add(selector == null ? this.prevObject : this.prevObject.filter(selector))
                    }
                }
                if ($("<a>").data("a-b", "a").removeData("a-b").data("a-b")) {
                    $.fn.removeData = function(removeData) {
                        return function(key) {
                            if (arguments.length) {
                                return removeData.call(this, $.camelCase(key))
                            } else {
                                return removeData.call(this)
                            }
                        }
                    }($.fn.removeData)
                }
                $.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
                $.support.selectstart = "onselectstart" in document.createElement("div");
                $.fn.extend({
                    disableSelection: function() {
                        return this.bind(($.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function(event) {
                            event.preventDefault()
                        })
                    },
                    enableSelection: function() {
                        return this.unbind(".ui-disableSelection");
                    }
                });
                $.extend($.ui, {
                    plugin: {
                        add: function(module, option, set) {
                            var i, proto = $.ui[module].prototype;
                            for (i in set) {
                                proto.plugins[i] = proto.plugins[i] || [];
                                proto.plugins[i].push([option, set[i]])
                            }
                        },
                        call: function(instance, name, args) {
                            var i, set = instance.plugins[name];
                            if (!set || !instance.element[0].parentNode || instance.element[0].parentNode.nodeType === 11) {
                                return
                            }
                            for (i = 0; i < set.length; i++) {
                                if (instance.options[set[i][0]]) {
                                    set[i][1].apply(instance.element, args)
                                }
                            }
                        }
                    },
                    hasScroll: function(el, a) {
                        if ($(el).css("overflow") === "hidden") {
                            return false
                        }
                        var scroll = a && a === "left" ? "scrollLeft" : "scrollTop",
                            has = false;
                        if (el[scroll] > 0) {
                            return true
                        }
                        el[scroll] = 1;
                        has = el[scroll] > 0;
                        el[scroll] = 0;
                        return has
                    }
                })
            })(jQuery);
            (function($, undefined) {
                var uuid = 0,
                    slice = Array.prototype.slice,
                    _cleanData = $.cleanData;
                $.cleanData = function(elems) {
                    for (var i = 0, elem;
                        (elem = elems[i]) != null; i++) {
                        try {
                            $(elem).triggerHandler("remove")
                        } catch (e) {}
                    }
                    _cleanData(elems)
                };
                $.widget = function(name, base, prototype) {
                    var fullName, existingConstructor, constructor, basePrototype, proxiedPrototype = {},
                        namespace = name.split(".")[0];
                    name = name.split(".")[1];
                    fullName = namespace + "-" + name;
                    if (!prototype) {
                        prototype = base;
                        base = $.Widget
                    }
                    $.expr[":"][fullName.toLowerCase()] = function(elem) {
                        return !!$.data(elem, fullName)
                    };
                    $[namespace] = $[namespace] || {};
                    existingConstructor = $[namespace][name];
                    constructor = $[namespace][name] = function(options, element) {
                        if (!this._createWidget) {
                            return new constructor(options, element)
                        }
                        if (arguments.length) {
                            this._createWidget(options, element)
                        }
                    };
                    $.extend(constructor, existingConstructor, {
                        version: prototype.version,
                        _proto: $.extend({}, prototype),
                        _childConstructors: []
                    });
                    basePrototype = new base;
                    basePrototype.options = $.widget.extend({}, basePrototype.options);
                    $.each(prototype, function(prop, value) {
                        if (!$.isFunction(value)) {
                            proxiedPrototype[prop] = value;
                            return
                        }
                        proxiedPrototype[prop] = function() {
                            var _super = function() {
                                    return base.prototype[prop].apply(this, arguments)
                                },
                                _superApply = function(args) {
                                    return base.prototype[prop].apply(this, args)
                                };
                            return function() {
                                var __super = this._super,
                                    __superApply = this._superApply,
                                    returnValue;
                                this._super = _super;
                                this._superApply = _superApply;
                                returnValue = value.apply(this, arguments);
                                this._super = __super;
                                this._superApply = __superApply;
                                return returnValue
                            }
                        }()
                    });
                    constructor.prototype = $.widget.extend(basePrototype, {
                        widgetEventPrefix: existingConstructor ? basePrototype.widgetEventPrefix : name
                    }, proxiedPrototype, {
                        constructor: constructor,
                        namespace: namespace,
                        widgetName: name,
                        widgetFullName: fullName
                    });
                    if (existingConstructor) {
                        $.each(existingConstructor._childConstructors, function(i, child) {
                            var childPrototype = child.prototype;
                            $.widget(childPrototype.namespace + "." + childPrototype.widgetName, constructor, child._proto)
                        });
                        delete existingConstructor._childConstructors
                    } else {
                        base._childConstructors.push(constructor)
                    }
                    $.widget.bridge(name, constructor)
                };
                $.widget.extend = function(target) {
                    var input = slice.call(arguments, 1),
                        inputIndex = 0,
                        inputLength = input.length,
                        key, value;
                    for (; inputIndex < inputLength; inputIndex++) {
                        for (key in input[inputIndex]) {
                            value = input[inputIndex][key];
                            if (input[inputIndex].hasOwnProperty(key) && value !== undefined) {
                                if ($.isPlainObject(value)) {
                                    target[key] = $.isPlainObject(target[key]) ? $.widget.extend({}, target[key], value) : $.widget.extend({}, value)
                                } else {
                                    target[key] = value
                                }
                            }
                        }
                    }
                    return target
                };
                $.widget.bridge = function(name, object) {
                    var fullName = object.prototype.widgetFullName || name;
                    $.fn[name] = function(options) {
                        var isMethodCall = typeof options === "string",
                            args = slice.call(arguments, 1),
                            returnValue = this;
                        options = !isMethodCall && args.length ? $.widget.extend.apply(null, [options].concat(args)) : options;
                        if (isMethodCall) {
                            this.each(function() {
                                var methodValue, instance = $.data(this, fullName);
                                if (!instance) {
                                    return $.error("cannot call methods on " + name + " prior to initialization; " + "attempted to call method '" + options + "'")
                                }
                                if (!$.isFunction(instance[options]) || options.charAt(0) === "_") {
                                    return $.error("no such method '" + options + "' for " + name + " widget instance")
                                }
                                methodValue = instance[options].apply(instance, args);
                                if (methodValue !== instance && methodValue !== undefined) {
                                    returnValue = methodValue && methodValue.jquery ? returnValue.pushStack(methodValue.get()) : methodValue;
                                    return false
                                }
                            })
                        } else {
                            this.each(function() {
                                var instance = $.data(this, fullName);
                                if (instance) {
                                    instance.option(options || {})._init()
                                } else {
                                    $.data(this, fullName, new object(options, this))
                                }
                            })
                        }
                        return returnValue
                    }
                };
                $.Widget = function() {};
                $.Widget._childConstructors = [];
                $.Widget.prototype = {
                    widgetName: "widget",
                    widgetEventPrefix: "",
                    defaultElement: "<div>",
                    options: {
                        disabled: false,
                        create: null
                    },
                    _createWidget: function(options, element) {
                        element = $(element || this.defaultElement || this)[0];
                        this.element = $(element);
                        this.uuid = uuid++;
                        this.eventNamespace = "." + this.widgetName + this.uuid;
                        this.options = $.widget.extend({}, this.options, this._getCreateOptions(), options);
                        this.bindings = $();
                        this.hoverable = $();
                        this.focusable = $();
                        if (element !== this) {
                            $.data(element, this.widgetFullName, this);
                            this._on(true, this.element, {
                                remove: function(event) {
                                    if (event.target === element) {
                                        this.destroy()
                                    }
                                }
                            });
                            this.document = $(element.style ? element.ownerDocument : element.document || element);
                            this.window = $(this.document[0].defaultView || this.document[0].parentWindow)
                        }
                        this._create();
                        this._trigger("create", null, this._getCreateEventData());
                        this._init()
                    },
                    _getCreateOptions: $.noop,
                    _getCreateEventData: $.noop,
                    _create: $.noop,
                    _init: $.noop,
                    destroy: function() {
                        this._destroy();
                        this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));
                        this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled " + "ui-state-disabled");
                        this.bindings.unbind(this.eventNamespace);
                        this.hoverable.removeClass("ui-state-hover");
                        this.focusable.removeClass("ui-state-focus")
                    },
                    _destroy: $.noop,
                    widget: function() {
                        return this.element
                    },
                    option: function(key, value) {
                        var options = key,
                            parts, curOption, i;
                        if (arguments.length === 0) {
                            return $.widget.extend({}, this.options)
                        }
                        if (typeof key === "string") {
                            options = {};
                            parts = key.split(".");
                            key = parts.shift();
                            if (parts.length) {
                                curOption = options[key] = $.widget.extend({}, this.options[key]);
                                for (i = 0; i < parts.length - 1; i++) {
                                    curOption[parts[i]] = curOption[parts[i]] || {};
                                    curOption = curOption[parts[i]]
                                }
                                key = parts.pop();
                                if (value === undefined) {
                                    return curOption[key] === undefined ? null : curOption[key]
                                }
                                curOption[key] = value
                            } else {
                                if (value === undefined) {
                                    return this.options[key] === undefined ? null : this.options[key]
                                }
                                options[key] = value
                            }
                        }
                        this._setOptions(options);
                        return this
                    },
                    _setOptions: function(options) {
                        var key;
                        for (key in options) {
                            this._setOption(key, options[key])
                        }
                        return this
                    },
                    _setOption: function(key, value) {
                        this.options[key] = value;
                        if (key === "disabled") {
                            this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!value).attr("aria-disabled", value);
                            this.hoverable.removeClass("ui-state-hover");
                            this.focusable.removeClass("ui-state-focus")
                        }
                        return this
                    },
                    enable: function() {
                        return this._setOption("disabled", false)
                    },
                    disable: function() {
                        return this._setOption("disabled", true)
                    },
                    _on: function(suppressDisabledCheck, element, handlers) {
                        var delegateElement, instance = this;
                        if (typeof suppressDisabledCheck !== "boolean") {
                            handlers = element;
                            element = suppressDisabledCheck;
                            suppressDisabledCheck = false
                        }
                        if (!handlers) {
                            handlers = element;
                            element = this.element;
                            delegateElement = this.widget()
                        } else {
                            element = delegateElement = $(element);
                            this.bindings = this.bindings.add(element)
                        }
                        $.each(handlers, function(event, handler) {
                            function handlerProxy() {
                                if (!suppressDisabledCheck && (instance.options.disabled === true || $(this).hasClass("ui-state-disabled"))) {
                                    return
                                }
                                return (typeof handler === "string" ? instance[handler] : handler).apply(instance, arguments)
                            }
                            if (typeof handler !== "string") {
                                handlerProxy.guid = handler.guid = handler.guid || handlerProxy.guid || $.guid++
                            }
                            var match = event.match(/^(\w+)\s*(.*)$/),
                                eventName = match[1] + instance.eventNamespace,
                                selector = match[2];
                            if (selector) {
                                delegateElement.delegate(selector, eventName, handlerProxy)
                            } else {
                                element.bind(eventName, handlerProxy)
                            }
                        })
                    },
                    _off: function(element, eventName) {
                        eventName = (eventName || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace;
                        element.unbind(eventName).undelegate(eventName)
                    },
                    _delay: function(handler, delay) {
                        function handlerProxy() {
                            return (typeof handler === "string" ? instance[handler] : handler).apply(instance, arguments)
                        }
                        var instance = this;
                        return setTimeout(handlerProxy, delay || 0)
                    },
                    _hoverable: function(element) {
                        this.hoverable = this.hoverable.add(element);
                        this._on(element, {
                            mouseenter: function(event) {
                                $(event.currentTarget).addClass("ui-state-hover")
                            },
                            mouseleave: function(event) {
                                $(event.currentTarget).removeClass("ui-state-hover")
                            }
                        })
                    },
                    _focusable: function(element) {
                        this.focusable = this.focusable.add(element);
                        this._on(element, {
                            focusin: function(event) {
                                $(event.currentTarget).addClass("ui-state-focus")
                            },
                            focusout: function(event) {
                                $(event.currentTarget).removeClass("ui-state-focus")
                            }
                        })
                    },
                    _trigger: function(type, event, data) {
                        var prop, orig, callback = this.options[type];
                        data = data || {};
                        event = $.Event(event);
                        event.type = (type === this.widgetEventPrefix ? type : this.widgetEventPrefix + type).toLowerCase();
                        event.target = this.element[0];
                        orig = event.originalEvent;
                        if (orig) {
                            for (prop in orig) {
                                if (!(prop in event)) {
                                    event[prop] = orig[prop]
                                }
                            }
                        }
                        this.element.trigger(event, data);
                        return !($.isFunction(callback) && callback.apply(this.element[0], [event].concat(data)) === false || event.isDefaultPrevented())
                    }
                };
                $.each({
                    show: "fadeIn",
                    hide: "fadeOut"
                }, function(method, defaultEffect) {
                    $.Widget.prototype["_" + method] = function(element, options, callback) {
                        if (typeof options === "string") {
                            options = {
                                effect: options
                            }
                        }
                        var hasOptions, effectName = !options ? method : options === true || typeof options === "number" ? defaultEffect : options.effect || defaultEffect;
                        options = options || {};
                        if (typeof options === "number") {
                            options = {
                                duration: options
                            }
                        }
                        hasOptions = !$.isEmptyObject(options);
                        options.complete = callback;
                        if (options.delay) {
                            element.delay(options.delay)
                        }
                        if (hasOptions && $.effects && $.effects.effect[effectName]) {
                            element[method](options)
                        } else if (effectName !== method && element[effectName]) {
                            element[effectName](options.duration, options.easing, callback)
                        } else {
                            element.queue(function(next) {
                                $(this)[method]();
                                if (callback) {
                                    callback.call(element[0])
                                }
                                next()
                            })
                        }
                    }
                })
            })(jQuery);
            (function($, undefined) {
                var mouseHandled = false;
                $(document).mouseup(function() {
                    mouseHandled = false
                });
                $.widget("ui.mouse", {
                    version: "1.10.3",
                    options: {
                        cancel: "input,textarea,button,select,option",
                        distance: 1,
                        delay: 0
                    },
                    _mouseInit: function() {
                        var that = this;
                        this.element.bind("mousedown." + this.widgetName, function(event) {
                            return that._mouseDown(event)
                        }).bind("click." + this.widgetName, function(event) {
                            if (true === $.data(event.target, that.widgetName + ".preventClickEvent")) {
                                $.removeData(event.target, that.widgetName + ".preventClickEvent");
                                event.stopImmediatePropagation();
                                return false
                            }
                        });
                        this.started = false
                    },
                    _mouseDestroy: function() {
                        this.element.unbind("." + this.widgetName);
                        if (this._mouseMoveDelegate) {
                            $(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
                        }
                    },
                    _mouseDown: function(event) {
                        if (mouseHandled) {
                            return
                        }
                        this._mouseStarted && this._mouseUp(event);
                        this._mouseDownEvent = event;
                        var that = this,
                            btnIsLeft = event.which === 1,
                            elIsCancel = typeof this.options.cancel === "string" && event.target.nodeName ? $(event.target).closest(this.options.cancel).length : false;
                        if (!btnIsLeft || elIsCancel || !this._mouseCapture(event)) {
                            return true
                        }
                        this.mouseDelayMet = !this.options.delay;
                        if (!this.mouseDelayMet) {
                            this._mouseDelayTimer = setTimeout(function() {
                                that.mouseDelayMet = true
                            }, this.options.delay)
                        }
                        if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
                            this._mouseStarted = this._mouseStart(event) !== false;
                            if (!this._mouseStarted) {
                                event.preventDefault();
                                return true
                            }
                        }
                        if (true === $.data(event.target, this.widgetName + ".preventClickEvent")) {
                            $.removeData(event.target, this.widgetName + ".preventClickEvent")
                        }
                        this._mouseMoveDelegate = function(event) {
                            return that._mouseMove(event)
                        };
                        this._mouseUpDelegate = function(event) {
                            return that._mouseUp(event)
                        };
                        $(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate);
                        event.preventDefault();
                        mouseHandled = true;
                        return true
                    },
                    _mouseMove: function(event) {
                        if ($.ui.ie && (!document.documentMode || document.documentMode < 9) && !event.button) {
                            return this._mouseUp(event)
                        }
                        if (this._mouseStarted) {
                            this._mouseDrag(event);
                            return event.preventDefault()
                        }
                        if (this._mouseDistanceMet(event) && this._mouseDelayMet(event)) {
                            this._mouseStarted = this._mouseStart(this._mouseDownEvent, event) !== false;
                            this._mouseStarted ? this._mouseDrag(event) : this._mouseUp(event)
                        }
                        return !this._mouseStarted
                    },
                    _mouseUp: function(event) {
                        $(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate);
                        if (this._mouseStarted) {
                            this._mouseStarted = false;
                            if (event.target === this._mouseDownEvent.target) {
                                $.data(event.target, this.widgetName + ".preventClickEvent", true)
                            }
                            this._mouseStop(event)
                        }
                        return false
                    },
                    _mouseDistanceMet: function(event) {
                        return Math.max(Math.abs(this._mouseDownEvent.pageX - event.pageX), Math.abs(this._mouseDownEvent.pageY - event.pageY)) >= this.options.distance
                    },
                    _mouseDelayMet: function() {
                        return this.mouseDelayMet
                    },
                    _mouseStart: function() {},
                    _mouseDrag: function() {},
                    _mouseStop: function() {},
                    _mouseCapture: function() {
                        return true
                    }
                })
            })(jQuery);
            (function($, undefined) {
                $.widget("ui.draggable", $.ui.mouse, {
                    version: "1.10.3",
                    widgetEventPrefix: "drag",
                    options: {
                        addClasses: true,
                        appendTo: "parent",
                        axis: false,
                        connectToSortable: false,
                        containment: false,
                        cursor: "auto",
                        cursorAt: false,
                        grid: false,
                        handle: false,
                        helper: "original",
                        iframeFix: false,
                        opacity: false,
                        refreshPositions: false,
                        revert: false,
                        revertDuration: 500,
                        scope: "default",
                        scroll: true,
                        scrollSensitivity: 20,
                        scrollSpeed: 20,
                        snap: false,
                        snapMode: "both",
                        snapTolerance: 20,
                        stack: false,
                        zIndex: false,
                        drag: null,
                        start: null,
                        stop: null
                    },
                    _create: function() {
                        if (this.options.helper === "original" && !/^(?:r|a|f)/.test(this.element.css("position"))) {
                            this.element[0].style.position = "relative"
                        }
                        if (this.options.addClasses) {
                            this.element.addClass("ui-draggable")
                        }
                        if (this.options.disabled) {
                            this.element.addClass("ui-draggable-disabled")
                        }
                        this._mouseInit()
                    },
                    _destroy: function() {
                        this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");
                        this._mouseDestroy()
                    },
                    _mouseCapture: function(event) {
                        var o = this.options;
                        if (this.helper || o.disabled || $(event.target).closest(".ui-resizable-handle").length > 0) {
                            return false
                        }
                        this.handle = this._getHandle(event);
                        if (!this.handle) {
                            return false
                        }
                        $(o.iframeFix === true ? "iframe" : o.iframeFix).each(function() {
                            $("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({
                                width: this.offsetWidth + "px",
                                height: this.offsetHeight + "px",
                                position: "absolute",
                                opacity: "0.001",
                                zIndex: 1e3
                            }).css($(this).offset()).appendTo("body")
                        });
                        return true
                    },
                    _mouseStart: function(event) {
                        var o = this.options;
                        this.helper = this._createHelper(event);
                        this.helper.addClass("ui-draggable-dragging");
                        this._cacheHelperProportions();
                        if ($.ui.ddmanager) {
                            $.ui.ddmanager.current = this
                        }
                        this._cacheMargins();
                        this.cssPosition = this.helper.css("position");
                        this.scrollParent = this.helper.scrollParent();
                        this.offsetParent = this.helper.offsetParent();
                        this.offsetParentCssPosition = this.offsetParent.css("position");
                        this.offset = this.positionAbs = this.element.offset();
                        this.offset = {
                            top: this.offset.top - this.margins.top,
                            left: this.offset.left - this.margins.left
                        };
                        this.offset.scroll = false;
                        $.extend(this.offset, {
                            click: {
                                left: event.pageX - this.offset.left,
                                top: event.pageY - this.offset.top
                            },
                            parent: this._getParentOffset(),
                            relative: this._getRelativeOffset()
                        });
                        this.originalPosition = this.position = this._generatePosition(event);
                        this.originalPageX = event.pageX;
                        this.originalPageY = event.pageY;
                        o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt);
                        this._setContainment();
                        if (this._trigger("start", event) === false) {
                            this._clear();
                            return false
                        }
                        this._cacheHelperProportions();
                        if ($.ui.ddmanager && !o.dropBehaviour) {
                            $.ui.ddmanager.prepareOffsets(this, event)
                        }
                        this._mouseDrag(event, true);
                        if ($.ui.ddmanager) {
                            $.ui.ddmanager.dragStart(this, event)
                        }
                        return true
                    },
                    _mouseDrag: function(event, noPropagation) {
                        if (this.offsetParentCssPosition === "fixed") {
                            this.offset.parent = this._getParentOffset()
                        }
                        this.position = this._generatePosition(event);
                        this.positionAbs = this._convertPositionTo("absolute");
                        if (!noPropagation) {
                            var ui = this._uiHash();
                            if (this._trigger("drag", event, ui) === false) {
                                this._mouseUp({});
                                return false
                            }
                            this.position = ui.position
                        }
                        if (!this.options.axis || this.options.axis !== "y") {
                            this.helper[0].style.left = this.position.left + "px"
                        }
                        if (!this.options.axis || this.options.axis !== "x") {
                            this.helper[0].style.top = this.position.top + "px"
                        }
                        if ($.ui.ddmanager) {
                            $.ui.ddmanager.drag(this, event)
                        }
                        return false
                    },
                    _mouseStop: function(event) {
                        var that = this,
                            dropped = false;
                        if ($.ui.ddmanager && !this.options.dropBehaviour) {
                            dropped = $.ui.ddmanager.drop(this, event)
                        }
                        if (this.dropped) {
                            dropped = this.dropped;
                            this.dropped = false
                        }
                        if (this.options.helper === "original" && !$.contains(this.element[0].ownerDocument, this.element[0])) {
                            return false
                        }
                        if (this.options.revert === "invalid" && !dropped || this.options.revert === "valid" && dropped || this.options.revert === true || $.isFunction(this.options.revert) && this.options.revert.call(this.element, dropped)) {
                            $(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                                if (that._trigger("stop", event) !== false) {
                                    that._clear()
                                }
                            })
                        } else {
                            if (this._trigger("stop", event) !== false) {
                                this._clear()
                            }
                        }
                        return false
                    },
                    _mouseUp: function(event) {
                        $("div.ui-draggable-iframeFix").each(function() {
                            this.parentNode.removeChild(this)
                        });
                        if ($.ui.ddmanager) {
                            $.ui.ddmanager.dragStop(this, event)
                        }
                        return $.ui.mouse.prototype._mouseUp.call(this, event)
                    },
                    cancel: function() {
                        if (this.helper.is(".ui-draggable-dragging")) {
                            this._mouseUp({})
                        } else {
                            this._clear()
                        }
                        return this
                    },
                    _getHandle: function(event) {
                        return this.options.handle ? !!$(event.target).closest(this.element.find(this.options.handle)).length : true
                    },
                    _createHelper: function(event) {
                        var o = this.options,
                            helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event])) : o.helper === "clone" ? this.element.clone().removeAttr("id") : this.element;
                        if (!helper.parents("body").length) {
                            helper.appendTo(o.appendTo === "parent" ? this.element[0].parentNode : o.appendTo)
                        }
                        if (helper[0] !== this.element[0] && !/(fixed|absolute)/.test(helper.css("position"))) {
                            helper.css("position", "absolute")
                        }
                        return helper
                    },
                    _adjustOffsetFromHelper: function(obj) {
                        if (typeof obj === "string") {
                            obj = obj.split(" ")
                        }
                        if ($.isArray(obj)) {
                            obj = {
                                left: +obj[0],
                                top: +obj[1] || 0
                            }
                        }
                        if ("left" in obj) {
                            this.offset.click.left = obj.left + this.margins.left
                        }
                        if ("right" in obj) {
                            this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left
                        }
                        if ("top" in obj) {
                            this.offset.click.top = obj.top + this.margins.top
                        }
                        if ("bottom" in obj) {
                            this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top
                        }
                    },
                    _getParentOffset: function() {
                        var po = this.offsetParent.offset();
                        if (this.cssPosition === "absolute" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {
                            po.left += this.scrollParent.scrollLeft();
                            po.top += this.scrollParent.scrollTop()
                        }
                        if (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === "html" && $.ui.ie) {
                            po = {
                                top: 0,
                                left: 0
                            }
                        }
                        return {
                            top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                            left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                        }
                    },
                    _getRelativeOffset: function() {
                        if (this.cssPosition === "relative") {
                            var p = this.element.position();
                            return {
                                top: p.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                                left: p.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                            }
                        } else {
                            return {
                                top: 0,
                                left: 0
                            }
                        }
                    },
                    _cacheMargins: function() {
                        this.margins = {
                            left: parseInt(this.element.css("marginLeft"), 10) || 0,
                            top: parseInt(this.element.css("marginTop"), 10) || 0,
                            right: parseInt(this.element.css("marginRight"), 10) || 0,
                            bottom: parseInt(this.element.css("marginBottom"), 10) || 0
                        }
                    },
                    _cacheHelperProportions: function() {
                        this.helperProportions = {
                            width: this.helper.outerWidth(),
                            height: this.helper.outerHeight()
                        }
                    },
                    _setContainment: function() {
                        var over, c, ce, o = this.options;
                        if (!o.containment) {
                            this.containment = null;
                            return
                        }
                        if (o.containment === "window") {
                            this.containment = [$(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, $(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, $(window).scrollLeft() + $(window).width() - this.helperProportions.width - this.margins.left, $(window).scrollTop() + ($(window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
                            return
                        }
                        if (o.containment === "document") {
                            this.containment = [0, 0, $(document).width() - this.helperProportions.width - this.margins.left, ($(document).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top];
                            return
                        }
                        if (o.containment.constructor === Array) {
                            this.containment = o.containment;
                            return
                        }
                        if (o.containment === "parent") {
                            o.containment = this.helper[0].parentNode
                        }
                        c = $(o.containment);
                        ce = c[0];
                        if (!ce) {
                            return
                        }
                        over = c.css("overflow") !== "hidden";
                        this.containment = [(parseInt(c.css("borderLeftWidth"), 10) || 0) + (parseInt(c.css("paddingLeft"), 10) || 0), (parseInt(c.css("borderTopWidth"), 10) || 0) + (parseInt(c.css("paddingTop"), 10) || 0), (over ? Math.max(ce.scrollWidth, ce.offsetWidth) : ce.offsetWidth) - (parseInt(c.css("borderRightWidth"), 10) || 0) - (parseInt(c.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (over ? Math.max(ce.scrollHeight, ce.offsetHeight) : ce.offsetHeight) - (parseInt(c.css("borderBottomWidth"), 10) || 0) - (parseInt(c.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom];
                        this.relative_container = c
                    },
                    _convertPositionTo: function(d, pos) {
                        if (!pos) {
                            pos = this.position
                        }
                        var mod = d === "absolute" ? 1 : -1,
                            scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent;
                        if (!this.offset.scroll) {
                            this.offset.scroll = {
                                top: scroll.scrollTop(),
                                left: scroll.scrollLeft()
                            }
                        }
                        return {
                            top: pos.top + this.offset.relative.top * mod + this.offset.parent.top * mod - (this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : this.offset.scroll.top) * mod,
                            left: pos.left + this.offset.relative.left * mod + this.offset.parent.left * mod - (this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : this.offset.scroll.left) * mod
                        }
                    },
                    _generatePosition: function(event) {
                        var containment, co, top, left, o = this.options,
                            scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
                            pageX = event.pageX,
                            pageY = event.pageY;
                        if (!this.offset.scroll) {
                            this.offset.scroll = {
                                top: scroll.scrollTop(),
                                left: scroll.scrollLeft()
                            }
                        }
                        if (this.originalPosition) {
                            if (this.containment) {
                                if (this.relative_container) {
                                    co = this.relative_container.offset();
                                    containment = [this.containment[0] + co.left, this.containment[1] + co.top, this.containment[2] + co.left, this.containment[3] + co.top]
                                } else {
                                    containment = this.containment
                                }
                                if (event.pageX - this.offset.click.left < containment[0]) {
                                    pageX = containment[0] + this.offset.click.left
                                }
                                if (event.pageY - this.offset.click.top < containment[1]) {
                                    pageY = containment[1] + this.offset.click.top
                                }
                                if (event.pageX - this.offset.click.left > containment[2]) {
                                    pageX = containment[2] + this.offset.click.left
                                }
                                if (event.pageY - this.offset.click.top > containment[3]) {
                                    pageY = containment[3] + this.offset.click.top
                                }
                            }
                            if (o.grid) {
                                top = o.grid[1] ? this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1] : this.originalPageY;
                                pageY = containment ? top - this.offset.click.top >= containment[1] || top - this.offset.click.top > containment[3] ? top : top - this.offset.click.top >= containment[1] ? top - o.grid[1] : top + o.grid[1] : top;
                                left = o.grid[0] ? this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0] : this.originalPageX;
                                pageX = containment ? left - this.offset.click.left >= containment[0] || left - this.offset.click.left > containment[2] ? left : left - this.offset.click.left >= containment[0] ? left - o.grid[0] : left + o.grid[0] : left
                            }
                        }
                        return {
                            top: pageY - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : this.offset.scroll.top),
                            left: pageX - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : this.offset.scroll.left)
                        }
                    },
                    _clear: function() {
                        this.helper.removeClass("ui-draggable-dragging");
                        if (this.helper[0] !== this.element[0] && !this.cancelHelperRemoval) {
                            this.helper.remove()
                        }
                        this.helper = null;
                        this.cancelHelperRemoval = false
                    },
                    _trigger: function(type, event, ui) {
                        ui = ui || this._uiHash();
                        $.ui.plugin.call(this, type, [event, ui]);
                        if (type === "drag") {
                            this.positionAbs = this._convertPositionTo("absolute")
                        }
                        return $.Widget.prototype._trigger.call(this, type, event, ui)
                    },
                    plugins: {},
                    _uiHash: function() {
                        return {
                            helper: this.helper,
                            position: this.position,
                            originalPosition: this.originalPosition,
                            offset: this.positionAbs
                        }
                    }
                });
                $.ui.plugin.add("draggable", "connectToSortable", {
                    start: function(event, ui) {
                        var inst = $(this).data("ui-draggable"),
                            o = inst.options,
                            uiSortable = $.extend({}, ui, {
                                item: inst.element
                            });
                        inst.sortables = [];
                        $(o.connectToSortable).each(function() {
                            var sortable = $.data(this, "ui-sortable");
                            if (sortable && !sortable.options.disabled) {
                                inst.sortables.push({
                                    instance: sortable,
                                    shouldRevert: sortable.options.revert
                                });
                                sortable.refreshPositions();
                                sortable._trigger("activate", event, uiSortable)
                            }
                        })
                    },
                    stop: function(event, ui) {
                        var inst = $(this).data("ui-draggable"),
                            uiSortable = $.extend({}, ui, {
                                item: inst.element
                            });
                        $.each(inst.sortables, function() {
                            if (this.instance.isOver) {
                                this.instance.isOver = 0;
                                inst.cancelHelperRemoval = true;
                                this.instance.cancelHelperRemoval = false;
                                if (this.shouldRevert) {
                                    this.instance.options.revert = this.shouldRevert
                                }
                                this.instance._mouseStop(event);
                                this.instance.options.helper = this.instance.options._helper;
                                if (inst.options.helper === "original") {
                                    this.instance.currentItem.css({
                                        top: "auto",
                                        left: "auto"
                                    })
                                }
                            } else {
                                this.instance.cancelHelperRemoval = false;
                                this.instance._trigger("deactivate", event, uiSortable)
                            }
                        })
                    },
                    drag: function(event, ui) {
                        var inst = $(this).data("ui-draggable"),
                            that = this;
                        $.each(inst.sortables, function() {
                            var innermostIntersecting = false,
                                thisSortable = this;
                            this.instance.positionAbs = inst.positionAbs;
                            this.instance.helperProportions = inst.helperProportions;
                            this.instance.offset.click = inst.offset.click;
                            if (this.instance._intersectsWith(this.instance.containerCache)) {
                                innermostIntersecting = true;
                                $.each(inst.sortables, function() {
                                    this.instance.positionAbs = inst.positionAbs;
                                    this.instance.helperProportions = inst.helperProportions;
                                    this.instance.offset.click = inst.offset.click;
                                    if (this !== thisSortable && this.instance._intersectsWith(this.instance.containerCache) && $.contains(thisSortable.instance.element[0], this.instance.element[0])) {
                                        innermostIntersecting = false
                                    }
                                    return innermostIntersecting
                                })
                            }
                            if (innermostIntersecting) {
                                if (!this.instance.isOver) {
                                    this.instance.isOver = 1;
                                    this.instance.currentItem = $(that).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item", true);
                                    this.instance.options._helper = this.instance.options.helper;
                                    this.instance.options.helper = function() {
                                        return ui.helper[0]
                                    };
                                    event.target = this.instance.currentItem[0];
                                    this.instance._mouseCapture(event, true);
                                    this.instance._mouseStart(event, true, true);
                                    this.instance.offset.click.top = inst.offset.click.top;
                                    this.instance.offset.click.left = inst.offset.click.left;
                                    this.instance.offset.parent.left -= inst.offset.parent.left - this.instance.offset.parent.left;
                                    this.instance.offset.parent.top -= inst.offset.parent.top - this.instance.offset.parent.top;
                                    inst._trigger("toSortable", event);
                                    inst.dropped = this.instance.element;
                                    inst.currentItem = inst.element;
                                    this.instance.fromOutside = inst
                                }
                                if (this.instance.currentItem) {
                                    this.instance._mouseDrag(event)
                                }
                            } else {
                                if (this.instance.isOver) {
                                    this.instance.isOver = 0;
                                    this.instance.cancelHelperRemoval = true;
                                    this.instance.options.revert = false;
                                    this.instance._trigger("out", event, this.instance._uiHash(this.instance));
                                    this.instance._mouseStop(event, true);
                                    this.instance.options.helper = this.instance.options._helper;
                                    this.instance.currentItem.remove();
                                    if (this.instance.placeholder) {
                                        this.instance.placeholder.remove()
                                    }
                                    inst._trigger("fromSortable", event);
                                    inst.dropped = false
                                }
                            }
                        })
                    }
                });
                $.ui.plugin.add("draggable", "cursor", {
                    start: function() {
                        var t = $("body"),
                            o = $(this).data("ui-draggable").options;
                        if (t.css("cursor")) {
                            o._cursor = t.css("cursor")
                        }
                        t.css("cursor", o.cursor)
                    },
                    stop: function() {
                        var o = $(this).data("ui-draggable").options;
                        if (o._cursor) {
                            $("body").css("cursor", o._cursor)
                        }
                    }
                });
                $.ui.plugin.add("draggable", "opacity", {
                    start: function(event, ui) {
                        var t = $(ui.helper),
                            o = $(this).data("ui-draggable").options;
                        if (t.css("opacity")) {
                            o._opacity = t.css("opacity")
                        }
                        t.css("opacity", o.opacity)
                    },
                    stop: function(event, ui) {
                        var o = $(this).data("ui-draggable").options;
                        if (o._opacity) {
                            $(ui.helper).css("opacity", o._opacity)
                        }
                    }
                });
                $.ui.plugin.add("draggable", "scroll", {
                    start: function() {
                        var i = $(this).data("ui-draggable");
                        if (i.scrollParent[0] !== document && i.scrollParent[0].tagName !== "HTML") {
                            i.overflowOffset = i.scrollParent.offset()
                        }
                    },
                    drag: function(event) {
                        var i = $(this).data("ui-draggable"),
                            o = i.options,
                            scrolled = false;
                        if (i.scrollParent[0] !== document && i.scrollParent[0].tagName !== "HTML") {
                            if (!o.axis || o.axis !== "x") {
                                if (i.overflowOffset.top + i.scrollParent[0].offsetHeight - event.pageY < o.scrollSensitivity) {
                                    i.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop + o.scrollSpeed
                                } else if (event.pageY - i.overflowOffset.top < o.scrollSensitivity) {
                                    i.scrollParent[0].scrollTop = scrolled = i.scrollParent[0].scrollTop - o.scrollSpeed
                                }
                            }
                            if (!o.axis || o.axis !== "y") {
                                if (i.overflowOffset.left + i.scrollParent[0].offsetWidth - event.pageX < o.scrollSensitivity) {
                                    i.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft + o.scrollSpeed
                                } else if (event.pageX - i.overflowOffset.left < o.scrollSensitivity) {
                                    i.scrollParent[0].scrollLeft = scrolled = i.scrollParent[0].scrollLeft - o.scrollSpeed
                                }
                            }
                        } else {
                            if (!o.axis || o.axis !== "x") {
                                if (event.pageY - $(document).scrollTop() < o.scrollSensitivity) {
                                    scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed)
                                } else if ($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {
                                    scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed)
                                }
                            }
                            if (!o.axis || o.axis !== "y") {
                                if (event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {
                                    scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed)
                                } else if ($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {
                                    scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed)
                                }
                            }
                        }
                        if (scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
                            $.ui.ddmanager.prepareOffsets(i, event)
                        }
                    }
                });
                $.ui.plugin.add("draggable", "snap", {
                    start: function() {
                        var i = $(this).data("ui-draggable"),
                            o = i.options;
                        i.snapElements = [];
                        $(o.snap.constructor !== String ? o.snap.items || ":data(ui-draggable)" : o.snap).each(function() {
                            var $t = $(this),
                                $o = $t.offset();
                            if (this !== i.element[0]) {
                                i.snapElements.push({
                                    item: this,
                                    width: $t.outerWidth(),
                                    height: $t.outerHeight(),
                                    top: $o.top,
                                    left: $o.left
                                })
                            }
                        })
                    },
                    drag: function(event, ui) {
                        var ts, bs, ls, rs, l, r, t, b, i, first, inst = $(this).data("ui-draggable"),
                            o = inst.options,
                            d = o.snapTolerance,
                            x1 = ui.offset.left,
                            x2 = x1 + inst.helperProportions.width,
                            y1 = ui.offset.top,
                            y2 = y1 + inst.helperProportions.height;
                        for (i = inst.snapElements.length - 1; i >= 0; i--) {
                            l = inst.snapElements[i].left;
                            r = l + inst.snapElements[i].width;
                            t = inst.snapElements[i].top;
                            b = t + inst.snapElements[i].height;
                            if (x2 < l - d || x1 > r + d || y2 < t - d || y1 > b + d || !$.contains(inst.snapElements[i].item.ownerDocument, inst.snapElements[i].item)) {
                                if (inst.snapElements[i].snapping) {
                                    inst.options.snap.release && inst.options.snap.release.call(inst.element, event, $.extend(inst._uiHash(), {
                                        snapItem: inst.snapElements[i].item
                                    }))
                                }
                                inst.snapElements[i].snapping = false;
                                continue
                            }
                            if (o.snapMode !== "inner") {
                                ts = Math.abs(t - y2) <= d;
                                bs = Math.abs(b - y1) <= d;
                                ls = Math.abs(l - x2) <= d;
                                rs = Math.abs(r - x1) <= d;
                                if (ts) {
                                    ui.position.top = inst._convertPositionTo("relative", {
                                        top: t - inst.helperProportions.height,
                                        left: 0
                                    }).top - inst.margins.top
                                }
                                if (bs) {
                                    ui.position.top = inst._convertPositionTo("relative", {
                                        top: b,
                                        left: 0
                                    }).top - inst.margins.top
                                }
                                if (ls) {
                                    ui.position.left = inst._convertPositionTo("relative", {
                                        top: 0,
                                        left: l - inst.helperProportions.width
                                    }).left - inst.margins.left
                                }
                                if (rs) {
                                    ui.position.left = inst._convertPositionTo("relative", {
                                        top: 0,
                                        left: r
                                    }).left - inst.margins.left
                                }
                            }
                            first = ts || bs || ls || rs;
                            if (o.snapMode !== "outer") {
                                ts = Math.abs(t - y1) <= d;
                                bs = Math.abs(b - y2) <= d;
                                ls = Math.abs(l - x1) <= d;
                                rs = Math.abs(r - x2) <= d;
                                if (ts) {
                                    ui.position.top = inst._convertPositionTo("relative", {
                                        top: t,
                                        left: 0
                                    }).top - inst.margins.top
                                }
                                if (bs) {
                                    ui.position.top = inst._convertPositionTo("relative", {
                                        top: b - inst.helperProportions.height,
                                        left: 0
                                    }).top - inst.margins.top
                                }
                                if (ls) {
                                    ui.position.left = inst._convertPositionTo("relative", {
                                        top: 0,
                                        left: l
                                    }).left - inst.margins.left
                                }
                                if (rs) {
                                    ui.position.left = inst._convertPositionTo("relative", {
                                        top: 0,
                                        left: r - inst.helperProportions.width
                                    }).left - inst.margins.left
                                }
                            }
                            if (!inst.snapElements[i].snapping && (ts || bs || ls || rs || first)) {
                                inst.options.snap.snap && inst.options.snap.snap.call(inst.element, event, $.extend(inst._uiHash(), {
                                    snapItem: inst.snapElements[i].item
                                }))
                            }
                            inst.snapElements[i].snapping = ts || bs || ls || rs || first
                        }
                    }
                });
                $.ui.plugin.add("draggable", "stack", {
                    start: function() {
                        var min, o = this.data("ui-draggable").options,
                            group = $.makeArray($(o.stack)).sort(function(a, b) {
                                return (parseInt($(a).css("zIndex"), 10) || 0) - (parseInt($(b).css("zIndex"), 10) || 0)
                            });
                        if (!group.length) {
                            return
                        }
                        min = parseInt($(group[0]).css("zIndex"), 10) || 0;
                        $(group).each(function(i) {
                            $(this).css("zIndex", min + i)
                        });
                        this.css("zIndex", min + group.length)
                    }
                });
                $.ui.plugin.add("draggable", "zIndex", {
                    start: function(event, ui) {
                        var t = $(ui.helper),
                            o = $(this).data("ui-draggable").options;
                        if (t.css("zIndex")) {
                            o._zIndex = t.css("zIndex")
                        }
                        t.css("zIndex", o.zIndex)
                    },
                    stop: function(event, ui) {
                        var o = $(this).data("ui-draggable").options;
                        if (o._zIndex) {
                            $(ui.helper).css("zIndex", o._zIndex)
                        }
                    }
                })
            })(jQuery);
            (function($, undefined) {
                function isOverAxis(x, reference, size) {
                    return x > reference && x < reference + size
                }
                $.widget("ui.droppable", {
                    version: "1.10.3",
                    widgetEventPrefix: "drop",
                    options: {
                        accept: "*",
                        activeClass: false,
                        addClasses: true,
                        greedy: false,
                        hoverClass: false,
                        scope: "default",
                        tolerance: "intersect",
                        activate: null,
                        deactivate: null,
                        drop: null,
                        out: null,
                        over: null
                    },
                    _create: function() {
                        var o = this.options,
                            accept = o.accept;
                        this.isover = false;
                        this.isout = true;
                        this.accept = $.isFunction(accept) ? accept : function(d) {
                            return d.is(accept)
                        };
                        this.proportions = {
                            width: this.element[0].offsetWidth,
                            height: this.element[0].offsetHeight
                        };
                        $.ui.ddmanager.droppables[o.scope] = $.ui.ddmanager.droppables[o.scope] || [];
                        $.ui.ddmanager.droppables[o.scope].push(this);
                        o.addClasses && this.element.addClass("ui-droppable")
                    },
                    _destroy: function() {
                        var i = 0,
                            drop = $.ui.ddmanager.droppables[this.options.scope];
                        for (; i < drop.length; i++) {
                            if (drop[i] === this) {
                                drop.splice(i, 1)
                            }
                        }
                        this.element.removeClass("ui-droppable ui-droppable-disabled")
                    },
                    _setOption: function(key, value) {
                        if (key === "accept") {
                            this.accept = $.isFunction(value) ? value : function(d) {
                                return d.is(value)
                            }
                        }
                        $.Widget.prototype._setOption.apply(this, arguments)
                    },
                    _activate: function(event) {
                        var draggable = $.ui.ddmanager.current;
                        if (this.options.activeClass) {
                            this.element.addClass(this.options.activeClass)
                        }
                        if (draggable) {
                            this._trigger("activate", event, this.ui(draggable))
                        }
                    },
                    _deactivate: function(event) {
                        var draggable = $.ui.ddmanager.current;
                        if (this.options.activeClass) {
                            this.element.removeClass(this.options.activeClass)
                        }
                        if (draggable) {
                            this._trigger("deactivate", event, this.ui(draggable))
                        }
                    },
                    _over: function(event) {
                        var draggable = $.ui.ddmanager.current;
                        if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {
                            return
                        }
                        if (this.accept.call(this.element[0], draggable.currentItem || draggable.element)) {
                            if (this.options.hoverClass) {
                                this.element.addClass(this.options.hoverClass)
                            }
                            this._trigger("over", event, this.ui(draggable))
                        }
                    },
                    _out: function(event) {
                        var draggable = $.ui.ddmanager.current;
                        if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {
                            return
                        }
                        if (this.accept.call(this.element[0], draggable.currentItem || draggable.element)) {
                            if (this.options.hoverClass) {
                                this.element.removeClass(this.options.hoverClass)
                            }
                            this._trigger("out", event, this.ui(draggable))
                        }
                    },
                    _drop: function(event, custom) {
                        var draggable = custom || $.ui.ddmanager.current,
                            childrenIntersection = false;
                        if (!draggable || (draggable.currentItem || draggable.element)[0] === this.element[0]) {
                            return false
                        }
                        this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function() {
                            var inst = $.data(this, "ui-droppable");
                            if (inst.options.greedy && !inst.options.disabled && inst.options.scope === draggable.options.scope && inst.accept.call(inst.element[0], draggable.currentItem || draggable.element) && $.ui.intersect(draggable, $.extend(inst, {
                                    offset: inst.element.offset()
                                }), inst.options.tolerance)) {
                                childrenIntersection = true;
                                return false
                            }
                        });
                        if (childrenIntersection) {
                            return false
                        }
                        if (this.accept.call(this.element[0], draggable.currentItem || draggable.element)) {
                            if (this.options.activeClass) {
                                this.element.removeClass(this.options.activeClass)
                            }
                            if (this.options.hoverClass) {
                                this.element.removeClass(this.options.hoverClass)
                            }
                            this._trigger("drop", event, this.ui(draggable));
                            return this.element
                        }
                        return false
                    },
                    ui: function(c) {
                        return {
                            draggable: c.currentItem || c.element,
                            helper: c.helper,
                            position: c.position,
                            offset: c.positionAbs
                        }
                    }
                });
                $.ui.intersect = function(draggable, droppable, toleranceMode) {
                    if (!droppable.offset) {
                        return false
                    }
                    var draggableLeft, draggableTop, x1 = (draggable.positionAbs || draggable.position.absolute).left,
                        x2 = x1 + draggable.helperProportions.width,
                        y1 = (draggable.positionAbs || draggable.position.absolute).top,
                        y2 = y1 + draggable.helperProportions.height,
                        l = droppable.offset.left,
                        r = l + droppable.proportions.width,
                        t = droppable.offset.top,
                        b = t + droppable.proportions.height;
                    switch (toleranceMode) {
                        case "fit":
                            return l <= x1 && x2 <= r && t <= y1 && y2 <= b;
                        case "intersect":
                            return l < x1 + draggable.helperProportions.width / 2 && x2 - draggable.helperProportions.width / 2 < r && t < y1 + draggable.helperProportions.height / 2 && y2 - draggable.helperProportions.height / 2 < b;
                        case "pointer":
                            draggableLeft = (draggable.positionAbs || draggable.position.absolute).left + (draggable.clickOffset || draggable.offset.click).left;
                            draggableTop = (draggable.positionAbs || draggable.position.absolute).top + (draggable.clickOffset || draggable.offset.click).top;
                            return isOverAxis(draggableTop, t, droppable.proportions.height) && isOverAxis(draggableLeft, l, droppable.proportions.width);
                        case "touch":
                            return (y1 >= t && y1 <= b || y2 >= t && y2 <= b || y1 < t && y2 > b) && (x1 >= l && x1 <= r || x2 >= l && x2 <= r || x1 < l && x2 > r);
                        default:
                            return false
                    }
                };
                $.ui.ddmanager = {
                    current: null,
                    droppables: {
                        "default": []
                    },
                    prepareOffsets: function(t, event) {
                        var i, j, m = $.ui.ddmanager.droppables[t.options.scope] || [],
                            type = event ? event.type : null,
                            list = (t.currentItem || t.element).find(":data(ui-droppable)").addBack();
                        droppablesLoop: for (i = 0; i < m.length; i++) {
                            if (m[i].options.disabled || t && !m[i].accept.call(m[i].element[0], t.currentItem || t.element)) {
                                continue
                            }
                            for (j = 0; j < list.length; j++) {
                                if (list[j] === m[i].element[0]) {
                                    m[i].proportions.height = 0;
                                    continue droppablesLoop
                                }
                            }
                            m[i].visible = m[i].element.css("display") !== "none";
                            if (!m[i].visible) {
                                continue
                            }
                            if (type === "mousedown") {
                                m[i]._activate.call(m[i], event)
                            }
                            m[i].offset = m[i].element.offset();
                            m[i].proportions = {
                                width: m[i].element[0].offsetWidth,
                                height: m[i].element[0].offsetHeight
                            }
                        }
                    },
                    drop: function(draggable, event) {
                        var dropped = false;
                        $.each(($.ui.ddmanager.droppables[draggable.options.scope] || []).slice(), function() {
                            if (!this.options) {
                                return
                            }
                            if (!this.options.disabled && this.visible && $.ui.intersect(draggable, this, this.options.tolerance)) {
                                dropped = this._drop.call(this, event) || dropped
                            }
                            if (!this.options.disabled && this.visible && this.accept.call(this.element[0], draggable.currentItem || draggable.element)) {
                                this.isout = true;
                                this.isover = false;
                                this._deactivate.call(this, event)
                            }
                        });
                        return dropped
                    },
                    dragStart: function(draggable, event) {
                        draggable.element.parentsUntil("body").bind("scroll.droppable", function() {
                            if (!draggable.options.refreshPositions) {
                                $.ui.ddmanager.prepareOffsets(draggable, event)
                            }
                        })
                    },
                    drag: function(draggable, event) {
                        if (draggable.options.refreshPositions) {
                            $.ui.ddmanager.prepareOffsets(draggable, event)
                        }
                        $.each($.ui.ddmanager.droppables[draggable.options.scope] || [], function() {
                            if (this.options.disabled || this.greedyChild || !this.visible) {
                                return
                            }
                            var parentInstance, scope, parent, intersects = $.ui.intersect(draggable, this, this.options.tolerance),
                                c = !intersects && this.isover ? "isout" : intersects && !this.isover ? "isover" : null;
                            if (!c) {
                                return
                            }
                            if (this.options.greedy) {
                                scope = this.options.scope;
                                parent = this.element.parents(":data(ui-droppable)").filter(function() {
                                    return $.data(this, "ui-droppable").options.scope === scope
                                });
                                if (parent.length) {
                                    parentInstance = $.data(parent[0], "ui-droppable");
                                    parentInstance.greedyChild = c === "isover"
                                }
                            }
                            if (parentInstance && c === "isover") {
                                parentInstance.isover = false;
                                parentInstance.isout = true;
                                parentInstance._out.call(parentInstance, event)
                            }
                            this[c] = true;
                            this[c === "isout" ? "isover" : "isout"] = false;
                            this[c === "isover" ? "_over" : "_out"].call(this, event);
                            if (parentInstance && c === "isout") {
                                parentInstance.isout = false;
                                parentInstance.isover = true;
                                parentInstance._over.call(parentInstance, event)
                            }
                        })
                    },
                    dragStop: function(draggable, event) {
                        draggable.element.parentsUntil("body").unbind("scroll.droppable");
                        if (!draggable.options.refreshPositions) {
                            $.ui.ddmanager.prepareOffsets(draggable, event)
                        }
                    }
                }
            })(jQuery);
            (function($, undefined) {
                function num(v) {
                    return parseInt(v, 10) || 0
                }

                function isNumber(value) {
                    return !isNaN(parseInt(value, 10))
                }
                $.widget("ui.resizable", $.ui.mouse, {
                    version: "1.10.3",
                    widgetEventPrefix: "resize",
                    options: {
                        alsoResize: false,
                        animate: false,
                        animateDuration: "slow",
                        animateEasing: "swing",
                        aspectRatio: false,
                        autoHide: false,
                        containment: false,
                        ghost: false,
                        grid: false,
                        handles: "e,s,se",
                        helper: false,
                        maxHeight: null,
                        maxWidth: null,
                        minHeight: 10,
                        minWidth: 10,
                        zIndex: 90,
                        resize: null,
                        start: null,
                        stop: null
                    },
                    _create: function() {
                        var n, i, handle, axis, hname, that = this,
                            o = this.options;
                        this.element.addClass("ui-resizable");
                        $.extend(this, {
                            _aspectRatio: !!o.aspectRatio,
                            aspectRatio: o.aspectRatio,
                            originalElement: this.element,
                            _proportionallyResizeElements: [],
                            _helper: o.helper || o.ghost || o.animate ? o.helper || "ui-resizable-helper" : null
                        });
                        if (this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)) {
                            this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                                position: this.element.css("position"),
                                width: this.element.outerWidth(),
                                height: this.element.outerHeight(),
                                top: this.element.css("top"),
                                left: this.element.css("left")
                            }));
                            this.element = this.element.parent().data("ui-resizable", this.element.data("ui-resizable"));
                            this.elementIsWrapper = true;
                            this.element.css({
                                marginLeft: this.originalElement.css("marginLeft"),
                                marginTop: this.originalElement.css("marginTop"),
                                marginRight: this.originalElement.css("marginRight"),
                                marginBottom: this.originalElement.css("marginBottom")
                            });
                            this.originalElement.css({
                                marginLeft: 0,
                                marginTop: 0,
                                marginRight: 0,
                                marginBottom: 0
                            });
                            this.originalResizeStyle = this.originalElement.css("resize");
                            this.originalElement.css("resize", "none");
                            this._proportionallyResizeElements.push(this.originalElement.css({
                                position: "static",
                                zoom: 1,
                                display: "block"
                            }));
                            this.originalElement.css({
                                margin: this.originalElement.css("margin")
                            });
                            this._proportionallyResize()
                        }
                        this.handles = o.handles || (!$(".ui-resizable-handle", this.element).length ? "e,s,se" : {
                            n: ".ui-resizable-n",
                            e: ".ui-resizable-e",
                            s: ".ui-resizable-s",
                            w: ".ui-resizable-w",
                            se: ".ui-resizable-se",
                            sw: ".ui-resizable-sw",
                            ne: ".ui-resizable-ne",
                            nw: ".ui-resizable-nw"
                        });
                        if (this.handles.constructor === String) {
                            if (this.handles === "all") {
                                this.handles = "n,e,s,w,se,sw,ne,nw"
                            }
                            n = this.handles.split(",");
                            this.handles = {};
                            for (i = 0; i < n.length; i++) {
                                handle = $.trim(n[i]);
                                hname = "ui-resizable-" + handle;
                                axis = $("<div class='ui-resizable-handle " + hname + "'></div>");
                                axis.css({
                                    zIndex: o.zIndex
                                });
                                if ("se" === handle) {
                                    axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se")
                                }
                                this.handles[handle] = ".ui-resizable-" + handle;
                                this.element.append(axis)
                            }
                        }
                        this._renderAxis = function(target) {
                            var i, axis, padPos, padWrapper;
                            target = target || this.element;
                            for (i in this.handles) {
                                if (this.handles[i].constructor === String) {
                                    this.handles[i] = $(this.handles[i], this.element).show()
                                }
                                if (this.elementIsWrapper && this.originalElement[0].nodeName.match(/textarea|input|select|button/i)) {
                                    axis = $(this.handles[i], this.element);
                                    padWrapper = /sw|ne|nw|se|n|s/.test(i) ? axis.outerHeight() : axis.outerWidth();
                                    padPos = ["padding", /ne|nw|n/.test(i) ? "Top" : /se|sw|s/.test(i) ? "Bottom" : /^e$/.test(i) ? "Right" : "Left"].join("");
                                    target.css(padPos, padWrapper);
                                    this._proportionallyResize()
                                }
                                if (!$(this.handles[i]).length) {
                                    continue
                                }
                            }
                        };
                        this._renderAxis(this.element);
                        this._handles = $(".ui-resizable-handle", this.element).disableSelection();
                        this._handles.mouseover(function() {
                            if (!that.resizing) {
                                if (this.className) {
                                    axis = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)
                                }
                                that.axis = axis && axis[1] ? axis[1] : "se"
                            }
                        });
                        if (o.autoHide) {
                            this._handles.hide();
                            $(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                                if (o.disabled) {
                                    return
                                }
                                $(this).removeClass("ui-resizable-autohide");
                                that._handles.show()
                            }).mouseleave(function() {
                                if (o.disabled) {
                                    return
                                }
                                if (!that.resizing) {
                                    $(this).addClass("ui-resizable-autohide");
                                    that._handles.hide()
                                }
                            })
                        }
                        this._mouseInit()
                    },
                    _destroy: function() {
                        this._mouseDestroy();
                        var wrapper, _destroy = function(exp) {
                            $(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
                        };
                        if (this.elementIsWrapper) {
                            _destroy(this.element);
                            wrapper = this.element;
                            this.originalElement.css({
                                position: wrapper.css("position"),
                                width: wrapper.outerWidth(),
                                height: wrapper.outerHeight(),
                                top: wrapper.css("top"),
                                left: wrapper.css("left")
                            }).insertAfter(wrapper);
                            wrapper.remove()
                        }
                        this.originalElement.css("resize", this.originalResizeStyle);
                        _destroy(this.originalElement);
                        return this
                    },
                    _mouseCapture: function(event) {
                        var i, handle, capture = false;
                        for (i in this.handles) {
                            handle = $(this.handles[i])[0];
                            if (handle === event.target || $.contains(handle, event.target)) {
                                capture = true
                            }
                        }
                        return !this.options.disabled && capture
                    },
                    _mouseStart: function(event) {
                        var curleft, curtop, cursor, o = this.options,
                            iniPos = this.element.position(),
                            el = this.element;
                        this.resizing = true;
                        if (/absolute/.test(el.css("position"))) {
                            el.css({
                                position: "absolute",
                                top: el.css("top"),
                                left: el.css("left")
                            })
                        } else if (el.is(".ui-draggable")) {
                            el.css({
                                position: "absolute",
                                top: iniPos.top,
                                left: iniPos.left
                            })
                        }
                        this._renderProxy();
                        curleft = num(this.helper.css("left"));
                        curtop = num(this.helper.css("top"));
                        if (o.containment) {
                            curleft += $(o.containment).scrollLeft() || 0;
                            curtop += $(o.containment).scrollTop() || 0
                        }
                        this.offset = this.helper.offset();
                        this.position = {
                            left: curleft,
                            top: curtop
                        };
                        this.size = this._helper ? {
                            width: el.outerWidth(),
                            height: el.outerHeight()
                        } : {
                            width: el.width(),
                            height: el.height()
                        };
                        this.originalSize = this._helper ? {
                            width: el.outerWidth(),
                            height: el.outerHeight()
                        } : {
                            width: el.width(),
                            height: el.height()
                        };
                        this.originalPosition = {
                            left: curleft,
                            top: curtop
                        };
                        this.sizeDiff = {
                            width: el.outerWidth() - el.width(),
                            height: el.outerHeight() - el.height()
                        };
                        this.originalMousePosition = {
                            left: event.pageX,
                            top: event.pageY
                        };
                        this.aspectRatio = typeof o.aspectRatio === "number" ? o.aspectRatio : this.originalSize.width / this.originalSize.height || 1;
                        cursor = $(".ui-resizable-" + this.axis).css("cursor");
                        $("body").css("cursor", cursor === "auto" ? this.axis + "-resize" : cursor);
                        el.addClass("ui-resizable-resizing");
                        this._propagate("start", event);
                        return true
                    },
                    _mouseDrag: function(event) {
                        var data, el = this.helper,
                            props = {},
                            smp = this.originalMousePosition,
                            a = this.axis,
                            prevTop = this.position.top,
                            prevLeft = this.position.left,
                            prevWidth = this.size.width,
                            prevHeight = this.size.height,
                            dx = event.pageX - smp.left || 0,
                            dy = event.pageY - smp.top || 0,
                            trigger = this._change[a];
                        if (!trigger) {
                            return false
                        }
                        data = trigger.apply(this, [event, dx, dy]);
                        this._updateVirtualBoundaries(event.shiftKey);
                        if (this._aspectRatio || event.shiftKey) {
                            data = this._updateRatio(data, event)
                        }
                        data = this._respectSize(data, event);
                        this._updateCache(data);
                        this._propagate("resize", event);
                        if (this.position.top !== prevTop) {
                            props.top = this.position.top + "px"
                        }
                        if (this.position.left !== prevLeft) {
                            props.left = this.position.left + "px"
                        }
                        if (this.size.width !== prevWidth) {
                            props.width = this.size.width + "px"
                        }
                        if (this.size.height !== prevHeight) {
                            props.height = this.size.height + "px"
                        }
                        el.css(props);
                        if (!this._helper && this._proportionallyResizeElements.length) {
                            this._proportionallyResize()
                        }
                        if (!$.isEmptyObject(props)) {
                            this._trigger("resize", event, this.ui())
                        }
                        return false
                    },
                    _mouseStop: function(event) {
                        this.resizing = false;
                        var pr, ista, soffseth, soffsetw, s, left, top, o = this.options,
                            that = this;
                        if (this._helper) {
                            pr = this._proportionallyResizeElements;
                            ista = pr.length && /textarea/i.test(pr[0].nodeName);
                            soffseth = ista && $.ui.hasScroll(pr[0], "left") ? 0 : that.sizeDiff.height;
                            soffsetw = ista ? 0 : that.sizeDiff.width;
                            s = {
                                width: that.helper.width() - soffsetw,
                                height: that.helper.height() - soffseth
                            };
                            left = parseInt(that.element.css("left"), 10) + (that.position.left - that.originalPosition.left) || null;
                            top = parseInt(that.element.css("top"), 10) + (that.position.top - that.originalPosition.top) || null;
                            if (!o.animate) {
                                this.element.css($.extend(s, {
                                    top: top,
                                    left: left
                                }))
                            }
                            that.helper.height(that.size.height);
                            that.helper.width(that.size.width);
                            if (this._helper && !o.animate) {
                                this._proportionallyResize()
                            }
                        }
                        $("body").css("cursor", "auto");
                        this.element.removeClass("ui-resizable-resizing");
                        this._propagate("stop", event);
                        if (this._helper) {
                            this.helper.remove()
                        }
                        return false
                    },
                    _updateVirtualBoundaries: function(forceAspectRatio) {
                        var pMinWidth, pMaxWidth, pMinHeight, pMaxHeight, b, o = this.options;
                        b = {
                            minWidth: isNumber(o.minWidth) ? o.minWidth : 0,
                            maxWidth: isNumber(o.maxWidth) ? o.maxWidth : Infinity,
                            minHeight: isNumber(o.minHeight) ? o.minHeight : 0,
                            maxHeight: isNumber(o.maxHeight) ? o.maxHeight : Infinity
                        };
                        if (this._aspectRatio || forceAspectRatio) {
                            pMinWidth = b.minHeight * this.aspectRatio;
                            pMinHeight = b.minWidth / this.aspectRatio;
                            pMaxWidth = b.maxHeight * this.aspectRatio;
                            pMaxHeight = b.maxWidth / this.aspectRatio;
                            if (pMinWidth > b.minWidth) {
                                b.minWidth = pMinWidth
                            }
                            if (pMinHeight > b.minHeight) {
                                b.minHeight = pMinHeight
                            }
                            if (pMaxWidth < b.maxWidth) {
                                b.maxWidth = pMaxWidth
                            }
                            if (pMaxHeight < b.maxHeight) {
                                b.maxHeight = pMaxHeight
                            }
                        }
                        this._vBoundaries = b
                    },
                    _updateCache: function(data) {
                        this.offset = this.helper.offset();
                        if (isNumber(data.left)) {
                            this.position.left = data.left
                        }
                        if (isNumber(data.top)) {
                            this.position.top = data.top
                        }
                        if (isNumber(data.height)) {
                            this.size.height = data.height
                        }
                        if (isNumber(data.width)) {
                            this.size.width = data.width
                        }
                    },
                    _updateRatio: function(data) {
                        var cpos = this.position,
                            csize = this.size,
                            a = this.axis;
                        if (isNumber(data.height)) {
                            data.width = data.height * this.aspectRatio
                        } else if (isNumber(data.width)) {
                            data.height = data.width / this.aspectRatio
                        }
                        if (a === "sw") {
                            data.left = cpos.left + (csize.width - data.width);
                            data.top = null
                        }
                        if (a === "nw") {
                            data.top = cpos.top + (csize.height - data.height);
                            data.left = cpos.left + (csize.width - data.width)
                        }
                        return data
                    },
                    _respectSize: function(data) {
                        var o = this._vBoundaries,
                            a = this.axis,
                            ismaxw = isNumber(data.width) && o.maxWidth && o.maxWidth < data.width,
                            ismaxh = isNumber(data.height) && o.maxHeight && o.maxHeight < data.height,
                            isminw = isNumber(data.width) && o.minWidth && o.minWidth > data.width,
                            isminh = isNumber(data.height) && o.minHeight && o.minHeight > data.height,
                            dw = this.originalPosition.left + this.originalSize.width,
                            dh = this.position.top + this.size.height,
                            cw = /sw|nw|w/.test(a),
                            ch = /nw|ne|n/.test(a);
                        if (isminw) {
                            data.width = o.minWidth
                        }
                        if (isminh) {
                            data.height = o.minHeight
                        }
                        if (ismaxw) {
                            data.width = o.maxWidth
                        }
                        if (ismaxh) {
                            data.height = o.maxHeight
                        }
                        if (isminw && cw) {
                            data.left = dw - o.minWidth
                        }
                        if (ismaxw && cw) {
                            data.left = dw - o.maxWidth
                        }
                        if (isminh && ch) {
                            data.top = dh - o.minHeight
                        }
                        if (ismaxh && ch) {
                            data.top = dh - o.maxHeight
                        }
                        if (!data.width && !data.height && !data.left && data.top) {
                            data.top = null
                        } else if (!data.width && !data.height && !data.top && data.left) {
                            data.left = null
                        }
                        return data
                    },
                    _proportionallyResize: function() {
                        if (!this._proportionallyResizeElements.length) {
                            return
                        }
                        var i, j, borders, paddings, prel, element = this.helper || this.element;
                        for (i = 0; i < this._proportionallyResizeElements.length; i++) {
                            prel = this._proportionallyResizeElements[i];
                            if (!this.borderDif) {
                                this.borderDif = [];
                                borders = [prel.css("borderTopWidth"), prel.css("borderRightWidth"), prel.css("borderBottomWidth"), prel.css("borderLeftWidth")];
                                paddings = [prel.css("paddingTop"), prel.css("paddingRight"), prel.css("paddingBottom"), prel.css("paddingLeft")];
                                for (j = 0; j < borders.length; j++) {
                                    this.borderDif[j] = (parseInt(borders[j], 10) || 0) + (parseInt(paddings[j], 10) || 0)
                                }
                            }
                            prel.css({
                                height: element.height() - this.borderDif[0] - this.borderDif[2] || 0,
                                width: element.width() - this.borderDif[1] - this.borderDif[3] || 0
                            })
                        }
                    },
                    _renderProxy: function() {
                        var el = this.element,
                            o = this.options;
                        this.elementOffset = el.offset();
                        if (this._helper) {
                            this.helper = this.helper || $("<div style='overflow:hidden;'></div>");
                            this.helper.addClass(this._helper).css({
                                width: this.element.outerWidth() - 1,
                                height: this.element.outerHeight() - 1,
                                position: "absolute",
                                left: this.elementOffset.left + "px",
                                top: this.elementOffset.top + "px",
                                zIndex: ++o.zIndex
                            });
                            this.helper.appendTo("body").disableSelection()
                        } else {
                            this.helper = this.element
                        }
                    },
                    _change: {
                        e: function(event, dx) {
                            return {
                                width: this.originalSize.width + dx
                            }
                        },
                        w: function(event, dx) {
                            var cs = this.originalSize,
                                sp = this.originalPosition;
                            return {
                                left: sp.left + dx,
                                width: cs.width - dx
                            }
                        },
                        n: function(event, dx, dy) {
                            var cs = this.originalSize,
                                sp = this.originalPosition;
                            return {
                                top: sp.top + dy,
                                height: cs.height - dy
                            }
                        },
                        s: function(event, dx, dy) {
                            return {
                                height: this.originalSize.height + dy
                            }
                        },
                        se: function(event, dx, dy) {
                            return $.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [event, dx, dy]))
                        },
                        sw: function(event, dx, dy) {
                            return $.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [event, dx, dy]))
                        },
                        ne: function(event, dx, dy) {
                            return $.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [event, dx, dy]))
                        },
                        nw: function(event, dx, dy) {
                            return $.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [event, dx, dy]))
                        }
                    },
                    _propagate: function(n, event) {
                        $.ui.plugin.call(this, n, [event, this.ui()]);
                        n !== "resize" && this._trigger(n, event, this.ui())
                    },
                    plugins: {},
                    ui: function() {
                        return {
                            originalElement: this.originalElement,
                            element: this.element,
                            helper: this.helper,
                            position: this.position,
                            size: this.size,
                            originalSize: this.originalSize,
                            originalPosition: this.originalPosition
                        }
                    }
                });
                $.ui.plugin.add("resizable", "animate", {
                    stop: function(event) {
                        var that = $(this).data("ui-resizable"),
                            o = that.options,
                            pr = that._proportionallyResizeElements,
                            ista = pr.length && /textarea/i.test(pr[0].nodeName),
                            soffseth = ista && $.ui.hasScroll(pr[0], "left") ? 0 : that.sizeDiff.height,
                            soffsetw = ista ? 0 : that.sizeDiff.width,
                            style = {
                                width: that.size.width - soffsetw,
                                height: that.size.height - soffseth
                            },
                            left = parseInt(that.element.css("left"), 10) + (that.position.left - that.originalPosition.left) || null,
                            top = parseInt(that.element.css("top"), 10) + (that.position.top - that.originalPosition.top) || null;
                        that.element.animate($.extend(style, top && left ? {
                            top: top,
                            left: left
                        } : {}), {
                            duration: o.animateDuration,
                            easing: o.animateEasing,
                            step: function() {
                                var data = {
                                    width: parseInt(that.element.css("width"), 10),
                                    height: parseInt(that.element.css("height"), 10),
                                    top: parseInt(that.element.css("top"), 10),
                                    left: parseInt(that.element.css("left"), 10)
                                };
                                if (pr && pr.length) {
                                    $(pr[0]).css({
                                        width: data.width,
                                        height: data.height
                                    })
                                }
                                that._updateCache(data);
                                that._propagate("resize", event)
                            }
                        })
                    }
                });
                $.ui.plugin.add("resizable", "containment", {
                    start: function() {
                        var element, p, co, ch, cw, width, height, that = $(this).data("ui-resizable"),
                            o = that.options,
                            el = that.element,
                            oc = o.containment,
                            ce = oc instanceof $ ? oc.get(0) : /parent/.test(oc) ? el.parent().get(0) : oc;
                        if (!ce) {
                            return
                        }
                        that.containerElement = $(ce);
                        if (/document/.test(oc) || oc === document) {
                            that.containerOffset = {
                                left: 0,
                                top: 0
                            };
                            that.containerPosition = {
                                left: 0,
                                top: 0
                            };
                            that.parentData = {
                                element: $(document),
                                left: 0,
                                top: 0,
                                width: $(document).width(),
                                height: $(document).height() || document.body.parentNode.scrollHeight
                            }
                        } else {
                            element = $(ce);
                            p = [];
                            $(["Top", "Right", "Left", "Bottom"]).each(function(i, name) {
                                p[i] = num(element.css("padding" + name))
                            });
                            that.containerOffset = element.offset();
                            that.containerPosition = element.position();
                            that.containerSize = {
                                height: element.innerHeight() - p[3],
                                width: element.innerWidth() - p[1]
                            };
                            co = that.containerOffset;
                            ch = that.containerSize.height;
                            cw = that.containerSize.width;
                            width = $.ui.hasScroll(ce, "left") ? ce.scrollWidth : cw;
                            height = $.ui.hasScroll(ce) ? ce.scrollHeight : ch;
                            that.parentData = {
                                element: ce,
                                left: co.left,
                                top: co.top,
                                width: width,
                                height: height
                            }
                        }
                    },
                    resize: function(event) {
                        var woset, hoset, isParent, isOffsetRelative, that = $(this).data("ui-resizable"),
                            o = that.options,
                            co = that.containerOffset,
                            cp = that.position,
                            pRatio = that._aspectRatio || event.shiftKey,
                            cop = {
                                top: 0,
                                left: 0
                            },
                            ce = that.containerElement;
                        if (ce[0] !== document && /static/.test(ce.css("position"))) {
                            cop = co
                        }
                        if (cp.left < (that._helper ? co.left : 0)) {
                            that.size.width = that.size.width + (that._helper ? that.position.left - co.left : that.position.left - cop.left);
                            if (pRatio) {
                                that.size.height = that.size.width / that.aspectRatio
                            }
                            that.position.left = o.helper ? co.left : 0
                        }
                        if (cp.top < (that._helper ? co.top : 0)) {
                            that.size.height = that.size.height + (that._helper ? that.position.top - co.top : that.position.top);
                            if (pRatio) {
                                that.size.width = that.size.height * that.aspectRatio
                            }
                            that.position.top = that._helper ? co.top : 0
                        }
                        that.offset.left = that.parentData.left + that.position.left;
                        that.offset.top = that.parentData.top + that.position.top;
                        woset = Math.abs((that._helper ? that.offset.left - cop.left : that.offset.left - cop.left) + that.sizeDiff.width);
                        hoset = Math.abs((that._helper ? that.offset.top - cop.top : that.offset.top - co.top) + that.sizeDiff.height);
                        isParent = that.containerElement.get(0) === that.element.parent().get(0);
                        isOffsetRelative = /relative|absolute/.test(that.containerElement.css("position"));
                        if (isParent && isOffsetRelative) {
                            woset -= that.parentData.left
                        }
                        if (woset + that.size.width >= that.parentData.width) {
                            that.size.width = that.parentData.width - woset;
                            if (pRatio) {
                                that.size.height = that.size.width / that.aspectRatio
                            }
                        }
                        if (hoset + that.size.height >= that.parentData.height) {
                            that.size.height = that.parentData.height - hoset;
                            if (pRatio) {
                                that.size.width = that.size.height * that.aspectRatio
                            }
                        }
                    },
                    stop: function() {
                        var that = $(this).data("ui-resizable"),
                            o = that.options,
                            co = that.containerOffset,
                            cop = that.containerPosition,
                            ce = that.containerElement,
                            helper = $(that.helper),
                            ho = helper.offset(),
                            w = helper.outerWidth() - that.sizeDiff.width,
                            h = helper.outerHeight() - that.sizeDiff.height;
                        if (that._helper && !o.animate && /relative/.test(ce.css("position"))) {
                            $(this).css({
                                left: ho.left - cop.left - co.left,
                                width: w,
                                height: h
                            })
                        }
                        if (that._helper && !o.animate && /static/.test(ce.css("position"))) {
                            $(this).css({
                                left: ho.left - cop.left - co.left,
                                width: w,
                                height: h
                            })
                        }
                    }
                });
                $.ui.plugin.add("resizable", "alsoResize", {
                    start: function() {
                        var that = $(this).data("ui-resizable"),
                            o = that.options,
                            _store = function(exp) {
                                $(exp).each(function() {
                                    var el = $(this);
                                    el.data("ui-resizable-alsoresize", {
                                        width: parseInt(el.width(), 10),
                                        height: parseInt(el.height(), 10),
                                        left: parseInt(el.css("left"), 10),
                                        top: parseInt(el.css("top"), 10)
                                    })
                                })
                            };
                        if (typeof o.alsoResize === "object" && !o.alsoResize.parentNode) {
                            if (o.alsoResize.length) {
                                o.alsoResize = o.alsoResize[0];
                                _store(o.alsoResize)
                            } else {
                                $.each(o.alsoResize, function(exp) {
                                    _store(exp)
                                })
                            }
                        } else {
                            _store(o.alsoResize)
                        }
                    },
                    resize: function(event, ui) {
                        var that = $(this).data("ui-resizable"),
                            o = that.options,
                            os = that.originalSize,
                            op = that.originalPosition,
                            delta = {
                                height: that.size.height - os.height || 0,
                                width: that.size.width - os.width || 0,
                                top: that.position.top - op.top || 0,
                                left: that.position.left - op.left || 0
                            },
                            _alsoResize = function(exp, c) {
                                $(exp).each(function() {
                                    var el = $(this),
                                        start = $(this).data("ui-resizable-alsoresize"),
                                        style = {},
                                        css = c && c.length ? c : el.parents(ui.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                                    $.each(css, function(i, prop) {
                                        var sum = (start[prop] || 0) + (delta[prop] || 0);
                                        if (sum && sum >= 0) {
                                            style[prop] = sum || null
                                        }
                                    });
                                    el.css(style)
                                })
                            };
                        if (typeof o.alsoResize === "object" && !o.alsoResize.nodeType) {
                            $.each(o.alsoResize, function(exp, c) {
                                _alsoResize(exp, c)
                            })
                        } else {
                            _alsoResize(o.alsoResize)
                        }
                    },
                    stop: function() {
                        $(this).removeData("resizable-alsoresize")
                    }
                });
                $.ui.plugin.add("resizable", "ghost", {
                    start: function() {
                        var that = $(this).data("ui-resizable"),
                            o = that.options,
                            cs = that.size;
                        that.ghost = that.originalElement.clone();
                        that.ghost.css({
                            opacity: .25,
                            display: "block",
                            position: "relative",
                            height: cs.height,
                            width: cs.width,
                            margin: 0,
                            left: 0,
                            top: 0
                        }).addClass("ui-resizable-ghost").addClass(typeof o.ghost === "string" ? o.ghost : "");
                        that.ghost.appendTo(that.helper)
                    },
                    resize: function() {
                        var that = $(this).data("ui-resizable");
                        if (that.ghost) {
                            that.ghost.css({
                                position: "relative",
                                height: that.size.height,
                                width: that.size.width
                            })
                        }
                    },
                    stop: function() {
                        var that = $(this).data("ui-resizable");
                        if (that.ghost && that.helper) {
                            that.helper.get(0).removeChild(that.ghost.get(0))
                        }
                    }
                });
                $.ui.plugin.add("resizable", "grid", {
                    resize: function() {
                        var that = $(this).data("ui-resizable"),
                            o = that.options,
                            cs = that.size,
                            os = that.originalSize,
                            op = that.originalPosition,
                            a = that.axis,
                            grid = typeof o.grid === "number" ? [o.grid, o.grid] : o.grid,
                            gridX = grid[0] || 1,
                            gridY = grid[1] || 1,
                            ox = Math.round((cs.width - os.width) / gridX) * gridX,
                            oy = Math.round((cs.height - os.height) / gridY) * gridY,
                            newWidth = os.width + ox,
                            newHeight = os.height + oy,
                            isMaxWidth = o.maxWidth && o.maxWidth < newWidth,
                            isMaxHeight = o.maxHeight && o.maxHeight < newHeight,
                            isMinWidth = o.minWidth && o.minWidth > newWidth,
                            isMinHeight = o.minHeight && o.minHeight > newHeight;
                        o.grid = grid;
                        if (isMinWidth) {
                            newWidth = newWidth + gridX
                        }
                        if (isMinHeight) {
                            newHeight = newHeight + gridY
                        }
                        if (isMaxWidth) {
                            newWidth = newWidth - gridX
                        }
                        if (isMaxHeight) {
                            newHeight = newHeight - gridY
                        }
                        if (/^(se|s|e)$/.test(a)) {
                            that.size.width = newWidth;
                            that.size.height = newHeight
                        } else if (/^(ne)$/.test(a)) {
                            that.size.width = newWidth;
                            that.size.height = newHeight;
                            that.position.top = op.top - oy
                        } else if (/^(sw)$/.test(a)) {
                            that.size.width = newWidth;
                            that.size.height = newHeight;
                            that.position.left = op.left - ox
                        } else {
                            that.size.width = newWidth;
                            that.size.height = newHeight;
                            that.position.top = op.top - oy;
                            that.position.left = op.left - ox
                        }
                    }
                })
            })(jQuery);
            (function($, undefined) {
                $.widget("ui.selectable", $.ui.mouse, {
                    version: "1.10.3",
                    options: {
                        appendTo: "body",
                        autoRefresh: true,
                        distance: 0,
                        filter: "*",
                        tolerance: "touch",
                        selected: null,
                        selecting: null,
                        start: null,
                        stop: null,
                        unselected: null,
                        unselecting: null
                    },
                    _create: function() {
                        var selectees, that = this;
                        this.element.addClass("ui-selectable");
                        this.dragged = false;
                        this.refresh = function() {
                            selectees = $(that.options.filter, that.element[0]);
                            selectees.addClass("ui-selectee");
                            selectees.each(function() {
                                var $this = $(this),
                                    pos = $this.offset();
                                $.data(this, "selectable-item", {
                                    element: this,
                                    $element: $this,
                                    left: pos.left,
                                    top: pos.top,
                                    right: pos.left + $this.outerWidth(),
                                    bottom: pos.top + $this.outerHeight(),
                                    startselected: false,
                                    selected: $this.hasClass("ui-selected"),
                                    selecting: $this.hasClass("ui-selecting"),
                                    unselecting: $this.hasClass("ui-unselecting")
                                })
                            })
                        };
                        this.refresh();
                        this.selectees = selectees.addClass("ui-selectee");
                        this._mouseInit();
                        this.helper = $("<div class='ui-selectable-helper'></div>")
                    },
                    _destroy: function() {
                        this.selectees.removeClass("ui-selectee").removeData("selectable-item");
                        this.element.removeClass("ui-selectable ui-selectable-disabled");
                        this._mouseDestroy()
                    },
                    _mouseStart: function(event) {
                        var that = this,
                            options = this.options;
                        this.opos = [event.pageX, event.pageY];
                        if (this.options.disabled) {
                            return
                        }
                        this.selectees = $(options.filter, this.element[0]);
                        this._trigger("start", event);
                        $(options.appendTo).append(this.helper);
                        this.helper.css({
                            left: event.pageX,
                            top: event.pageY,
                            width: 0,
                            height: 0
                        });
                        if (options.autoRefresh) {
                            this.refresh()
                        }
                        this.selectees.filter(".ui-selected").each(function() {
                            var selectee = $.data(this, "selectable-item");
                            selectee.startselected = true;
                            if (!event.metaKey && !event.ctrlKey) {
                                selectee.$element.removeClass("ui-selected");
                                selectee.selected = false;
                                selectee.$element.addClass("ui-unselecting");
                                selectee.unselecting = true;
                                that._trigger("unselecting", event, {
                                    unselecting: selectee.element
                                })
                            }
                        });
                        $(event.target).parents().addBack().each(function() {
                            var doSelect, selectee = $.data(this, "selectable-item");
                            if (selectee) {
                                doSelect = !event.metaKey && !event.ctrlKey || !selectee.$element.hasClass("ui-selected");
                                selectee.$element.removeClass(doSelect ? "ui-unselecting" : "ui-selected").addClass(doSelect ? "ui-selecting" : "ui-unselecting");
                                selectee.unselecting = !doSelect;
                                selectee.selecting = doSelect;
                                selectee.selected = doSelect;
                                if (doSelect) {
                                    that._trigger("selecting", event, {
                                        selecting: selectee.element
                                    })
                                } else {
                                    that._trigger("unselecting", event, {
                                        unselecting: selectee.element
                                    })
                                }
                                return false
                            }
                        })
                    },
                    _mouseDrag: function(event) {
                        this.dragged = true;
                        if (this.options.disabled) {
                            return
                        }
                        var tmp, that = this,
                            options = this.options,
                            x1 = this.opos[0],
                            y1 = this.opos[1],
                            x2 = event.pageX,
                            y2 = event.pageY;
                        if (x1 > x2) {
                            tmp = x2;
                            x2 = x1;
                            x1 = tmp
                        }
                        if (y1 > y2) {
                            tmp = y2;
                            y2 = y1;
                            y1 = tmp
                        }
                        this.helper.css({
                            left: x1,
                            top: y1,
                            width: x2 - x1,
                            height: y2 - y1
                        });
                        this.selectees.each(function() {
                            var selectee = $.data(this, "selectable-item"),
                                hit = false;
                            if (!selectee || selectee.element === that.element[0]) {
                                return
                            }
                            if (options.tolerance === "touch") {
                                hit = !(selectee.left > x2 || selectee.right < x1 || selectee.top > y2 || selectee.bottom < y1)
                            } else if (options.tolerance === "fit") {
                                hit = selectee.left > x1 && selectee.right < x2 && selectee.top > y1 && selectee.bottom < y2
                            }
                            if (hit) {
                                if (selectee.selected) {
                                    selectee.$element.removeClass("ui-selected");
                                    selectee.selected = false
                                }
                                if (selectee.unselecting) {
                                    selectee.$element.removeClass("ui-unselecting");
                                    selectee.unselecting = false
                                }
                                if (!selectee.selecting) {
                                    selectee.$element.addClass("ui-selecting");
                                    selectee.selecting = true;
                                    that._trigger("selecting", event, {
                                        selecting: selectee.element
                                    })
                                }
                            } else {
                                if (selectee.selecting) {
                                    if ((event.metaKey || event.ctrlKey) && selectee.startselected) {
                                        selectee.$element.removeClass("ui-selecting");
                                        selectee.selecting = false;
                                        selectee.$element.addClass("ui-selected");
                                        selectee.selected = true
                                    } else {
                                        selectee.$element.removeClass("ui-selecting");
                                        selectee.selecting = false;
                                        if (selectee.startselected) {
                                            selectee.$element.addClass("ui-unselecting");
                                            selectee.unselecting = true
                                        }
                                        that._trigger("unselecting", event, {
                                            unselecting: selectee.element
                                        })
                                    }
                                }
                                if (selectee.selected) {
                                    if (!event.metaKey && !event.ctrlKey && !selectee.startselected) {
                                        selectee.$element.removeClass("ui-selected");
                                        selectee.selected = false;
                                        selectee.$element.addClass("ui-unselecting");
                                        selectee.unselecting = true;
                                        that._trigger("unselecting", event, {
                                            unselecting: selectee.element
                                        })
                                    }
                                }
                            }
                        });
                        return false
                    },
                    _mouseStop: function(event) {
                        var that = this;
                        this.dragged = false;
                        $(".ui-unselecting", this.element[0]).each(function() {
                            var selectee = $.data(this, "selectable-item");
                            selectee.$element.removeClass("ui-unselecting");
                            selectee.unselecting = false;
                            selectee.startselected = false;
                            that._trigger("unselected", event, {
                                unselected: selectee.element
                            })
                        });
                        $(".ui-selecting", this.element[0]).each(function() {
                            var selectee = $.data(this, "selectable-item");
                            selectee.$element.removeClass("ui-selecting").addClass("ui-selected");
                            selectee.selecting = false;
                            selectee.selected = true;
                            selectee.startselected = true;
                            that._trigger("selected", event, {
                                selected: selectee.element
                            })
                        });
                        this._trigger("stop", event);
                        this.helper.remove();
                        return false
                    }
                })
            })(jQuery);
            (function($, undefined) {
                function isOverAxis(x, reference, size) {
                    return x > reference && x < reference + size
                }

                function isFloating(item) {
                    return /left|right/.test(item.css("float")) || /inline|table-cell/.test(item.css("display"))
                }
                $.widget("ui.sortable", $.ui.mouse, {
                    version: "1.10.3",
                    widgetEventPrefix: "sort",
                    ready: false,
                    options: {
                        appendTo: "parent",
                        axis: false,
                        connectWith: false,
                        containment: false,
                        cursor: "auto",
                        cursorAt: false,
                        dropOnEmpty: true,
                        forcePlaceholderSize: false,
                        forceHelperSize: false,
                        grid: false,
                        handle: false,
                        helper: "original",
                        items: "> *",
                        opacity: false,
                        placeholder: false,
                        revert: false,
                        scroll: true,
                        scrollSensitivity: 20,
                        scrollSpeed: 20,
                        scope: "default",
                        tolerance: "intersect",
                        zIndex: 1e3,
                        activate: null,
                        beforeStop: null,
                        change: null,
                        deactivate: null,
                        out: null,
                        over: null,
                        receive: null,
                        remove: null,
                        sort: null,
                        start: null,
                        stop: null,
                        update: null
                    },
                    _create: function() {
                        var o = this.options;
                        this.containerCache = {};
                        this.element.addClass("ui-sortable");
                        this.refresh();
                        this.floating = this.items.length ? o.axis === "x" || isFloating(this.items[0].item) : false;
                        this.offset = this.element.offset();
                        this._mouseInit();
                        this.ready = true
                    },
                    _destroy: function() {
                        this.element.removeClass("ui-sortable ui-sortable-disabled");
                        this._mouseDestroy();
                        for (var i = this.items.length - 1; i >= 0; i--) {
                            this.items[i].item.removeData(this.widgetName + "-item")
                        }
                        return this
                    },
                    _setOption: function(key, value) {
                        if (key === "disabled") {
                            this.options[key] = value;
                            this.widget().toggleClass("ui-sortable-disabled", !!value)
                        } else {
                            $.Widget.prototype._setOption.apply(this, arguments)
                        }
                    },
                    _mouseCapture: function(event, overrideHandle) {
                        var currentItem = null,
                            validHandle = false,
                            that = this;
                        if (this.reverting) {
                            return false
                        }
                        if (this.options.disabled || this.options.type === "static") {
                            return false
                        }
                        this._refreshItems(event);
                        $(event.target).parents().each(function() {
                            if ($.data(this, that.widgetName + "-item") === that) {
                                currentItem = $(this);
                                return false
                            }
                        });
                        if ($.data(event.target, that.widgetName + "-item") === that) {
                            currentItem = $(event.target)
                        }
                        if (!currentItem) {
                            return false
                        }
                        if (this.options.handle && !overrideHandle) {
                            $(this.options.handle, currentItem).find("*").addBack().each(function() {
                                if (this === event.target) {
                                    validHandle = true
                                }
                            });
                            if (!validHandle) {
                                return false
                            }
                        }
                        this.currentItem = currentItem;
                        this._removeCurrentsFromItems();
                        return true
                    },
                    _mouseStart: function(event, overrideHandle, noActivation) {
                        var i, body, o = this.options;
                        this.currentContainer = this;
                        this.refreshPositions();
                        this.helper = this._createHelper(event);
                        this._cacheHelperProportions();
                        this._cacheMargins();
                        this.scrollParent = this.helper.scrollParent();
                        this.offset = this.currentItem.offset();
                        this.offset = {
                            top: this.offset.top - this.margins.top,
                            left: this.offset.left - this.margins.left
                        };
                        $.extend(this.offset, {
                            click: {
                                left: event.pageX - this.offset.left,
                                top: event.pageY - this.offset.top
                            },
                            parent: this._getParentOffset(),
                            relative: this._getRelativeOffset()
                        });
                        this.helper.css("position", "absolute");
                        this.cssPosition = this.helper.css("position");
                        this.originalPosition = this._generatePosition(event);
                        this.originalPageX = event.pageX;
                        this.originalPageY = event.pageY;
                        o.cursorAt && this._adjustOffsetFromHelper(o.cursorAt);
                        this.domPosition = {
                            prev: this.currentItem.prev()[0],
                            parent: this.currentItem.parent()[0]
                        };
                        if (this.helper[0] !== this.currentItem[0]) {
                            this.currentItem.hide()
                        }
                        this._createPlaceholder();
                        if (o.containment) {
                            this._setContainment()
                        }
                        if (o.cursor && o.cursor !== "auto") {
                            body = this.document.find("body");
                            this.storedCursor = body.css("cursor");
                            body.css("cursor", o.cursor);
                            this.storedStylesheet = $("<style>*{ cursor: " + o.cursor + " !important; }</style>").appendTo(body)
                        }
                        if (o.opacity) {
                            if (this.helper.css("opacity")) {
                                this._storedOpacity = this.helper.css("opacity")
                            }
                            this.helper.css("opacity", o.opacity)
                        }
                        if (o.zIndex) {
                            if (this.helper.css("zIndex")) {
                                this._storedZIndex = this.helper.css("zIndex")
                            }
                            this.helper.css("zIndex", o.zIndex)
                        }
                        if (this.scrollParent[0] !== document && this.scrollParent[0].tagName !== "HTML") {
                            this.overflowOffset = this.scrollParent.offset()
                        }
                        this._trigger("start", event, this._uiHash());
                        if (!this._preserveHelperProportions) {
                            this._cacheHelperProportions()
                        }
                        if (!noActivation) {
                            for (i = this.containers.length - 1; i >= 0; i--) {
                                this.containers[i]._trigger("activate", event, this._uiHash(this))
                            }
                        }
                        if ($.ui.ddmanager) {
                            $.ui.ddmanager.current = this
                        }
                        if ($.ui.ddmanager && !o.dropBehaviour) {
                            $.ui.ddmanager.prepareOffsets(this, event)
                        }
                        this.dragging = true;
                        this.helper.addClass("ui-sortable-helper");
                        this._mouseDrag(event);
                        return true
                    },
                    _mouseDrag: function(event) {
                        var i, item, itemElement, intersection, o = this.options,
                            scrolled = false;
                        this.position = this._generatePosition(event);
                        this.positionAbs = this._convertPositionTo("absolute");
                        if (!this.lastPositionAbs) {
                            this.lastPositionAbs = this.positionAbs
                        }
                        if (this.options.scroll) {
                            if (this.scrollParent[0] !== document && this.scrollParent[0].tagName !== "HTML") {
                                if (this.overflowOffset.top + this.scrollParent[0].offsetHeight - event.pageY < o.scrollSensitivity) {
                                    this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop + o.scrollSpeed
                                } else if (event.pageY - this.overflowOffset.top < o.scrollSensitivity) {
                                    this.scrollParent[0].scrollTop = scrolled = this.scrollParent[0].scrollTop - o.scrollSpeed
                                }
                                if (this.overflowOffset.left + this.scrollParent[0].offsetWidth - event.pageX < o.scrollSensitivity) {
                                    this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft + o.scrollSpeed
                                } else if (event.pageX - this.overflowOffset.left < o.scrollSensitivity) {
                                    this.scrollParent[0].scrollLeft = scrolled = this.scrollParent[0].scrollLeft - o.scrollSpeed
                                }
                            } else {
                                if (event.pageY - $(document).scrollTop() < o.scrollSensitivity) {
                                    scrolled = $(document).scrollTop($(document).scrollTop() - o.scrollSpeed)
                                } else if ($(window).height() - (event.pageY - $(document).scrollTop()) < o.scrollSensitivity) {
                                    scrolled = $(document).scrollTop($(document).scrollTop() + o.scrollSpeed)
                                }
                                if (event.pageX - $(document).scrollLeft() < o.scrollSensitivity) {
                                    scrolled = $(document).scrollLeft($(document).scrollLeft() - o.scrollSpeed)
                                } else if ($(window).width() - (event.pageX - $(document).scrollLeft()) < o.scrollSensitivity) {
                                    scrolled = $(document).scrollLeft($(document).scrollLeft() + o.scrollSpeed)
                                }
                            }
                            if (scrolled !== false && $.ui.ddmanager && !o.dropBehaviour) {
                                $.ui.ddmanager.prepareOffsets(this, event)
                            }
                        }
                        this.positionAbs = this._convertPositionTo("absolute");
                        if (!this.options.axis || this.options.axis !== "y") {
                            this.helper[0].style.left = this.position.left + "px"
                        }
                        if (!this.options.axis || this.options.axis !== "x") {
                            this.helper[0].style.top = this.position.top + "px"
                        }
                        for (i = this.items.length - 1; i >= 0; i--) {
                            item = this.items[i];
                            itemElement = item.item[0];
                            intersection = this._intersectsWithPointer(item);
                            if (!intersection) {
                                continue
                            }
                            if (item.instance !== this.currentContainer) {
                                continue
                            }
                            if (itemElement !== this.currentItem[0] && this.placeholder[intersection === 1 ? "next" : "prev"]()[0] !== itemElement && !$.contains(this.placeholder[0], itemElement) && (this.options.type === "semi-dynamic" ? !$.contains(this.element[0], itemElement) : true)) {
                                this.direction = intersection === 1 ? "down" : "up";
                                if (this.options.tolerance === "pointer" || this._intersectsWithSides(item)) {
                                    this._rearrange(event, item)
                                } else {
                                    break
                                }
                                this._trigger("change", event, this._uiHash());
                                break
                            }
                        }
                        this._contactContainers(event);
                        if ($.ui.ddmanager) {
                            $.ui.ddmanager.drag(this, event)
                        }
                        this._trigger("sort", event, this._uiHash());
                        this.lastPositionAbs = this.positionAbs;
                        return false
                    },
                    _mouseStop: function(event, noPropagation) {
                        if (!event) {
                            return
                        }
                        if ($.ui.ddmanager && !this.options.dropBehaviour) {
                            $.ui.ddmanager.drop(this, event)
                        }
                        if (this.options.revert) {
                            var that = this,
                                cur = this.placeholder.offset(),
                                axis = this.options.axis,
                                animation = {};
                            if (!axis || axis === "x") {
                                animation.left = cur.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft)
                            }
                            if (!axis || axis === "y") {
                                animation.top = cur.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop)
                            }
                            this.reverting = true;
                            $(this.helper).animate(animation, parseInt(this.options.revert, 10) || 500, function() {
                                that._clear(event)
                            })
                        } else {
                            this._clear(event, noPropagation)
                        }
                        return false
                    },
                    cancel: function() {
                        if (this.dragging) {
                            this._mouseUp({
                                target: null
                            });
                            if (this.options.helper === "original") {
                                this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
                            } else {
                                this.currentItem.show()
                            }
                            for (var i = this.containers.length - 1; i >= 0; i--) {
                                this.containers[i]._trigger("deactivate", null, this._uiHash(this));
                                if (this.containers[i].containerCache.over) {
                                    this.containers[i]._trigger("out", null, this._uiHash(this));
                                    this.containers[i].containerCache.over = 0
                                }
                            }
                        }
                        if (this.placeholder) {
                            if (this.placeholder[0].parentNode) {
                                this.placeholder[0].parentNode.removeChild(this.placeholder[0])
                            }
                            if (this.options.helper !== "original" && this.helper && this.helper[0].parentNode) {
                                this.helper.remove()
                            }
                            $.extend(this, {
                                helper: null,
                                dragging: false,
                                reverting: false,
                                _noFinalSort: null
                            });
                            if (this.domPosition.prev) {
                                $(this.domPosition.prev).after(this.currentItem)
                            } else {
                                $(this.domPosition.parent).prepend(this.currentItem)
                            }
                        }
                        return this
                    },
                    serialize: function(o) {
                        var items = this._getItemsAsjQuery(o && o.connected),
                            str = [];
                        o = o || {};
                        $(items).each(function() {
                            var res = ($(o.item || this).attr(o.attribute || "id") || "").match(o.expression || /(.+)[\-=_](.+)/);
                            if (res) {
                                str.push((o.key || res[1] + "[]") + "=" + (o.key && o.expression ? res[1] : res[2]))
                            }
                        });
                        if (!str.length && o.key) {
                            str.push(o.key + "=")
                        }
                        return str.join("&")
                    },
                    toArray: function(o) {
                        var items = this._getItemsAsjQuery(o && o.connected),
                            ret = [];
                        o = o || {};
                        items.each(function() {
                            ret.push($(o.item || this).attr(o.attribute || "id") || "")
                        });
                        return ret
                    },
                    _intersectsWith: function(item) {
                        var x1 = this.positionAbs.left,
                            x2 = x1 + this.helperProportions.width,
                            y1 = this.positionAbs.top,
                            y2 = y1 + this.helperProportions.height,
                            l = item.left,
                            r = l + item.width,
                            t = item.top,
                            b = t + item.height,
                            dyClick = this.offset.click.top,
                            dxClick = this.offset.click.left,
                            isOverElementHeight = this.options.axis === "x" || y1 + dyClick > t && y1 + dyClick < b,
                            isOverElementWidth = this.options.axis === "y" || x1 + dxClick > l && x1 + dxClick < r,
                            isOverElement = isOverElementHeight && isOverElementWidth;
                        if (this.options.tolerance === "pointer" || this.options.forcePointerForContainers || this.options.tolerance !== "pointer" && this.helperProportions[this.floating ? "width" : "height"] > item[this.floating ? "width" : "height"]) {
                            return isOverElement
                        } else {
                            return l < x1 + this.helperProportions.width / 2 && x2 - this.helperProportions.width / 2 < r && t < y1 + this.helperProportions.height / 2 && y2 - this.helperProportions.height / 2 < b
                        }
                    },
                    _intersectsWithPointer: function(item) {
                        var isOverElementHeight = this.options.axis === "x" || isOverAxis(this.positionAbs.top + this.offset.click.top, item.top, item.height),
                            isOverElementWidth = this.options.axis === "y" || isOverAxis(this.positionAbs.left + this.offset.click.left, item.left, item.width),
                            isOverElement = isOverElementHeight && isOverElementWidth,
                            verticalDirection = this._getDragVerticalDirection(),
                            horizontalDirection = this._getDragHorizontalDirection();
                        if (!isOverElement) {
                            return false
                        }
                        return this.floating ? horizontalDirection && horizontalDirection === "right" || verticalDirection === "down" ? 2 : 1 : verticalDirection && (verticalDirection === "down" ? 2 : 1)
                    },
                    _intersectsWithSides: function(item) {
                        var isOverBottomHalf = isOverAxis(this.positionAbs.top + this.offset.click.top, item.top + item.height / 2, item.height),
                            isOverRightHalf = isOverAxis(this.positionAbs.left + this.offset.click.left, item.left + item.width / 2, item.width),
                            verticalDirection = this._getDragVerticalDirection(),
                            horizontalDirection = this._getDragHorizontalDirection();
                        if (this.floating && horizontalDirection) {
                            return horizontalDirection === "right" && isOverRightHalf || horizontalDirection === "left" && !isOverRightHalf
                        } else {
                            return verticalDirection && (verticalDirection === "down" && isOverBottomHalf || verticalDirection === "up" && !isOverBottomHalf)
                        }
                    },
                    _getDragVerticalDirection: function() {
                        var delta = this.positionAbs.top - this.lastPositionAbs.top;
                        return delta !== 0 && (delta > 0 ? "down" : "up")
                    },
                    _getDragHorizontalDirection: function() {
                        var delta = this.positionAbs.left - this.lastPositionAbs.left;
                        return delta !== 0 && (delta > 0 ? "right" : "left")
                    },
                    refresh: function(event) {
                        this._refreshItems(event);
                        this.refreshPositions();
                        return this
                    },
                    _connectWith: function() {
                        var options = this.options;
                        return options.connectWith.constructor === String ? [options.connectWith] : options.connectWith
                    },
                    _getItemsAsjQuery: function(connected) {
                        var i, j, cur, inst, items = [],
                            queries = [],
                            connectWith = this._connectWith();
                        if (connectWith && connected) {
                            for (i = connectWith.length - 1; i >= 0; i--) {
                                cur = $(connectWith[i]);
                                for (j = cur.length - 1; j >= 0; j--) {
                                    inst = $.data(cur[j], this.widgetFullName);
                                    if (inst && inst !== this && !inst.options.disabled) {
                                        queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element) : $(inst.options.items, inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), inst])
                                    }
                                }
                            }
                        }
                        queries.push([$.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
                            options: this.options,
                            item: this.currentItem
                        }) : $(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]);
                        for (i = queries.length - 1; i >= 0; i--) {
                            queries[i][0].each(function() {
                                items.push(this)
                            })
                        }
                        return $(items)
                    },
                    _removeCurrentsFromItems: function() {
                        var list = this.currentItem.find(":data(" + this.widgetName + "-item)");
                        this.items = $.grep(this.items, function(item) {
                            for (var j = 0; j < list.length; j++) {
                                if (list[j] === item.item[0]) {
                                    return false
                                }
                            }
                            return true
                        })
                    },
                    _refreshItems: function(event) {
                        this.items = [];
                        this.containers = [this];
                        var i, j, cur, inst, targetData, _queries, item, queriesLength, items = this.items,
                            queries = [
                                [$.isFunction(this.options.items) ? this.options.items.call(this.element[0], event, {
                                    item: this.currentItem
                                }) : $(this.options.items, this.element), this]
                            ],
                            connectWith = this._connectWith();
                        if (connectWith && this.ready) {
                            for (i = connectWith.length - 1; i >= 0; i--) {
                                cur = $(connectWith[i]);
                                for (j = cur.length - 1; j >= 0; j--) {
                                    inst = $.data(cur[j], this.widgetFullName);
                                    if (inst && inst !== this && !inst.options.disabled) {
                                        queries.push([$.isFunction(inst.options.items) ? inst.options.items.call(inst.element[0], event, {
                                            item: this.currentItem
                                        }) : $(inst.options.items, inst.element), inst]);
                                        this.containers.push(inst)
                                    }
                                }
                            }
                        }
                        for (i = queries.length - 1; i >= 0; i--) {
                            targetData = queries[i][1];
                            _queries = queries[i][0];
                            for (j = 0, queriesLength = _queries.length; j < queriesLength; j++) {
                                item = $(_queries[j]);
                                item.data(this.widgetName + "-item", targetData);
                                items.push({
                                    item: item,
                                    instance: targetData,
                                    width: 0,
                                    height: 0,
                                    left: 0,
                                    top: 0
                                })
                            }
                        }
                    },
                    refreshPositions: function(fast) {
                        if (this.offsetParent && this.helper) {
                            this.offset.parent = this._getParentOffset()
                        }
                        var i, item, t, p;
                        for (i = this.items.length - 1; i >= 0; i--) {
                            item = this.items[i];
                            if (item.instance !== this.currentContainer && this.currentContainer && item.item[0] !== this.currentItem[0]) {
                                continue
                            }
                            t = this.options.toleranceElement ? $(this.options.toleranceElement, item.item) : item.item;
                            if (!fast) {
                                item.width = t.outerWidth();
                                item.height = t.outerHeight()
                            }
                            p = t.offset();
                            item.left = p.left;
                            item.top = p.top
                        }
                        if (this.options.custom && this.options.custom.refreshContainers) {
                            this.options.custom.refreshContainers.call(this)
                        } else {
                            for (i = this.containers.length - 1; i >= 0; i--) {
                                p = this.containers[i].element.offset();
                                this.containers[i].containerCache.left = p.left;
                                this.containers[i].containerCache.top = p.top;
                                this.containers[i].containerCache.width = this.containers[i].element.outerWidth();
                                this.containers[i].containerCache.height = this.containers[i].element.outerHeight()
                            }
                        }
                        return this
                    },
                    _createPlaceholder: function(that) {
                        that = that || this;
                        var className, o = that.options;
                        if (!o.placeholder || o.placeholder.constructor === String) {
                            className = o.placeholder;
                            o.placeholder = {
                                element: function() {
                                    var nodeName = that.currentItem[0].nodeName.toLowerCase(),
                                        element = $("<" + nodeName + ">", that.document[0]).addClass(className || that.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
                                    if (nodeName === "tr") {
                                        that.currentItem.children().each(function() {
                                            $("<td>&#160;</td>", that.document[0]).attr("colspan", $(this).attr("colspan") || 1).appendTo(element)
                                        })
                                    } else if (nodeName === "img") {
                                        element.attr("src", that.currentItem.attr("src"))
                                    }
                                    if (!className) {
                                        element.css("visibility", "hidden")
                                    }
                                    return element
                                },
                                update: function(container, p) {
                                    if (className && !o.forcePlaceholderSize) {
                                        return
                                    }
                                    if (!p.height()) {
                                        p.height(that.currentItem.innerHeight() - parseInt(that.currentItem.css("paddingTop") || 0, 10) - parseInt(that.currentItem.css("paddingBottom") || 0, 10))
                                    }
                                    if (!p.width()) {
                                        p.width(that.currentItem.innerWidth() - parseInt(that.currentItem.css("paddingLeft") || 0, 10) - parseInt(that.currentItem.css("paddingRight") || 0, 10))
                                    }
                                }
                            }
                        }
                        that.placeholder = $(o.placeholder.element.call(that.element, that.currentItem));
                        that.currentItem.after(that.placeholder);
                        o.placeholder.update(that, that.placeholder)
                    },
                    _contactContainers: function(event) {
                        var i, j, dist, itemWithLeastDistance, posProperty, sizeProperty, base, cur, nearBottom, floating, innermostContainer = null,
                            innermostIndex = null;
                        for (i = this.containers.length - 1; i >= 0; i--) {
                            if ($.contains(this.currentItem[0], this.containers[i].element[0])) {
                                continue
                            }
                            if (this._intersectsWith(this.containers[i].containerCache)) {
                                if (innermostContainer && $.contains(this.containers[i].element[0], innermostContainer.element[0])) {
                                    continue
                                }
                                innermostContainer = this.containers[i];
                                innermostIndex = i
                            } else {
                                if (this.containers[i].containerCache.over) {
                                    this.containers[i]._trigger("out", event, this._uiHash(this));
                                    this.containers[i].containerCache.over = 0
                                }
                            }
                        }
                        if (!innermostContainer) {
                            return
                        }
                        if (this.containers.length === 1) {
                            if (!this.containers[innermostIndex].containerCache.over) {
                                this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
                                this.containers[innermostIndex].containerCache.over = 1
                            }
                        } else {
                            dist = 1e4;
                            itemWithLeastDistance = null;
                            floating = innermostContainer.floating || isFloating(this.currentItem);
                            posProperty = floating ? "left" : "top";
                            sizeProperty = floating ? "width" : "height";
                            base = this.positionAbs[posProperty] + this.offset.click[posProperty];
                            for (j = this.items.length - 1; j >= 0; j--) {
                                if (!$.contains(this.containers[innermostIndex].element[0], this.items[j].item[0])) {
                                    continue
                                }
                                if (this.items[j].item[0] === this.currentItem[0]) {
                                    continue
                                }
                                if (floating && !isOverAxis(this.positionAbs.top + this.offset.click.top, this.items[j].top, this.items[j].height)) {
                                    continue
                                }
                                cur = this.items[j].item.offset()[posProperty];
                                nearBottom = false;
                                if (Math.abs(cur - base) > Math.abs(cur + this.items[j][sizeProperty] - base)) {
                                    nearBottom = true;
                                    cur += this.items[j][sizeProperty]
                                }
                                if (Math.abs(cur - base) < dist) {
                                    dist = Math.abs(cur - base);
                                    itemWithLeastDistance = this.items[j];
                                    this.direction = nearBottom ? "up" : "down"
                                }
                            }
                            if (!itemWithLeastDistance && !this.options.dropOnEmpty) {
                                return
                            }
                            if (this.currentContainer === this.containers[innermostIndex]) {
                                return
                            }
                            itemWithLeastDistance ? this._rearrange(event, itemWithLeastDistance, null, true) : this._rearrange(event, null, this.containers[innermostIndex].element, true);
                            this._trigger("change", event, this._uiHash());
                            this.containers[innermostIndex]._trigger("change", event, this._uiHash(this));
                            this.currentContainer = this.containers[innermostIndex];
                            this.options.placeholder.update(this.currentContainer, this.placeholder);
                            this.containers[innermostIndex]._trigger("over", event, this._uiHash(this));
                            this.containers[innermostIndex].containerCache.over = 1
                        }
                    },
                    _createHelper: function(event) {
                        var o = this.options,
                            helper = $.isFunction(o.helper) ? $(o.helper.apply(this.element[0], [event, this.currentItem])) : o.helper === "clone" ? this.currentItem.clone() : this.currentItem;
                        if (!helper.parents("body").length) {
                            $(o.appendTo !== "parent" ? o.appendTo : this.currentItem[0].parentNode)[0].appendChild(helper[0])
                        }
                        if (helper[0] === this.currentItem[0]) {
                            this._storedCSS = {
                                width: this.currentItem[0].style.width,
                                height: this.currentItem[0].style.height,
                                position: this.currentItem.css("position"),
                                top: this.currentItem.css("top"),
                                left: this.currentItem.css("left")
                            }
                        }
                        if (!helper[0].style.width || o.forceHelperSize) {
                            helper.width(this.currentItem.width())
                        }
                        if (!helper[0].style.height || o.forceHelperSize) {
                            helper.height(this.currentItem.height())
                        }
                        return helper
                    },
                    _adjustOffsetFromHelper: function(obj) {
                        if (typeof obj === "string") {
                            obj = obj.split(" ")
                        }
                        if ($.isArray(obj)) {
                            obj = {
                                left: +obj[0],
                                top: +obj[1] || 0
                            }
                        }
                        if ("left" in obj) {
                            this.offset.click.left = obj.left + this.margins.left
                        }
                        if ("right" in obj) {
                            this.offset.click.left = this.helperProportions.width - obj.right + this.margins.left
                        }
                        if ("top" in obj) {
                            this.offset.click.top = obj.top + this.margins.top
                        }
                        if ("bottom" in obj) {
                            this.offset.click.top = this.helperProportions.height - obj.bottom + this.margins.top
                        }
                    },
                    _getParentOffset: function() {
                        this.offsetParent = this.helper.offsetParent();
                        var po = this.offsetParent.offset();
                        if (this.cssPosition === "absolute" && this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) {
                            po.left += this.scrollParent.scrollLeft();
                            po.top += this.scrollParent.scrollTop()
                        }
                        if (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && this.offsetParent[0].tagName.toLowerCase() === "html" && $.ui.ie) {
                            po = {
                                top: 0,
                                left: 0
                            }
                        }
                        return {
                            top: po.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                            left: po.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
                        }
                    },
                    _getRelativeOffset: function() {
                        if (this.cssPosition === "relative") {
                            var p = this.currentItem.position();
                            return {
                                top: p.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
                                left: p.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
                            }
                        } else {
                            return {
                                top: 0,
                                left: 0
                            }
                        }
                    },
                    _cacheMargins: function() {
                        this.margins = {
                            left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
                            top: parseInt(this.currentItem.css("marginTop"), 10) || 0
                        }
                    },
                    _cacheHelperProportions: function() {
                        this.helperProportions = {
                            width: this.helper.outerWidth(),
                            height: this.helper.outerHeight()
                        }
                    },
                    _setContainment: function() {
                        var ce, co, over, o = this.options;
                        if (o.containment === "parent") {
                            o.containment = this.helper[0].parentNode
                        }
                        if (o.containment === "document" || o.containment === "window") {
                            this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, $(o.containment === "document" ? document : window).width() - this.helperProportions.width - this.margins.left, ($(o.containment === "document" ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]
                        }
                        if (!/^(document|window|parent)$/.test(o.containment)) {
                            ce = $(o.containment)[0];
                            co = $(o.containment).offset();
                            over = $(ce).css("overflow") !== "hidden";
                            this.containment = [co.left + (parseInt($(ce).css("borderLeftWidth"), 10) || 0) + (parseInt($(ce).css("paddingLeft"), 10) || 0) - this.margins.left, co.top + (parseInt($(ce).css("borderTopWidth"), 10) || 0) + (parseInt($(ce).css("paddingTop"), 10) || 0) - this.margins.top, co.left + (over ? Math.max(ce.scrollWidth, ce.offsetWidth) : ce.offsetWidth) - (parseInt($(ce).css("borderLeftWidth"), 10) || 0) - (parseInt($(ce).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, co.top + (over ? Math.max(ce.scrollHeight, ce.offsetHeight) : ce.offsetHeight) - (parseInt($(ce).css("borderTopWidth"), 10) || 0) - (parseInt($(ce).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top]
                        }
                    },
                    _convertPositionTo: function(d, pos) {
                        if (!pos) {
                            pos = this.position
                        }
                        var mod = d === "absolute" ? 1 : -1,
                            scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
                            scrollIsRootNode = /(html|body)/i.test(scroll[0].tagName);
                        return {
                            top: pos.top + this.offset.relative.top * mod + this.offset.parent.top * mod - (this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : scrollIsRootNode ? 0 : scroll.scrollTop()) * mod,
                            left: pos.left + this.offset.relative.left * mod + this.offset.parent.left * mod - (this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft()) * mod
                        }
                    },
                    _generatePosition: function(event) {
                        var top, left, o = this.options,
                            pageX = event.pageX,
                            pageY = event.pageY,
                            scroll = this.cssPosition === "absolute" && !(this.scrollParent[0] !== document && $.contains(this.scrollParent[0], this.offsetParent[0])) ? this.offsetParent : this.scrollParent,
                            scrollIsRootNode = /(html|body)/i.test(scroll[0].tagName);
                        if (this.cssPosition === "relative" && !(this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0])) {
                            this.offset.relative = this._getRelativeOffset()
                        }
                        if (this.originalPosition) {
                            if (this.containment) {
                                if (event.pageX - this.offset.click.left < this.containment[0]) {
                                    pageX = this.containment[0] + this.offset.click.left
                                }
                                if (event.pageY - this.offset.click.top < this.containment[1]) {
                                    pageY = this.containment[1] + this.offset.click.top
                                }
                                if (event.pageX - this.offset.click.left > this.containment[2]) {
                                    pageX = this.containment[2] + this.offset.click.left
                                }
                                if (event.pageY - this.offset.click.top > this.containment[3]) {
                                    pageY = this.containment[3] + this.offset.click.top
                                }
                            }
                            if (o.grid) {
                                top = this.originalPageY + Math.round((pageY - this.originalPageY) / o.grid[1]) * o.grid[1];
                                pageY = this.containment ? top - this.offset.click.top >= this.containment[1] && top - this.offset.click.top <= this.containment[3] ? top : top - this.offset.click.top >= this.containment[1] ? top - o.grid[1] : top + o.grid[1] : top;
                                left = this.originalPageX + Math.round((pageX - this.originalPageX) / o.grid[0]) * o.grid[0];
                                pageX = this.containment ? left - this.offset.click.left >= this.containment[0] && left - this.offset.click.left <= this.containment[2] ? left : left - this.offset.click.left >= this.containment[0] ? left - o.grid[0] : left + o.grid[0] : left
                            }
                        }
                        return {
                            top: pageY - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + (this.cssPosition === "fixed" ? -this.scrollParent.scrollTop() : scrollIsRootNode ? 0 : scroll.scrollTop()),
                            left: pageX - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + (this.cssPosition === "fixed" ? -this.scrollParent.scrollLeft() : scrollIsRootNode ? 0 : scroll.scrollLeft())
                        }
                    },
                    _rearrange: function(event, i, a, hardRefresh) {
                        a ? a[0].appendChild(this.placeholder[0]) : i.item[0].parentNode.insertBefore(this.placeholder[0], this.direction === "down" ? i.item[0] : i.item[0].nextSibling);
                        this.counter = this.counter ? ++this.counter : 1;
                        var counter = this.counter;
                        this._delay(function() {
                            if (counter === this.counter) {
                                this.refreshPositions(!hardRefresh)
                            }
                        })
                    },
                    _clear: function(event, noPropagation) {
                        this.reverting = false;
                        var i, delayedTriggers = [];
                        if (!this._noFinalSort && this.currentItem.parent().length) {
                            this.placeholder.before(this.currentItem)
                        }
                        this._noFinalSort = null;
                        if (this.helper[0] === this.currentItem[0]) {
                            for (i in this._storedCSS) {
                                if (this._storedCSS[i] === "auto" || this._storedCSS[i] === "static") {
                                    this._storedCSS[i] = ""
                                }
                            }
                            this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
                        } else {
                            this.currentItem.show()
                        }
                        if (this.fromOutside && !noPropagation) {
                            delayedTriggers.push(function(event) {
                                this._trigger("receive", event, this._uiHash(this.fromOutside))
                            })
                        }
                        if ((this.fromOutside || this.domPosition.prev !== this.currentItem.prev().not(".ui-sortable-helper")[0] || this.domPosition.parent !== this.currentItem.parent()[0]) && !noPropagation) {
                            delayedTriggers.push(function(event) {
                                this._trigger("update", event, this._uiHash())
                            })
                        }
                        if (this !== this.currentContainer) {
                            if (!noPropagation) {
                                delayedTriggers.push(function(event) {
                                    this._trigger("remove", event, this._uiHash())
                                });
                                delayedTriggers.push(function(c) {
                                    return function(event) {
                                        c._trigger("receive", event, this._uiHash(this))
                                    }
                                }.call(this, this.currentContainer));
                                delayedTriggers.push(function(c) {
                                    return function(event) {
                                        c._trigger("update", event, this._uiHash(this))
                                    }
                                }.call(this, this.currentContainer))
                            }
                        }
                        for (i = this.containers.length - 1; i >= 0; i--) {
                            if (!noPropagation) {
                                delayedTriggers.push(function(c) {
                                    return function(event) {
                                        c._trigger("deactivate", event, this._uiHash(this))
                                    }
                                }.call(this, this.containers[i]))
                            }
                            if (this.containers[i].containerCache.over) {
                                delayedTriggers.push(function(c) {
                                    return function(event) {
                                        c._trigger("out", event, this._uiHash(this))
                                    }
                                }.call(this, this.containers[i]));
                                this.containers[i].containerCache.over = 0
                            }
                        }
                        if (this.storedCursor) {
                            this.document.find("body").css("cursor", this.storedCursor);
                            this.storedStylesheet.remove()
                        }
                        if (this._storedOpacity) {
                            this.helper.css("opacity", this._storedOpacity)
                        }
                        if (this._storedZIndex) {
                            this.helper.css("zIndex", this._storedZIndex === "auto" ? "" : this._storedZIndex)
                        }
                        this.dragging = false;
                        if (this.cancelHelperRemoval) {
                            if (!noPropagation) {
                                this._trigger("beforeStop", event, this._uiHash());
                                for (i = 0; i < delayedTriggers.length; i++) {
                                    delayedTriggers[i].call(this, event)
                                }
                                this._trigger("stop", event, this._uiHash())
                            }
                            this.fromOutside = false;
                            return false
                        }
                        if (!noPropagation) {
                            this._trigger("beforeStop", event, this._uiHash())
                        }
                        this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
                        if (this.helper[0] !== this.currentItem[0]) {
                            this.helper.remove()
                        }
                        this.helper = null;
                        if (!noPropagation) {
                            for (i = 0; i < delayedTriggers.length; i++) {
                                delayedTriggers[i].call(this, event)
                            }
                            this._trigger("stop", event, this._uiHash())
                        }
                        this.fromOutside = false;
                        return true
                    },
                    _trigger: function() {
                        if ($.Widget.prototype._trigger.apply(this, arguments) === false) {
                            this.cancel()
                        }
                    },
                    _uiHash: function(_inst) {
                        var inst = _inst || this;
                        return {
                            helper: inst.helper,
                            placeholder: inst.placeholder || $([]),
                            position: inst.position,
                            originalPosition: inst.originalPosition,
                            offset: inst.positionAbs,
                            item: inst.currentItem,
                            sender: _inst ? _inst.element : null
                        }
                    }
                })
            })(jQuery);
            (function($, undefined) {
                var dataSpace = "ui-effects-";
                $.effects = {
                    effect: {}
                };
                (function(jQuery, undefined) {
                    var stepHooks = "backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",
                        rplusequals = /^([\-+])=\s*(\d+\.?\d*)/,
                        stringParsers = [{
                            re: /rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                            parse: function(execResult) {
                                return [execResult[1], execResult[2], execResult[3], execResult[4]]
                            }
                        }, {
                            re: /rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                            parse: function(execResult) {
                                return [execResult[1] * 2.55, execResult[2] * 2.55, execResult[3] * 2.55, execResult[4]]
                            }
                        }, {
                            re: /#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,
                            parse: function(execResult) {
                                return [parseInt(execResult[1], 16), parseInt(execResult[2], 16), parseInt(execResult[3], 16)]
                            }
                        }, {
                            re: /#([a-f0-9])([a-f0-9])([a-f0-9])/,
                            parse: function(execResult) {
                                return [parseInt(execResult[1] + execResult[1], 16), parseInt(execResult[2] + execResult[2], 16), parseInt(execResult[3] + execResult[3], 16)]
                            }
                        }, {
                            re: /hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,
                            space: "hsla",
                            parse: function(execResult) {
                                return [execResult[1], execResult[2] / 100, execResult[3] / 100, execResult[4]]
                            }
                        }],
                        color = jQuery.Color = function(color, green, blue, alpha) {
                            return new jQuery.Color.fn.parse(color, green, blue, alpha)
                        },
                        spaces = {
                            rgba: {
                                props: {
                                    red: {
                                        idx: 0,
                                        type: "byte"
                                    },
                                    green: {
                                        idx: 1,
                                        type: "byte"
                                    },
                                    blue: {
                                        idx: 2,
                                        type: "byte"
                                    }
                                }
                            },
                            hsla: {
                                props: {
                                    hue: {
                                        idx: 0,
                                        type: "degrees"
                                    },
                                    saturation: {
                                        idx: 1,
                                        type: "percent"
                                    },
                                    lightness: {
                                        idx: 2,
                                        type: "percent"
                                    }
                                }
                            }
                        },
                        propTypes = {
                            "byte": {
                                floor: true,
                                max: 255
                            },
                            percent: {
                                max: 1
                            },
                            degrees: {
                                mod: 360,
                                floor: true
                            }
                        },
                        support = color.support = {},
                        supportElem = jQuery("<p>")[0],
                        colors, each = jQuery.each;
                    supportElem.style.cssText = "background-color:rgba(1,1,1,.5)";
                    support.rgba = supportElem.style.backgroundColor.indexOf("rgba") > -1;
                    each(spaces, function(spaceName, space) {
                        space.cache = "_" + spaceName;
                        space.props.alpha = {
                            idx: 3,
                            type: "percent",
                            def: 1
                        }
                    });

                    function clamp(value, prop, allowEmpty) {
                        var type = propTypes[prop.type] || {};
                        if (value == null) {
                            return allowEmpty || !prop.def ? null : prop.def
                        }
                        value = type.floor ? ~~value : parseFloat(value);
                        if (isNaN(value)) {
                            return prop.def
                        }
                        if (type.mod) {
                            return (value + type.mod) % type.mod
                        }
                        return 0 > value ? 0 : type.max < value ? type.max : value
                    }

                    function stringParse(string) {
                        var inst = color(),
                            rgba = inst._rgba = [];
                        string = string.toLowerCase();
                        each(stringParsers, function(i, parser) {
                            var parsed, match = parser.re.exec(string),
                                values = match && parser.parse(match),
                                spaceName = parser.space || "rgba";
                            if (values) {
                                parsed = inst[spaceName](values);
                                inst[spaces[spaceName].cache] = parsed[spaces[spaceName].cache];
                                rgba = inst._rgba = parsed._rgba;
                                return false
                            }
                        });
                        if (rgba.length) {
                            if (rgba.join() === "0,0,0,0") {
                                jQuery.extend(rgba, colors.transparent)
                            }
                            return inst
                        }
                        return colors[string]
                    }
                    color.fn = jQuery.extend(color.prototype, {
                        parse: function(red, green, blue, alpha) {
                            if (red === undefined) {
                                this._rgba = [null, null, null, null];
                                return this
                            }
                            if (red.jquery || red.nodeType) {
                                red = jQuery(red).css(green);
                                green = undefined
                            }
                            var inst = this,
                                type = jQuery.type(red),
                                rgba = this._rgba = [];
                            if (green !== undefined) {
                                red = [red, green, blue, alpha];
                                type = "array"
                            }
                            if (type === "string") {
                                return this.parse(stringParse(red) || colors._default)
                            }
                            if (type === "array") {
                                each(spaces.rgba.props, function(key, prop) {
                                    rgba[prop.idx] = clamp(red[prop.idx], prop)
                                });
                                return this
                            }
                            if (type === "object") {
                                if (red instanceof color) {
                                    each(spaces, function(spaceName, space) {
                                        if (red[space.cache]) {
                                            inst[space.cache] = red[space.cache].slice()
                                        }
                                    })
                                } else {
                                    each(spaces, function(spaceName, space) {
                                        var cache = space.cache;
                                        each(space.props, function(key, prop) {
                                            if (!inst[cache] && space.to) {
                                                if (key === "alpha" || red[key] == null) {
                                                    return
                                                }
                                                inst[cache] = space.to(inst._rgba)
                                            }
                                            inst[cache][prop.idx] = clamp(red[key], prop, true)
                                        });
                                        if (inst[cache] && jQuery.inArray(null, inst[cache].slice(0, 3)) < 0) {
                                            inst[cache][3] = 1;
                                            if (space.from) {
                                                inst._rgba = space.from(inst[cache])
                                            }
                                        }
                                    })
                                }
                                return this
                            }
                        },
                        is: function(compare) {
                            var is = color(compare),
                                same = true,
                                inst = this;
                            each(spaces, function(_, space) {
                                var localCache, isCache = is[space.cache];
                                if (isCache) {
                                    localCache = inst[space.cache] || space.to && space.to(inst._rgba) || [];
                                    each(space.props, function(_, prop) {
                                        if (isCache[prop.idx] != null) {
                                            same = isCache[prop.idx] === localCache[prop.idx];
                                            return same
                                        }
                                    })
                                }
                                return same
                            });
                            return same
                        },
                        _space: function() {
                            var used = [],
                                inst = this;
                            each(spaces, function(spaceName, space) {
                                if (inst[space.cache]) {
                                    used.push(spaceName)
                                }
                            });
                            return used.pop()
                        },
                        transition: function(other, distance) {
                            var end = color(other),
                                spaceName = end._space(),
                                space = spaces[spaceName],
                                startColor = this.alpha() === 0 ? color("transparent") : this,
                                start = startColor[space.cache] || space.to(startColor._rgba),
                                result = start.slice();
                            end = end[space.cache];
                            each(space.props, function(key, prop) {
                                var index = prop.idx,
                                    startValue = start[index],
                                    endValue = end[index],
                                    type = propTypes[prop.type] || {};
                                if (endValue === null) {
                                    return
                                }
                                if (startValue === null) {
                                    result[index] = endValue
                                } else {
                                    if (type.mod) {
                                        if (endValue - startValue > type.mod / 2) {
                                            startValue += type.mod
                                        } else if (startValue - endValue > type.mod / 2) {
                                            startValue -= type.mod
                                        }
                                    }
                                    result[index] = clamp((endValue - startValue) * distance + startValue, prop)
                                }
                            });
                            return this[spaceName](result)
                        },
                        blend: function(opaque) {
                            if (this._rgba[3] === 1) {
                                return this
                            }
                            var rgb = this._rgba.slice(),
                                a = rgb.pop(),
                                blend = color(opaque)._rgba;
                            return color(jQuery.map(rgb, function(v, i) {
                                return (1 - a) * blend[i] + a * v
                            }))
                        },
                        toRgbaString: function() {
                            var prefix = "rgba(",
                                rgba = jQuery.map(this._rgba, function(v, i) {
                                    return v == null ? i > 2 ? 1 : 0 : v
                                });
                            if (rgba[3] === 1) {
                                rgba.pop();
                                prefix = "rgb("
                            }
                            return prefix + rgba.join() + ")"
                        },
                        toHslaString: function() {
                            var prefix = "hsla(",
                                hsla = jQuery.map(this.hsla(), function(v, i) {
                                    if (v == null) {
                                        v = i > 2 ? 1 : 0
                                    }
                                    if (i && i < 3) {
                                        v = Math.round(v * 100) + "%"
                                    }
                                    return v
                                });
                            if (hsla[3] === 1) {
                                hsla.pop();
                                prefix = "hsl("
                            }
                            return prefix + hsla.join() + ")"
                        },
                        toHexString: function(includeAlpha) {
                            var rgba = this._rgba.slice(),
                                alpha = rgba.pop();
                            if (includeAlpha) {
                                rgba.push(~~(alpha * 255))
                            }
                            return "#" + jQuery.map(rgba, function(v) {
                                v = (v || 0).toString(16);
                                return v.length === 1 ? "0" + v : v
                            }).join("")
                        },
                        toString: function() {
                            return this._rgba[3] === 0 ? "transparent" : this.toRgbaString()
                        }
                    });
                    color.fn.parse.prototype = color.fn;

                    function hue2rgb(p, q, h) {
                        h = (h + 1) % 1;
                        if (h * 6 < 1) {
                            return p + (q - p) * h * 6
                        }
                        if (h * 2 < 1) {
                            return q
                        }
                        if (h * 3 < 2) {
                            return p + (q - p) * (2 / 3 - h) * 6
                        }
                        return p
                    }
                    spaces.hsla.to = function(rgba) {
                        if (rgba[0] == null || rgba[1] == null || rgba[2] == null) {
                            return [null, null, null, rgba[3]]
                        }
                        var r = rgba[0] / 255,
                            g = rgba[1] / 255,
                            b = rgba[2] / 255,
                            a = rgba[3],
                            max = Math.max(r, g, b),
                            min = Math.min(r, g, b),
                            diff = max - min,
                            add = max + min,
                            l = add * .5,
                            h, s;
                        if (min === max) {
                            h = 0
                        } else if (r === max) {
                            h = 60 * (g - b) / diff + 360
                        } else if (g === max) {
                            h = 60 * (b - r) / diff + 120
                        } else {
                            h = 60 * (r - g) / diff + 240
                        }
                        if (diff === 0) {
                            s = 0
                        } else if (l <= .5) {
                            s = diff / add
                        } else {
                            s = diff / (2 - add)
                        }
                        return [Math.round(h) % 360, s, l, a == null ? 1 : a]
                    };
                    spaces.hsla.from = function(hsla) {
                        if (hsla[0] == null || hsla[1] == null || hsla[2] == null) {
                            return [null, null, null, hsla[3]]
                        }
                        var h = hsla[0] / 360,
                            s = hsla[1],
                            l = hsla[2],
                            a = hsla[3],
                            q = l <= .5 ? l * (1 + s) : l + s - l * s,
                            p = 2 * l - q;
                        return [Math.round(hue2rgb(p, q, h + 1 / 3) * 255), Math.round(hue2rgb(p, q, h) * 255), Math.round(hue2rgb(p, q, h - 1 / 3) * 255), a]
                    };
                    each(spaces, function(spaceName, space) {
                        var props = space.props,
                            cache = space.cache,
                            to = space.to,
                            from = space.from;
                        color.fn[spaceName] = function(value) {
                            if (to && !this[cache]) {
                                this[cache] = to(this._rgba)
                            }
                            if (value === undefined) {
                                return this[cache].slice()
                            }
                            var ret, type = jQuery.type(value),
                                arr = type === "array" || type === "object" ? value : arguments,
                                local = this[cache].slice();
                            each(props, function(key, prop) {
                                var val = arr[type === "object" ? key : prop.idx];
                                if (val == null) {
                                    val = local[prop.idx]
                                }
                                local[prop.idx] = clamp(val, prop)
                            });
                            if (from) {
                                ret = color(from(local));
                                ret[cache] = local;
                                return ret
                            } else {
                                return color(local)
                            }
                        };
                        each(props, function(key, prop) {
                            if (color.fn[key]) {
                                return
                            }
                            color.fn[key] = function(value) {
                                var vtype = jQuery.type(value),
                                    fn = key === "alpha" ? this._hsla ? "hsla" : "rgba" : spaceName,
                                    local = this[fn](),
                                    cur = local[prop.idx],
                                    match;
                                if (vtype === "undefined") {
                                    return cur
                                }
                                if (vtype === "function") {
                                    value = value.call(this, cur);
                                    vtype = jQuery.type(value)
                                }
                                if (value == null && prop.empty) {
                                    return this
                                }
                                if (vtype === "string") {
                                    match = rplusequals.exec(value);
                                    if (match) {
                                        value = cur + parseFloat(match[2]) * (match[1] === "+" ? 1 : -1)
                                    }
                                }
                                local[prop.idx] = value;
                                return this[fn](local)
                            }
                        })
                    });
                    color.hook = function(hook) {
                        var hooks = hook.split(" ");
                        each(hooks, function(i, hook) {
                            jQuery.cssHooks[hook] = {
                                set: function(elem, value) {
                                    var parsed, curElem, backgroundColor = "";
                                    if (value !== "transparent" && (jQuery.type(value) !== "string" || (parsed = stringParse(value)))) {
                                        value = color(parsed || value);
                                        if (!support.rgba && value._rgba[3] !== 1) {
                                            curElem = hook === "backgroundColor" ? elem.parentNode : elem;
                                            while ((backgroundColor === "" || backgroundColor === "transparent") && curElem && curElem.style) {
                                                try {
                                                    backgroundColor = jQuery.css(curElem, "backgroundColor");
                                                    curElem = curElem.parentNode
                                                } catch (e) {}
                                            }
                                            value = value.blend(backgroundColor && backgroundColor !== "transparent" ? backgroundColor : "_default")
                                        }
                                        value = value.toRgbaString()
                                    }
                                    try {
                                        elem.style[hook] = value
                                    } catch (e) {}
                                }
                            };
                            jQuery.fx.step[hook] = function(fx) {
                                if (!fx.colorInit) {
                                    fx.start = color(fx.elem, hook);
                                    fx.end = color(fx.end);
                                    fx.colorInit = true
                                }
                                jQuery.cssHooks[hook].set(fx.elem, fx.start.transition(fx.end, fx.pos))
                            }
                        })
                    };
                    color.hook(stepHooks);
                    jQuery.cssHooks.borderColor = {
                        expand: function(value) {
                            var expanded = {};
                            each(["Top", "Right", "Bottom", "Left"], function(i, part) {
                                expanded["border" + part + "Color"] = value
                            });
                            return expanded
                        }
                    };
                    colors = jQuery.Color.names = {
                        aqua: "#00ffff",
                        black: "#000000",
                        blue: "#0000ff",
                        fuchsia: "#ff00ff",
                        gray: "#808080",
                        green: "#008000",
                        lime: "#00ff00",
                        maroon: "#800000",
                        navy: "#000080",
                        olive: "#808000",
                        purple: "#800080",
                        red: "#ff0000",
                        silver: "#c0c0c0",
                        teal: "#008080",
                        white: "#ffffff",
                        yellow: "#ffff00",
                        transparent: [null, null, null, 0],
                        _default: "#ffffff"
                    }
                })(jQuery);
                (function() {
                    var classAnimationActions = ["add", "remove", "toggle"],
                        shorthandStyles = {
                            border: 1,
                            borderBottom: 1,
                            borderColor: 1,
                            borderLeft: 1,
                            borderRight: 1,
                            borderTop: 1,
                            borderWidth: 1,
                            margin: 1,
                            padding: 1
                        };
                    $.each(["borderLeftStyle", "borderRightStyle", "borderBottomStyle", "borderTopStyle"], function(_, prop) {
                        $.fx.step[prop] = function(fx) {
                            if (fx.end !== "none" && !fx.setAttr || fx.pos === 1 && !fx.setAttr) {
                                jQuery.style(fx.elem, prop, fx.end);
                                fx.setAttr = true
                            }
                        }
                    });

                    function getElementStyles(elem) {
                        var key, len, style = elem.ownerDocument.defaultView ? elem.ownerDocument.defaultView.getComputedStyle(elem, null) : elem.currentStyle,
                            styles = {};
                        if (style && style.length && style[0] && style[style[0]]) {
                            len = style.length;
                            while (len--) {
                                key = style[len];
                                if (typeof style[key] === "string") {
                                    styles[$.camelCase(key)] = style[key]
                                }
                            }
                        } else {
                            for (key in style) {
                                if (typeof style[key] === "string") {
                                    styles[key] = style[key]
                                }
                            }
                        }
                        return styles
                    }

                    function styleDifference(oldStyle, newStyle) {
                        var diff = {},
                            name, value;
                        for (name in newStyle) {
                            value = newStyle[name];
                            if (oldStyle[name] !== value) {
                                if (!shorthandStyles[name]) {
                                    if ($.fx.step[name] || !isNaN(parseFloat(value))) {
                                        diff[name] = value
                                    }
                                }
                            }
                        }
                        return diff
                    }
                    if (!$.fn.addBack) {
                        $.fn.addBack = function(selector) {
                            return this.add(selector == null ? this.prevObject : this.prevObject.filter(selector))
                        }
                    }
                    $.effects.animateClass = function(value, duration, easing, callback) {
                        var o = $.speed(duration, easing, callback);
                        return this.queue(function() {
                            var animated = $(this),
                                baseClass = animated.attr("class") || "",
                                applyClassChange, allAnimations = o.children ? animated.find("*").addBack() : animated;
                            allAnimations = allAnimations.map(function() {
                                var el = $(this);
                                return {
                                    el: el,
                                    start: getElementStyles(this)
                                }
                            });
                            applyClassChange = function() {
                                $.each(classAnimationActions, function(i, action) {
                                    if (value[action]) {
                                        animated[action + "Class"](value[action])
                                    }
                                })
                            };
                            applyClassChange();
                            allAnimations = allAnimations.map(function() {
                                this.end = getElementStyles(this.el[0]);
                                this.diff = styleDifference(this.start, this.end);
                                return this
                            });
                            animated.attr("class", baseClass);
                            allAnimations = allAnimations.map(function() {
                                var styleInfo = this,
                                    dfd = $.Deferred(),
                                    opts = $.extend({}, o, {
                                        queue: false,
                                        complete: function() {
                                            dfd.resolve(styleInfo)
                                        }
                                    });
                                this.el.animate(this.diff, opts);
                                return dfd.promise()
                            });
                            $.when.apply($, allAnimations.get()).done(function() {
                                applyClassChange();
                                $.each(arguments, function() {
                                    var el = this.el;
                                    $.each(this.diff, function(key) {
                                        el.css(key, "")
                                    })
                                });
                                o.complete.call(animated[0])
                            })
                        })
                    };
                    $.fn.extend({
                        addClass: function(orig) {
                            return function(classNames, speed, easing, callback) {
                                return speed ? $.effects.animateClass.call(this, {
                                    add: classNames
                                }, speed, easing, callback) : orig.apply(this, arguments)
                            }
                        }($.fn.addClass),
                        removeClass: function(orig) {
                            return function(classNames, speed, easing, callback) {
                                return arguments.length > 1 ? $.effects.animateClass.call(this, {
                                    remove: classNames
                                }, speed, easing, callback) : orig.apply(this, arguments)
                            }
                        }($.fn.removeClass),
                        toggleClass: function(orig) {
                            return function(classNames, force, speed, easing, callback) {
                                if (typeof force === "boolean" || force === undefined) {
                                    if (!speed) {
                                        return orig.apply(this, arguments)
                                    } else {
                                        return $.effects.animateClass.call(this, force ? {
                                            add: classNames
                                        } : {
                                            remove: classNames
                                        }, speed, easing, callback)
                                    }
                                } else {
                                    return $.effects.animateClass.call(this, {
                                        toggle: classNames
                                    }, force, speed, easing)
                                }
                            }
                        }($.fn.toggleClass),
                        switchClass: function(remove, add, speed, easing, callback) {
                            return $.effects.animateClass.call(this, {
                                add: add,
                                remove: remove
                            }, speed, easing, callback)
                        }
                    })
                })();
                (function() {
                    $.extend($.effects, {
                        version: "1.10.3",
                        save: function(element, set) {
                            for (var i = 0; i < set.length; i++) {
                                if (set[i] !== null) {
                                    element.data(dataSpace + set[i], element[0].style[set[i]])
                                }
                            }
                        },
                        restore: function(element, set) {
                            var val, i;
                            for (i = 0; i < set.length; i++) {
                                if (set[i] !== null) {
                                    val = element.data(dataSpace + set[i]);
                                    if (val === undefined) {
                                        val = ""
                                    }
                                    element.css(set[i], val)
                                }
                            }
                        },
                        setMode: function(el, mode) {
                            if (mode === "toggle") {
                                mode = el.is(":hidden") ? "show" : "hide"
                            }
                            return mode
                        },
                        getBaseline: function(origin, original) {
                            var y, x;
                            switch (origin[0]) {
                                case "top":
                                    y = 0;
                                    break;
                                case "middle":
                                    y = .5;
                                    break;
                                case "bottom":
                                    y = 1;
                                    break;
                                default:
                                    y = origin[0] / original.height
                            }
                            switch (origin[1]) {
                                case "left":
                                    x = 0;
                                    break;
                                case "center":
                                    x = .5;
                                    break;
                                case "right":
                                    x = 1;
                                    break;
                                default:
                                    x = origin[1] / original.width
                            }
                            return {
                                x: x,
                                y: y
                            }
                        },
                        createWrapper: function(element) {
                            if (element.parent().is(".ui-effects-wrapper")) {
                                return element.parent()
                            }
                            var props = {
                                    width: element.outerWidth(true),
                                    height: element.outerHeight(true),
                                    "float": element.css("float")
                                },
                                wrapper = $("<div></div>").addClass("ui-effects-wrapper").css({
                                    fontSize: "100%",
                                    background: "transparent",
                                    border: "none",
                                    margin: 0,
                                    padding: 0
                                }),
                                size = {
                                    width: element.width(),
                                    height: element.height()
                                },
                                active = document.activeElement;
                            try {
                                active.id
                            } catch (e) {
                                active = document.body
                            }
                            element.wrap(wrapper);
                            if (element[0] === active || $.contains(element[0], active)) {
                                $(active).focus()
                            }
                            wrapper = element.parent();
                            if (element.css("position") === "static") {
                                wrapper.css({
                                    position: "relative"
                                });
                                element.css({
                                    position: "relative"
                                })
                            } else {
                                $.extend(props, {
                                    position: element.css("position"),
                                    zIndex: element.css("z-index")
                                });
                                $.each(["top", "left", "bottom", "right"], function(i, pos) {
                                    props[pos] = element.css(pos);
                                    if (isNaN(parseInt(props[pos], 10))) {
                                        props[pos] = "auto"
                                    }
                                });
                                element.css({
                                    position: "relative",
                                    top: 0,
                                    left: 0,
                                    right: "auto",
                                    bottom: "auto"
                                })
                            }
                            element.css(size);
                            return wrapper.css(props).show()
                        },
                        removeWrapper: function(element) {
                            var active = document.activeElement;
                            if (element.parent().is(".ui-effects-wrapper")) {
                                element.parent().replaceWith(element);
                                if (element[0] === active || $.contains(element[0], active)) {
                                    $(active).focus()
                                }
                            }
                            return element
                        },
                        setTransition: function(element, list, factor, value) {
                            value = value || {};
                            $.each(list, function(i, x) {
                                var unit = element.cssUnit(x);
                                if (unit[0] > 0) {
                                    value[x] = unit[0] * factor + unit[1]
                                }
                            });
                            return value
                        }
                    });

                    function _normalizeArguments(effect, options, speed, callback) {
                        if ($.isPlainObject(effect)) {
                            options = effect;
                            effect = effect.effect
                        }
                        effect = {
                            effect: effect
                        };
                        if (options == null) {
                            options = {}
                        }
                        if ($.isFunction(options)) {
                            callback = options;
                            speed = null;
                            options = {}
                        }
                        if (typeof options === "number" || $.fx.speeds[options]) {
                            callback = speed;
                            speed = options;
                            options = {}
                        }
                        if ($.isFunction(speed)) {
                            callback = speed;
                            speed = null
                        }
                        if (options) {
                            $.extend(effect, options)
                        }
                        speed = speed || options.duration;
                        effect.duration = $.fx.off ? 0 : typeof speed === "number" ? speed : speed in $.fx.speeds ? $.fx.speeds[speed] : $.fx.speeds._default;
                        effect.complete = callback || options.complete;
                        return effect
                    }

                    function standardAnimationOption(option) {
                        if (!option || typeof option === "number" || $.fx.speeds[option]) {
                            return true
                        }
                        if (typeof option === "string" && !$.effects.effect[option]) {
                            return true
                        }
                        if ($.isFunction(option)) {
                            return true
                        }
                        if (typeof option === "object" && !option.effect) {
                            return true
                        }
                        return false
                    }
                    $.fn.extend({
                        effect: function() {
                            var args = _normalizeArguments.apply(this, arguments),
                                mode = args.mode,
                                queue = args.queue,
                                effectMethod = $.effects.effect[args.effect];
                            if ($.fx.off || !effectMethod) {
                                if (mode) {
                                    return this[mode](args.duration, args.complete)
                                } else {
                                    return this.each(function() {
                                        if (args.complete) {
                                            args.complete.call(this)
                                        }
                                    })
                                }
                            }

                            function run(next) {
                                var elem = $(this),
                                    complete = args.complete,
                                    mode = args.mode;

                                function done() {
                                    if ($.isFunction(complete)) {
                                        complete.call(elem[0])
                                    }
                                    if ($.isFunction(next)) {
                                        next()
                                    }
                                }
                                if (elem.is(":hidden") ? mode === "hide" : mode === "show") {
                                    elem[mode]();
                                    done()
                                } else {
                                    effectMethod.call(elem[0], args, done)
                                }
                            }
                            return queue === false ? this.each(run) : this.queue(queue || "fx", run)
                        },
                        show: function(orig) {
                            return function(option) {
                                if (standardAnimationOption(option)) {
                                    return orig.apply(this, arguments)
                                } else {
                                    var args = _normalizeArguments.apply(this, arguments);
                                    args.mode = "show";
                                    return this.effect.call(this, args)
                                }
                            }
                        }($.fn.show),
                        hide: function(orig) {
                            return function(option) {
                                if (standardAnimationOption(option)) {
                                    return orig.apply(this, arguments)
                                } else {
                                    var args = _normalizeArguments.apply(this, arguments);
                                    args.mode = "hide";
                                    return this.effect.call(this, args)
                                }
                            }
                        }($.fn.hide),
                        toggle: function(orig) {
                            return function(option) {
                                if (standardAnimationOption(option) || typeof option === "boolean") {
                                    return orig.apply(this, arguments)
                                } else {
                                    var args = _normalizeArguments.apply(this, arguments);
                                    args.mode = "toggle";
                                    return this.effect.call(this, args)
                                }
                            }
                        }($.fn.toggle),
                        cssUnit: function(key) {
                            var style = this.css(key),
                                val = [];
                            $.each(["em", "px", "%", "pt"], function(i, unit) {
                                if (style.indexOf(unit) > 0) {
                                    val = [parseFloat(style), unit]
                                }
                            });
                            return val
                        }
                    })
                })();
                (function() {
                    var baseEasings = {};
                    $.each(["Quad", "Cubic", "Quart", "Quint", "Expo"], function(i, name) {
                        baseEasings[name] = function(p) {
                            return Math.pow(p, i + 2)
                        }
                    });
                    $.extend(baseEasings, {
                        Sine: function(p) {
                            return 1 - Math.cos(p * Math.PI / 2)
                        },
                        Circ: function(p) {
                            return 1 - Math.sqrt(1 - p * p)
                        },
                        Elastic: function(p) {
                            return p === 0 || p === 1 ? p : -Math.pow(2, 8 * (p - 1)) * Math.sin(((p - 1) * 80 - 7.5) * Math.PI / 15)
                        },
                        Back: function(p) {
                            return p * p * (3 * p - 2)
                        },
                        Bounce: function(p) {
                            var pow2, bounce = 4;
                            while (p < ((pow2 = Math.pow(2, --bounce)) - 1) / 11) {}
                            return 1 / Math.pow(4, 3 - bounce) - 7.5625 * Math.pow((pow2 * 3 - 2) / 22 - p, 2)
                        }
                    });
                    $.each(baseEasings, function(name, easeIn) {
                        $.easing["easeIn" + name] = easeIn;
                        $.easing["easeOut" + name] = function(p) {
                            return 1 - easeIn(1 - p)
                        };
                        $.easing["easeInOut" + name] = function(p) {
                            return p < .5 ? easeIn(p * 2) / 2 : 1 - easeIn(p * -2 + 2) / 2
                        }
                    })
                })()
            })(jQuery);
            (function($, undefined) {
                var uid = 0,
                    hideProps = {},
                    showProps = {};
                hideProps.height = hideProps.paddingTop = hideProps.paddingBottom = hideProps.borderTopWidth = hideProps.borderBottomWidth = "hide";
                showProps.height = showProps.paddingTop = showProps.paddingBottom = showProps.borderTopWidth = showProps.borderBottomWidth = "show";
                $.widget("ui.accordion", {
                    version: "1.10.3",
                    options: {
                        active: 0,
                        animate: {},
                        collapsible: false,
                        event: "click",
                        header: "> li > :first-child,> :not(li):even",
                        heightStyle: "auto",
                        icons: {
                            activeHeader: "ui-icon-triangle-1-s",
                            header: "ui-icon-triangle-1-e"
                        },
                        activate: null,
                        beforeActivate: null
                    },
                    _create: function() {
                        var options = this.options;
                        this.prevShow = this.prevHide = $();
                        this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role", "tablist");
                        if (!options.collapsible && (options.active === false || options.active == null)) {
                            options.active = 0
                        }
                        this._processPanels();
                        if (options.active < 0) {
                            options.active += this.headers.length
                        }
                        this._refresh()
                    },
                    _getCreateEventData: function() {
                        return {
                            header: this.active,
                            panel: !this.active.length ? $() : this.active.next(),
                            content: !this.active.length ? $() : this.active.next()
                        }
                    },
                    _createIcons: function() {
                        var icons = this.options.icons;
                        if (icons) {
                            $("<span>").addClass("ui-accordion-header-icon ui-icon " + icons.header).prependTo(this.headers);
                            this.active.children(".ui-accordion-header-icon").removeClass(icons.header).addClass(icons.activeHeader);
                            this.headers.addClass("ui-accordion-icons")
                        }
                    },
                    _destroyIcons: function() {
                        this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()
                    },
                    _destroy: function() {
                        var contents;
                        this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");
                        this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function() {
                            if (/^ui-accordion/.test(this.id)) {
                                this.removeAttribute("id")
                            }
                        });
                        this._destroyIcons();
                        contents = this.headers.next().css("display", "").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function() {
                            if (/^ui-accordion/.test(this.id)) {
                                this.removeAttribute("id")
                            }
                        });
                        if (this.options.heightStyle !== "content") {
                            contents.css("height", "")
                        }
                    },
                    _setOption: function(key, value) {
                        if (key === "active") {
                            this._activate(value);
                            return
                        }
                        if (key === "event") {
                            if (this.options.event) {
                                this._off(this.headers, this.options.event)
                            }
                            this._setupEvents(value)
                        }
                        this._super(key, value);
                        if (key === "collapsible" && !value && this.options.active === false) {
                            this._activate(0)
                        }
                        if (key === "icons") {
                            this._destroyIcons();
                            if (value) {
                                this._createIcons()
                            }
                        }
                        if (key === "disabled") {
                            this.headers.add(this.headers.next()).toggleClass("ui-state-disabled", !!value)
                        }
                    },
                    _keydown: function(event) {
                        if (event.altKey || event.ctrlKey) {
                            return
                        }
                        var keyCode = $.ui.keyCode,
                            length = this.headers.length,
                            currentIndex = this.headers.index(event.target),
                            toFocus = false;
                        switch (event.keyCode) {
                            case keyCode.RIGHT:
                            case keyCode.DOWN:
                                toFocus = this.headers[(currentIndex + 1) % length];
                                break;
                            case keyCode.LEFT:
                            case keyCode.UP:
                                toFocus = this.headers[(currentIndex - 1 + length) % length];
                                break;
                            case keyCode.SPACE:
                            case keyCode.ENTER:
                                this._eventHandler(event);
                                break;
                            case keyCode.HOME:
                                toFocus = this.headers[0];
                                break;
                            case keyCode.END:
                                toFocus = this.headers[length - 1];
                                break
                        }
                        if (toFocus) {
                            $(event.target).attr("tabIndex", -1);
                            $(toFocus).attr("tabIndex", 0);
                            toFocus.focus();
                            event.preventDefault()
                        }
                    },
                    _panelKeyDown: function(event) {
                        if (event.keyCode === $.ui.keyCode.UP && event.ctrlKey) {
                            $(event.currentTarget).prev().focus()
                        }
                    },
                    refresh: function() {
                        var options = this.options;
                        this._processPanels();
                        if (options.active === false && options.collapsible === true || !this.headers.length) {
                            options.active = false;
                            this.active = $()
                        } else if (options.active === false) {
                            this._activate(0)
                        } else if (this.active.length && !$.contains(this.element[0], this.active[0])) {
                            if (this.headers.length === this.headers.find(".ui-state-disabled").length) {
                                options.active = false;
                                this.active = $()
                            } else {
                                this._activate(Math.max(0, options.active - 1))
                            }
                        } else {
                            options.active = this.headers.index(this.active)
                        }
                        this._destroyIcons();
                        this._refresh()
                    },
                    _processPanels: function() {
                        this.headers = this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");
                        this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()
                    },
                    _refresh: function() {
                        var maxHeight, options = this.options,
                            heightStyle = options.heightStyle,
                            parent = this.element.parent(),
                            accordionId = this.accordionId = "ui-accordion-" + (this.element.attr("id") || ++uid);
                        this.active = this._findActive(options.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all");
                        this.active.next().addClass("ui-accordion-content-active").show();
                        this.headers.attr("role", "tab").each(function(i) {
                            var header = $(this),
                                headerId = header.attr("id"),
                                panel = header.next(),
                                panelId = panel.attr("id");
                            if (!headerId) {
                                headerId = accordionId + "-header-" + i;
                                header.attr("id", headerId)
                            }
                            if (!panelId) {
                                panelId = accordionId + "-panel-" + i;
                                panel.attr("id", panelId)
                            }
                            header.attr("aria-controls", panelId);
                            panel.attr("aria-labelledby", headerId)
                        }).next().attr("role", "tabpanel");
                        this.headers.not(this.active).attr({
                            "aria-selected": "false",
                            tabIndex: -1
                        }).next().attr({
                            "aria-expanded": "false",
                            "aria-hidden": "true"
                        }).hide();
                        if (!this.active.length) {
                            this.headers.eq(0).attr("tabIndex", 0)
                        } else {
                            this.active.attr({
                                "aria-selected": "true",
                                tabIndex: 0
                            }).next().attr({
                                "aria-expanded": "true",
                                "aria-hidden": "false"
                            })
                        }
                        this._createIcons();
                        this._setupEvents(options.event);
                        if (heightStyle === "fill") {
                            maxHeight = parent.height();
                            this.element.siblings(":visible").each(function() {
                                var elem = $(this),
                                    position = elem.css("position");
                                if (position === "absolute" || position === "fixed") {
                                    return
                                }
                                maxHeight -= elem.outerHeight(true)
                            });
                            this.headers.each(function() {
                                maxHeight -= $(this).outerHeight(true)
                            });
                            this.headers.next().each(function() {
                                $(this).height(Math.max(0, maxHeight - $(this).innerHeight() + $(this).height()))
                            }).css("overflow", "auto")
                        } else if (heightStyle === "auto") {
                            maxHeight = 0;
                            this.headers.next().each(function() {
                                maxHeight = Math.max(maxHeight, $(this).css("height", "").height())
                            }).height(maxHeight)
                        }
                    },
                    _activate: function(index) {
                        var active = this._findActive(index)[0];
                        if (active === this.active[0]) {
                            return
                        }
                        active = active || this.active[0];
                        this._eventHandler({
                            target: active,
                            currentTarget: active,
                            preventDefault: $.noop
                        })
                    },
                    _findActive: function(selector) {
                        return typeof selector === "number" ? this.headers.eq(selector) : $()
                    },
                    _setupEvents: function(event) {
                        var events = {
                            keydown: "_keydown"
                        };
                        if (event) {
                            $.each(event.split(" "), function(index, eventName) {
                                events[eventName] = "_eventHandler"
                            })
                        }
                        this._off(this.headers.add(this.headers.next()));
                        this._on(this.headers, events);
                        this._on(this.headers.next(), {
                            keydown: "_panelKeyDown"
                        });
                        this._hoverable(this.headers);
                        this._focusable(this.headers)
                    },
                    _eventHandler: function(event) {
                        var options = this.options,
                            active = this.active,
                            clicked = $(event.currentTarget),
                            clickedIsActive = clicked[0] === active[0],
                            collapsing = clickedIsActive && options.collapsible,
                            toShow = collapsing ? $() : clicked.next(),
                            toHide = active.next(),
                            eventData = {
                                oldHeader: active,
                                oldPanel: toHide,
                                newHeader: collapsing ? $() : clicked,
                                newPanel: toShow
                            };
                        event.preventDefault();
                        if (clickedIsActive && !options.collapsible || this._trigger("beforeActivate", event, eventData) === false) {
                            return
                        }
                        options.active = collapsing ? false : this.headers.index(clicked);
                        this.active = clickedIsActive ? $() : clicked;
                        this._toggle(eventData);
                        active.removeClass("ui-accordion-header-active ui-state-active");
                        if (options.icons) {
                            active.children(".ui-accordion-header-icon").removeClass(options.icons.activeHeader).addClass(options.icons.header)
                        }
                        if (!clickedIsActive) {
                            clicked.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");
                            if (options.icons) {
                                clicked.children(".ui-accordion-header-icon").removeClass(options.icons.header).addClass(options.icons.activeHeader)
                            }
                            clicked.next().addClass("ui-accordion-content-active")
                        }
                    },
                    _toggle: function(data) {
                        var toShow = data.newPanel,
                            toHide = this.prevShow.length ? this.prevShow : data.oldPanel;
                        this.prevShow.add(this.prevHide).stop(true, true);
                        this.prevShow = toShow;
                        this.prevHide = toHide;
                        if (this.options.animate) {
                            this._animate(toShow, toHide, data)
                        } else {
                            toHide.hide();
                            toShow.show();
                            this._toggleComplete(data)
                        }
                        toHide.attr({
                            "aria-expanded": "false",
                            "aria-hidden": "true"
                        });
                        toHide.prev().attr("aria-selected", "false");
                        if (toShow.length && toHide.length) {
                            toHide.prev().attr("tabIndex", -1)
                        } else if (toShow.length) {
                            this.headers.filter(function() {
                                return $(this).attr("tabIndex") === 0
                            }).attr("tabIndex", -1)
                        }
                        toShow.attr({
                            "aria-expanded": "true",
                            "aria-hidden": "false"
                        }).prev().attr({
                            "aria-selected": "true",
                            tabIndex: 0
                        })
                    },
                    _animate: function(toShow, toHide, data) {
                        var total, easing, duration, that = this,
                            adjust = 0,
                            down = toShow.length && (!toHide.length || toShow.index() < toHide.index()),
                            animate = this.options.animate || {},
                            options = down && animate.down || animate,
                            complete = function() {
                                that._toggleComplete(data)
                            };
                        if (typeof options === "number") {
                            duration = options
                        }
                        if (typeof options === "string") {
                            easing = options
                        }
                        easing = easing || options.easing || animate.easing;
                        duration = duration || options.duration || animate.duration;
                        if (!toHide.length) {
                            return toShow.animate(showProps, duration, easing, complete)
                        }
                        if (!toShow.length) {
                            return toHide.animate(hideProps, duration, easing, complete)
                        }
                        total = toShow.show().outerHeight();
                        toHide.animate(hideProps, {
                            duration: duration,
                            easing: easing,
                            step: function(now, fx) {
                                fx.now = Math.round(now)
                            }
                        });
                        toShow.hide().animate(showProps, {
                            duration: duration,
                            easing: easing,
                            complete: complete,
                            step: function(now, fx) {
                                fx.now = Math.round(now);
                                if (fx.prop !== "height") {
                                    adjust += fx.now
                                } else if (that.options.heightStyle !== "content") {
                                    fx.now = Math.round(total - toHide.outerHeight() - adjust);
                                    adjust = 0
                                }
                            }
                        })
                    },
                    _toggleComplete: function(data) {
                        var toHide = data.oldPanel;
                        toHide.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");
                        if (toHide.length) {
                            toHide.parent()[0].className = toHide.parent()[0].className
                        }
                        this._trigger("activate", null, data)
                    }
                })
            })(jQuery);
            (function($, undefined) {
                var requestIndex = 0;
                $.widget("ui.autocomplete", {
                    version: "1.10.3",
                    defaultElement: "<input>",
                    options: {
                        appendTo: null,
                        autoFocus: false,
                        delay: 300,
                        minLength: 1,
                        position: {
                            my: "left top",
                            at: "left bottom",
                            collision: "none"
                        },
                        source: null,
                        change: null,
                        close: null,
                        focus: null,
                        open: null,
                        response: null,
                        search: null,
                        select: null
                    },
                    pending: 0,
                    _create: function() {
                        var suppressKeyPress, suppressKeyPressRepeat, suppressInput, nodeName = this.element[0].nodeName.toLowerCase(),
                            isTextarea = nodeName === "textarea",
                            isInput = nodeName === "input";
                        this.isMultiLine = isTextarea ? true : isInput ? false : this.element.prop("isContentEditable");
                        this.valueMethod = this.element[isTextarea || isInput ? "val" : "text"];
                        this.isNewMenu = true;
                        this.element.addClass("ui-autocomplete-input").attr("autocomplete", "off");
                        this._on(this.element, {
                            keydown: function(event) {
                                if (this.element.prop("readOnly")) {
                                    suppressKeyPress = true;
                                    suppressInput = true;
                                    suppressKeyPressRepeat = true;
                                    return
                                }
                                suppressKeyPress = false;
                                suppressInput = false;
                                suppressKeyPressRepeat = false;
                                var keyCode = $.ui.keyCode;
                                switch (event.keyCode) {
                                    case keyCode.PAGE_UP:
                                        suppressKeyPress = true;
                                        this._move("previousPage", event);
                                        break;
                                    case keyCode.PAGE_DOWN:
                                        suppressKeyPress = true;
                                        this._move("nextPage", event);
                                        break;
                                    case keyCode.UP:
                                        suppressKeyPress = true;
                                        this._keyEvent("previous", event);
                                        break;
                                    case keyCode.DOWN:
                                        suppressKeyPress = true;
                                        this._keyEvent("next", event);
                                        break;
                                    case keyCode.ENTER:
                                    case keyCode.NUMPAD_ENTER:
                                        if (this.menu.active) {
                                            suppressKeyPress = true;
                                            event.preventDefault();
                                            this.menu.select(event)
                                        }
                                        break;
                                    case keyCode.TAB:
                                        if (this.menu.active) {
                                            this.menu.select(event)
                                        }
                                        break;
                                    case keyCode.ESCAPE:
                                        if (this.menu.element.is(":visible")) {
                                            this._value(this.term);
                                            this.close(event);
                                            event.preventDefault()
                                        }
                                        break;
                                    default:
                                        suppressKeyPressRepeat = true;
                                        this._searchTimeout(event);
                                        break
                                }
                            },
                            keypress: function(event) {
                                if (suppressKeyPress) {
                                    suppressKeyPress = false;
                                    if (!this.isMultiLine || this.menu.element.is(":visible")) {
                                        event.preventDefault()
                                    }
                                    return
                                }
                                if (suppressKeyPressRepeat) {
                                    return
                                }
                                var keyCode = $.ui.keyCode;
                                switch (event.keyCode) {
                                    case keyCode.PAGE_UP:
                                        this._move("previousPage", event);
                                        break;
                                    case keyCode.PAGE_DOWN:
                                        this._move("nextPage", event);
                                        break;
                                    case keyCode.UP:
                                        this._keyEvent("previous", event);
                                        break;
                                    case keyCode.DOWN:
                                        this._keyEvent("next", event);
                                        break
                                }
                            },
                            input: function(event) {
                                if (suppressInput) {
                                    suppressInput = false;
                                    event.preventDefault();
                                    return
                                }
                                this._searchTimeout(event)
                            },
                            focus: function() {
                                this.selectedItem = null;
                                this.previous = this._value()
                            },
                            blur: function(event) {
                                if (this.cancelBlur) {
                                    delete this.cancelBlur;
                                    return
                                }
                                clearTimeout(this.searching);
                                this.close(event);
                                this._change(event)
                            }
                        });
                        this._initSource();
                        this.menu = $("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({
                            role: null
                        }).hide().data("ui-menu");
                        this._on(this.menu.element, {
                            mousedown: function(event) {
                                event.preventDefault();
                                this.cancelBlur = true;
                                this._delay(function() {
                                    delete this.cancelBlur
                                });
                                var menuElement = this.menu.element[0];
                                if (!$(event.target).closest(".ui-menu-item").length) {
                                    this._delay(function() {
                                        var that = this;
                                        this.document.one("mousedown", function(event) {
                                            if (event.target !== that.element[0] && event.target !== menuElement && !$.contains(menuElement, event.target)) {
                                                that.close()
                                            }
                                        })
                                    })
                                }
                            },
                            menufocus: function(event, ui) {
                                if (this.isNewMenu) {
                                    this.isNewMenu = false;
                                    if (event.originalEvent && /^mouse/.test(event.originalEvent.type)) {
                                        this.menu.blur();
                                        this.document.one("mousemove", function() {
                                            $(event.target).trigger(event.originalEvent)
                                        });
                                        return
                                    }
                                }
                                var item = ui.item.data("ui-autocomplete-item");
                                if (false !== this._trigger("focus", event, {
                                        item: item
                                    })) {
                                    if (event.originalEvent && /^key/.test(event.originalEvent.type)) {
                                        this._value(item.value)
                                    }
                                } else {
                                    this.liveRegion.text(item.value)
                                }
                            },
                            menuselect: function(event, ui) {
                                var item = ui.item.data("ui-autocomplete-item"),
                                    previous = this.previous;
                                if (this.element[0] !== this.document[0].activeElement) {
                                    this.element.focus();
                                    this.previous = previous;
                                    this._delay(function() {
                                        this.previous = previous;
                                        this.selectedItem = item
                                    })
                                }
                                if (false !== this._trigger("select", event, {
                                        item: item
                                    })) {
                                    this._value(item.value)
                                }
                                this.term = this._value();
                                this.close(event);
                                this.selectedItem = item
                            }
                        });
                        this.liveRegion = $("<span>", {
                            role: "status",
                            "aria-live": "polite"
                        }).addClass("ui-helper-hidden-accessible").insertBefore(this.element);
                        this._on(this.window, {
                            beforeunload: function() {
                                this.element.removeAttr("autocomplete")
                            }
                        })
                    },
                    _destroy: function() {
                        clearTimeout(this.searching);
                        this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");
                        this.menu.element.remove();
                        this.liveRegion.remove()
                    },
                    _setOption: function(key, value) {
                        this._super(key, value);
                        if (key === "source") {
                            this._initSource()
                        }
                        if (key === "appendTo") {
                            this.menu.element.appendTo(this._appendTo())
                        }
                        if (key === "disabled" && value && this.xhr) {
                            this.xhr.abort()
                        }
                    },
                    _appendTo: function() {
                        var element = this.options.appendTo;
                        if (element) {
                            element = element.jquery || element.nodeType ? $(element) : this.document.find(element).eq(0)
                        }
                        if (!element) {
                            element = this.element.closest(".ui-front")
                        }
                        if (!element.length) {
                            element = this.document[0].body
                        }
                        return element
                    },
                    _initSource: function() {
                        var array, url, that = this;
                        if ($.isArray(this.options.source)) {
                            array = this.options.source;
                            this.source = function(request, response) {
                                response($.ui.autocomplete.filter(array, request.term))
                            }
                        } else if (typeof this.options.source === "string") {
                            url = this.options.source;
                            this.source = function(request, response) {
                                if (that.xhr) {
                                    that.xhr.abort()
                                }
                                that.xhr = $.ajax({
                                    url: url,
                                    data: request,
                                    dataType: "json",
                                    success: function(data) {
                                        response(data)
                                    },
                                    error: function() {
                                        response([])
                                    }
                                })
                            }
                        } else {
                            this.source = this.options.source
                        }
                    },
                    _searchTimeout: function(event) {
                        clearTimeout(this.searching);
                        this.searching = this._delay(function() {
                            if (this.term !== this._value()) {
                                this.selectedItem = null;
                                this.search(null, event)
                            }
                        }, this.options.delay)
                    },
                    search: function(value, event) {
                        value = value != null ? value : this._value();
                        this.term = this._value();
                        if (value.length < this.options.minLength) {
                            return this.close(event)
                        }
                        if (this._trigger("search", event) === false) {
                            return
                        }
                        return this._search(value)
                    },
                    _search: function(value) {
                        this.pending++;
                        this.element.addClass("ui-autocomplete-loading");
                        this.cancelSearch = false;
                        this.source({
                            term: value
                        }, this._response())
                    },
                    _response: function() {
                        var that = this,
                            index = ++requestIndex;
                        return function(content) {
                            if (index === requestIndex) {
                                that.__response(content)
                            }
                            that.pending--;
                            if (!that.pending) {
                                that.element.removeClass("ui-autocomplete-loading")
                            }
                        }
                    },
                    __response: function(content) {
                        if (content) {
                            content = this._normalize(content)
                        }
                        this._trigger("response", null, {
                            content: content
                        });
                        if (!this.options.disabled && content && content.length && !this.cancelSearch) {
                            this._suggest(content);
                            this._trigger("open")
                        } else {
                            this._close()
                        }
                    },
                    close: function(event) {
                        this.cancelSearch = true;
                        this._close(event)
                    },
                    _close: function(event) {
                        if (this.menu.element.is(":visible")) {
                            this.menu.element.hide();
                            this.menu.blur();
                            this.isNewMenu = true;
                            this._trigger("close", event)
                        }
                    },
                    _change: function(event) {
                        if (this.previous !== this._value()) {
                            this._trigger("change", event, {
                                item: this.selectedItem
                            })
                        }
                    },
                    _normalize: function(items) {
                        if (items.length && items[0].label && items[0].value) {
                            return items
                        }
                        return $.map(items, function(item) {
                            if (typeof item === "string") {
                                return {
                                    label: item,
                                    value: item
                                }
                            }
                            return $.extend({
                                label: item.label || item.value,
                                value: item.value || item.label
                            }, item)
                        })
                    },
                    _suggest: function(items) {
                        var ul = this.menu.element.empty();
                        this._renderMenu(ul, items);
                        this.isNewMenu = true;
                        this.menu.refresh();
                        ul.show();
                        this._resizeMenu();
                        ul.position($.extend({
                            of: this.element
                        }, this.options.position));
                        if (this.options.autoFocus) {
                            this.menu.next()
                        }
                    },
                    _resizeMenu: function() {
                        var ul = this.menu.element;
                        ul.outerWidth(Math.max(ul.width("").outerWidth() + 1, this.element.outerWidth()))
                    },
                    _renderMenu: function(ul, items) {
                        var that = this;
                        $.each(items, function(index, item) {
                            that._renderItemData(ul, item)
                        })
                    },
                    _renderItemData: function(ul, item) {
                        return this._renderItem(ul, item).data("ui-autocomplete-item", item)
                    },
                    _renderItem: function(ul, item) {
                        return $("<li>").append($("<a>").text(item.label)).appendTo(ul)
                    },
                    _move: function(direction, event) {
                        if (!this.menu.element.is(":visible")) {
                            this.search(null, event);
                            return
                        }
                        if (this.menu.isFirstItem() && /^previous/.test(direction) || this.menu.isLastItem() && /^next/.test(direction)) {
                            this._value(this.term);
                            this.menu.blur();
                            return
                        }
                        this.menu[direction](event)
                    },
                    widget: function() {
                        return this.menu.element
                    },
                    _value: function() {
                        return this.valueMethod.apply(this.element, arguments)
                    },
                    _keyEvent: function(keyEvent, event) {
                        if (!this.isMultiLine || this.menu.element.is(":visible")) {
                            this._move(keyEvent, event);
                            event.preventDefault()
                        }
                    }
                });
                $.extend($.ui.autocomplete, {
                    escapeRegex: function(value) {
                        return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
                    },
                    filter: function(array, term) {
                        var matcher = new RegExp($.ui.autocomplete.escapeRegex(term), "i");
                        return $.grep(array, function(value) {
                            return matcher.test(value.label || value.value || value)
                        })
                    }
                });
                $.widget("ui.autocomplete", $.ui.autocomplete, {
                    options: {
                        messages: {
                            noResults: "No search results.",
                            results: function(amount) {
                                return amount + (amount > 1 ? " results are" : " result is") + " available, use up and down arrow keys to navigate."
                            }
                        }
                    },
                    __response: function(content) {
                        var message;
                        this._superApply(arguments);
                        if (this.options.disabled || this.cancelSearch) {
                            return
                        }
                        if (content && content.length) {
                            message = this.options.messages.results(content.length)
                        } else {
                            message = this.options.messages.noResults
                        }
                        this.liveRegion.text(message)
                    }
                })
            })(jQuery);
            (function($, undefined) {
                var lastActive, startXPos, startYPos, clickDragged, baseClasses = "ui-button ui-widget ui-state-default ui-corner-all",
                    stateClasses = "ui-state-hover ui-state-active ",
                    typeClasses = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
                    formResetHandler = function() {
                        var form = $(this);
                        setTimeout(function() {
                            form.find(":ui-button").button("refresh")
                        }, 1)
                    },
                    radioGroup = function(radio) {
                        var name = radio.name,
                            form = radio.form,
                            radios = $([]);
                        if (name) {
                            name = name.replace(/'/g, "\\'");
                            if (form) {
                                radios = $(form).find("[name='" + name + "']")
                            } else {
                                radios = $("[name='" + name + "']", radio.ownerDocument).filter(function() {
                                    return !this.form
                                })
                            }
                        }
                        return radios
                    };
                $.widget("ui.button", {
                    version: "1.10.3",
                    defaultElement: "<button>",
                    options: {
                        disabled: null,
                        text: true,
                        label: null,
                        icons: {
                            primary: null,
                            secondary: null
                        }
                    },
                    _create: function() {
                        this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, formResetHandler);
                        if (typeof this.options.disabled !== "boolean") {
                            this.options.disabled = !!this.element.prop("disabled")
                        } else {
                            this.element.prop("disabled", this.options.disabled)
                        }
                        this._determineButtonType();
                        this.hasTitle = !!this.buttonElement.attr("title");
                        var that = this,
                            options = this.options,
                            toggleButton = this.type === "checkbox" || this.type === "radio",
                            activeClass = !toggleButton ? "ui-state-active" : "",
                            focusClass = "ui-state-focus";
                        if (options.label === null) {
                            options.label = this.type === "input" ? this.buttonElement.val() : this.buttonElement.html()
                        }
                        this._hoverable(this.buttonElement);
                        this.buttonElement.addClass(baseClasses).attr("role", "button").bind("mouseenter" + this.eventNamespace, function() {
                            if (options.disabled) {
                                return
                            }
                            if (this === lastActive) {
                                $(this).addClass("ui-state-active")
                            }
                        }).bind("mouseleave" + this.eventNamespace, function() {
                            if (options.disabled) {
                                return
                            }
                            $(this).removeClass(activeClass)
                        }).bind("click" + this.eventNamespace, function(event) {
                            if (options.disabled) {
                                event.preventDefault();
                                event.stopImmediatePropagation()
                            }
                        });
                        this.element.bind("focus" + this.eventNamespace, function() {
                            that.buttonElement.addClass(focusClass)
                        }).bind("blur" + this.eventNamespace, function() {
                            that.buttonElement.removeClass(focusClass)
                        });
                        if (toggleButton) {
                            this.element.bind("change" + this.eventNamespace, function() {
                                if (clickDragged) {
                                    return
                                }
                                that.refresh()
                            });
                            this.buttonElement.bind("mousedown" + this.eventNamespace, function(event) {
                                if (options.disabled) {
                                    return
                                }
                                clickDragged = false;
                                startXPos = event.pageX;
                                startYPos = event.pageY
                            }).bind("mouseup" + this.eventNamespace, function(event) {
                                if (options.disabled) {
                                    return
                                }
                                if (startXPos !== event.pageX || startYPos !== event.pageY) {
                                    clickDragged = true
                                }
                            })
                        }
                        if (this.type === "checkbox") {
                            this.buttonElement.bind("click" + this.eventNamespace, function() {
                                if (options.disabled || clickDragged) {
                                    return false
                                }
                            })
                        } else if (this.type === "radio") {
                            this.buttonElement.bind("click" + this.eventNamespace, function() {
                                if (options.disabled || clickDragged) {
                                    return false
                                }
                                $(this).addClass("ui-state-active");
                                that.buttonElement.attr("aria-pressed", "true");
                                var radio = that.element[0];
                                radioGroup(radio).not(radio).map(function() {
                                    return $(this).button("widget")[0]
                                }).removeClass("ui-state-active").attr("aria-pressed", "false")
                            })
                        } else {
                            this.buttonElement.bind("mousedown" + this.eventNamespace, function() {
                                if (options.disabled) {
                                    return false
                                }
                                $(this).addClass("ui-state-active");
                                lastActive = this;
                                that.document.one("mouseup", function() {
                                    lastActive = null
                                })
                            }).bind("mouseup" + this.eventNamespace, function() {
                                if (options.disabled) {
                                    return false
                                }
                                $(this).removeClass("ui-state-active")
                            }).bind("keydown" + this.eventNamespace, function(event) {
                                if (options.disabled) {
                                    return false
                                }
                                if (event.keyCode === $.ui.keyCode.SPACE || event.keyCode === $.ui.keyCode.ENTER) {
                                    $(this).addClass("ui-state-active")
                                }
                            }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
                                $(this).removeClass("ui-state-active")
                            });
                            if (this.buttonElement.is("a")) {
                                this.buttonElement.keyup(function(event) {
                                    if (event.keyCode === $.ui.keyCode.SPACE) {
                                        $(this).click()
                                    }
                                })
                            }
                        }
                        this._setOption("disabled", options.disabled);
                        this._resetButton()
                    },
                    _determineButtonType: function() {
                        var ancestor, labelSelector, checked;
                        if (this.element.is("[type=checkbox]")) {
                            this.type = "checkbox"
                        } else if (this.element.is("[type=radio]")) {
                            this.type = "radio"
                        } else if (this.element.is("input")) {
                            this.type = "input"
                        } else {
                            this.type = "button"
                        }
                        if (this.type === "checkbox" || this.type === "radio") {
                            ancestor = this.element.parents().last();
                            labelSelector = "label[for='" + this.element.attr("id") + "']";
                            this.buttonElement = ancestor.find(labelSelector);
                            if (!this.buttonElement.length) {
                                ancestor = ancestor.length ? ancestor.siblings() : this.element.siblings();
                                this.buttonElement = ancestor.filter(labelSelector);
                                if (!this.buttonElement.length) {
                                    this.buttonElement = ancestor.find(labelSelector)
                                }
                            }
                            this.element.addClass("ui-helper-hidden-accessible");
                            checked = this.element.is(":checked");
                            if (checked) {
                                this.buttonElement.addClass("ui-state-active")
                            }
                            this.buttonElement.prop("aria-pressed", checked)
                        } else {
                            this.buttonElement = this.element
                        }
                    },
                    widget: function() {
                        return this.buttonElement
                    },
                    _destroy: function() {
                        this.element.removeClass("ui-helper-hidden-accessible");
                        this.buttonElement.removeClass(baseClasses + " " + stateClasses + " " + typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
                        if (!this.hasTitle) {
                            this.buttonElement.removeAttr("title")
                        }
                    },
                    _setOption: function(key, value) {
                        this._super(key, value);
                        if (key === "disabled") {
                            if (value) {
                                this.element.prop("disabled", true)
                            } else {
                                this.element.prop("disabled", false)
                            }
                            return
                        }
                        this._resetButton()
                    },
                    refresh: function() {
                        var isDisabled = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
                        if (isDisabled !== this.options.disabled) {
                            this._setOption("disabled", isDisabled)
                        }
                        if (this.type === "radio") {
                            radioGroup(this.element[0]).each(function() {
                                if ($(this).is(":checked")) {
                                    $(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true")
                                } else {
                                    $(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
                                }
                            })
                        } else if (this.type === "checkbox") {
                            if (this.element.is(":checked")) {
                                this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true")
                            } else {
                                this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false")
                            }
                        }
                    },
                    _resetButton: function() {
                        if (this.type === "input") {
                            if (this.options.label) {
                                this.element.val(this.options.label)
                            }
                            return
                        }
                        var buttonElement = this.buttonElement.removeClass(typeClasses),
                            buttonText = $("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),
                            icons = this.options.icons,
                            multipleIcons = icons.primary && icons.secondary,
                            buttonClasses = [];
                        if (icons.primary || icons.secondary) {
                            if (this.options.text) {
                                buttonClasses.push("ui-button-text-icon" + (multipleIcons ? "s" : icons.primary ? "-primary" : "-secondary"))
                            }
                            if (icons.primary) {
                                buttonElement.prepend("<span class='ui-button-icon-primary ui-icon " + icons.primary + "'></span>")
                            }
                            if (icons.secondary) {
                                buttonElement.append("<span class='ui-button-icon-secondary ui-icon " + icons.secondary + "'></span>")
                            }
                            if (!this.options.text) {
                                buttonClasses.push(multipleIcons ? "ui-button-icons-only" : "ui-button-icon-only");
                                if (!this.hasTitle) {
                                    buttonElement.attr("title", $.trim(buttonText))
                                }
                            }
                        } else {
                            buttonClasses.push("ui-button-text-only")
                        }
                        buttonElement.addClass(buttonClasses.join(" "))
                    }
                });
                $.widget("ui.buttonset", {
                    version: "1.10.3",
                    options: {
                        items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
                    },
                    _create: function() {
                        this.element.addClass("ui-buttonset")
                    },
                    _init: function() {
                        this.refresh()
                    },
                    _setOption: function(key, value) {
                        if (key === "disabled") {
                            this.buttons.button("option", key, value)
                        }
                        this._super(key, value)
                    },
                    refresh: function() {
                        var rtl = this.element.css("direction") === "rtl";
                        this.buttons = this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function() {
                            return $(this).button("widget")[0]
                        }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(rtl ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(rtl ? "ui-corner-left" : "ui-corner-right").end().end()
                    },
                    _destroy: function() {
                        this.element.removeClass("ui-buttonset");
                        this.buttons.map(function() {
                            return $(this).button("widget")[0]
                        }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
                    }
                })
            })(jQuery);
            (function($, undefined) {
                $.extend($.ui, {
                    datepicker: {
                        version: "1.10.3"
                    }
                });
                var PROP_NAME = "datepicker",
                    instActive;

                function Datepicker() {
                    this._curInst = null;
                    this._keyEvent = false;
                    this._disabledInputs = [];
                    this._datepickerShowing = false;
                    this._inDialog = false;
                    this._mainDivId = "ui-datepicker-div";
                    this._inlineClass = "ui-datepicker-inline";
                    this._appendClass = "ui-datepicker-append";
                    this._triggerClass = "ui-datepicker-trigger";
                    this._dialogClass = "ui-datepicker-dialog";
                    this._disableClass = "ui-datepicker-disabled";
                    this._unselectableClass = "ui-datepicker-unselectable";
                    this._currentClass = "ui-datepicker-current-day";
                    this._dayOverClass = "ui-datepicker-days-cell-over";
                    this.regional = [];
                    this.regional[""] = {
                        closeText: "Done",
                        prevText: "Prev",
                        nextText: "Next",
                        currentText: "Today",
                        monthNames: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"],
                        monthNamesShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                        dayNames: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"],
                        dayNamesShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
                        dayNamesMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
                        weekHeader: "Wk",
                        dateFormat: "mm/dd/yy",
                        firstDay: 0,
                        isRTL: false,
                        showMonthAfterYear: false,
                        yearSuffix: ""
                    };
                    this._defaults = {
                        showOn: "focus",
                        showAnim: "fadeIn",
                        showOptions: {},
                        defaultDate: null,
                        appendText: "",
                        buttonText: "...",
                        buttonImage: "",
                        buttonImageOnly: false,
                        hideIfNoPrevNext: false,
                        navigationAsDateFormat: false,
                        gotoCurrent: false,
                        changeMonth: false,
                        changeYear: false,
                        yearRange: "c-10:c+10",
                        showOtherMonths: false,
                        selectOtherMonths: false,
                        showWeek: false,
                        calculateWeek: this.iso8601Week,
                        shortYearCutoff: "+10",
                        minDate: null,
                        maxDate: null,
                        duration: "fast",
                        beforeShowDay: null,
                        beforeShow: null,
                        onSelect: null,
                        onChangeMonthYear: null,
                        onClose: null,
                        numberOfMonths: 1,
                        showCurrentAtPos: 0,
                        stepMonths: 1,
                        stepBigMonths: 12,
                        altField: "",
                        altFormat: "",
                        constrainInput: true,
                        showButtonPanel: false,
                        autoSize: false,
                        disabled: false
                    };
                    $.extend(this._defaults, this.regional[""]);
                    this.dpDiv = bindHover($("<div id='" + this._mainDivId + "' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
                }
                $.extend(Datepicker.prototype, {
                    markerClassName: "hasDatepicker",
                    maxRows: 4,
                    _widgetDatepicker: function() {
                        return this.dpDiv
                    },
                    setDefaults: function(settings) {
                        extendRemove(this._defaults, settings || {});
                        return this
                    },
                    _attachDatepicker: function(target, settings) {
                        var nodeName, inline, inst;
                        nodeName = target.nodeName.toLowerCase();
                        inline = nodeName === "div" || nodeName === "span";
                        if (!target.id) {
                            this.uuid += 1;
                            target.id = "dp" + this.uuid
                        }
                        inst = this._newInst($(target), inline);
                        inst.settings = $.extend({}, settings || {});
                        if (nodeName === "input") {
                            this._connectDatepicker(target, inst)
                        } else if (inline) {
                            this._inlineDatepicker(target, inst)
                        }
                    },
                    _newInst: function(target, inline) {
                        var id = target[0].id.replace(/([^A-Za-z0-9_\-])/g, "\\\\$1");
                        return {
                            id: id,
                            input: target,
                            selectedDay: 0,
                            selectedMonth: 0,
                            selectedYear: 0,
                            drawMonth: 0,
                            drawYear: 0,
                            inline: inline,
                            dpDiv: !inline ? this.dpDiv : bindHover($("<div class='" + this._inlineClass + " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))
                        }
                    },
                    _connectDatepicker: function(target, inst) {
                        var input = $(target);
                        inst.append = $([]);
                        inst.trigger = $([]);
                        if (input.hasClass(this.markerClassName)) {
                            return
                        }
                        this._attachments(input, inst);
                        input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);
                        this._autoSize(inst);
                        $.data(target, PROP_NAME, inst);
                        if (inst.settings.disabled) {
                            this._disableDatepicker(target)
                        }
                    },
                    _attachments: function(input, inst) {
                        var showOn, buttonText, buttonImage, appendText = this._get(inst, "appendText"),
                            isRTL = this._get(inst, "isRTL");
                        if (inst.append) {
                            inst.append.remove()
                        }
                        if (appendText) {
                            inst.append = $("<span class='" + this._appendClass + "'>" + appendText + "</span>");
                            input[isRTL ? "before" : "after"](inst.append)
                        }
                        input.unbind("focus", this._showDatepicker);
                        if (inst.trigger) {
                            inst.trigger.remove()
                        }
                        showOn = this._get(inst, "showOn");
                        if (showOn === "focus" || showOn === "both") {
                            input.focus(this._showDatepicker)
                        }
                        if (showOn === "button" || showOn === "both") {
                            buttonText = this._get(inst, "buttonText");
                            buttonImage = this._get(inst, "buttonImage");
                            inst.trigger = $(this._get(inst, "buttonImageOnly") ? $("<img/>").addClass(this._triggerClass).attr({
                                src: buttonImage,
                                alt: buttonText,
                                title: buttonText
                            }) : $("<button type='button'></button>").addClass(this._triggerClass).html(!buttonImage ? buttonText : $("<img/>").attr({
                                src: buttonImage,
                                alt: buttonText,
                                title: buttonText
                            })));
                            input[isRTL ? "before" : "after"](inst.trigger);
                            inst.trigger.click(function() {
                                if ($.datepicker._datepickerShowing && $.datepicker._lastInput === input[0]) {
                                    $.datepicker._hideDatepicker()
                                } else if ($.datepicker._datepickerShowing && $.datepicker._lastInput !== input[0]) {
                                    $.datepicker._hideDatepicker();
                                    $.datepicker._showDatepicker(input[0])
                                } else {
                                    $.datepicker._showDatepicker(input[0])
                                }
                                return false
                            })
                        }
                    },
                    _autoSize: function(inst) {
                        if (this._get(inst, "autoSize") && !inst.inline) {
                            var findMax, max, maxI, i, date = new Date(2009, 12 - 1, 20),
                                dateFormat = this._get(inst, "dateFormat");
                            if (dateFormat.match(/[DM]/)) {
                                findMax = function(names) {
                                    max = 0;
                                    maxI = 0;
                                    for (i = 0; i < names.length; i++) {
                                        if (names[i].length > max) {
                                            max = names[i].length;
                                            maxI = i
                                        }
                                    }
                                    return maxI
                                };
                                date.setMonth(findMax(this._get(inst, dateFormat.match(/MM/) ? "monthNames" : "monthNamesShort")));
                                date.setDate(findMax(this._get(inst, dateFormat.match(/DD/) ? "dayNames" : "dayNamesShort")) + 20 - date.getDay())
                            }
                            inst.input.attr("size", this._formatDate(inst, date).length)
                        }
                    },
                    _inlineDatepicker: function(target, inst) {
                        var divSpan = $(target);
                        if (divSpan.hasClass(this.markerClassName)) {
                            return
                        }
                        divSpan.addClass(this.markerClassName).append(inst.dpDiv);
                        $.data(target, PROP_NAME, inst);
                        this._setDate(inst, this._getDefaultDate(inst), true);
                        this._updateDatepicker(inst);
                        this._updateAlternate(inst);
                        if (inst.settings.disabled) {
                            this._disableDatepicker(target)
                        }
                        inst.dpDiv.css("display", "block")
                    },
                    _dialogDatepicker: function(input, date, onSelect, settings, pos) {
                        var id, browserWidth, browserHeight, scrollX, scrollY, inst = this._dialogInst;
                        if (!inst) {
                            this.uuid += 1;
                            id = "dp" + this.uuid;
                            this._dialogInput = $("<input type='text' id='" + id + "' style='position: absolute; top: -100px; width: 0px;'/>");
                            this._dialogInput.keydown(this._doKeyDown);
                            $("body").append(this._dialogInput);
                            inst = this._dialogInst = this._newInst(this._dialogInput, false);
                            inst.settings = {};
                            $.data(this._dialogInput[0], PROP_NAME, inst)
                        }
                        extendRemove(inst.settings, settings || {});
                        date = date && date.constructor === Date ? this._formatDate(inst, date) : date;
                        this._dialogInput.val(date);
                        this._pos = pos ? pos.length ? pos : [pos.pageX, pos.pageY] : null;
                        if (!this._pos) {
                            browserWidth = document.documentElement.clientWidth;
                            browserHeight = document.documentElement.clientHeight;
                            scrollX = document.documentElement.scrollLeft || document.body.scrollLeft;
                            scrollY = document.documentElement.scrollTop || document.body.scrollTop;
                            this._pos = [browserWidth / 2 - 100 + scrollX, browserHeight / 2 - 150 + scrollY]
                        }
                        this._dialogInput.css("left", this._pos[0] + 20 + "px").css("top", this._pos[1] + "px");
                        inst.settings.onSelect = onSelect;
                        this._inDialog = true;
                        this.dpDiv.addClass(this._dialogClass);
                        this._showDatepicker(this._dialogInput[0]);
                        if ($.blockUI) {
                            $.blockUI(this.dpDiv)
                        }
                        $.data(this._dialogInput[0], PROP_NAME, inst);
                        return this
                    },
                    _destroyDatepicker: function(target) {
                        var nodeName, $target = $(target),
                            inst = $.data(target, PROP_NAME);
                        if (!$target.hasClass(this.markerClassName)) {
                            return
                        }
                        nodeName = target.nodeName.toLowerCase();
                        $.removeData(target, PROP_NAME);
                        if (nodeName === "input") {
                            inst.append.remove();
                            inst.trigger.remove();
                            $target.removeClass(this.markerClassName).unbind("focus", this._showDatepicker).unbind("keydown", this._doKeyDown).unbind("keypress", this._doKeyPress).unbind("keyup", this._doKeyUp)
                        } else if (nodeName === "div" || nodeName === "span") {
                            $target.removeClass(this.markerClassName).empty()
                        }
                    },
                    _enableDatepicker: function(target) {
                        var nodeName, inline, $target = $(target),
                            inst = $.data(target, PROP_NAME);
                        if (!$target.hasClass(this.markerClassName)) {
                            return
                        }
                        nodeName = target.nodeName.toLowerCase();
                        if (nodeName === "input") {
                            target.disabled = false;
                            inst.trigger.filter("button").each(function() {
                                this.disabled = false
                            }).end().filter("img").css({
                                opacity: "1.0",
                                cursor: ""
                            })
                        } else if (nodeName === "div" || nodeName === "span") {
                            inline = $target.children("." + this._inlineClass);
                            inline.children().removeClass("ui-state-disabled");
                            inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", false)
                        }
                        this._disabledInputs = $.map(this._disabledInputs, function(value) {
                            return value === target ? null : value
                        })
                    },
                    _disableDatepicker: function(target) {
                        var nodeName, inline, $target = $(target),
                            inst = $.data(target, PROP_NAME);
                        if (!$target.hasClass(this.markerClassName)) {
                            return
                        }
                        nodeName = target.nodeName.toLowerCase();
                        if (nodeName === "input") {
                            target.disabled = true;
                            inst.trigger.filter("button").each(function() {
                                this.disabled = true
                            }).end().filter("img").css({
                                opacity: "0.5",
                                cursor: "default"
                            })
                        } else if (nodeName === "div" || nodeName === "span") {
                            inline = $target.children("." + this._inlineClass);
                            inline.children().addClass("ui-state-disabled");
                            inline.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled", true)
                        }
                        this._disabledInputs = $.map(this._disabledInputs, function(value) {
                            return value === target ? null : value
                        });
                        this._disabledInputs[this._disabledInputs.length] = target
                    },
                    _isDisabledDatepicker: function(target) {
                        if (!target) {
                            return false
                        }
                        for (var i = 0; i < this._disabledInputs.length; i++) {
                            if (this._disabledInputs[i] === target) {
                                return true
                            }
                        }
                        return false
                    },
                    _getInst: function(target) {
                        try {
                            return $.data(target, PROP_NAME)
                        } catch (err) {
                            throw "Missing instance data for this datepicker"
                        }
                    },
                    _optionDatepicker: function(target, name, value) {
                        var settings, date, minDate, maxDate, inst = this._getInst(target);
                        if (arguments.length === 2 && typeof name === "string") {
                            return name === "defaults" ? $.extend({}, $.datepicker._defaults) : inst ? name === "all" ? $.extend({}, inst.settings) : this._get(inst, name) : null
                        }
                        settings = name || {};
                        if (typeof name === "string") {
                            settings = {};
                            settings[name] = value
                        }
                        if (inst) {
                            if (this._curInst === inst) {
                                this._hideDatepicker()
                            }
                            date = this._getDateDatepicker(target, true);
                            minDate = this._getMinMaxDate(inst, "min");
                            maxDate = this._getMinMaxDate(inst, "max");
                            extendRemove(inst.settings, settings);
                            if (minDate !== null && settings.dateFormat !== undefined && settings.minDate === undefined) {
                                inst.settings.minDate = this._formatDate(inst, minDate)
                            }
                            if (maxDate !== null && settings.dateFormat !== undefined && settings.maxDate === undefined) {
                                inst.settings.maxDate = this._formatDate(inst, maxDate)
                            }
                            if ("disabled" in settings) {
                                if (settings.disabled) {
                                    this._disableDatepicker(target)
                                } else {
                                    this._enableDatepicker(target)
                                }
                            }
                            this._attachments($(target), inst);
                            this._autoSize(inst);
                            this._setDate(inst, date);
                            this._updateAlternate(inst);
                            this._updateDatepicker(inst)
                        }
                    },
                    _changeDatepicker: function(target, name, value) {
                        this._optionDatepicker(target, name, value)
                    },
                    _refreshDatepicker: function(target) {
                        var inst = this._getInst(target);
                        if (inst) {
                            this._updateDatepicker(inst)
                        }
                    },
                    _setDateDatepicker: function(target, date) {
                        var inst = this._getInst(target);
                        if (inst) {
                            this._setDate(inst, date);
                            this._updateDatepicker(inst);
                            this._updateAlternate(inst)
                        }
                    },
                    _getDateDatepicker: function(target, noDefault) {
                        var inst = this._getInst(target);
                        if (inst && !inst.inline) {
                            this._setDateFromField(inst, noDefault)
                        }
                        return inst ? this._getDate(inst) : null
                    },
                    _doKeyDown: function(event) {
                        var onSelect, dateStr, sel, inst = $.datepicker._getInst(event.target),
                            handled = true,
                            isRTL = inst.dpDiv.is(".ui-datepicker-rtl");
                        inst._keyEvent = true;
                        if ($.datepicker._datepickerShowing) {
                            switch (event.keyCode) {
                                case 9:
                                    $.datepicker._hideDatepicker();
                                    handled = false;
                                    break;
                                case 13:
                                    sel = $("td." + $.datepicker._dayOverClass + ":not(." + $.datepicker._currentClass + ")", inst.dpDiv);
                                    if (sel[0]) {
                                        $.datepicker._selectDay(event.target, inst.selectedMonth, inst.selectedYear, sel[0])
                                    }
                                    onSelect = $.datepicker._get(inst, "onSelect");
                                    if (onSelect) {
                                        dateStr = $.datepicker._formatDate(inst);
                                        onSelect.apply(inst.input ? inst.input[0] : null, [dateStr, inst])
                                    } else {
                                        $.datepicker._hideDatepicker()
                                    }
                                    return false;
                                case 27:
                                    $.datepicker._hideDatepicker();
                                    break;
                                case 33:
                                    $.datepicker._adjustDate(event.target, event.ctrlKey ? -$.datepicker._get(inst, "stepBigMonths") : -$.datepicker._get(inst, "stepMonths"), "M");
                                    break;
                                case 34:
                                    $.datepicker._adjustDate(event.target, event.ctrlKey ? +$.datepicker._get(inst, "stepBigMonths") : +$.datepicker._get(inst, "stepMonths"), "M");
                                    break;
                                case 35:
                                    if (event.ctrlKey || event.metaKey) {
                                        $.datepicker._clearDate(event.target)
                                    }
                                    handled = event.ctrlKey || event.metaKey;
                                    break;
                                case 36:
                                    if (event.ctrlKey || event.metaKey) {
                                        $.datepicker._gotoToday(event.target)
                                    }
                                    handled = event.ctrlKey || event.metaKey;
                                    break;
                                case 37:
                                    if (event.ctrlKey || event.metaKey) {
                                        $.datepicker._adjustDate(event.target, isRTL ? +1 : -1, "D")
                                    }
                                    handled = event.ctrlKey || event.metaKey;
                                    if (event.originalEvent.altKey) {
                                        $.datepicker._adjustDate(event.target, event.ctrlKey ? -$.datepicker._get(inst, "stepBigMonths") : -$.datepicker._get(inst, "stepMonths"), "M")
                                    }
                                    break;
                                case 38:
                                    if (event.ctrlKey || event.metaKey) {
                                        $.datepicker._adjustDate(event.target, -7, "D")
                                    }
                                    handled = event.ctrlKey || event.metaKey;
                                    break;
                                case 39:
                                    if (event.ctrlKey || event.metaKey) {
                                        $.datepicker._adjustDate(event.target, isRTL ? -1 : +1, "D")
                                    }
                                    handled = event.ctrlKey || event.metaKey;
                                    if (event.originalEvent.altKey) {
                                        $.datepicker._adjustDate(event.target, event.ctrlKey ? +$.datepicker._get(inst, "stepBigMonths") : +$.datepicker._get(inst, "stepMonths"), "M")
                                    }
                                    break;
                                case 40:
                                    if (event.ctrlKey || event.metaKey) {
                                        $.datepicker._adjustDate(event.target, +7, "D")
                                    }
                                    handled = event.ctrlKey || event.metaKey;
                                    break;
                                default:
                                    handled = false
                            }
                        } else if (event.keyCode === 36 && event.ctrlKey) {
                            $.datepicker._showDatepicker(this)
                        } else {
                            handled = false
                        }
                        if (handled) {
                            event.preventDefault();
                            event.stopPropagation()
                        }
                    },
                    _doKeyPress: function(event) {
                        var chars, chr, inst = $.datepicker._getInst(event.target);
                        if ($.datepicker._get(inst, "constrainInput")) {
                            chars = $.datepicker._possibleChars($.datepicker._get(inst, "dateFormat"));
                            chr = String.fromCharCode(event.charCode == null ? event.keyCode : event.charCode);
                            return event.ctrlKey || event.metaKey || (chr < " " || !chars || chars.indexOf(chr) > -1)
                        }
                    },
                    _doKeyUp: function(event) {
                        var date, inst = $.datepicker._getInst(event.target);
                        if (inst.input.val() !== inst.lastVal) {
                            try {
                                date = $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"), inst.input ? inst.input.val() : null, $.datepicker._getFormatConfig(inst));
                                if (date) {
                                    $.datepicker._setDateFromField(inst);
                                    $.datepicker._updateAlternate(inst);
                                    $.datepicker._updateDatepicker(inst)
                                }
                            } catch (err) {}
                        }
                        return true
                    },
                    _showDatepicker: function(input) {
                        input = input.target || input;
                        if (input.nodeName.toLowerCase() !== "input") {
                            input = $("input", input.parentNode)[0]
                        }
                        if ($.datepicker._isDisabledDatepicker(input) || $.datepicker._lastInput === input) {
                            return
                        }
                        var inst, beforeShow, beforeShowSettings, isFixed, offset, showAnim, duration;
                        inst = $.datepicker._getInst(input);
                        if ($.datepicker._curInst && $.datepicker._curInst !== inst) {
                            $.datepicker._curInst.dpDiv.stop(true, true);
                            if (inst && $.datepicker._datepickerShowing) {
                                $.datepicker._hideDatepicker($.datepicker._curInst.input[0])
                            }
                        }
                        beforeShow = $.datepicker._get(inst, "beforeShow");
                        beforeShowSettings = beforeShow ? beforeShow.apply(input, [input, inst]) : {};
                        if (beforeShowSettings === false) {
                            return
                        }
                        extendRemove(inst.settings, beforeShowSettings);
                        inst.lastVal = null;
                        $.datepicker._lastInput = input;
                        $.datepicker._setDateFromField(inst);
                        if ($.datepicker._inDialog) {
                            input.value = ""
                        }
                        if (!$.datepicker._pos) {
                            $.datepicker._pos = $.datepicker._findPos(input);
                            $.datepicker._pos[1] += input.offsetHeight
                        }
                        isFixed = false;
                        $(input).parents().each(function() {
                            isFixed |= $(this).css("position") === "fixed";
                            return !isFixed
                        });
                        offset = {
                            left: $.datepicker._pos[0],
                            top: $.datepicker._pos[1]
                        };
                        $.datepicker._pos = null;
                        inst.dpDiv.empty();
                        inst.dpDiv.css({
                            position: "absolute",
                            display: "block",
                            top: "-1000px"
                        });
                        $.datepicker._updateDatepicker(inst);
                        offset = $.datepicker._checkOffset(inst, offset, isFixed);
                        inst.dpDiv.css({
                            position: $.datepicker._inDialog && $.blockUI ? "static" : isFixed ? "fixed" : "absolute",
                            display: "none",
                            left: offset.left + "px",
                            top: offset.top + "px"
                        });
                        if (!inst.inline) {
                            showAnim = $.datepicker._get(inst, "showAnim");
                            duration = $.datepicker._get(inst, "duration");
                            inst.dpDiv.zIndex($(input).zIndex() + 1);
                            $.datepicker._datepickerShowing = true;
                            if ($.effects && $.effects.effect[showAnim]) {
                                inst.dpDiv.show(showAnim, $.datepicker._get(inst, "showOptions"), duration)
                            } else {
                                inst.dpDiv[showAnim || "show"](showAnim ? duration : null)
                            }
                            if ($.datepicker._shouldFocusInput(inst)) {
                                inst.input.focus()
                            }
                            $.datepicker._curInst = inst
                        }
                    },
                    _updateDatepicker: function(inst) {
                        this.maxRows = 4;
                        instActive = inst;
                        inst.dpDiv.empty().append(this._generateHTML(inst));
                        this._attachHandlers(inst);
                        inst.dpDiv.find("." + this._dayOverClass + " a").mouseover();
                        var origyearshtml, numMonths = this._getNumberOfMonths(inst),
                            cols = numMonths[1],
                            width = 17;
                        inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");
                        if (cols > 1) {
                            inst.dpDiv.addClass("ui-datepicker-multi-" + cols).css("width", width * cols + "em")
                        }
                        inst.dpDiv[(numMonths[0] !== 1 || numMonths[1] !== 1 ? "add" : "remove") + "Class"]("ui-datepicker-multi");
                        inst.dpDiv[(this._get(inst, "isRTL") ? "add" : "remove") + "Class"]("ui-datepicker-rtl");
                        if (inst === $.datepicker._curInst && $.datepicker._datepickerShowing && $.datepicker._shouldFocusInput(inst)) {
                            inst.input.focus()
                        }
                        if (inst.yearshtml) {
                            origyearshtml = inst.yearshtml;
                            setTimeout(function() {
                                if (origyearshtml === inst.yearshtml && inst.yearshtml) {
                                    inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml)
                                }
                                origyearshtml = inst.yearshtml = null
                            }, 0)
                        }
                    },
                    _shouldFocusInput: function(inst) {
                        return inst.input && inst.input.is(":visible") && !inst.input.is(":disabled") && !inst.input.is(":focus")
                    },
                    _checkOffset: function(inst, offset, isFixed) {
                        var dpWidth = inst.dpDiv.outerWidth(),
                            dpHeight = inst.dpDiv.outerHeight(),
                            inputWidth = inst.input ? inst.input.outerWidth() : 0,
                            inputHeight = inst.input ? inst.input.outerHeight() : 0,
                            viewWidth = document.documentElement.clientWidth + (isFixed ? 0 : $(document).scrollLeft()),
                            viewHeight = document.documentElement.clientHeight + (isFixed ? 0 : $(document).scrollTop());
                        offset.left -= this._get(inst, "isRTL") ? dpWidth - inputWidth : 0;
                        offset.left -= isFixed && offset.left === inst.input.offset().left ? $(document).scrollLeft() : 0;
                        offset.top -= isFixed && offset.top === inst.input.offset().top + inputHeight ? $(document).scrollTop() : 0;
                        offset.left -= Math.min(offset.left, offset.left + dpWidth > viewWidth && viewWidth > dpWidth ? Math.abs(offset.left + dpWidth - viewWidth) : 0);
                        offset.top -= Math.min(offset.top, offset.top + dpHeight > viewHeight && viewHeight > dpHeight ? Math.abs(dpHeight + inputHeight) : 0);
                        return offset
                    },
                    _findPos: function(obj) {
                        var position, inst = this._getInst(obj),
                            isRTL = this._get(inst, "isRTL");
                        while (obj && (obj.type === "hidden" || obj.nodeType !== 1 || $.expr.filters.hidden(obj))) {
                            obj = obj[isRTL ? "previousSibling" : "nextSibling"]
                        }
                        position = $(obj).offset();
                        return [position.left, position.top]
                    },
                    _hideDatepicker: function(input) {
                        var showAnim, duration, postProcess, onClose, inst = this._curInst;
                        if (!inst || input && inst !== $.data(input, PROP_NAME)) {
                            return
                        }
                        if (this._datepickerShowing) {
                            showAnim = this._get(inst, "showAnim");
                            duration = this._get(inst, "duration");
                            postProcess = function() {
                                $.datepicker._tidyDialog(inst)
                            };
                            if ($.effects && ($.effects.effect[showAnim] || $.effects[showAnim])) {
                                inst.dpDiv.hide(showAnim, $.datepicker._get(inst, "showOptions"), duration, postProcess)
                            } else {
                                inst.dpDiv[showAnim === "slideDown" ? "slideUp" : showAnim === "fadeIn" ? "fadeOut" : "hide"](showAnim ? duration : null, postProcess)
                            }
                            if (!showAnim) {
                                postProcess()
                            }
                            this._datepickerShowing = false;
                            onClose = this._get(inst, "onClose");
                            if (onClose) {
                                onClose.apply(inst.input ? inst.input[0] : null, [inst.input ? inst.input.val() : "", inst])
                            }
                            this._lastInput = null;
                            if (this._inDialog) {
                                this._dialogInput.css({
                                    position: "absolute",
                                    left: "0",
                                    top: "-100px"
                                });
                                if ($.blockUI) {
                                    $.unblockUI();
                                    $("body").append(this.dpDiv)
                                }
                            }
                            this._inDialog = false
                        }
                    },
                    _tidyDialog: function(inst) {
                        inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")
                    },
                    _checkExternalClick: function(event) {
                        if (!$.datepicker._curInst) {
                            return
                        }
                        var $target = $(event.target),
                            inst = $.datepicker._getInst($target[0]);
                        if ($target[0].id !== $.datepicker._mainDivId && $target.parents("#" + $.datepicker._mainDivId).length === 0 && !$target.hasClass($.datepicker.markerClassName) && !$target.closest("." + $.datepicker._triggerClass).length && $.datepicker._datepickerShowing && !($.datepicker._inDialog && $.blockUI) || $target.hasClass($.datepicker.markerClassName) && $.datepicker._curInst !== inst) {
                            $.datepicker._hideDatepicker()
                        }
                    },
                    _adjustDate: function(id, offset, period) {
                        var target = $(id),
                            inst = this._getInst(target[0]);
                        if (this._isDisabledDatepicker(target[0])) {
                            return
                        }
                        this._adjustInstDate(inst, offset + (period === "M" ? this._get(inst, "showCurrentAtPos") : 0), period);
                        this._updateDatepicker(inst)
                    },
                    _gotoToday: function(id) {
                        var date, target = $(id),
                            inst = this._getInst(target[0]);
                        if (this._get(inst, "gotoCurrent") && inst.currentDay) {
                            inst.selectedDay = inst.currentDay;
                            inst.drawMonth = inst.selectedMonth = inst.currentMonth;
                            inst.drawYear = inst.selectedYear = inst.currentYear
                        } else {
                            date = new Date;
                            inst.selectedDay = date.getDate();
                            inst.drawMonth = inst.selectedMonth = date.getMonth();
                            inst.drawYear = inst.selectedYear = date.getFullYear()
                        }
                        this._notifyChange(inst);
                        this._adjustDate(target)
                    },
                    _selectMonthYear: function(id, select, period) {
                        var target = $(id),
                            inst = this._getInst(target[0]);
                        inst["selected" + (period === "M" ? "Month" : "Year")] = inst["draw" + (period === "M" ? "Month" : "Year")] = parseInt(select.options[select.selectedIndex].value, 10);
                        this._notifyChange(inst);
                        this._adjustDate(target)
                    },
                    _selectDay: function(id, month, year, td) {
                        var inst, target = $(id);
                        if ($(td).hasClass(this._unselectableClass) || this._isDisabledDatepicker(target[0])) {
                            return
                        }
                        inst = this._getInst(target[0]);
                        inst.selectedDay = inst.currentDay = $("a", td).html();
                        inst.selectedMonth = inst.currentMonth = month;
                        inst.selectedYear = inst.currentYear = year;
                        this._selectDate(id, this._formatDate(inst, inst.currentDay, inst.currentMonth, inst.currentYear))
                    },
                    _clearDate: function(id) {
                        var target = $(id);
                        this._selectDate(target, "")
                    },
                    _selectDate: function(id, dateStr) {
                        var onSelect, target = $(id),
                            inst = this._getInst(target[0]);
                        dateStr = dateStr != null ? dateStr : this._formatDate(inst);
                        if (inst.input) {
                            inst.input.val(dateStr)
                        }
                        this._updateAlternate(inst);
                        onSelect = this._get(inst, "onSelect");
                        if (onSelect) {
                            onSelect.apply(inst.input ? inst.input[0] : null, [dateStr, inst])
                        } else if (inst.input) {
                            inst.input.trigger("change")
                        }
                        if (inst.inline) {
                            this._updateDatepicker(inst)
                        } else {
                            this._hideDatepicker();
                            this._lastInput = inst.input[0];
                            if (typeof inst.input[0] !== "object") {
                                inst.input.focus()
                            }
                            this._lastInput = null
                        }
                    },
                    _updateAlternate: function(inst) {
                        var altFormat, date, dateStr, altField = this._get(inst, "altField");
                        if (altField) {
                            altFormat = this._get(inst, "altFormat") || this._get(inst, "dateFormat");
                            date = this._getDate(inst);
                            dateStr = this.formatDate(altFormat, date, this._getFormatConfig(inst));
                            $(altField).each(function() {
                                $(this).val(dateStr)
                            })
                        }
                    },
                    noWeekends: function(date) {
                        var day = date.getDay();
                        return [day > 0 && day < 6, ""]
                    },
                    iso8601Week: function(date) {
                        var time, checkDate = new Date(date.getTime());
                        checkDate.setDate(checkDate.getDate() + 4 - (checkDate.getDay() || 7));
                        time = checkDate.getTime();
                        checkDate.setMonth(0);
                        checkDate.setDate(1);
                        return Math.floor(Math.round((time - checkDate) / 864e5) / 7) + 1
                    },
                    parseDate: function(format, value, settings) {
                        if (format == null || value == null) {
                            throw "Invalid arguments"
                        }
                        value = typeof value === "object" ? value.toString() : value + "";
                        if (value === "") {
                            return null
                        }
                        var iFormat, dim, extra, iValue = 0,
                            shortYearCutoffTemp = (settings ? settings.shortYearCutoff : null) || this._defaults.shortYearCutoff,
                            shortYearCutoff = typeof shortYearCutoffTemp !== "string" ? shortYearCutoffTemp : (new Date).getFullYear() % 100 + parseInt(shortYearCutoffTemp, 10),
                            dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,
                            dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,
                            monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,
                            monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,
                            year = -1,
                            month = -1,
                            day = -1,
                            doy = -1,
                            literal = false,
                            date, lookAhead = function(match) {
                                var matches = iFormat + 1 < format.length && format.charAt(iFormat + 1) === match;
                                if (matches) {
                                    iFormat++
                                }
                                return matches
                            },
                            getNumber = function(match) {
                                var isDoubled = lookAhead(match),
                                    size = match === "@" ? 14 : match === "!" ? 20 : match === "y" && isDoubled ? 4 : match === "o" ? 3 : 2,
                                    digits = new RegExp("^\\d{1," + size + "}"),
                                    num = value.substring(iValue).match(digits);
                                if (!num) {
                                    throw "Missing number at position " + iValue
                                }
                                iValue += num[0].length;
                                return parseInt(num[0], 10)
                            },
                            getName = function(match, shortNames, longNames) {
                                var index = -1,
                                    names = $.map(lookAhead(match) ? longNames : shortNames, function(v, k) {
                                        return [
                                            [k, v]
                                        ]
                                    }).sort(function(a, b) {
                                        return -(a[1].length - b[1].length)
                                    });
                                $.each(names, function(i, pair) {
                                    var name = pair[1];
                                    if (value.substr(iValue, name.length).toLowerCase() === name.toLowerCase()) {
                                        index = pair[0];
                                        iValue += name.length;
                                        return false
                                    }
                                });
                                if (index !== -1) {
                                    return index + 1
                                } else {
                                    throw "Unknown name at position " + iValue
                                }
                            },
                            checkLiteral = function() {
                                if (value.charAt(iValue) !== format.charAt(iFormat)) {
                                    throw "Unexpected literal at position " + iValue
                                }
                                iValue++
                            };
                        for (iFormat = 0; iFormat < format.length; iFormat++) {
                            if (literal) {
                                if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
                                    literal = false
                                } else {
                                    checkLiteral()
                                }
                            } else {
                                switch (format.charAt(iFormat)) {
                                    case "d":
                                        day = getNumber("d");
                                        break;
                                    case "D":
                                        getName("D", dayNamesShort, dayNames);
                                        break;
                                    case "o":
                                        doy = getNumber("o");
                                        break;
                                    case "m":
                                        month = getNumber("m");
                                        break;
                                    case "M":
                                        month = getName("M", monthNamesShort, monthNames);
                                        break;
                                    case "y":
                                        year = getNumber("y");
                                        break;
                                    case "@":
                                        date = new Date(getNumber("@"));
                                        year = date.getFullYear();
                                        month = date.getMonth() + 1;
                                        day = date.getDate();
                                        break;
                                    case "!":
                                        date = new Date((getNumber("!") - this._ticksTo1970) / 1e4);
                                        year = date.getFullYear();
                                        month = date.getMonth() + 1;
                                        day = date.getDate();
                                        break;
                                    case "'":
                                        if (lookAhead("'")) {
                                            checkLiteral()
                                        } else {
                                            literal = true
                                        }
                                        break;
                                    default:
                                        checkLiteral()
                                }
                            }
                        }
                        if (iValue < value.length) {
                            extra = value.substr(iValue);
                            if (!/^\s+/.test(extra)) {
                                throw "Extra/unparsed characters found in date: " + extra
                            }
                        }
                        if (year === -1) {
                            year = (new Date).getFullYear()
                        } else if (year < 100) {
                            year += (new Date).getFullYear() - (new Date).getFullYear() % 100 + (year <= shortYearCutoff ? 0 : -100)
                        }
                        if (doy > -1) {
                            month = 1;
                            day = doy;
                            do {
                                dim = this._getDaysInMonth(year, month - 1);
                                if (day <= dim) {
                                    break
                                }
                                month++;
                                day -= dim
                            } while (true)
                        }
                        date = this._daylightSavingAdjust(new Date(year, month - 1, day));
                        if (date.getFullYear() !== year || date.getMonth() + 1 !== month || date.getDate() !== day) {
                            throw "Invalid date"
                        }
                        return date
                    },
                    ATOM: "yy-mm-dd",
                    COOKIE: "D, dd M yy",
                    ISO_8601: "yy-mm-dd",
                    RFC_822: "D, d M y",
                    RFC_850: "DD, dd-M-y",
                    RFC_1036: "D, d M y",
                    RFC_1123: "D, d M yy",
                    RFC_2822: "D, d M yy",
                    RSS: "D, d M y",
                    TICKS: "!",
                    TIMESTAMP: "@",
                    W3C: "yy-mm-dd",
                    _ticksTo1970: ((1970 - 1) * 365 + Math.floor(1970 / 4) - Math.floor(1970 / 100) + Math.floor(1970 / 400)) * 24 * 60 * 60 * 1e7,
                    formatDate: function(format, date, settings) {
                        if (!date) {
                            return ""
                        }
                        var iFormat, dayNamesShort = (settings ? settings.dayNamesShort : null) || this._defaults.dayNamesShort,
                            dayNames = (settings ? settings.dayNames : null) || this._defaults.dayNames,
                            monthNamesShort = (settings ? settings.monthNamesShort : null) || this._defaults.monthNamesShort,
                            monthNames = (settings ? settings.monthNames : null) || this._defaults.monthNames,
                            lookAhead = function(match) {
                                var matches = iFormat + 1 < format.length && format.charAt(iFormat + 1) === match;
                                if (matches) {
                                    iFormat++
                                }
                                return matches
                            },
                            formatNumber = function(match, value, len) {
                                var num = "" + value;
                                if (lookAhead(match)) {
                                    while (num.length < len) {
                                        num = "0" + num
                                    }
                                }
                                return num
                            },
                            formatName = function(match, value, shortNames, longNames) {
                                return lookAhead(match) ? longNames[value] : shortNames[value]
                            },
                            output = "",
                            literal = false;
                        if (date) {
                            for (iFormat = 0; iFormat < format.length; iFormat++) {
                                if (literal) {
                                    if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
                                        literal = false
                                    } else {
                                        output += format.charAt(iFormat)
                                    }
                                } else {
                                    switch (format.charAt(iFormat)) {
                                        case "d":
                                            output += formatNumber("d", date.getDate(), 2);
                                            break;
                                        case "D":
                                            output += formatName("D", date.getDay(), dayNamesShort, dayNames);
                                            break;
                                        case "o":
                                            output += formatNumber("o", Math.round((new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime() - new Date(date.getFullYear(), 0, 0).getTime()) / 864e5), 3);
                                            break;
                                        case "m":
                                            output += formatNumber("m", date.getMonth() + 1, 2);
                                            break;
                                        case "M":
                                            output += formatName("M", date.getMonth(), monthNamesShort, monthNames);
                                            break;
                                        case "y":
                                            output += lookAhead("y") ? date.getFullYear() : (date.getYear() % 100 < 10 ? "0" : "") + date.getYear() % 100;
                                            break;
                                        case "@":
                                            output += date.getTime();
                                            break;
                                        case "!":
                                            output += date.getTime() * 1e4 + this._ticksTo1970;
                                            break;
                                        case "'":
                                            if (lookAhead("'")) {
                                                output += "'"
                                            } else {
                                                literal = true
                                            }
                                            break;
                                        default:
                                            output += format.charAt(iFormat)
                                    }
                                }
                            }
                        }
                        return output
                    },
                    _possibleChars: function(format) {
                        var iFormat, chars = "",
                            literal = false,
                            lookAhead = function(match) {
                                var matches = iFormat + 1 < format.length && format.charAt(iFormat + 1) === match;
                                if (matches) {
                                    iFormat++
                                }
                                return matches
                            };
                        for (iFormat = 0; iFormat < format.length; iFormat++) {
                            if (literal) {
                                if (format.charAt(iFormat) === "'" && !lookAhead("'")) {
                                    literal = false
                                } else {
                                    chars += format.charAt(iFormat)
                                }
                            } else {
                                switch (format.charAt(iFormat)) {
                                    case "d":
                                    case "m":
                                    case "y":
                                    case "@":
                                        chars += "0123456789";
                                        break;
                                    case "D":
                                    case "M":
                                        return null;
                                    case "'":
                                        if (lookAhead("'")) {
                                            chars += "'"
                                        } else {
                                            literal = true
                                        }
                                        break;
                                    default:
                                        chars += format.charAt(iFormat)
                                }
                            }
                        }
                        return chars
                    },
                    _get: function(inst, name) {
                        return inst.settings[name] !== undefined ? inst.settings[name] : this._defaults[name]
                    },
                    _setDateFromField: function(inst, noDefault) {
                        if (inst.input.val() === inst.lastVal) {
                            return
                        }
                        var dateFormat = this._get(inst, "dateFormat"),
                            dates = inst.lastVal = inst.input ? inst.input.val() : null,
                            defaultDate = this._getDefaultDate(inst),
                            date = defaultDate,
                            settings = this._getFormatConfig(inst);
                        try {
                            date = this.parseDate(dateFormat, dates, settings) || defaultDate
                        } catch (event) {
                            dates = noDefault ? "" : dates
                        }
                        inst.selectedDay = date.getDate();
                        inst.drawMonth = inst.selectedMonth = date.getMonth();
                        inst.drawYear = inst.selectedYear = date.getFullYear();
                        inst.currentDay = dates ? date.getDate() : 0;
                        inst.currentMonth = dates ? date.getMonth() : 0;
                        inst.currentYear = dates ? date.getFullYear() : 0;
                        this._adjustInstDate(inst)
                    },
                    _getDefaultDate: function(inst) {
                        return this._restrictMinMax(inst, this._determineDate(inst, this._get(inst, "defaultDate"), new Date))
                    },
                    _determineDate: function(inst, date, defaultDate) {
                        var offsetNumeric = function(offset) {
                                var date = new Date;
                                date.setDate(date.getDate() + offset);
                                return date
                            },
                            offsetString = function(offset) {
                                try {
                                    return $.datepicker.parseDate($.datepicker._get(inst, "dateFormat"), offset, $.datepicker._getFormatConfig(inst))
                                } catch (e) {}
                                var date = (offset.toLowerCase().match(/^c/) ? $.datepicker._getDate(inst) : null) || new Date,
                                    year = date.getFullYear(),
                                    month = date.getMonth(),
                                    day = date.getDate(),
                                    pattern = /([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,
                                    matches = pattern.exec(offset);
                                while (matches) {
                                    switch (matches[2] || "d") {
                                        case "d":
                                        case "D":
                                            day += parseInt(matches[1], 10);
                                            break;
                                        case "w":
                                        case "W":
                                            day += parseInt(matches[1], 10) * 7;
                                            break;
                                        case "m":
                                        case "M":
                                            month += parseInt(matches[1], 10);
                                            day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
                                            break;
                                        case "y":
                                        case "Y":
                                            year += parseInt(matches[1], 10);
                                            day = Math.min(day, $.datepicker._getDaysInMonth(year, month));
                                            break
                                    }
                                    matches = pattern.exec(offset)
                                }
                                return new Date(year, month, day)
                            },
                            newDate = date == null || date === "" ? defaultDate : typeof date === "string" ? offsetString(date) : typeof date === "number" ? isNaN(date) ? defaultDate : offsetNumeric(date) : new Date(date.getTime());
                        newDate = newDate && newDate.toString() === "Invalid Date" ? defaultDate : newDate;
                        if (newDate) {
                            newDate.setHours(0);
                            newDate.setMinutes(0);
                            newDate.setSeconds(0);
                            newDate.setMilliseconds(0)
                        }
                        return this._daylightSavingAdjust(newDate)
                    },
                    _daylightSavingAdjust: function(date) {
                        if (!date) {
                            return null
                        }
                        date.setHours(date.getHours() > 12 ? date.getHours() + 2 : 0);
                        return date
                    },
                    _setDate: function(inst, date, noChange) {
                        var clear = !date,
                            origMonth = inst.selectedMonth,
                            origYear = inst.selectedYear,
                            newDate = this._restrictMinMax(inst, this._determineDate(inst, date, new Date));
                        inst.selectedDay = inst.currentDay = newDate.getDate();
                        inst.drawMonth = inst.selectedMonth = inst.currentMonth = newDate.getMonth();
                        inst.drawYear = inst.selectedYear = inst.currentYear = newDate.getFullYear();
                        if ((origMonth !== inst.selectedMonth || origYear !== inst.selectedYear) && !noChange) {
                            this._notifyChange(inst)
                        }
                        this._adjustInstDate(inst);
                        if (inst.input) {
                            inst.input.val(clear ? "" : this._formatDate(inst))
                        }
                    },
                    _getDate: function(inst) {
                        var startDate = !inst.currentYear || inst.input && inst.input.val() === "" ? null : this._daylightSavingAdjust(new Date(inst.currentYear, inst.currentMonth, inst.currentDay));
                        return startDate
                    },
                    _attachHandlers: function(inst) {
                        var stepMonths = this._get(inst, "stepMonths"),
                            id = "#" + inst.id.replace(/\\\\/g, "\\");
                        inst.dpDiv.find("[data-handler]").map(function() {
                            var handler = {
                                prev: function() {
                                    $.datepicker._adjustDate(id, -stepMonths, "M")
                                },
                                next: function() {
                                    $.datepicker._adjustDate(id, +stepMonths, "M")
                                },
                                hide: function() {
                                    $.datepicker._hideDatepicker()
                                },
                                today: function() {
                                    $.datepicker._gotoToday(id)
                                },
                                selectDay: function() {
                                    $.datepicker._selectDay(id, +this.getAttribute("data-month"), +this.getAttribute("data-year"), this);
                                    return false
                                },
                                selectMonth: function() {
                                    $.datepicker._selectMonthYear(id, this, "M");
                                    return false
                                },
                                selectYear: function() {
                                    $.datepicker._selectMonthYear(id, this, "Y");
                                    return false
                                }
                            };
                            $(this).bind(this.getAttribute("data-event"), handler[this.getAttribute("data-handler")])
                        })
                    },
                    _generateHTML: function(inst) {
                        var maxDraw, prevText, prev, nextText, next, currentText, gotoDate, controls, buttonPanel, firstDay, showWeek, dayNames, dayNamesMin, monthNames, monthNamesShort, beforeShowDay, showOtherMonths, selectOtherMonths, defaultDate, html, dow, row, group, col, selectedDate, cornerClass, calender, thead, day, daysInMonth, leadDays, curRows, numRows, printDate, dRow, tbody, daySettings, otherMonth, unselectable, tempDate = new Date,
                            today = this._daylightSavingAdjust(new Date(tempDate.getFullYear(), tempDate.getMonth(), tempDate.getDate())),
                            isRTL = this._get(inst, "isRTL"),
                            showButtonPanel = this._get(inst, "showButtonPanel"),
                            hideIfNoPrevNext = this._get(inst, "hideIfNoPrevNext"),
                            navigationAsDateFormat = this._get(inst, "navigationAsDateFormat"),
                            numMonths = this._getNumberOfMonths(inst),
                            showCurrentAtPos = this._get(inst, "showCurrentAtPos"),
                            stepMonths = this._get(inst, "stepMonths"),
                            isMultiMonth = numMonths[0] !== 1 || numMonths[1] !== 1,
                            currentDate = this._daylightSavingAdjust(!inst.currentDay ? new Date(9999, 9, 9) : new Date(inst.currentYear, inst.currentMonth, inst.currentDay)),
                            minDate = this._getMinMaxDate(inst, "min"),
                            maxDate = this._getMinMaxDate(inst, "max"),
                            drawMonth = inst.drawMonth - showCurrentAtPos,
                            drawYear = inst.drawYear;
                        if (drawMonth < 0) {
                            drawMonth += 12;
                            drawYear--
                        }
                        if (maxDate) {
                            maxDraw = this._daylightSavingAdjust(new Date(maxDate.getFullYear(), maxDate.getMonth() - numMonths[0] * numMonths[1] + 1, maxDate.getDate()));
                            maxDraw = minDate && maxDraw < minDate ? minDate : maxDraw;
                            while (this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1)) > maxDraw) {
                                drawMonth--;
                                if (drawMonth < 0) {
                                    drawMonth = 11;
                                    drawYear--
                                }
                            }
                        }
                        inst.drawMonth = drawMonth;
                        inst.drawYear = drawYear;
                        prevText = this._get(inst, "prevText");
                        prevText = !navigationAsDateFormat ? prevText : this.formatDate(prevText, this._daylightSavingAdjust(new Date(drawYear, drawMonth - stepMonths, 1)), this._getFormatConfig(inst));
                        prev = this._canAdjustMonth(inst, -1, drawYear, drawMonth) ? "<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click'" + " title='" + prevText + "'><span class='ui-icon ui-icon-circle-triangle-" + (isRTL ? "e" : "w") + "'>" + prevText + "</span></a>" : hideIfNoPrevNext ? "" : "<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='" + prevText + "'><span class='ui-icon ui-icon-circle-triangle-" + (isRTL ? "e" : "w") + "'>" + prevText + "</span></a>";
                        nextText = this._get(inst, "nextText");
                        nextText = !navigationAsDateFormat ? nextText : this.formatDate(nextText, this._daylightSavingAdjust(new Date(drawYear, drawMonth + stepMonths, 1)), this._getFormatConfig(inst));
                        next = this._canAdjustMonth(inst, +1, drawYear, drawMonth) ? "<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click'" + " title='" + nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + (isRTL ? "w" : "e") + "'>" + nextText + "</span></a>" : hideIfNoPrevNext ? "" : "<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='" + nextText + "'><span class='ui-icon ui-icon-circle-triangle-" + (isRTL ? "w" : "e") + "'>" + nextText + "</span></a>";
                        currentText = this._get(inst, "currentText");
                        gotoDate = this._get(inst, "gotoCurrent") && inst.currentDay ? currentDate : today;
                        currentText = !navigationAsDateFormat ? currentText : this.formatDate(currentText, gotoDate, this._getFormatConfig(inst));
                        controls = !inst.inline ? "<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>" + this._get(inst, "closeText") + "</button>" : "";
                        buttonPanel = showButtonPanel ? "<div class='ui-datepicker-buttonpane ui-widget-content'>" + (isRTL ? controls : "") + (this._isInRange(inst, gotoDate) ? "<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'" + ">" + currentText + "</button>" : "") + (isRTL ? "" : controls) + "</div>" : "";
                        firstDay = parseInt(this._get(inst, "firstDay"), 10);
                        firstDay = isNaN(firstDay) ? 0 : firstDay;
                        showWeek = this._get(inst, "showWeek");
                        dayNames = this._get(inst, "dayNames");
                        dayNamesMin = this._get(inst, "dayNamesMin");
                        monthNames = this._get(inst, "monthNames");
                        monthNamesShort = this._get(inst, "monthNamesShort");
                        beforeShowDay = this._get(inst, "beforeShowDay");
                        showOtherMonths = this._get(inst, "showOtherMonths");
                        selectOtherMonths = this._get(inst, "selectOtherMonths");
                        defaultDate = this._getDefaultDate(inst);
                        html = "";
                        dow;
                        for (row = 0; row < numMonths[0]; row++) {
                            group = "";
                            this.maxRows = 4;
                            for (col = 0; col < numMonths[1]; col++) {
                                selectedDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, inst.selectedDay));
                                cornerClass = " ui-corner-all";
                                calender = "";
                                if (isMultiMonth) {
                                    calender += "<div class='ui-datepicker-group";
                                    if (numMonths[1] > 1) {
                                        switch (col) {
                                            case 0:
                                                calender += " ui-datepicker-group-first";
                                                cornerClass = " ui-corner-" + (isRTL ? "right" : "left");
                                                break;
                                            case numMonths[1] - 1:
                                                calender += " ui-datepicker-group-last";
                                                cornerClass = " ui-corner-" + (isRTL ? "left" : "right");
                                                break;
                                            default:
                                                calender += " ui-datepicker-group-middle";
                                                cornerClass = "";
                                                break
                                        }
                                    }
                                    calender += "'>"
                                }
                                calender += "<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix" + cornerClass + "'>" + (/all|left/.test(cornerClass) && row === 0 ? isRTL ? next : prev : "") + (/all|right/.test(cornerClass) && row === 0 ? isRTL ? prev : next : "") + this._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate, row > 0 || col > 0, monthNames, monthNamesShort) + "</div><table class='ui-datepicker-calendar'><thead>" + "<tr>";
                                thead = showWeek ? "<th class='ui-datepicker-week-col'>" + this._get(inst, "weekHeader") + "</th>" : "";
                                for (dow = 0; dow < 7; dow++) {
                                    day = (dow + firstDay) % 7;
                                    thead += "<th" + ((dow + firstDay + 6) % 7 >= 5 ? " class='ui-datepicker-week-end'" : "") + ">" + "<span title='" + dayNames[day] + "'>" + dayNamesMin[day] + "</span></th>"
                                }
                                calender += thead + "</tr></thead><tbody>";
                                daysInMonth = this._getDaysInMonth(drawYear, drawMonth);
                                if (drawYear === inst.selectedYear && drawMonth === inst.selectedMonth) {
                                    inst.selectedDay = Math.min(inst.selectedDay, daysInMonth)
                                }
                                leadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7;
                                curRows = Math.ceil((leadDays + daysInMonth) / 7);
                                numRows = isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows;
                                this.maxRows = numRows;
                                printDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1 - leadDays));
                                for (dRow = 0; dRow < numRows; dRow++) {
                                    calender += "<tr>";
                                    tbody = !showWeek ? "" : "<td class='ui-datepicker-week-col'>" + this._get(inst, "calculateWeek")(printDate) + "</td>";
                                    for (dow = 0; dow < 7; dow++) {
                                        daySettings = beforeShowDay ? beforeShowDay.apply(inst.input ? inst.input[0] : null, [printDate]) : [true, ""];
                                        otherMonth = printDate.getMonth() !== drawMonth;
                                        unselectable = otherMonth && !selectOtherMonths || !daySettings[0] || minDate && printDate < minDate || maxDate && printDate > maxDate;
                                        tbody += "<td class='" + ((dow + firstDay + 6) % 7 >= 5 ? " ui-datepicker-week-end" : "") + (otherMonth ? " ui-datepicker-other-month" : "") + (printDate.getTime() === selectedDate.getTime() && drawMonth === inst.selectedMonth && inst._keyEvent || defaultDate.getTime() === printDate.getTime() && defaultDate.getTime() === selectedDate.getTime() ? " " + this._dayOverClass : "") + (unselectable ? " " + this._unselectableClass + " ui-state-disabled" : "") + (otherMonth && !showOtherMonths ? "" : " " + daySettings[1] + (printDate.getTime() === currentDate.getTime() ? " " + this._currentClass : "") + (printDate.getTime() === today.getTime() ? " ui-datepicker-today" : "")) + "'" + ((!otherMonth || showOtherMonths) && daySettings[2] ? " title='" + daySettings[2].replace(/'/g, "&#39;") + "'" : "") + (unselectable ? "" : " data-handler='selectDay' data-event='click' data-month='" + printDate.getMonth() + "' data-year='" + printDate.getFullYear() + "'") + ">" + (otherMonth && !showOtherMonths ? "&#xa0;" : unselectable ? "<span class='ui-state-default'>" + printDate.getDate() + "</span>" : "<a class='ui-state-default" + (printDate.getTime() === today.getTime() ? " ui-state-highlight" : "") + (printDate.getTime() === currentDate.getTime() ? " ui-state-active" : "") + (otherMonth ? " ui-priority-secondary" : "") + "' href='#'>" + printDate.getDate() + "</a>") + "</td>";
                                        printDate.setDate(printDate.getDate() + 1);
                                        printDate = this._daylightSavingAdjust(printDate)
                                    }
                                    calender += tbody + "</tr>"
                                }
                                drawMonth++;
                                if (drawMonth > 11) {
                                    drawMonth = 0;
                                    drawYear++
                                }
                                calender += "</tbody></table>" + (isMultiMonth ? "</div>" + (numMonths[0] > 0 && col === numMonths[1] - 1 ? "<div class='ui-datepicker-row-break'></div>" : "") : "");
                                group += calender
                            }
                            html += group
                        }
                        html += buttonPanel;
                        inst._keyEvent = false;
                        return html
                    },
                    _generateMonthYearHeader: function(inst, drawMonth, drawYear, minDate, maxDate, secondary, monthNames, monthNamesShort) {
                        var inMinYear, inMaxYear, month, years, thisYear, determineYear, year, endYear, changeMonth = this._get(inst, "changeMonth"),
                            changeYear = this._get(inst, "changeYear"),
                            showMonthAfterYear = this._get(inst, "showMonthAfterYear"),
                            html = "<div class='ui-datepicker-title'>",
                            monthHtml = "";
                        if (secondary || !changeMonth) {
                            monthHtml += "<span class='ui-datepicker-month'>" + monthNames[drawMonth] + "</span>"
                        } else {
                            inMinYear = minDate && minDate.getFullYear() === drawYear;
                            inMaxYear = maxDate && maxDate.getFullYear() === drawYear;
                            monthHtml += "<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";
                            for (month = 0; month < 12; month++) {
                                if ((!inMinYear || month >= minDate.getMonth()) && (!inMaxYear || month <= maxDate.getMonth())) {
                                    monthHtml += "<option value='" + month + "'" + (month === drawMonth ? " selected='selected'" : "") + ">" + monthNamesShort[month] + "</option>"
                                }
                            }
                            monthHtml += "</select>"
                        }
                        if (!showMonthAfterYear) {
                            html += monthHtml + (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "")
                        }
                        if (!inst.yearshtml) {
                            inst.yearshtml = "";
                            if (secondary || !changeYear) {
                                html += "<span class='ui-datepicker-year'>" + drawYear + "</span>"
                            } else {
                                years = this._get(inst, "yearRange").split(":");
                                thisYear = (new Date).getFullYear();
                                determineYear = function(value) {
                                    var year = value.match(/c[+\-].*/) ? drawYear + parseInt(value.substring(1), 10) : value.match(/[+\-].*/) ? thisYear + parseInt(value, 10) : parseInt(value, 10);
                                    return isNaN(year) ? thisYear : year
                                };
                                year = determineYear(years[0]);
                                endYear = Math.max(year, determineYear(years[1] || ""));
                                year = minDate ? Math.max(year, minDate.getFullYear()) : year;
                                endYear = maxDate ? Math.min(endYear, maxDate.getFullYear()) : endYear;
                                inst.yearshtml += "<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";
                                for (; year <= endYear; year++) {
                                    inst.yearshtml += "<option value='" + year + "'" + (year === drawYear ? " selected='selected'" : "") + ">" + year + "</option>"
                                }
                                inst.yearshtml += "</select>";
                                html += inst.yearshtml;
                                inst.yearshtml = null
                            }
                        }
                        html += this._get(inst, "yearSuffix");
                        if (showMonthAfterYear) {
                            html += (secondary || !(changeMonth && changeYear) ? "&#xa0;" : "") + monthHtml
                        }
                        html += "</div>";
                        return html
                    },
                    _adjustInstDate: function(inst, offset, period) {
                        var year = inst.drawYear + (period === "Y" ? offset : 0),
                            month = inst.drawMonth + (period === "M" ? offset : 0),
                            day = Math.min(inst.selectedDay, this._getDaysInMonth(year, month)) + (period === "D" ? offset : 0),
                            date = this._restrictMinMax(inst, this._daylightSavingAdjust(new Date(year, month, day)));
                        inst.selectedDay = date.getDate();
                        inst.drawMonth = inst.selectedMonth = date.getMonth();
                        inst.drawYear = inst.selectedYear = date.getFullYear();
                        if (period === "M" || period === "Y") {
                            this._notifyChange(inst)
                        }
                    },
                    _restrictMinMax: function(inst, date) {
                        var minDate = this._getMinMaxDate(inst, "min"),
                            maxDate = this._getMinMaxDate(inst, "max"),
                            newDate = minDate && date < minDate ? minDate : date;
                        return maxDate && newDate > maxDate ? maxDate : newDate
                    },
                    _notifyChange: function(inst) {
                        var onChange = this._get(inst, "onChangeMonthYear");
                        if (onChange) {
                            onChange.apply(inst.input ? inst.input[0] : null, [inst.selectedYear, inst.selectedMonth + 1, inst])
                        }
                    },
                    _getNumberOfMonths: function(inst) {
                        var numMonths = this._get(inst, "numberOfMonths");
                        return numMonths == null ? [1, 1] : typeof numMonths === "number" ? [1, numMonths] : numMonths
                    },
                    _getMinMaxDate: function(inst, minMax) {
                        return this._determineDate(inst, this._get(inst, minMax + "Date"), null)
                    },
                    _getDaysInMonth: function(year, month) {
                        return 32 - this._daylightSavingAdjust(new Date(year, month, 32)).getDate()
                    },
                    _getFirstDayOfMonth: function(year, month) {
                        return new Date(year, month, 1).getDay()
                    },
                    _canAdjustMonth: function(inst, offset, curYear, curMonth) {
                        var numMonths = this._getNumberOfMonths(inst),
                            date = this._daylightSavingAdjust(new Date(curYear, curMonth + (offset < 0 ? offset : numMonths[0] * numMonths[1]), 1));
                        if (offset < 0) {
                            date.setDate(this._getDaysInMonth(date.getFullYear(), date.getMonth()))
                        }
                        return this._isInRange(inst, date)
                    },
                    _isInRange: function(inst, date) {
                        var yearSplit, currentYear, minDate = this._getMinMaxDate(inst, "min"),
                            maxDate = this._getMinMaxDate(inst, "max"),
                            minYear = null,
                            maxYear = null,
                            years = this._get(inst, "yearRange");
                        if (years) {
                            yearSplit = years.split(":");
                            currentYear = (new Date).getFullYear();
                            minYear = parseInt(yearSplit[0], 10);
                            maxYear = parseInt(yearSplit[1], 10);
                            if (yearSplit[0].match(/[+\-].*/)) {
                                minYear += currentYear
                            }
                            if (yearSplit[1].match(/[+\-].*/)) {
                                maxYear += currentYear
                            }
                        }
                        return (!minDate || date.getTime() >= minDate.getTime()) && (!maxDate || date.getTime() <= maxDate.getTime()) && (!minYear || date.getFullYear() >= minYear) && (!maxYear || date.getFullYear() <= maxYear)
                    },
                    _getFormatConfig: function(inst) {
                        var shortYearCutoff = this._get(inst, "shortYearCutoff");
                        shortYearCutoff = typeof shortYearCutoff !== "string" ? shortYearCutoff : (new Date).getFullYear() % 100 + parseInt(shortYearCutoff, 10);
                        return {
                            shortYearCutoff: shortYearCutoff,
                            dayNamesShort: this._get(inst, "dayNamesShort"),
                            dayNames: this._get(inst, "dayNames"),
                            monthNamesShort: this._get(inst, "monthNamesShort"),
                            monthNames: this._get(inst, "monthNames")
                        }
                    },
                    _formatDate: function(inst, day, month, year) {
                        if (!day) {
                            inst.currentDay = inst.selectedDay;
                            inst.currentMonth = inst.selectedMonth;
                            inst.currentYear = inst.selectedYear
                        }
                        var date = day ? typeof day === "object" ? day : this._daylightSavingAdjust(new Date(year, month, day)) : this._daylightSavingAdjust(new Date(inst.currentYear, inst.currentMonth, inst.currentDay));
                        return this.formatDate(this._get(inst, "dateFormat"), date, this._getFormatConfig(inst))
                    }
                });

                function bindHover(dpDiv) {
                    var selector = "button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";
                    return dpDiv.delegate(selector, "mouseout", function() {
                        $(this).removeClass("ui-state-hover");
                        if (this.className.indexOf("ui-datepicker-prev") !== -1) {
                            $(this).removeClass("ui-datepicker-prev-hover")
                        }
                        if (this.className.indexOf("ui-datepicker-next") !== -1) {
                            $(this).removeClass("ui-datepicker-next-hover")
                        }
                    }).delegate(selector, "mouseover", function() {
                        if (!$.datepicker._isDisabledDatepicker(instActive.inline ? dpDiv.parent()[0] : instActive.input[0])) {
                            $(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");
                            $(this).addClass("ui-state-hover");
                            if (this.className.indexOf("ui-datepicker-prev") !== -1) {
                                $(this).addClass("ui-datepicker-prev-hover")
                            }
                            if (this.className.indexOf("ui-datepicker-next") !== -1) {
                                $(this).addClass("ui-datepicker-next-hover")
                            }
                        }
                    })
                }

                function extendRemove(target, props) {
                    $.extend(target, props);
                    for (var name in props) {
                        if (props[name] == null) {
                            target[name] = props[name]
                        }
                    }
                    return target
                }
                $.fn.datepicker = function(options) {
                    if (!this.length) {
                        return this
                    }
                    if (!$.datepicker.initialized) {
                        $(document).mousedown($.datepicker._checkExternalClick);
                        $.datepicker.initialized = true
                    }
                    if ($("#" + $.datepicker._mainDivId).length === 0) {
                        $("body").append($.datepicker.dpDiv)
                    }
                    var otherArgs = Array.prototype.slice.call(arguments, 1);
                    if (typeof options === "string" && (options === "isDisabled" || options === "getDate" || options === "widget")) {
                        return $.datepicker["_" + options + "Datepicker"].apply($.datepicker, [this[0]].concat(otherArgs))
                    }
                    if (options === "option" && arguments.length === 2 && typeof arguments[1] === "string") {
                        return $.datepicker["_" + options + "Datepicker"].apply($.datepicker, [this[0]].concat(otherArgs))
                    }
                    return this.each(function() {
                        typeof options === "string" ? $.datepicker["_" + options + "Datepicker"].apply($.datepicker, [this].concat(otherArgs)) : $.datepicker._attachDatepicker(this, options)
                    })
                };
                $.datepicker = new Datepicker;
                $.datepicker.initialized = false;
                $.datepicker.uuid = (new Date).getTime();
                $.datepicker.version = "1.10.3"
            })(jQuery);
            (function($, undefined) {
                var sizeRelatedOptions = {
                        buttons: true,
                        height: true,
                        maxHeight: true,
                        maxWidth: true,
                        minHeight: true,
                        minWidth: true,
                        width: true
                    },
                    resizableRelatedOptions = {
                        maxHeight: true,
                        maxWidth: true,
                        minHeight: true,
                        minWidth: true
                    };
                $.widget("ui.dialog", {
                    version: "1.10.3",
                    options: {
                        appendTo: "body",
                        autoOpen: true,
                        buttons: [],
                        closeOnEscape: true,
                        closeText: "close",
                        dialogClass: "",
                        draggable: true,
                        hide: null,
                        height: "auto",
                        maxHeight: null,
                        maxWidth: null,
                        minHeight: 150,
                        minWidth: 150,
                        modal: false,
                        position: {
                            my: "center",
                            at: "center",
                            of: window,
                            collision: "fit",
                            using: function(pos) {
                                var topOffset = $(this).css(pos).offset().top;
                                if (topOffset < 0) {
                                    $(this).css("top", pos.top - topOffset)
                                }
                            }
                        },
                        resizable: true,
                        show: null,
                        title: null,
                        width: 300,
                        beforeClose: null,
                        close: null,
                        drag: null,
                        dragStart: null,
                        dragStop: null,
                        focus: null,
                        open: null,
                        resize: null,
                        resizeStart: null,
                        resizeStop: null
                    },
                    _create: function() {
                        this.originalCss = {
                            display: this.element[0].style.display,
                            width: this.element[0].style.width,
                            minHeight: this.element[0].style.minHeight,
                            maxHeight: this.element[0].style.maxHeight,
                            height: this.element[0].style.height
                        };
                        this.originalPosition = {
                            parent: this.element.parent(),
                            index: this.element.parent().children().index(this.element)
                        };
                        this.originalTitle = this.element.attr("title");
                        this.options.title = this.options.title || this.originalTitle;
                        this._createWrapper();
                        this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog);
                        this._createTitlebar();
                        this._createButtonPane();
                        if (this.options.draggable && $.fn.draggable) {
                            this._makeDraggable()
                        }
                        if (this.options.resizable && $.fn.resizable) {
                            this._makeResizable()
                        }
                        this._isOpen = false
                    },
                    _init: function() {
                        if (this.options.autoOpen) {
                            this.open()
                        }
                    },
                    _appendTo: function() {
                        var element = this.options.appendTo;
                        if (element && (element.jquery || element.nodeType)) {
                            return $(element)
                        }
                        return this.document.find(element || "body").eq(0)
                    },
                    _destroy: function() {
                        var next, originalPosition = this.originalPosition;
                        this._destroyOverlay();
                        this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach();
                        this.uiDialog.stop(true, true).remove();
                        if (this.originalTitle) {
                            this.element.attr("title", this.originalTitle)
                        }
                        next = originalPosition.parent.children().eq(originalPosition.index);
                        if (next.length && next[0] !== this.element[0]) {
                            next.before(this.element)
                        } else {
                            originalPosition.parent.append(this.element)
                        }
                    },
                    widget: function() {
                        return this.uiDialog
                    },
                    disable: $.noop,
                    enable: $.noop,
                    close: function(event) {
                        var that = this;
                        if (!this._isOpen || this._trigger("beforeClose", event) === false) {
                            return
                        }
                        this._isOpen = false;
                        this._destroyOverlay();
                        if (!this.opener.filter(":focusable").focus().length) {
                            $(this.document[0].activeElement).blur()
                        }
                        this._hide(this.uiDialog, this.options.hide, function() {
                            that._trigger("close", event)
                        })
                    },
                    isOpen: function() {
                        return this._isOpen
                    },
                    moveToTop: function() {
                        this._moveToTop()
                    },
                    _moveToTop: function(event, silent) {
                        var moved = !!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;
                        if (moved && !silent) {
                            this._trigger("focus", event)
                        }
                        return moved
                    },
                    open: function() {
                        var that = this;
                        if (this._isOpen) {
                            if (this._moveToTop()) {
                                this._focusTabbable()
                            }
                            return
                        }
                        this._isOpen = true;
                        this.opener = $(this.document[0].activeElement);
                        this._size();
                        this._position();
                        this._createOverlay();
                        this._moveToTop(null, true);
                        this._show(this.uiDialog, this.options.show, function() {
                            that._focusTabbable();
                            that._trigger("focus")
                        });
                        this._trigger("open")
                    },
                    _focusTabbable: function() {
                        var hasFocus = this.element.find("[autofocus]");
                        if (!hasFocus.length) {
                            hasFocus = this.element.find(":tabbable")
                        }
                        if (!hasFocus.length) {
                            hasFocus = this.uiDialogButtonPane.find(":tabbable")
                        }
                        if (!hasFocus.length) {
                            hasFocus = this.uiDialogTitlebarClose.filter(":tabbable")
                        }
                        if (!hasFocus.length) {
                            hasFocus = this.uiDialog
                        }
                        hasFocus.eq(0).focus()
                    },
                    _keepFocus: function(event) {
                        function checkFocus() {
                            var activeElement = this.document[0].activeElement,
                                isActive = this.uiDialog[0] === activeElement || $.contains(this.uiDialog[0], activeElement);
                            if (!isActive) {
                                this._focusTabbable()
                            }
                        }
                        event.preventDefault();
                        checkFocus.call(this);
                        this._delay(checkFocus)
                    },
                    _createWrapper: function() {
                        this.uiDialog = $("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                            tabIndex: -1,
                            role: "dialog"
                        }).appendTo(this._appendTo());
                        this._on(this.uiDialog, {
                            keydown: function(event) {
                                if (this.options.closeOnEscape && !event.isDefaultPrevented() && event.keyCode && event.keyCode === $.ui.keyCode.ESCAPE) {
                                    event.preventDefault();
                                    this.close(event);
                                    return
                                }
                                if (event.keyCode !== $.ui.keyCode.TAB) {
                                    return
                                }
                                var tabbables = this.uiDialog.find(":tabbable"),
                                    first = tabbables.filter(":first"),
                                    last = tabbables.filter(":last");
                                if ((event.target === last[0] || event.target === this.uiDialog[0]) && !event.shiftKey) {
                                    first.focus(1);
                                    event.preventDefault()
                                } else if ((event.target === first[0] || event.target === this.uiDialog[0]) && event.shiftKey) {
                                    last.focus(1);
                                    event.preventDefault()
                                }
                            },
                            mousedown: function(event) {
                                if (this._moveToTop(event)) {
                                    this._focusTabbable()
                                }
                            }
                        });
                        if (!this.element.find("[aria-describedby]").length) {
                            this.uiDialog.attr({
                                "aria-describedby": this.element.uniqueId().attr("id")
                            })
                        }
                    },
                    _createTitlebar: function() {
                        var uiDialogTitle;
                        this.uiDialogTitlebar = $("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog);
                        this._on(this.uiDialogTitlebar, {
                            mousedown: function(event) {
                                if (!$(event.target).closest(".ui-dialog-titlebar-close")) {
                                    this.uiDialog.focus()
                                }
                            }
                        });
                        this.uiDialogTitlebarClose = $("<button></button>").button({
                            label: this.options.closeText,
                            icons: {
                                primary: "ui-icon-closethick"
                            },
                            text: false
                        }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar);
                        this._on(this.uiDialogTitlebarClose, {
                            click: function(event) {
                                event.preventDefault();
                                this.close(event)
                            }
                        });
                        uiDialogTitle = $("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar);
                        this._title(uiDialogTitle);
                        this.uiDialog.attr({
                            "aria-labelledby": uiDialogTitle.attr("id")
                        })
                    },
                    _title: function(title) {
                        if (!this.options.title) {
                            title.html("&#160;")
                        }
                        title.text(this.options.title)
                    },
                    _createButtonPane: function() {
                        this.uiDialogButtonPane = $("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");
                        this.uiButtonSet = $("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane);
                        this._createButtons()
                    },
                    _createButtons: function() {
                        var that = this,
                            buttons = this.options.buttons;
                        this.uiDialogButtonPane.remove();
                        this.uiButtonSet.empty();
                        if ($.isEmptyObject(buttons) || $.isArray(buttons) && !buttons.length) {
                            this.uiDialog.removeClass("ui-dialog-buttons");
                            return
                        }
                        $.each(buttons, function(name, props) {
                            var click, buttonOptions;
                            props = $.isFunction(props) ? {
                                click: props,
                                text: name
                            } : props;
                            props = $.extend({
                                type: "button"
                            }, props);
                            click = props.click;
                            props.click = function() {
                                click.apply(that.element[0], arguments)
                            };
                            buttonOptions = {
                                icons: props.icons,
                                text: props.showText
                            };
                            delete props.icons;
                            delete props.showText;
                            $("<button></button>", props).button(buttonOptions).appendTo(that.uiButtonSet)
                        });
                        this.uiDialog.addClass("ui-dialog-buttons");
                        this.uiDialogButtonPane.appendTo(this.uiDialog)
                    },
                    _makeDraggable: function() {
                        var that = this,
                            options = this.options;

                        function filteredUi(ui) {
                            return {
                                position: ui.position,
                                offset: ui.offset
                            }
                        }
                        this.uiDialog.draggable({
                            cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                            handle: ".ui-dialog-titlebar",
                            containment: "document",
                            start: function(event, ui) {
                                $(this).addClass("ui-dialog-dragging");
                                that._blockFrames();
                                that._trigger("dragStart", event, filteredUi(ui))
                            },
                            drag: function(event, ui) {
                                that._trigger("drag", event, filteredUi(ui))
                            },
                            stop: function(event, ui) {
                                options.position = [ui.position.left - that.document.scrollLeft(), ui.position.top - that.document.scrollTop()];
                                $(this).removeClass("ui-dialog-dragging");
                                that._unblockFrames();
                                that._trigger("dragStop", event, filteredUi(ui))
                            }
                        })
                    },
                    _makeResizable: function() {
                        var that = this,
                            options = this.options,
                            handles = options.resizable,
                            position = this.uiDialog.css("position"),
                            resizeHandles = typeof handles === "string" ? handles : "n,e,s,w,se,sw,ne,nw";

                        function filteredUi(ui) {
                            return {
                                originalPosition: ui.originalPosition,
                                originalSize: ui.originalSize,
                                position: ui.position,
                                size: ui.size
                            }
                        }
                        this.uiDialog.resizable({
                            cancel: ".ui-dialog-content",
                            containment: "document",
                            alsoResize: this.element,
                            maxWidth: options.maxWidth,
                            maxHeight: options.maxHeight,
                            minWidth: options.minWidth,
                            minHeight: this._minHeight(),
                            handles: resizeHandles,
                            start: function(event, ui) {
                                $(this).addClass("ui-dialog-resizing");
                                that._blockFrames();
                                that._trigger("resizeStart", event, filteredUi(ui))
                            },
                            resize: function(event, ui) {
                                that._trigger("resize", event, filteredUi(ui))
                            },
                            stop: function(event, ui) {
                                options.height = $(this).height();
                                options.width = $(this).width();
                                $(this).removeClass("ui-dialog-resizing");
                                that._unblockFrames();
                                that._trigger("resizeStop", event, filteredUi(ui))
                            }
                        }).css("position", position)
                    },
                    _minHeight: function() {
                        var options = this.options;
                        return options.height === "auto" ? options.minHeight : Math.min(options.minHeight, options.height)
                    },
                    _position: function() {
                        var isVisible = this.uiDialog.is(":visible");
                        if (!isVisible) {
                            this.uiDialog.show()
                        }
                        this.uiDialog.position(this.options.position);
                        if (!isVisible) {
                            this.uiDialog.hide()
                        }
                    },
                    _setOptions: function(options) {
                        var that = this,
                            resize = false,
                            resizableOptions = {};
                        $.each(options, function(key, value) {
                            that._setOption(key, value);
                            if (key in sizeRelatedOptions) {
                                resize = true
                            }
                            if (key in resizableRelatedOptions) {
                                resizableOptions[key] = value
                            }
                        });
                        if (resize) {
                            this._size();
                            this._position()
                        }
                        if (this.uiDialog.is(":data(ui-resizable)")) {
                            this.uiDialog.resizable("option", resizableOptions)
                        }
                    },
                    _setOption: function(key, value) {
                        var isDraggable, isResizable, uiDialog = this.uiDialog;
                        if (key === "dialogClass") {
                            uiDialog.removeClass(this.options.dialogClass).addClass(value)
                        }
                        if (key === "disabled") {
                            return
                        }
                        this._super(key, value);
                        if (key === "appendTo") {
                            this.uiDialog.appendTo(this._appendTo())
                        }
                        if (key === "buttons") {
                            this._createButtons()
                        }
                        if (key === "closeText") {
                            this.uiDialogTitlebarClose.button({
                                label: "" + value
                            })
                        }
                        if (key === "draggable") {
                            isDraggable = uiDialog.is(":data(ui-draggable)");
                            if (isDraggable && !value) {
                                uiDialog.draggable("destroy")
                            }
                            if (!isDraggable && value) {
                                this._makeDraggable()
                            }
                        }
                        if (key === "position") {
                            this._position()
                        }
                        if (key === "resizable") {
                            isResizable = uiDialog.is(":data(ui-resizable)");
                            if (isResizable && !value) {
                                uiDialog.resizable("destroy")
                            }
                            if (isResizable && typeof value === "string") {
                                uiDialog.resizable("option", "handles", value)
                            }
                            if (!isResizable && value !== false) {
                                this._makeResizable()
                            }
                        }
                        if (key === "title") {
                            this._title(this.uiDialogTitlebar.find(".ui-dialog-title"))
                        }
                    },
                    _size: function() {
                        var nonContentHeight, minContentHeight, maxContentHeight, options = this.options;
                        this.element.show().css({
                            width: "auto",
                            minHeight: 0,
                            maxHeight: "none",
                            height: 0
                        });
                        if (options.minWidth > options.width) {
                            options.width = options.minWidth
                        }
                        nonContentHeight = this.uiDialog.css({
                            height: "auto",
                            width: options.width
                        }).outerHeight();
                        minContentHeight = Math.max(0, options.minHeight - nonContentHeight);
                        maxContentHeight = typeof options.maxHeight === "number" ? Math.max(0, options.maxHeight - nonContentHeight) : "none";
                        if (options.height === "auto") {
                            this.element.css({
                                minHeight: minContentHeight,
                                maxHeight: maxContentHeight,
                                height: "auto"
                            })
                        } else {
                            this.element.height(Math.max(0, options.height - nonContentHeight))
                        }
                        if (this.uiDialog.is(":data(ui-resizable)")) {
                            this.uiDialog.resizable("option", "minHeight", this._minHeight())
                        }
                    },
                    _blockFrames: function() {
                        this.iframeBlocks = this.document.find("iframe").map(function() {
                            var iframe = $(this);
                            return $("<div>").css({
                                position: "absolute",
                                width: iframe.outerWidth(),
                                height: iframe.outerHeight()
                            }).appendTo(iframe.parent()).offset(iframe.offset())[0]
                        })
                    },
                    _unblockFrames: function() {
                        if (this.iframeBlocks) {
                            this.iframeBlocks.remove();
                            delete this.iframeBlocks
                        }
                    },
                    _allowInteraction: function(event) {
                        if ($(event.target).closest(".ui-dialog").length) {
                            return true
                        }
                        return !!$(event.target).closest(".ui-datepicker").length
                    },
                    _createOverlay: function() {
                        if (!this.options.modal) {
                            return
                        }
                        var that = this,
                            widgetFullName = this.widgetFullName;
                        if (!$.ui.dialog.overlayInstances) {
                            this._delay(function() {
                                if ($.ui.dialog.overlayInstances) {
                                    this.document.bind("focusin.dialog", function(event) {
                                        if (!that._allowInteraction(event)) {
                                            event.preventDefault();
                                            $(".ui-dialog:visible:last .ui-dialog-content").data(widgetFullName)._focusTabbable()
                                        }
                                    })
                                }
                            })
                        }
                        this.overlay = $("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo());
                        this._on(this.overlay, {
                            mousedown: "_keepFocus"
                        });
                        $.ui.dialog.overlayInstances++
                    },
                    _destroyOverlay: function() {
                        if (!this.options.modal) {
                            return
                        }
                        if (this.overlay) {
                            $.ui.dialog.overlayInstances--;
                            if (!$.ui.dialog.overlayInstances) {
                                this.document.unbind("focusin.dialog")
                            }
                            this.overlay.remove();
                            this.overlay = null
                        }
                    }
                });
                $.ui.dialog.overlayInstances = 0;
                if ($.uiBackCompat !== false) {
                    $.widget("ui.dialog", $.ui.dialog, {
                        _position: function() {
                            var position = this.options.position,
                                myAt = [],
                                offset = [0, 0],
                                isVisible;
                            if (position) {
                                if (typeof position === "string" || typeof position === "object" && "0" in position) {
                                    myAt = position.split ? position.split(" ") : [position[0], position[1]];
                                    if (myAt.length === 1) {
                                        myAt[1] = myAt[0]
                                    }
                                    $.each(["left", "top"], function(i, offsetPosition) {
                                        if (+myAt[i] === myAt[i]) {
                                            offset[i] = myAt[i];
                                            myAt[i] = offsetPosition
                                        }
                                    });
                                    position = {
                                        my: myAt[0] + (offset[0] < 0 ? offset[0] : "+" + offset[0]) + " " + myAt[1] + (offset[1] < 0 ? offset[1] : "+" + offset[1]),
                                        at: myAt.join(" ")
                                    }
                                }
                                position = $.extend({}, $.ui.dialog.prototype.options.position, position)
                            } else {
                                position = $.ui.dialog.prototype.options.position
                            }
                            isVisible = this.uiDialog.is(":visible");
                            if (!isVisible) {
                                this.uiDialog.show()
                            }
                            this.uiDialog.position(position);
                            if (!isVisible) {
                                this.uiDialog.hide()
                            }
                        }
                    })
                }
            })(jQuery);
            (function($, undefined) {
                var rvertical = /up|down|vertical/,
                    rpositivemotion = /up|left|vertical|horizontal/;
                $.effects.effect.blind = function(o, done) {
                    var el = $(this),
                        props = ["position", "top", "bottom", "left", "right", "height", "width"],
                        mode = $.effects.setMode(el, o.mode || "hide"),
                        direction = o.direction || "up",
                        vertical = rvertical.test(direction),
                        ref = vertical ? "height" : "width",
                        ref2 = vertical ? "top" : "left",
                        motion = rpositivemotion.test(direction),
                        animation = {},
                        show = mode === "show",
                        wrapper, distance, margin;
                    if (el.parent().is(".ui-effects-wrapper")) {
                        $.effects.save(el.parent(), props)
                    } else {
                        $.effects.save(el, props)
                    }
                    el.show();
                    wrapper = $.effects.createWrapper(el).css({
                        overflow: "hidden"
                    });
                    distance = wrapper[ref]();
                    margin = parseFloat(wrapper.css(ref2)) || 0;
                    animation[ref] = show ? distance : 0;
                    if (!motion) {
                        el.css(vertical ? "bottom" : "right", 0).css(vertical ? "top" : "left", "auto").css({
                            position: "absolute"
                        });
                        animation[ref2] = show ? margin : distance + margin
                    }
                    if (show) {
                        wrapper.css(ref, 0);
                        if (!motion) {
                            wrapper.css(ref2, margin + distance)
                        }
                    }
                    wrapper.animate(animation, {
                        duration: o.duration,
                        easing: o.easing,
                        queue: false,
                        complete: function() {
                            if (mode === "hide") {
                                el.hide()
                            }
                            $.effects.restore(el, props);
                            $.effects.removeWrapper(el);
                            done()
                        }
                    })
                }
            })(jQuery);
            (function($, undefined) {
                $.effects.effect.bounce = function(o, done) {
                    var el = $(this),
                        props = ["position", "top", "bottom", "left", "right", "height", "width"],
                        mode = $.effects.setMode(el, o.mode || "effect"),
                        hide = mode === "hide",
                        show = mode === "show",
                        direction = o.direction || "up",
                        distance = o.distance,
                        times = o.times || 5,
                        anims = times * 2 + (show || hide ? 1 : 0),
                        speed = o.duration / anims,
                        easing = o.easing,
                        ref = direction === "up" || direction === "down" ? "top" : "left",
                        motion = direction === "up" || direction === "left",
                        i, upAnim, downAnim, queue = el.queue(),
                        queuelen = queue.length;
                    if (show || hide) {
                        props.push("opacity")
                    }
                    $.effects.save(el, props);
                    el.show();
                    $.effects.createWrapper(el);
                    if (!distance) {
                        distance = el[ref === "top" ? "outerHeight" : "outerWidth"]() / 3
                    }
                    if (show) {
                        downAnim = {
                            opacity: 1
                        };
                        downAnim[ref] = 0;
                        el.css("opacity", 0).css(ref, motion ? -distance * 2 : distance * 2).animate(downAnim, speed, easing)
                    }
                    if (hide) {
                        distance = distance / Math.pow(2, times - 1)
                    }
                    downAnim = {};
                    downAnim[ref] = 0;
                    for (i = 0; i < times; i++) {
                        upAnim = {};
                        upAnim[ref] = (motion ? "-=" : "+=") + distance;
                        el.animate(upAnim, speed, easing).animate(downAnim, speed, easing);
                        distance = hide ? distance * 2 : distance / 2
                    }
                    if (hide) {
                        upAnim = {
                            opacity: 0
                        };
                        upAnim[ref] = (motion ? "-=" : "+=") + distance;
                        el.animate(upAnim, speed, easing)
                    }
                    el.queue(function() {
                        if (hide) {
                            el.hide()
                        }
                        $.effects.restore(el, props);
                        $.effects.removeWrapper(el);
                        done()
                    });
                    if (queuelen > 1) {
                        queue.splice.apply(queue, [1, 0].concat(queue.splice(queuelen, anims + 1)))
                    }
                    el.dequeue()
                }
            })(jQuery);
            (function($, undefined) {
                $.effects.effect.clip = function(o, done) {
                    var el = $(this),
                        props = ["position", "top", "bottom", "left", "right", "height", "width"],
                        mode = $.effects.setMode(el, o.mode || "hide"),
                        show = mode === "show",
                        direction = o.direction || "vertical",
                        vert = direction === "vertical",
                        size = vert ? "height" : "width",
                        position = vert ? "top" : "left",
                        animation = {},
                        wrapper, animate, distance;
                    $.effects.save(el, props);
                    el.show();
                    wrapper = $.effects.createWrapper(el).css({
                        overflow: "hidden"
                    });
                    animate = el[0].tagName === "IMG" ? wrapper : el;
                    distance = animate[size]();
                    if (show) {
                        animate.css(size, 0);
                        animate.css(position, distance / 2)
                    }
                    animation[size] = show ? distance : 0;
                    animation[position] = show ? 0 : distance / 2;
                    animate.animate(animation, {
                        queue: false,
                        duration: o.duration,
                        easing: o.easing,
                        complete: function() {
                            if (!show) {
                                el.hide()
                            }
                            $.effects.restore(el, props);
                            $.effects.removeWrapper(el);
                            done()
                        }
                    })
                }
            })(jQuery);
            (function($, undefined) {
                $.effects.effect.drop = function(o, done) {
                    var el = $(this),
                        props = ["position", "top", "bottom", "left", "right", "opacity", "height", "width"],
                        mode = $.effects.setMode(el, o.mode || "hide"),
                        show = mode === "show",
                        direction = o.direction || "left",
                        ref = direction === "up" || direction === "down" ? "top" : "left",
                        motion = direction === "up" || direction === "left" ? "pos" : "neg",
                        animation = {
                            opacity: show ? 1 : 0
                        },
                        distance;
                    $.effects.save(el, props);
                    el.show();
                    $.effects.createWrapper(el);
                    distance = o.distance || el[ref === "top" ? "outerHeight" : "outerWidth"](true) / 2;
                    if (show) {
                        el.css("opacity", 0).css(ref, motion === "pos" ? -distance : distance)
                    }
                    animation[ref] = (show ? motion === "pos" ? "+=" : "-=" : motion === "pos" ? "-=" : "+=") + distance;
                    el.animate(animation, {
                        queue: false,
                        duration: o.duration,
                        easing: o.easing,
                        complete: function() {
                            if (mode === "hide") {
                                el.hide()
                            }
                            $.effects.restore(el, props);
                            $.effects.removeWrapper(el);
                            done()
                        }
                    })
                }
            })(jQuery);
            (function($, undefined) {
                $.effects.effect.explode = function(o, done) {
                    var rows = o.pieces ? Math.round(Math.sqrt(o.pieces)) : 3,
                        cells = rows,
                        el = $(this),
                        mode = $.effects.setMode(el, o.mode || "hide"),
                        show = mode === "show",
                        offset = el.show().css("visibility", "hidden").offset(),
                        width = Math.ceil(el.outerWidth() / cells),
                        height = Math.ceil(el.outerHeight() / rows),
                        pieces = [],
                        i, j, left, top, mx, my;

                    function childComplete() {
                        pieces.push(this);
                        if (pieces.length === rows * cells) {
                            animComplete()
                        }
                    }
                    for (i = 0; i < rows; i++) {
                        top = offset.top + i * height;
                        my = i - (rows - 1) / 2;
                        for (j = 0; j < cells; j++) {
                            left = offset.left + j * width;
                            mx = j - (cells - 1) / 2;
                            el.clone().appendTo("body").wrap("<div></div>").css({
                                position: "absolute",
                                visibility: "visible",
                                left: -j * width,
                                top: -i * height
                            }).parent().addClass("ui-effects-explode").css({
                                position: "absolute",
                                overflow: "hidden",
                                width: width,
                                height: height,
                                left: left + (show ? mx * width : 0),
                                top: top + (show ? my * height : 0),
                                opacity: show ? 0 : 1
                            }).animate({
                                left: left + (show ? 0 : mx * width),
                                top: top + (show ? 0 : my * height),
                                opacity: show ? 1 : 0
                            }, o.duration || 500, o.easing, childComplete)
                        }
                    }

                    function animComplete() {
                        el.css({
                            visibility: "visible"
                        });
                        $(pieces).remove();
                        if (!show) {
                            el.hide()
                        }
                        done()
                    }
                }
            })(jQuery);
            (function($, undefined) {
                $.effects.effect.fade = function(o, done) {
                    var el = $(this),
                        mode = $.effects.setMode(el, o.mode || "toggle");
                    el.animate({
                        opacity: mode
                    }, {
                        queue: false,
                        duration: o.duration,
                        easing: o.easing,
                        complete: done
                    })
                }
            })(jQuery);
            (function($, undefined) {
                $.effects.effect.fold = function(o, done) {
                    var el = $(this),
                        props = ["position", "top", "bottom", "left", "right", "height", "width"],
                        mode = $.effects.setMode(el, o.mode || "hide"),
                        show = mode === "show",
                        hide = mode === "hide",
                        size = o.size || 15,
                        percent = /([0-9]+)%/.exec(size),
                        horizFirst = !!o.horizFirst,
                        widthFirst = show !== horizFirst,
                        ref = widthFirst ? ["width", "height"] : ["height", "width"],
                        duration = o.duration / 2,
                        wrapper, distance, animation1 = {},
                        animation2 = {};
                    $.effects.save(el, props);
                    el.show();
                    wrapper = $.effects.createWrapper(el).css({
                        overflow: "hidden"
                    });
                    distance = widthFirst ? [wrapper.width(), wrapper.height()] : [wrapper.height(), wrapper.width()];
                    if (percent) {
                        size = parseInt(percent[1], 10) / 100 * distance[hide ? 0 : 1]
                    }
                    if (show) {
                        wrapper.css(horizFirst ? {
                            height: 0,
                            width: size
                        } : {
                            height: size,
                            width: 0
                        })
                    }
                    animation1[ref[0]] = show ? distance[0] : size;
                    animation2[ref[1]] = show ? distance[1] : 0;
                    wrapper.animate(animation1, duration, o.easing).animate(animation2, duration, o.easing, function() {
                        if (hide) {
                            el.hide()
                        }
                        $.effects.restore(el, props);
                        $.effects.removeWrapper(el);
                        done()
                    })
                }
            })(jQuery);
            (function($, undefined) {
                $.effects.effect.highlight = function(o, done) {
                    var elem = $(this),
                        props = ["backgroundImage", "backgroundColor", "opacity"],
                        mode = $.effects.setMode(elem, o.mode || "show"),
                        animation = {
                            backgroundColor: elem.css("backgroundColor")
                        };
                    if (mode === "hide") {
                        animation.opacity = 0
                    }
                    $.effects.save(elem, props);
                    elem.show().css({
                        backgroundImage: "none",
                        backgroundColor: o.color || "#ffff99"
                    }).animate(animation, {
                        queue: false,
                        duration: o.duration,
                        easing: o.easing,
                        complete: function() {
                            if (mode === "hide") {
                                elem.hide()
                            }
                            $.effects.restore(elem, props);
                            done()
                        }
                    })
                }
            })(jQuery);
            (function($, undefined) {
                $.effects.effect.pulsate = function(o, done) {
                    var elem = $(this),
                        mode = $.effects.setMode(elem, o.mode || "show"),
                        show = mode === "show",
                        hide = mode === "hide",
                        showhide = show || mode === "hide",
                        anims = (o.times || 5) * 2 + (showhide ? 1 : 0),
                        duration = o.duration / anims,
                        animateTo = 0,
                        queue = elem.queue(),
                        queuelen = queue.length,
                        i;
                    if (show || !elem.is(":visible")) {
                        elem.css("opacity", 0).show();
                        animateTo = 1
                    }
                    for (i = 1; i < anims; i++) {
                        elem.animate({
                            opacity: animateTo
                        }, duration, o.easing);
                        animateTo = 1 - animateTo
                    }
                    elem.animate({
                        opacity: animateTo
                    }, duration, o.easing);
                    elem.queue(function() {
                        if (hide) {
                            elem.hide()
                        }
                        done()
                    });
                    if (queuelen > 1) {
                        queue.splice.apply(queue, [1, 0].concat(queue.splice(queuelen, anims + 1)))
                    }
                    elem.dequeue()
                }
            })(jQuery);
            (function($, undefined) {
                $.effects.effect.puff = function(o, done) {
                    var elem = $(this),
                        mode = $.effects.setMode(elem, o.mode || "hide"),
                        hide = mode === "hide",
                        percent = parseInt(o.percent, 10) || 150,
                        factor = percent / 100,
                        original = {
                            height: elem.height(),
                            width: elem.width(),
                            outerHeight: elem.outerHeight(),
                            outerWidth: elem.outerWidth()
                        };
                    $.extend(o, {
                        effect: "scale",
                        queue: false,
                        fade: true,
                        mode: mode,
                        complete: done,
                        percent: hide ? percent : 100,
                        from: hide ? original : {
                            height: original.height * factor,
                            width: original.width * factor,
                            outerHeight: original.outerHeight * factor,
                            outerWidth: original.outerWidth * factor
                        }
                    });
                    elem.effect(o)
                };
                $.effects.effect.scale = function(o, done) {
                    var el = $(this),
                        options = $.extend(true, {}, o),
                        mode = $.effects.setMode(el, o.mode || "effect"),
                        percent = parseInt(o.percent, 10) || (parseInt(o.percent, 10) === 0 ? 0 : mode === "hide" ? 0 : 100),
                        direction = o.direction || "both",
                        origin = o.origin,
                        original = {
                            height: el.height(),
                            width: el.width(),
                            outerHeight: el.outerHeight(),
                            outerWidth: el.outerWidth()
                        },
                        factor = {
                            y: direction !== "horizontal" ? percent / 100 : 1,
                            x: direction !== "vertical" ? percent / 100 : 1
                        };
                    options.effect = "size";
                    options.queue = false;
                    options.complete = done;
                    if (mode !== "effect") {
                        options.origin = origin || ["middle", "center"];
                        options.restore = true
                    }
                    options.from = o.from || (mode === "show" ? {
                        height: 0,
                        width: 0,
                        outerHeight: 0,
                        outerWidth: 0
                    } : original);
                    options.to = {
                        height: original.height * factor.y,
                        width: original.width * factor.x,
                        outerHeight: original.outerHeight * factor.y,
                        outerWidth: original.outerWidth * factor.x
                    };
                    if (options.fade) {
                        if (mode === "show") {
                            options.from.opacity = 0;
                            options.to.opacity = 1
                        }
                        if (mode === "hide") {
                            options.from.opacity = 1;
                            options.to.opacity = 0
                        }
                    }
                    el.effect(options)
                };
                $.effects.effect.size = function(o, done) {
                    var original, baseline, factor, el = $(this),
                        props0 = ["position", "top", "bottom", "left", "right", "width", "height", "overflow", "opacity"],
                        props1 = ["position", "top", "bottom", "left", "right", "overflow", "opacity"],
                        props2 = ["width", "height", "overflow"],
                        cProps = ["fontSize"],
                        vProps = ["borderTopWidth", "borderBottomWidth", "paddingTop", "paddingBottom"],
                        hProps = ["borderLeftWidth", "borderRightWidth", "paddingLeft", "paddingRight"],
                        mode = $.effects.setMode(el, o.mode || "effect"),
                        restore = o.restore || mode !== "effect",
                        scale = o.scale || "both",
                        origin = o.origin || ["middle", "center"],
                        position = el.css("position"),
                        props = restore ? props0 : props1,
                        zero = {
                            height: 0,
                            width: 0,
                            outerHeight: 0,
                            outerWidth: 0
                        };
                    if (mode === "show") {
                        el.show()
                    }
                    original = {
                        height: el.height(),
                        width: el.width(),
                        outerHeight: el.outerHeight(),
                        outerWidth: el.outerWidth()
                    };
                    if (o.mode === "toggle" && mode === "show") {
                        el.from = o.to || zero;
                        el.to = o.from || original
                    } else {
                        el.from = o.from || (mode === "show" ? zero : original);
                        el.to = o.to || (mode === "hide" ? zero : original)
                    }
                    factor = {
                        from: {
                            y: el.from.height / original.height,
                            x: el.from.width / original.width
                        },
                        to: {
                            y: el.to.height / original.height,
                            x: el.to.width / original.width
                        }
                    };
                    if (scale === "box" || scale === "both") {
                        if (factor.from.y !== factor.to.y) {
                            props = props.concat(vProps);
                            el.from = $.effects.setTransition(el, vProps, factor.from.y, el.from);
                            el.to = $.effects.setTransition(el, vProps, factor.to.y, el.to)
                        }
                        if (factor.from.x !== factor.to.x) {
                            props = props.concat(hProps);
                            el.from = $.effects.setTransition(el, hProps, factor.from.x, el.from);
                            el.to = $.effects.setTransition(el, hProps, factor.to.x, el.to)
                        }
                    }
                    if (scale === "content" || scale === "both") {
                        if (factor.from.y !== factor.to.y) {
                            props = props.concat(cProps).concat(props2);
                            el.from = $.effects.setTransition(el, cProps, factor.from.y, el.from);
                            el.to = $.effects.setTransition(el, cProps, factor.to.y, el.to)
                        }
                    }
                    $.effects.save(el, props);
                    el.show();
                    $.effects.createWrapper(el);
                    el.css("overflow", "hidden").css(el.from);
                    if (origin) {
                        baseline = $.effects.getBaseline(origin, original);
                        el.from.top = (original.outerHeight - el.outerHeight()) * baseline.y;
                        el.from.left = (original.outerWidth - el.outerWidth()) * baseline.x;
                        el.to.top = (original.outerHeight - el.to.outerHeight) * baseline.y;
                        el.to.left = (original.outerWidth - el.to.outerWidth) * baseline.x
                    }
                    el.css(el.from);
                    if (scale === "content" || scale === "both") {
                        vProps = vProps.concat(["marginTop", "marginBottom"]).concat(cProps);
                        hProps = hProps.concat(["marginLeft", "marginRight"]);
                        props2 = props0.concat(vProps).concat(hProps);
                        el.find("*[width]").each(function() {
                            var child = $(this),
                                c_original = {
                                    height: child.height(),
                                    width: child.width(),
                                    outerHeight: child.outerHeight(),
                                    outerWidth: child.outerWidth()
                                };
                            if (restore) {
                                $.effects.save(child, props2)
                            }
                            child.from = {
                                height: c_original.height * factor.from.y,
                                width: c_original.width * factor.from.x,
                                outerHeight: c_original.outerHeight * factor.from.y,
                                outerWidth: c_original.outerWidth * factor.from.x
                            };
                            child.to = {
                                height: c_original.height * factor.to.y,
                                width: c_original.width * factor.to.x,
                                outerHeight: c_original.height * factor.to.y,
                                outerWidth: c_original.width * factor.to.x
                            };
                            if (factor.from.y !== factor.to.y) {
                                child.from = $.effects.setTransition(child, vProps, factor.from.y, child.from);
                                child.to = $.effects.setTransition(child, vProps, factor.to.y, child.to)
                            }
                            if (factor.from.x !== factor.to.x) {
                                child.from = $.effects.setTransition(child, hProps, factor.from.x, child.from);
                                child.to = $.effects.setTransition(child, hProps, factor.to.x, child.to)
                            }
                            child.css(child.from);
                            child.animate(child.to, o.duration, o.easing, function() {
                                if (restore) {
                                    $.effects.restore(child, props2)
                                }
                            })
                        })
                    }
                    el.animate(el.to, {
                        queue: false,
                        duration: o.duration,
                        easing: o.easing,
                        complete: function() {
                            if (el.to.opacity === 0) {
                                el.css("opacity", el.from.opacity)
                            }
                            if (mode === "hide") {
                                el.hide()
                            }
                            $.effects.restore(el, props);
                            if (!restore) {
                                if (position === "static") {
                                    el.css({
                                        position: "relative",
                                        top: el.to.top,
                                        left: el.to.left
                                    })
                                } else {
                                    $.each(["top", "left"], function(idx, pos) {
                                        el.css(pos, function(_, str) {
                                            var val = parseInt(str, 10),
                                                toRef = idx ? el.to.left : el.to.top;
                                            if (str === "auto") {
                                                return toRef + "px"
                                            }
                                            return val + toRef + "px"
                                        })
                                    })
                                }
                            }
                            $.effects.removeWrapper(el);
                            done()
                        }
                    })
                }
            })(jQuery);
            (function($, undefined) {
                $.effects.effect.shake = function(o, done) {
                    var el = $(this),
                        props = ["position", "top", "bottom", "left", "right", "height", "width"],
                        mode = $.effects.setMode(el, o.mode || "effect"),
                        direction = o.direction || "left",
                        distance = o.distance || 20,
                        times = o.times || 3,
                        anims = times * 2 + 1,
                        speed = Math.round(o.duration / anims),
                        ref = direction === "up" || direction === "down" ? "top" : "left",
                        positiveMotion = direction === "up" || direction === "left",
                        animation = {},
                        animation1 = {},
                        animation2 = {},
                        i, queue = el.queue(),
                        queuelen = queue.length;
                    $.effects.save(el, props);
                    el.show();
                    $.effects.createWrapper(el);
                    animation[ref] = (positiveMotion ? "-=" : "+=") + distance;
                    animation1[ref] = (positiveMotion ? "+=" : "-=") + distance * 2;
                    animation2[ref] = (positiveMotion ? "-=" : "+=") + distance * 2;
                    el.animate(animation, speed, o.easing);
                    for (i = 1; i < times; i++) {
                        el.animate(animation1, speed, o.easing).animate(animation2, speed, o.easing)
                    }
                    el.animate(animation1, speed, o.easing).animate(animation, speed / 2, o.easing).queue(function() {
                        if (mode === "hide") {
                            el.hide()
                        }
                        $.effects.restore(el, props);
                        $.effects.removeWrapper(el);
                        done()
                    });
                    if (queuelen > 1) {
                        queue.splice.apply(queue, [1, 0].concat(queue.splice(queuelen, anims + 1)))
                    }
                    el.dequeue()
                }
            })(jQuery);
            (function($, undefined) {
                $.effects.effect.slide = function(o, done) {
                    var el = $(this),
                        props = ["position", "top", "bottom", "left", "right", "width", "height"],
                        mode = $.effects.setMode(el, o.mode || "show"),
                        show = mode === "show",
                        direction = o.direction || "left",
                        ref = direction === "up" || direction === "down" ? "top" : "left",
                        positiveMotion = direction === "up" || direction === "left",
                        distance, animation = {};
                    $.effects.save(el, props);
                    el.show();
                    distance = o.distance || el[ref === "top" ? "outerHeight" : "outerWidth"](true);
                    $.effects.createWrapper(el).css({
                        overflow: "hidden"
                    });
                    if (show) {
                        el.css(ref, positiveMotion ? isNaN(distance) ? "-" + distance : -distance : distance)
                    }
                    animation[ref] = (show ? positiveMotion ? "+=" : "-=" : positiveMotion ? "-=" : "+=") + distance;
                    el.animate(animation, {
                        queue: false,
                        duration: o.duration,
                        easing: o.easing,
                        complete: function() {
                            if (mode === "hide") {
                                el.hide()
                            }
                            $.effects.restore(el, props);
                            $.effects.removeWrapper(el);
                            done()
                        }
                    })
                }
            })(jQuery);
            (function($, undefined) {
                $.effects.effect.transfer = function(o, done) {
                    var elem = $(this),
                        target = $(o.to),
                        targetFixed = target.css("position") === "fixed",
                        body = $("body"),
                        fixTop = targetFixed ? body.scrollTop() : 0,
                        fixLeft = targetFixed ? body.scrollLeft() : 0,
                        endPosition = target.offset(),
                        animation = {
                            top: endPosition.top - fixTop,
                            left: endPosition.left - fixLeft,
                            height: target.innerHeight(),
                            width: target.innerWidth()
                        },
                        startPosition = elem.offset(),
                        transfer = $("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(o.className).css({
                            top: startPosition.top - fixTop,
                            left: startPosition.left - fixLeft,
                            height: elem.innerHeight(),
                            width: elem.innerWidth(),
                            position: targetFixed ? "fixed" : "absolute"
                        }).animate(animation, o.duration, o.easing, function() {
                            transfer.remove();
                            done()
                        })
                }
            })(jQuery);
            (function($, undefined) {
                $.widget("ui.menu", {
                    version: "1.10.3",
                    defaultElement: "<ul>",
                    delay: 300,
                    options: {
                        icons: {
                            submenu: "ui-icon-carat-1-e"
                        },
                        menus: "ul",
                        position: {
                            my: "left top",
                            at: "right top"
                        },
                        role: "menu",
                        blur: null,
                        focus: null,
                        select: null
                    },
                    _create: function() {
                        this.activeMenu = this.element;
                        this.mouseHandled = false;
                        this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons", !!this.element.find(".ui-icon").length).attr({
                            role: this.options.role,
                            tabIndex: 0
                        }).bind("click" + this.eventNamespace, $.proxy(function(event) {
                            if (this.options.disabled) {
                                event.preventDefault()
                            }
                        }, this));
                        if (this.options.disabled) {
                            this.element.addClass("ui-state-disabled").attr("aria-disabled", "true")
                        }
                        this._on({
                            "mousedown .ui-menu-item > a": function(event) {
                                event.preventDefault()
                            },
                            "click .ui-state-disabled > a": function(event) {
                                event.preventDefault()
                            },
                            "click .ui-menu-item:has(a)": function(event) {
                                var target = $(event.target).closest(".ui-menu-item");
                                if (!this.mouseHandled && target.not(".ui-state-disabled").length) {
                                    this.mouseHandled = true;
                                    this.select(event);
                                    if (target.has(".ui-menu").length) {
                                        this.expand(event)
                                    } else if (!this.element.is(":focus")) {
                                        this.element.trigger("focus", [true]);
                                        if (this.active && this.active.parents(".ui-menu").length === 1) {
                                            clearTimeout(this.timer)
                                        }
                                    }
                                }
                            },
                            "mouseenter .ui-menu-item": function(event) {
                                var target = $(event.currentTarget);
                                target.siblings().children(".ui-state-active").removeClass("ui-state-active");
                                this.focus(event, target)
                            },
                            mouseleave: "collapseAll",
                            "mouseleave .ui-menu": "collapseAll",
                            focus: function(event, keepActiveItem) {
                                var item = this.active || this.element.children(".ui-menu-item").eq(0);
                                if (!keepActiveItem) {
                                    this.focus(event, item)
                                }
                            },
                            blur: function(event) {
                                this._delay(function() {
                                    if (!$.contains(this.element[0], this.document[0].activeElement)) {
                                        this.collapseAll(event)
                                    }
                                })
                            },
                            keydown: "_keydown"
                        });
                        this.refresh();
                        this._on(this.document, {
                            click: function(event) {
                                if (!$(event.target).closest(".ui-menu").length) {
                                    this.collapseAll(event)
                                }
                                this.mouseHandled = false
                            }
                        })
                    },
                    _destroy: function() {
                        this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();
                        this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function() {
                            var elem = $(this);
                            if (elem.data("ui-menu-submenu-carat")) {
                                elem.remove()
                            }
                        });
                        this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")
                    },
                    _keydown: function(event) {
                        var match, prev, character, skip, regex, preventDefault = true;

                        function escape(value) {
                            return value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")
                        }
                        switch (event.keyCode) {
                            case $.ui.keyCode.PAGE_UP:
                                this.previousPage(event);
                                break;
                            case $.ui.keyCode.PAGE_DOWN:
                                this.nextPage(event);
                                break;
                            case $.ui.keyCode.HOME:
                                this._move("first", "first", event);
                                break;
                            case $.ui.keyCode.END:
                                this._move("last", "last", event);
                                break;
                            case $.ui.keyCode.UP:
                                this.previous(event);
                                break;
                            case $.ui.keyCode.DOWN:
                                this.next(event);
                                break;
                            case $.ui.keyCode.LEFT:
                                this.collapse(event);
                                break;
                            case $.ui.keyCode.RIGHT:
                                if (this.active && !this.active.is(".ui-state-disabled")) {
                                    this.expand(event)
                                }
                                break;
                            case $.ui.keyCode.ENTER:
                            case $.ui.keyCode.SPACE:
                                this._activate(event);
                                break;
                            case $.ui.keyCode.ESCAPE:
                                this.collapse(event);
                                break;
                            default:
                                preventDefault = false;
                                prev = this.previousFilter || "";
                                character = String.fromCharCode(event.keyCode);
                                skip = false;
                                clearTimeout(this.filterTimer);
                                if (character === prev) {
                                    skip = true
                                } else {
                                    character = prev + character
                                }
                                regex = new RegExp("^" + escape(character), "i");
                                match = this.activeMenu.children(".ui-menu-item").filter(function() {
                                    return regex.test($(this).children("a").text())
                                });
                                match = skip && match.index(this.active.next()) !== -1 ? this.active.nextAll(".ui-menu-item") : match;
                                if (!match.length) {
                                    character = String.fromCharCode(event.keyCode);
                                    regex = new RegExp("^" + escape(character), "i");
                                    match = this.activeMenu.children(".ui-menu-item").filter(function() {
                                        return regex.test($(this).children("a").text())
                                    })
                                }
                                if (match.length) {
                                    this.focus(event, match);
                                    if (match.length > 1) {
                                        this.previousFilter = character;
                                        this.filterTimer = this._delay(function() {
                                            delete this.previousFilter
                                        }, 1e3)
                                    } else {
                                        delete this.previousFilter
                                    }
                                } else {
                                    delete this.previousFilter
                                }
                        }
                        if (preventDefault) {
                            event.preventDefault()
                        }
                    },
                    _activate: function(event) {
                        if (!this.active.is(".ui-state-disabled")) {
                            if (this.active.children("a[aria-haspopup='true']").length) {
                                this.expand(event)
                            } else {
                                this.select(event)
                            }
                        }
                    },
                    refresh: function() {
                        var menus, icon = this.options.icons.submenu,
                            submenus = this.element.find(this.options.menus);
                        submenus.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({
                            role: this.options.role,
                            "aria-hidden": "true",
                            "aria-expanded": "false"
                        }).each(function() {
                            var menu = $(this),
                                item = menu.prev("a"),
                                submenuCarat = $("<span>").addClass("ui-menu-icon ui-icon " + icon).data("ui-menu-submenu-carat", true);
                            item.attr("aria-haspopup", "true").prepend(submenuCarat);
                            menu.attr("aria-labelledby", item.attr("id"))
                        });
                        menus = submenus.add(this.element);
                        menus.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role", "presentation").children("a").uniqueId().addClass("ui-corner-all").attr({
                            tabIndex: -1,
                            role: this._itemRole()
                        });
                        menus.children(":not(.ui-menu-item)").each(function() {
                            var item = $(this);
                            if (!/[^\-\u2014\u2013\s]/.test(item.text())) {
                                item.addClass("ui-widget-content ui-menu-divider")
                            }
                        });
                        menus.children(".ui-state-disabled").attr("aria-disabled", "true");
                        if (this.active && !$.contains(this.element[0], this.active[0])) {
                            this.blur()
                        }
                    },
                    _itemRole: function() {
                        return {
                            menu: "menuitem",
                            listbox: "option"
                        }[this.options.role]
                    },
                    _setOption: function(key, value) {
                        if (key === "icons") {
                            this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(value.submenu)
                        }
                        this._super(key, value)
                    },
                    focus: function(event, item) {
                        var nested, focused;
                        this.blur(event, event && event.type === "focus");
                        this._scrollIntoView(item);
                        this.active = item.first();
                        focused = this.active.children("a").addClass("ui-state-focus");
                        if (this.options.role) {
                            this.element.attr("aria-activedescendant", focused.attr("id"))
                        }
                        this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");
                        if (event && event.type === "keydown") {
                            this._close()
                        } else {
                            this.timer = this._delay(function() {
                                this._close()
                            }, this.delay)
                        }
                        nested = item.children(".ui-menu");
                        if (nested.length && /^mouse/.test(event.type)) {
                            this._startOpening(nested)
                        }
                        this.activeMenu = item.parent();
                        this._trigger("focus", event, {
                            item: item
                        })
                    },
                    _scrollIntoView: function(item) {
                        var borderTop, paddingTop, offset, scroll, elementHeight, itemHeight;
                        if (this._hasScroll()) {
                            borderTop = parseFloat($.css(this.activeMenu[0], "borderTopWidth")) || 0;
                            paddingTop = parseFloat($.css(this.activeMenu[0], "paddingTop")) || 0;
                            offset = item.offset().top - this.activeMenu.offset().top - borderTop - paddingTop;
                            scroll = this.activeMenu.scrollTop();
                            elementHeight = this.activeMenu.height();
                            itemHeight = item.height();
                            if (offset < 0) {
                                this.activeMenu.scrollTop(scroll + offset)
                            } else if (offset + itemHeight > elementHeight) {
                                this.activeMenu.scrollTop(scroll + offset - elementHeight + itemHeight)
                            }
                        }
                    },
                    blur: function(event, fromFocus) {
                        if (!fromFocus) {
                            clearTimeout(this.timer)
                        }
                        if (!this.active) {
                            return
                        }
                        this.active.children("a").removeClass("ui-state-focus");
                        this.active = null;
                        this._trigger("blur", event, {
                            item: this.active
                        })
                    },
                    _startOpening: function(submenu) {
                        clearTimeout(this.timer);
                        if (submenu.attr("aria-hidden") !== "true") {
                            return
                        }
                        this.timer = this._delay(function() {
                            this._close();
                            this._open(submenu)
                        }, this.delay)
                    },
                    _open: function(submenu) {
                        var position = $.extend({
                            of: this.active
                        }, this.options.position);
                        clearTimeout(this.timer);
                        this.element.find(".ui-menu").not(submenu.parents(".ui-menu")).hide().attr("aria-hidden", "true");
                        submenu.show().removeAttr("aria-hidden").attr("aria-expanded", "true").position(position)
                    },
                    collapseAll: function(event, all) {
                        clearTimeout(this.timer);
                        this.timer = this._delay(function() {
                            var currentMenu = all ? this.element : $(event && event.target).closest(this.element.find(".ui-menu"));
                            if (!currentMenu.length) {
                                currentMenu = this.element
                            }
                            this._close(currentMenu);
                            this.blur(event);
                            this.activeMenu = currentMenu
                        }, this.delay)
                    },
                    _close: function(startMenu) {
                        if (!startMenu) {
                            startMenu = this.active ? this.active.parent() : this.element
                        }
                        startMenu.find(".ui-menu").hide().attr("aria-hidden", "true").attr("aria-expanded", "false").end().find("a.ui-state-active").removeClass("ui-state-active")
                    },
                    collapse: function(event) {
                        var newItem = this.active && this.active.parent().closest(".ui-menu-item", this.element);
                        if (newItem && newItem.length) {
                            this._close();
                            this.focus(event, newItem)
                        }
                    },
                    expand: function(event) {
                        var newItem = this.active && this.active.children(".ui-menu ").children(".ui-menu-item").first();
                        if (newItem && newItem.length) {
                            this._open(newItem.parent());
                            this._delay(function() {
                                this.focus(event, newItem)
                            })
                        }
                    },
                    next: function(event) {
                        this._move("next", "first", event)
                    },
                    previous: function(event) {
                        this._move("prev", "last", event)
                    },
                    isFirstItem: function() {
                        return this.active && !this.active.prevAll(".ui-menu-item").length
                    },
                    isLastItem: function() {
                        return this.active && !this.active.nextAll(".ui-menu-item").length
                    },
                    _move: function(direction, filter, event) {
                        var next;
                        if (this.active) {
                            if (direction === "first" || direction === "last") {
                                next = this.active[direction === "first" ? "prevAll" : "nextAll"](".ui-menu-item").eq(-1)
                            } else {
                                next = this.active[direction + "All"](".ui-menu-item").eq(0)
                            }
                        }
                        if (!next || !next.length || !this.active) {
                            next = this.activeMenu.children(".ui-menu-item")[filter]()
                        }
                        this.focus(event, next)
                    },
                    nextPage: function(event) {
                        var item, base, height;
                        if (!this.active) {
                            this.next(event);
                            return
                        }
                        if (this.isLastItem()) {
                            return
                        }
                        if (this._hasScroll()) {
                            base = this.active.offset().top;
                            height = this.element.height();
                            this.active.nextAll(".ui-menu-item").each(function() {
                                item = $(this);
                                return item.offset().top - base - height < 0
                            });
                            this.focus(event, item)
                        } else {
                            this.focus(event, this.activeMenu.children(".ui-menu-item")[!this.active ? "first" : "last"]())
                        }
                    },
                    previousPage: function(event) {
                        var item, base, height;
                        if (!this.active) {
                            this.next(event);
                            return
                        }
                        if (this.isFirstItem()) {
                            return
                        }
                        if (this._hasScroll()) {
                            base = this.active.offset().top;
                            height = this.element.height();
                            this.active.prevAll(".ui-menu-item").each(function() {
                                item = $(this);
                                return item.offset().top - base + height > 0
                            });
                            this.focus(event, item)
                        } else {
                            this.focus(event, this.activeMenu.children(".ui-menu-item").first())
                        }
                    },
                    _hasScroll: function() {
                        return this.element.outerHeight() < this.element.prop("scrollHeight")
                    },
                    select: function(event) {
                        this.active = this.active || $(event.target).closest(".ui-menu-item");
                        var ui = {
                            item: this.active
                        };
                        if (!this.active.has(".ui-menu").length) {
                            this.collapseAll(event, true)
                        }
                        this._trigger("select", event, ui)
                    }
                })
            })(jQuery);
            (function($, undefined) {
                $.ui = $.ui || {};
                var cachedScrollbarWidth, max = Math.max,
                    abs = Math.abs,
                    round = Math.round,
                    rhorizontal = /left|center|right/,
                    rvertical = /top|center|bottom/,
                    roffset = /[\+\-]\d+(\.[\d]+)?%?/,
                    rposition = /^\w+/,
                    rpercent = /%$/,
                    _position = $.fn.position;

                function getOffsets(offsets, width, height) {
                    return [parseFloat(offsets[0]) * (rpercent.test(offsets[0]) ? width / 100 : 1), parseFloat(offsets[1]) * (rpercent.test(offsets[1]) ? height / 100 : 1)]
                }

                function parseCss(element, property) {
                    return parseInt($.css(element, property), 10) || 0
                }

                function getDimensions(elem) {
                    var raw = elem[0];
                    if (raw.nodeType === 9) {
                        return {
                            width: elem.width(),
                            height: elem.height(),
                            offset: {
                                top: 0,
                                left: 0
                            }
                        }
                    }
                    if ($.isWindow(raw)) {
                        return {
                            width: elem.width(),
                            height: elem.height(),
                            offset: {
                                top: elem.scrollTop(),
                                left: elem.scrollLeft()
                            }
                        }
                    }
                    if (raw.preventDefault) {
                        return {
                            width: 0,
                            height: 0,
                            offset: {
                                top: raw.pageY,
                                left: raw.pageX
                            }
                        }
                    }
                    return {
                        width: elem.outerWidth(),
                        height: elem.outerHeight(),
                        offset: elem.offset()
                    }
                }
                $.position = {
                    scrollbarWidth: function() {
                        if (cachedScrollbarWidth !== undefined) {
                            return cachedScrollbarWidth
                        }
                        var w1, w2, div = $("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                            innerDiv = div.children()[0];
                        $("body").append(div);
                        w1 = innerDiv.offsetWidth;
                        div.css("overflow", "scroll");
                        w2 = innerDiv.offsetWidth;
                        if (w1 === w2) {
                            w2 = div[0].clientWidth
                        }
                        div.remove();
                        return cachedScrollbarWidth = w1 - w2
                    },
                    getScrollInfo: function(within) {
                        var overflowX = within.isWindow ? "" : within.element.css("overflow-x"),
                            overflowY = within.isWindow ? "" : within.element.css("overflow-y"),
                            hasOverflowX = overflowX === "scroll" || overflowX === "auto" && within.width < within.element[0].scrollWidth,
                            hasOverflowY = overflowY === "scroll" || overflowY === "auto" && within.height < within.element[0].scrollHeight;
                        return {
                            width: hasOverflowY ? $.position.scrollbarWidth() : 0,
                            height: hasOverflowX ? $.position.scrollbarWidth() : 0
                        }
                    },
                    getWithinInfo: function(element) {
                        var withinElement = $(element || window),
                            isWindow = $.isWindow(withinElement[0]);
                        return {
                            element: withinElement,
                            isWindow: isWindow,
                            offset: withinElement.offset() || {
                                left: 0,
                                top: 0
                            },
                            scrollLeft: withinElement.scrollLeft(),
                            scrollTop: withinElement.scrollTop(),
                            width: isWindow ? withinElement.width() : withinElement.outerWidth(),
                            height: isWindow ? withinElement.height() : withinElement.outerHeight()
                        }
                    }
                };
                $.fn.position = function(options) {
                    if (!options || !options.of) {
                        return _position.apply(this, arguments)
                    }
                    options = $.extend({}, options);
                    var atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions, target = $(options.of),
                        within = $.position.getWithinInfo(options.within),
                        scrollInfo = $.position.getScrollInfo(within),
                        collision = (options.collision || "flip").split(" "),
                        offsets = {};
                    dimensions = getDimensions(target);
                    if (target[0].preventDefault) {
                        options.at = "left top"
                    }
                    targetWidth = dimensions.width;
                    targetHeight = dimensions.height;
                    targetOffset = dimensions.offset;
                    basePosition = $.extend({}, targetOffset);
                    $.each(["my", "at"], function() {
                        var pos = (options[this] || "").split(" "),
                            horizontalOffset, verticalOffset;
                        if (pos.length === 1) {
                            pos = rhorizontal.test(pos[0]) ? pos.concat(["center"]) : rvertical.test(pos[0]) ? ["center"].concat(pos) : ["center", "center"]
                        }
                        pos[0] = rhorizontal.test(pos[0]) ? pos[0] : "center";
                        pos[1] = rvertical.test(pos[1]) ? pos[1] : "center";
                        horizontalOffset = roffset.exec(pos[0]);
                        verticalOffset = roffset.exec(pos[1]);
                        offsets[this] = [horizontalOffset ? horizontalOffset[0] : 0, verticalOffset ? verticalOffset[0] : 0];
                        options[this] = [rposition.exec(pos[0])[0], rposition.exec(pos[1])[0]]
                    });
                    if (collision.length === 1) {
                        collision[1] = collision[0]
                    }
                    if (options.at[0] === "right") {
                        basePosition.left += targetWidth
                    } else if (options.at[0] === "center") {
                        basePosition.left += targetWidth / 2
                    }
                    if (options.at[1] === "bottom") {
                        basePosition.top += targetHeight
                    } else if (options.at[1] === "center") {
                        basePosition.top += targetHeight / 2
                    }
                    atOffset = getOffsets(offsets.at, targetWidth, targetHeight);
                    basePosition.left += atOffset[0];
                    basePosition.top += atOffset[1];
                    return this.each(function() {
                        var collisionPosition, using, elem = $(this),
                            elemWidth = elem.outerWidth(),
                            elemHeight = elem.outerHeight(),
                            marginLeft = parseCss(this, "marginLeft"),
                            marginTop = parseCss(this, "marginTop"),
                            collisionWidth = elemWidth + marginLeft + parseCss(this, "marginRight") + scrollInfo.width,
                            collisionHeight = elemHeight + marginTop + parseCss(this, "marginBottom") + scrollInfo.height,
                            position = $.extend({}, basePosition),
                            myOffset = getOffsets(offsets.my, elem.outerWidth(), elem.outerHeight());
                        if (options.my[0] === "right") {
                            position.left -= elemWidth
                        } else if (options.my[0] === "center") {
                            position.left -= elemWidth / 2
                        }
                        if (options.my[1] === "bottom") {
                            position.top -= elemHeight
                        } else if (options.my[1] === "center") {
                            position.top -= elemHeight / 2
                        }
                        position.left += myOffset[0];
                        position.top += myOffset[1];
                        if (!$.support.offsetFractions) {
                            position.left = round(position.left);
                            position.top = round(position.top)
                        }
                        collisionPosition = {
                            marginLeft: marginLeft,
                            marginTop: marginTop
                        };
                        $.each(["left", "top"], function(i, dir) {
                            if ($.ui.position[collision[i]]) {
                                $.ui.position[collision[i]][dir](position, {
                                    targetWidth: targetWidth,
                                    targetHeight: targetHeight,
                                    elemWidth: elemWidth,
                                    elemHeight: elemHeight,
                                    collisionPosition: collisionPosition,
                                    collisionWidth: collisionWidth,
                                    collisionHeight: collisionHeight,
                                    offset: [atOffset[0] + myOffset[0], atOffset[1] + myOffset[1]],
                                    my: options.my,
                                    at: options.at,
                                    within: within,
                                    elem: elem
                                })
                            }
                        });
                        if (options.using) {
                            using = function(props) {
                                var left = targetOffset.left - position.left,
                                    right = left + targetWidth - elemWidth,
                                    top = targetOffset.top - position.top,
                                    bottom = top + targetHeight - elemHeight,
                                    feedback = {
                                        target: {
                                            element: target,
                                            left: targetOffset.left,
                                            top: targetOffset.top,
                                            width: targetWidth,
                                            height: targetHeight
                                        },
                                        element: {
                                            element: elem,
                                            left: position.left,
                                            top: position.top,
                                            width: elemWidth,
                                            height: elemHeight
                                        },
                                        horizontal: right < 0 ? "left" : left > 0 ? "right" : "center",
                                        vertical: bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
                                    };
                                if (targetWidth < elemWidth && abs(left + right) < targetWidth) {
                                    feedback.horizontal = "center"
                                }
                                if (targetHeight < elemHeight && abs(top + bottom) < targetHeight) {
                                    feedback.vertical = "middle"
                                }
                                if (max(abs(left), abs(right)) > max(abs(top), abs(bottom))) {
                                    feedback.important = "horizontal"
                                } else {
                                    feedback.important = "vertical"
                                }
                                options.using.call(this, props, feedback)
                            }
                        }
                        elem.offset($.extend(position, {
                            using: using
                        }))
                    })
                };
                $.ui.position = {
                    fit: {
                        left: function(position, data) {
                            var within = data.within,
                                withinOffset = within.isWindow ? within.scrollLeft : within.offset.left,
                                outerWidth = within.width,
                                collisionPosLeft = position.left - data.collisionPosition.marginLeft,
                                overLeft = withinOffset - collisionPosLeft,
                                overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,
                                newOverRight;
                            if (data.collisionWidth > outerWidth) {
                                if (overLeft > 0 && overRight <= 0) {
                                    newOverRight = position.left + overLeft + data.collisionWidth - outerWidth - withinOffset;
                                    position.left += overLeft - newOverRight
                                } else if (overRight > 0 && overLeft <= 0) {
                                    position.left = withinOffset
                                } else {
                                    if (overLeft > overRight) {
                                        position.left = withinOffset + outerWidth - data.collisionWidth
                                    } else {
                                        position.left = withinOffset
                                    }
                                }
                            } else if (overLeft > 0) {
                                position.left += overLeft
                            } else if (overRight > 0) {
                                position.left -= overRight
                            } else {
                                position.left = max(position.left - collisionPosLeft, position.left)
                            }
                        },
                        top: function(position, data) {
                            var within = data.within,
                                withinOffset = within.isWindow ? within.scrollTop : within.offset.top,
                                outerHeight = data.within.height,
                                collisionPosTop = position.top - data.collisionPosition.marginTop,
                                overTop = withinOffset - collisionPosTop,
                                overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,
                                newOverBottom;
                            if (data.collisionHeight > outerHeight) {
                                if (overTop > 0 && overBottom <= 0) {
                                    newOverBottom = position.top + overTop + data.collisionHeight - outerHeight - withinOffset;
                                    position.top += overTop - newOverBottom
                                } else if (overBottom > 0 && overTop <= 0) {
                                    position.top = withinOffset
                                } else {
                                    if (overTop > overBottom) {
                                        position.top = withinOffset + outerHeight - data.collisionHeight
                                    } else {
                                        position.top = withinOffset
                                    }
                                }
                            } else if (overTop > 0) {
                                position.top += overTop
                            } else if (overBottom > 0) {
                                position.top -= overBottom
                            } else {
                                position.top = max(position.top - collisionPosTop, position.top)
                            }
                        }
                    },
                    flip: {
                        left: function(position, data) {
                            var within = data.within,
                                withinOffset = within.offset.left + within.scrollLeft,
                                outerWidth = within.width,
                                offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,
                                collisionPosLeft = position.left - data.collisionPosition.marginLeft,
                                overLeft = collisionPosLeft - offsetLeft,
                                overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,
                                myOffset = data.my[0] === "left" ? -data.elemWidth : data.my[0] === "right" ? data.elemWidth : 0,
                                atOffset = data.at[0] === "left" ? data.targetWidth : data.at[0] === "right" ? -data.targetWidth : 0,
                                offset = -2 * data.offset[0],
                                newOverRight, newOverLeft;
                            if (overLeft < 0) {
                                newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth - outerWidth - withinOffset;
                                if (newOverRight < 0 || newOverRight < abs(overLeft)) {
                                    position.left += myOffset + atOffset + offset
                                }
                            } else if (overRight > 0) {
                                newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset + atOffset + offset - offsetLeft;
                                if (newOverLeft > 0 || abs(newOverLeft) < overRight) {
                                    position.left += myOffset + atOffset + offset
                                }
                            }
                        },
                        top: function(position, data) {
                            var within = data.within,
                                withinOffset = within.offset.top + within.scrollTop,
                                outerHeight = within.height,
                                offsetTop = within.isWindow ? within.scrollTop : within.offset.top,
                                collisionPosTop = position.top - data.collisionPosition.marginTop,
                                overTop = collisionPosTop - offsetTop,
                                overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,
                                top = data.my[1] === "top",
                                myOffset = top ? -data.elemHeight : data.my[1] === "bottom" ? data.elemHeight : 0,
                                atOffset = data.at[1] === "top" ? data.targetHeight : data.at[1] === "bottom" ? -data.targetHeight : 0,
                                offset = -2 * data.offset[1],
                                newOverTop, newOverBottom;
                            if (overTop < 0) {
                                newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight - outerHeight - withinOffset;
                                if (position.top + myOffset + atOffset + offset > overTop && (newOverBottom < 0 || newOverBottom < abs(overTop))) {
                                    position.top += myOffset + atOffset + offset
                                }
                            } else if (overBottom > 0) {
                                newOverTop = position.top - data.collisionPosition.marginTop + myOffset + atOffset + offset - offsetTop;
                                if (position.top + myOffset + atOffset + offset > overBottom && (newOverTop > 0 || abs(newOverTop) < overBottom)) {
                                    position.top += myOffset + atOffset + offset
                                }
                            }
                        }
                    },
                    flipfit: {
                        left: function() {
                            $.ui.position.flip.left.apply(this, arguments);
                            $.ui.position.fit.left.apply(this, arguments)
                        },
                        top: function() {
                            $.ui.position.flip.top.apply(this, arguments);
                            $.ui.position.fit.top.apply(this, arguments)
                        }
                    }
                };
                (function() {
                    var testElement, testElementParent, testElementStyle, offsetLeft, i, body = document.getElementsByTagName("body")[0],
                        div = document.createElement("div");
                    testElement = document.createElement(body ? "div" : "body");
                    testElementStyle = {
                        visibility: "hidden",
                        width: 0,
                        height: 0,
                        border: 0,
                        margin: 0,
                        background: "none"
                    };
                    if (body) {
                        $.extend(testElementStyle, {
                            position: "absolute",
                            left: "-1000px",
                            top: "-1000px"
                        })
                    }
                    for (i in testElementStyle) {
                        testElement.style[i] = testElementStyle[i]
                    }
                    testElement.appendChild(div);
                    testElementParent = body || document.documentElement;
                    testElementParent.insertBefore(testElement, testElementParent.firstChild);
                    div.style.cssText = "position: absolute; left: 10.7432222px;";
                    offsetLeft = $(div).offset().left;
                    $.support.offsetFractions = offsetLeft > 10 && offsetLeft < 11;
                    testElement.innerHTML = "";
                    testElementParent.removeChild(testElement)
                })()
            })(jQuery);
            (function($, undefined) {
                $.widget("ui.progressbar", {
                    version: "1.10.3",
                    options: {
                        max: 100,
                        value: 0,
                        change: null,
                        complete: null
                    },
                    min: 0,
                    _create: function() {
                        this.oldValue = this.options.value = this._constrainedValue();
                        this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({
                            role: "progressbar",
                            "aria-valuemin": this.min
                        });
                        this.valueDiv = $("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);
                        this._refreshValue()
                    },
                    _destroy: function() {
                        this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
                        this.valueDiv.remove()
                    },
                    value: function(newValue) {
                        if (newValue === undefined) {
                            return this.options.value
                        }
                        this.options.value = this._constrainedValue(newValue);
                        this._refreshValue()
                    },
                    _constrainedValue: function(newValue) {
                        if (newValue === undefined) {
                            newValue = this.options.value
                        }
                        this.indeterminate = newValue === false;
                        if (typeof newValue !== "number") {
                            newValue = 0
                        }
                        return this.indeterminate ? false : Math.min(this.options.max, Math.max(this.min, newValue))
                    },
                    _setOptions: function(options) {
                        var value = options.value;
                        delete options.value;
                        this._super(options);
                        this.options.value = this._constrainedValue(value);
                        this._refreshValue()
                    },
                    _setOption: function(key, value) {
                        if (key === "max") {
                            value = Math.max(this.min, value)
                        }
                        this._super(key, value)
                    },
                    _percentage: function() {
                        return this.indeterminate ? 100 : 100 * (this.options.value - this.min) / (this.options.max - this.min)
                    },
                    _refreshValue: function() {
                        var value = this.options.value,
                            percentage = this._percentage();
                        this.valueDiv.toggle(this.indeterminate || value > this.min).toggleClass("ui-corner-right", value === this.options.max).width(percentage.toFixed(0) + "%");
                        this.element.toggleClass("ui-progressbar-indeterminate", this.indeterminate);
                        if (this.indeterminate) {
                            this.element.removeAttr("aria-valuenow");
                            if (!this.overlayDiv) {
                                this.overlayDiv = $("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv)
                            }
                        } else {
                            this.element.attr({
                                "aria-valuemax": this.options.max,
                                "aria-valuenow": value
                            });
                            if (this.overlayDiv) {
                                this.overlayDiv.remove();
                                this.overlayDiv = null
                            }
                        }
                        if (this.oldValue !== value) {
                            this.oldValue = value;
                            this._trigger("change")
                        }
                        if (value === this.options.max) {
                            this._trigger("complete")
                        }
                    }
                })
            })(jQuery);
            (function($, undefined) {
                var numPages = 5;
                $.widget("ui.slider", $.ui.mouse, {
                    version: "1.10.3",
                    widgetEventPrefix: "slide",
                    options: {
                        animate: false,
                        distance: 0,
                        max: 100,
                        min: 0,
                        orientation: "horizontal",
                        range: false,
                        step: 1,
                        value: 0,
                        values: null,
                        change: null,
                        slide: null,
                        start: null,
                        stop: null
                    },
                    _create: function() {
                        this._keySliding = false;
                        this._mouseSliding = false;
                        this._animateOff = true;
                        this._handleIndex = null;
                        this._detectOrientation();
                        this._mouseInit();
                        this.element.addClass("ui-slider" + " ui-slider-" + this.orientation + " ui-widget" + " ui-widget-content" + " ui-corner-all");
                        this._refresh();
                        this._setOption("disabled", this.options.disabled);
                        this._animateOff = false
                    },
                    _refresh: function() {
                        this._createRange();
                        this._createHandles();
                        this._setupEvents();
                        this._refreshValue()
                    },
                    _createHandles: function() {
                        var i, handleCount, options = this.options,
                            existingHandles = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
                            handle = "<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",
                            handles = [];
                        handleCount = options.values && options.values.length || 1;
                        if (existingHandles.length > handleCount) {
                            existingHandles.slice(handleCount).remove();
                            existingHandles = existingHandles.slice(0, handleCount)
                        }
                        for (i = existingHandles.length; i < handleCount; i++) {
                            handles.push(handle)
                        }
                        this.handles = existingHandles.add($(handles.join("")).appendTo(this.element));
                        this.handle = this.handles.eq(0);
                        this.handles.each(function(i) {
                            $(this).data("ui-slider-handle-index", i)
                        })
                    },
                    _createRange: function() {
                        var options = this.options,
                            classes = "";
                        if (options.range) {
                            if (options.range === true) {
                                if (!options.values) {
                                    options.values = [this._valueMin(), this._valueMin()]
                                } else if (options.values.length && options.values.length !== 2) {
                                    options.values = [options.values[0], options.values[0]]
                                } else if ($.isArray(options.values)) {
                                    options.values = options.values.slice(0)
                                }
                            }
                            if (!this.range || !this.range.length) {
                                this.range = $("<div></div>").appendTo(this.element);
                                classes = "ui-slider-range" + " ui-widget-header ui-corner-all"
                            } else {
                                this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                                    left: "",
                                    bottom: ""
                                })
                            }
                            this.range.addClass(classes + (options.range === "min" || options.range === "max" ? " ui-slider-range-" + options.range : ""))
                        } else {
                            this.range = $([])
                        }
                    },
                    _setupEvents: function() {
                        var elements = this.handles.add(this.range).filter("a");
                        this._off(elements);
                        this._on(elements, this._handleEvents);
                        this._hoverable(elements);
                        this._focusable(elements)
                    },
                    _destroy: function() {
                        this.handles.remove();
                        this.range.remove();
                        this.element.removeClass("ui-slider" + " ui-slider-horizontal" + " ui-slider-vertical" + " ui-widget" + " ui-widget-content" + " ui-corner-all");
                        this._mouseDestroy()
                    },
                    _mouseCapture: function(event) {
                        var position, normValue, distance, closestHandle, index, allowed, offset, mouseOverHandle, that = this,
                            o = this.options;
                        if (o.disabled) {
                            return false
                        }
                        this.elementSize = {
                            width: this.element.outerWidth(),
                            height: this.element.outerHeight()
                        };
                        this.elementOffset = this.element.offset();
                        position = {
                            x: event.pageX,
                            y: event.pageY
                        };
                        normValue = this._normValueFromMouse(position);
                        distance = this._valueMax() - this._valueMin() + 1;
                        this.handles.each(function(i) {
                            var thisDistance = Math.abs(normValue - that.values(i));
                            if (distance > thisDistance || distance === thisDistance && (i === that._lastChangedValue || that.values(i) === o.min)) {
                                distance = thisDistance;
                                closestHandle = $(this);
                                index = i
                            }
                        });
                        allowed = this._start(event, index);
                        if (allowed === false) {
                            return false
                        }
                        this._mouseSliding = true;
                        this._handleIndex = index;
                        closestHandle.addClass("ui-state-active").focus();
                        offset = closestHandle.offset();
                        mouseOverHandle = !$(event.target).parents().addBack().is(".ui-slider-handle");
                        this._clickOffset = mouseOverHandle ? {
                            left: 0,
                            top: 0
                        } : {
                            left: event.pageX - offset.left - closestHandle.width() / 2,
                            top: event.pageY - offset.top - closestHandle.height() / 2 - (parseInt(closestHandle.css("borderTopWidth"), 10) || 0) - (parseInt(closestHandle.css("borderBottomWidth"), 10) || 0) + (parseInt(closestHandle.css("marginTop"), 10) || 0)
                        };
                        if (!this.handles.hasClass("ui-state-hover")) {
                            this._slide(event, index, normValue)
                        }
                        this._animateOff = true;
                        return true
                    },
                    _mouseStart: function() {
                        return true
                    },
                    _mouseDrag: function(event) {
                        var position = {
                                x: event.pageX,
                                y: event.pageY
                            },
                            normValue = this._normValueFromMouse(position);
                        this._slide(event, this._handleIndex, normValue);
                        return false
                    },
                    _mouseStop: function(event) {
                        this.handles.removeClass("ui-state-active");
                        this._mouseSliding = false;
                        this._stop(event, this._handleIndex);
                        this._change(event, this._handleIndex);
                        this._handleIndex = null;
                        this._clickOffset = null;
                        this._animateOff = false;
                        return false
                    },
                    _detectOrientation: function() {
                        this.orientation = this.options.orientation === "vertical" ? "vertical" : "horizontal"
                    },
                    _normValueFromMouse: function(position) {
                        var pixelTotal, pixelMouse, percentMouse, valueTotal, valueMouse;
                        if (this.orientation === "horizontal") {
                            pixelTotal = this.elementSize.width;
                            pixelMouse = position.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)
                        } else {
                            pixelTotal = this.elementSize.height;
                            pixelMouse = position.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)
                        }
                        percentMouse = pixelMouse / pixelTotal;
                        if (percentMouse > 1) {
                            percentMouse = 1
                        }
                        if (percentMouse < 0) {
                            percentMouse = 0
                        }
                        if (this.orientation === "vertical") {
                            percentMouse = 1 - percentMouse
                        }
                        valueTotal = this._valueMax() - this._valueMin();
                        valueMouse = this._valueMin() + percentMouse * valueTotal;
                        return this._trimAlignValue(valueMouse)
                    },
                    _start: function(event, index) {
                        var uiHash = {
                            handle: this.handles[index],
                            value: this.value()
                        };
                        if (this.options.values && this.options.values.length) {
                            uiHash.value = this.values(index);
                            uiHash.values = this.values()
                        }
                        return this._trigger("start", event, uiHash)
                    },
                    _slide: function(event, index, newVal) {
                        var otherVal, newValues, allowed;
                        if (this.options.values && this.options.values.length) {
                            otherVal = this.values(index ? 0 : 1);
                            if (this.options.values.length === 2 && this.options.range === true && (index === 0 && newVal > otherVal || index === 1 && newVal < otherVal)) {
                                newVal = otherVal
                            }
                            if (newVal !== this.values(index)) {
                                newValues = this.values();
                                newValues[index] = newVal;
                                allowed = this._trigger("slide", event, {
                                    handle: this.handles[index],
                                    value: newVal,
                                    values: newValues
                                });
                                otherVal = this.values(index ? 0 : 1);
                                if (allowed !== false) {
                                    this.values(index, newVal, true)
                                }
                            }
                        } else {
                            if (newVal !== this.value()) {
                                allowed = this._trigger("slide", event, {
                                    handle: this.handles[index],
                                    value: newVal
                                });
                                if (allowed !== false) {
                                    this.value(newVal)
                                }
                            }
                        }
                    },
                    _stop: function(event, index) {
                        var uiHash = {
                            handle: this.handles[index],
                            value: this.value()
                        };
                        if (this.options.values && this.options.values.length) {
                            uiHash.value = this.values(index);
                            uiHash.values = this.values()
                        }
                        this._trigger("stop", event, uiHash)
                    },
                    _change: function(event, index) {
                        if (!this._keySliding && !this._mouseSliding) {
                            var uiHash = {
                                handle: this.handles[index],
                                value: this.value()
                            };
                            if (this.options.values && this.options.values.length) {
                                uiHash.value = this.values(index);
                                uiHash.values = this.values()
                            }
                            this._lastChangedValue = index;
                            this._trigger("change", event, uiHash)
                        }
                    },
                    value: function(newValue) {
                        if (arguments.length) {
                            this.options.value = this._trimAlignValue(newValue);
                            this._refreshValue();
                            this._change(null, 0);
                            return
                        }
                        return this._value()
                    },
                    values: function(index, newValue) {
                        var vals, newValues, i;
                        if (arguments.length > 1) {
                            this.options.values[index] = this._trimAlignValue(newValue);
                            this._refreshValue();
                            this._change(null, index);
                            return
                        }
                        if (arguments.length) {
                            if ($.isArray(arguments[0])) {
                                vals = this.options.values;
                                newValues = arguments[0];
                                for (i = 0; i < vals.length; i += 1) {
                                    vals[i] = this._trimAlignValue(newValues[i]);
                                    this._change(null, i)
                                }
                                this._refreshValue()
                            } else {
                                if (this.options.values && this.options.values.length) {
                                    return this._values(index)
                                } else {
                                    return this.value()
                                }
                            }
                        } else {
                            return this._values()
                        }
                    },
                    _setOption: function(key, value) {
                        var i, valsLength = 0;
                        if (key === "range" && this.options.range === true) {
                            if (value === "min") {
                                this.options.value = this._values(0);
                                this.options.values = null
                            } else if (value === "max") {
                                this.options.value = this._values(this.options.values.length - 1);
                                this.options.values = null
                            }
                        }
                        if ($.isArray(this.options.values)) {
                            valsLength = this.options.values.length
                        }
                        $.Widget.prototype._setOption.apply(this, arguments);
                        switch (key) {
                            case "orientation":
                                this._detectOrientation();
                                this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation);
                                this._refreshValue();
                                break;
                            case "value":
                                this._animateOff = true;
                                this._refreshValue();
                                this._change(null, 0);
                                this._animateOff = false;
                                break;
                            case "values":
                                this._animateOff = true;
                                this._refreshValue();
                                for (i = 0; i < valsLength; i += 1) {
                                    this._change(null, i)
                                }
                                this._animateOff = false;
                                break;
                            case "min":
                            case "max":
                                this._animateOff = true;
                                this._refreshValue();
                                this._animateOff = false;
                                break;
                            case "range":
                                this._animateOff = true;
                                this._refresh();
                                this._animateOff = false;
                                break
                        }
                    },
                    _value: function() {
                        var val = this.options.value;
                        val = this._trimAlignValue(val);
                        return val
                    },
                    _values: function(index) {
                        var val, vals, i;
                        if (arguments.length) {
                            val = this.options.values[index];
                            val = this._trimAlignValue(val);
                            return val
                        } else if (this.options.values && this.options.values.length) {
                            vals = this.options.values.slice();
                            for (i = 0; i < vals.length; i += 1) {
                                vals[i] = this._trimAlignValue(vals[i])
                            }
                            return vals
                        } else {
                            return []
                        }
                    },
                    _trimAlignValue: function(val) {
                        if (val <= this._valueMin()) {
                            return this._valueMin()
                        }
                        if (val >= this._valueMax()) {
                            return this._valueMax()
                        }
                        var step = this.options.step > 0 ? this.options.step : 1,
                            valModStep = (val - this._valueMin()) % step,
                            alignValue = val - valModStep;
                        if (Math.abs(valModStep) * 2 >= step) {
                            alignValue += valModStep > 0 ? step : -step
                        }
                        return parseFloat(alignValue.toFixed(5))
                    },
                    _valueMin: function() {
                        return this.options.min
                    },
                    _valueMax: function() {
                        return this.options.max
                    },
                    _refreshValue: function() {
                        var lastValPercent, valPercent, value, valueMin, valueMax, oRange = this.options.range,
                            o = this.options,
                            that = this,
                            animate = !this._animateOff ? o.animate : false,
                            _set = {};
                        if (this.options.values && this.options.values.length) {
                            this.handles.each(function(i) {
                                valPercent = (that.values(i) - that._valueMin()) / (that._valueMax() - that._valueMin()) * 100;
                                _set[that.orientation === "horizontal" ? "left" : "bottom"] = valPercent + "%";
                                $(this).stop(1, 1)[animate ? "animate" : "css"](_set, o.animate);
                                if (that.options.range === true) {
                                    if (that.orientation === "horizontal") {
                                        if (i === 0) {
                                            that.range.stop(1, 1)[animate ? "animate" : "css"]({
                                                left: valPercent + "%"
                                            }, o.animate)
                                        }
                                        if (i === 1) {
                                            that.range[animate ? "animate" : "css"]({
                                                width: valPercent - lastValPercent + "%"
                                            }, {
                                                queue: false,
                                                duration: o.animate
                                            })
                                        }
                                    } else {
                                        if (i === 0) {
                                            that.range.stop(1, 1)[animate ? "animate" : "css"]({
                                                bottom: valPercent + "%"
                                            }, o.animate)
                                        }
                                        if (i === 1) {
                                            that.range[animate ? "animate" : "css"]({
                                                height: valPercent - lastValPercent + "%"
                                            }, {
                                                queue: false,
                                                duration: o.animate
                                            })
                                        }
                                    }
                                }
                                lastValPercent = valPercent
                            })
                        } else {
                            value = this.value();
                            valueMin = this._valueMin();
                            valueMax = this._valueMax();
                            valPercent = valueMax !== valueMin ? (value - valueMin) / (valueMax - valueMin) * 100 : 0;
                            _set[this.orientation === "horizontal" ? "left" : "bottom"] = valPercent + "%";
                            this.handle.stop(1, 1)[animate ? "animate" : "css"](_set, o.animate);
                            if (oRange === "min" && this.orientation === "horizontal") {
                                this.range.stop(1, 1)[animate ? "animate" : "css"]({
                                    width: valPercent + "%"
                                }, o.animate)
                            }
                            if (oRange === "max" && this.orientation === "horizontal") {
                                this.range[animate ? "animate" : "css"]({
                                    width: 100 - valPercent + "%"
                                }, {
                                    queue: false,
                                    duration: o.animate
                                })
                            }
                            if (oRange === "min" && this.orientation === "vertical") {
                                this.range.stop(1, 1)[animate ? "animate" : "css"]({
                                    height: valPercent + "%"
                                }, o.animate)
                            }
                            if (oRange === "max" && this.orientation === "vertical") {
                                this.range[animate ? "animate" : "css"]({
                                    height: 100 - valPercent + "%"
                                }, {
                                    queue: false,
                                    duration: o.animate
                                })
                            }
                        }
                    },
                    _handleEvents: {
                        keydown: function(event) {
                            var allowed, curVal, newVal, step, index = $(event.target).data("ui-slider-handle-index");
                            switch (event.keyCode) {
                                case $.ui.keyCode.HOME:
                                case $.ui.keyCode.END:
                                case $.ui.keyCode.PAGE_UP:
                                case $.ui.keyCode.PAGE_DOWN:
                                case $.ui.keyCode.UP:
                                case $.ui.keyCode.RIGHT:
                                case $.ui.keyCode.DOWN:
                                case $.ui.keyCode.LEFT:
                                    event.preventDefault();
                                    if (!this._keySliding) {
                                        this._keySliding = true;
                                        $(event.target).addClass("ui-state-active");
                                        allowed = this._start(event, index);
                                        if (allowed === false) {
                                            return
                                        }
                                    }
                                    break
                            }
                            step = this.options.step;
                            if (this.options.values && this.options.values.length) {
                                curVal = newVal = this.values(index)
                            } else {
                                curVal = newVal = this.value()
                            }
                            switch (event.keyCode) {
                                case $.ui.keyCode.HOME:
                                    newVal = this._valueMin();
                                    break;
                                case $.ui.keyCode.END:
                                    newVal = this._valueMax();
                                    break;
                                case $.ui.keyCode.PAGE_UP:
                                    newVal = this._trimAlignValue(curVal + (this._valueMax() - this._valueMin()) / numPages);
                                    break;
                                case $.ui.keyCode.PAGE_DOWN:
                                    newVal = this._trimAlignValue(curVal - (this._valueMax() - this._valueMin()) / numPages);
                                    break;
                                case $.ui.keyCode.UP:
                                case $.ui.keyCode.RIGHT:
                                    if (curVal === this._valueMax()) {
                                        return
                                    }
                                    newVal = this._trimAlignValue(curVal + step);
                                    break;
                                case $.ui.keyCode.DOWN:
                                case $.ui.keyCode.LEFT:
                                    if (curVal === this._valueMin()) {
                                        return
                                    }
                                    newVal = this._trimAlignValue(curVal - step);
                                    break
                            }
                            this._slide(event, index, newVal)
                        },
                        click: function(event) {
                            event.preventDefault()
                        },
                        keyup: function(event) {
                            var index = $(event.target).data("ui-slider-handle-index");
                            if (this._keySliding) {
                                this._keySliding = false;
                                this._stop(event, index);
                                this._change(event, index);
                                $(event.target).removeClass("ui-state-active")
                            }
                        }
                    }
                })
            })(jQuery);
            (function($) {
                function modifier(fn) {
                    return function() {
                        var previous = this.element.val();
                        fn.apply(this, arguments);
                        this._refresh();
                        if (previous !== this.element.val()) {
                            this._trigger("change")
                        }
                    }
                }
                $.widget("ui.spinner", {
                    version: "1.10.3",
                    defaultElement: "<input>",
                    widgetEventPrefix: "spin",
                    options: {
                        culture: null,
                        icons: {
                            down: "ui-icon-triangle-1-s",
                            up: "ui-icon-triangle-1-n"
                        },
                        incremental: true,
                        max: null,
                        min: null,
                        numberFormat: null,
                        page: 10,
                        step: 1,
                        change: null,
                        spin: null,
                        start: null,
                        stop: null
                    },
                    _create: function() {
                        this._setOption("max", this.options.max);
                        this._setOption("min", this.options.min);
                        this._setOption("step", this.options.step);
                        this._value(this.element.val(), true);
                        this._draw();
                        this._on(this._events);
                        this._refresh();
                        this._on(this.window, {
                            beforeunload: function() {
                                this.element.removeAttr("autocomplete")
                            }
                        })
                    },
                    _getCreateOptions: function() {
                        var options = {},
                            element = this.element;
                        $.each(["min", "max", "step"], function(i, option) {
                            var value = element.attr(option);
                            if (value !== undefined && value.length) {
                                options[option] = value
                            }
                        });
                        return options
                    },
                    _events: {
                        keydown: function(event) {
                            if (this._start(event) && this._keydown(event)) {
                                event.preventDefault()
                            }
                        },
                        keyup: "_stop",
                        focus: function() {
                            this.previous = this.element.val()
                        },
                        blur: function(event) {
                            if (this.cancelBlur) {
                                delete this.cancelBlur;
                                return
                            }
                            this._stop();
                            this._refresh();
                            if (this.previous !== this.element.val()) {
                                this._trigger("change", event)
                            }
                        },
                        mousewheel: function(event, delta) {
                            if (!delta) {
                                return
                            }
                            if (!this.spinning && !this._start(event)) {
                                return false
                            }
                            this._spin((delta > 0 ? 1 : -1) * this.options.step, event);
                            clearTimeout(this.mousewheelTimer);
                            this.mousewheelTimer = this._delay(function() {
                                if (this.spinning) {
                                    this._stop(event)
                                }
                            }, 100);
                            event.preventDefault()
                        },
                        "mousedown .ui-spinner-button": function(event) {
                            var previous;
                            previous = this.element[0] === this.document[0].activeElement ? this.previous : this.element.val();

                            function checkFocus() {
                                var isActive = this.element[0] === this.document[0].activeElement;
                                if (!isActive) {
                                    this.element.focus();
                                    this.previous = previous;
                                    this._delay(function() {
                                        this.previous = previous
                                    })
                                }
                            }
                            event.preventDefault();
                            checkFocus.call(this);
                            this.cancelBlur = true;
                            this._delay(function() {
                                delete this.cancelBlur;
                                checkFocus.call(this)
                            });
                            if (this._start(event) === false) {
                                return
                            }
                            this._repeat(null, $(event.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, event);
                        },
                        "mouseup .ui-spinner-button": "_stop",
                        "mouseenter .ui-spinner-button": function(event) {
                            if (!$(event.currentTarget).hasClass("ui-state-active")) {
                                return
                            }
                            if (this._start(event) === false) {
                                return false
                            }
                            this._repeat(null, $(event.currentTarget).hasClass("ui-spinner-up") ? 1 : -1, event)
                        },
                        "mouseleave .ui-spinner-button": "_stop"
                    },
                    _draw: function() {
                        var uiSpinner = this.uiSpinner = this.element.addClass("ui-spinner-input").attr("autocomplete", "off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());
                        this.element.attr("role", "spinbutton");
                        this.buttons = uiSpinner.find(".ui-spinner-button").attr("tabIndex", -1).button().removeClass("ui-corner-all");
                        if (this.buttons.height() > Math.ceil(uiSpinner.height() * .5) && uiSpinner.height() > 0) {
                            uiSpinner.height(uiSpinner.height())
                        }
                        if (this.options.disabled) {
                            this.disable()
                        }
                    },
                    _keydown: function(event) {
                        var options = this.options,
                            keyCode = $.ui.keyCode;
                        switch (event.keyCode) {
                            case keyCode.UP:
                                this._repeat(null, 1, event);
                                return true;
                            case keyCode.DOWN:
                                this._repeat(null, -1, event);
                                return true;
                            case keyCode.PAGE_UP:
                                this._repeat(null, options.page, event);
                                return true;
                            case keyCode.PAGE_DOWN:
                                this._repeat(null, -options.page, event);
                                return true
                        }
                        return false
                    },
                    _uiSpinnerHtml: function() {
                        return "<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"
                    },
                    _buttonHtml: function() {
                        return "" + "<a class='ui-spinner-button ui-spinner-up ui-corner-tr'>" + "<span class='ui-icon " + this.options.icons.up + "'>&#9650;</span>" + "</a>" + "<a class='ui-spinner-button ui-spinner-down ui-corner-br'>" + "<span class='ui-icon " + this.options.icons.down + "'>&#9660;</span>" + "</a>"
                    },
                    _start: function(event) {
                        if (!this.spinning && this._trigger("start", event) === false) {
                            return false
                        }
                        if (!this.counter) {
                            this.counter = 1
                        }
                        this.spinning = true;
                        return true
                    },
                    _repeat: function(i, steps, event) {
                        i = i || 500;
                        clearTimeout(this.timer);
                        this.timer = this._delay(function() {
                            this._repeat(40, steps, event)
                        }, i);
                        this._spin(steps * this.options.step, event)
                    },
                    _spin: function(step, event) {
                        var value = this.value() || 0;
                        if (!this.counter) {
                            this.counter = 1
                        }
                        value = this._adjustValue(value + step * this._increment(this.counter));
                        if (!this.spinning || this._trigger("spin", event, {
                                value: value
                            }) !== false) {
                            this._value(value);
                            this.counter++
                        }
                    },
                    _increment: function(i) {
                        var incremental = this.options.incremental;
                        if (incremental) {
                            return $.isFunction(incremental) ? incremental(i) : Math.floor(i * i * i / 5e4 - i * i / 500 + 17 * i / 200 + 1)
                        }
                        return 1
                    },
                    _precision: function() {
                        var precision = this._precisionOf(this.options.step);
                        if (this.options.min !== null) {
                            precision = Math.max(precision, this._precisionOf(this.options.min))
                        }
                        return precision
                    },
                    _precisionOf: function(num) {
                        var str = num.toString(),
                            decimal = str.indexOf(".");
                        return decimal === -1 ? 0 : str.length - decimal - 1
                    },
                    _adjustValue: function(value) {
                        var base, aboveMin, options = this.options;
                        base = options.min !== null ? options.min : 0;
                        aboveMin = value - base;
                        aboveMin = Math.round(aboveMin / options.step) * options.step;
                        value = base + aboveMin;
                        value = parseFloat(value.toFixed(this._precision()));
                        if (options.max !== null && value > options.max) {
                            return options.max
                        }
                        if (options.min !== null && value < options.min) {
                            return options.min
                        }
                        return value
                    },
                    _stop: function(event) {
                        if (!this.spinning) {
                            return
                        }
                        clearTimeout(this.timer);
                        clearTimeout(this.mousewheelTimer);
                        this.counter = 0;
                        this.spinning = false;
                        this._trigger("stop", event)
                    },
                    _setOption: function(key, value) {
                        if (key === "culture" || key === "numberFormat") {
                            var prevValue = this._parse(this.element.val());
                            this.options[key] = value;
                            this.element.val(this._format(prevValue));
                            return
                        }
                        if (key === "max" || key === "min" || key === "step") {
                            if (typeof value === "string") {
                                value = this._parse(value)
                            }
                        }
                        if (key === "icons") {
                            this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(value.up);
                            this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(value.down)
                        }
                        this._super(key, value);
                        if (key === "disabled") {
                            if (value) {
                                this.element.prop("disabled", true);
                                this.buttons.button("disable")
                            } else {
                                this.element.prop("disabled", false);
                                this.buttons.button("enable")
                            }
                        }
                    },
                    _setOptions: modifier(function(options) {
                        this._super(options);
                        this._value(this.element.val())
                    }),
                    _parse: function(val) {
                        if (typeof val === "string" && val !== "") {
                            val = window.Globalize && this.options.numberFormat ? Globalize.parseFloat(val, 10, this.options.culture) : +val
                        }
                        return val === "" || isNaN(val) ? null : val
                    },
                    _format: function(value) {
                        if (value === "") {
                            return ""
                        }
                        return window.Globalize && this.options.numberFormat ? Globalize.format(value, this.options.numberFormat, this.options.culture) : value
                    },
                    _refresh: function() {
                        this.element.attr({
                            "aria-valuemin": this.options.min,
                            "aria-valuemax": this.options.max,
                            "aria-valuenow": this._parse(this.element.val())
                        })
                    },
                    _value: function(value, allowAny) {
                        var parsed;
                        if (value !== "") {
                            parsed = this._parse(value);
                            if (parsed !== null) {
                                if (!allowAny) {
                                    parsed = this._adjustValue(parsed)
                                }
                                value = this._format(parsed)
                            }
                        }
                        this.element.val(value);
                        this._refresh()
                    },
                    _destroy: function() {
                        this.element.removeClass("ui-spinner-input").prop("disabled", false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
                        this.uiSpinner.replaceWith(this.element)
                    },
                    stepUp: modifier(function(steps) {
                        this._stepUp(steps)
                    }),
                    _stepUp: function(steps) {
                        if (this._start()) {
                            this._spin((steps || 1) * this.options.step);
                            this._stop()
                        }
                    },
                    stepDown: modifier(function(steps) {
                        this._stepDown(steps)
                    }),
                    _stepDown: function(steps) {
                        if (this._start()) {
                            this._spin((steps || 1) * -this.options.step);
                            this._stop()
                        }
                    },
                    pageUp: modifier(function(pages) {
                        this._stepUp((pages || 1) * this.options.page)
                    }),
                    pageDown: modifier(function(pages) {
                        this._stepDown((pages || 1) * this.options.page)
                    }),
                    value: function(newVal) {
                        if (!arguments.length) {
                            return this._parse(this.element.val())
                        }
                        modifier(this._value).call(this, newVal)
                    },
                    widget: function() {
                        return this.uiSpinner
                    }
                })
            })(jQuery);
            (function($, undefined) {
                var tabId = 0,
                    rhash = /#.*$/;

                function getNextTabId() {
                    return ++tabId
                }

                function isLocal(anchor) {
                    return anchor.hash.length > 1 && decodeURIComponent(anchor.href.replace(rhash, "")) === decodeURIComponent(location.href.replace(rhash, ""))
                }
                $.widget("ui.tabs", {
                    version: "1.10.3",
                    delay: 300,
                    options: {
                        active: null,
                        collapsible: false,
                        event: "click",
                        heightStyle: "content",
                        hide: null,
                        show: null,
                        activate: null,
                        beforeActivate: null,
                        beforeLoad: null,
                        load: null
                    },
                    _create: function() {
                        var that = this,
                            options = this.options;
                        this.running = false;
                        this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible", options.collapsible).delegate(".ui-tabs-nav > li", "mousedown" + this.eventNamespace, function(event) {
                            if ($(this).is(".ui-state-disabled")) {
                                event.preventDefault()
                            }
                        }).delegate(".ui-tabs-anchor", "focus" + this.eventNamespace, function() {
                            if ($(this).closest("li").is(".ui-state-disabled")) {
                                this.blur()
                            }
                        });
                        this._processTabs();
                        options.active = this._initialActive();
                        if ($.isArray(options.disabled)) {
                            options.disabled = $.unique(options.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"), function(li) {
                                return that.tabs.index(li)
                            }))).sort()
                        }
                        if (this.options.active !== false && this.anchors.length) {
                            this.active = this._findActive(options.active)
                        } else {
                            this.active = $()
                        }
                        this._refresh();
                        if (this.active.length) {
                            this.load(options.active)
                        }
                    },
                    _initialActive: function() {
                        var active = this.options.active,
                            collapsible = this.options.collapsible,
                            locationHash = location.hash.substring(1);
                        if (active === null) {
                            if (locationHash) {
                                this.tabs.each(function(i, tab) {
                                    if ($(tab).attr("aria-controls") === locationHash) {
                                        active = i;
                                        return false
                                    }
                                })
                            }
                            if (active === null) {
                                active = this.tabs.index(this.tabs.filter(".ui-tabs-active"))
                            }
                            if (active === null || active === -1) {
                                active = this.tabs.length ? 0 : false
                            }
                        }
                        if (active !== false) {
                            active = this.tabs.index(this.tabs.eq(active));
                            if (active === -1) {
                                active = collapsible ? false : 0
                            }
                        }
                        if (!collapsible && active === false && this.anchors.length) {
                            active = 0
                        }
                        return active
                    },
                    _getCreateEventData: function() {
                        return {
                            tab: this.active,
                            panel: !this.active.length ? $() : this._getPanelForTab(this.active)
                        }
                    },
                    _tabKeydown: function(event) {
                        var focusedTab = $(this.document[0].activeElement).closest("li"),
                            selectedIndex = this.tabs.index(focusedTab),
                            goingForward = true;
                        if (this._handlePageNav(event)) {
                            return
                        }
                        switch (event.keyCode) {
                            case $.ui.keyCode.RIGHT:
                            case $.ui.keyCode.DOWN:
                                selectedIndex++;
                                break;
                            case $.ui.keyCode.UP:
                            case $.ui.keyCode.LEFT:
                                goingForward = false;
                                selectedIndex--;
                                break;
                            case $.ui.keyCode.END:
                                selectedIndex = this.anchors.length - 1;
                                break;
                            case $.ui.keyCode.HOME:
                                selectedIndex = 0;
                                break;
                            case $.ui.keyCode.SPACE:
                                event.preventDefault();
                                clearTimeout(this.activating);
                                this._activate(selectedIndex);
                                return;
                            case $.ui.keyCode.ENTER:
                                event.preventDefault();
                                clearTimeout(this.activating);
                                this._activate(selectedIndex === this.options.active ? false : selectedIndex);
                                return;
                            default:
                                return
                        }
                        event.preventDefault();
                        clearTimeout(this.activating);
                        selectedIndex = this._focusNextTab(selectedIndex, goingForward);
                        if (!event.ctrlKey) {
                            focusedTab.attr("aria-selected", "false");
                            this.tabs.eq(selectedIndex).attr("aria-selected", "true");
                            this.activating = this._delay(function() {
                                this.option("active", selectedIndex)
                            }, this.delay)
                        }
                    },
                    _panelKeydown: function(event) {
                        if (this._handlePageNav(event)) {
                            return
                        }
                        if (event.ctrlKey && event.keyCode === $.ui.keyCode.UP) {
                            event.preventDefault();
                            this.active.focus()
                        }
                    },
                    _handlePageNav: function(event) {
                        if (event.altKey && event.keyCode === $.ui.keyCode.PAGE_UP) {
                            this._activate(this._focusNextTab(this.options.active - 1, false));
                            return true
                        }
                        if (event.altKey && event.keyCode === $.ui.keyCode.PAGE_DOWN) {
                            this._activate(this._focusNextTab(this.options.active + 1, true));
                            return true
                        }
                    },
                    _findNextTab: function(index, goingForward) {
                        var lastTabIndex = this.tabs.length - 1;

                        function constrain() {
                            if (index > lastTabIndex) {
                                index = 0
                            }
                            if (index < 0) {
                                index = lastTabIndex
                            }
                            return index
                        }
                        while ($.inArray(constrain(), this.options.disabled) !== -1) {
                            index = goingForward ? index + 1 : index - 1
                        }
                        return index
                    },
                    _focusNextTab: function(index, goingForward) {
                        index = this._findNextTab(index, goingForward);
                        this.tabs.eq(index).focus();
                        return index
                    },
                    _setOption: function(key, value) {
                        if (key === "active") {
                            this._activate(value);
                            return
                        }
                        if (key === "disabled") {
                            this._setupDisabled(value);
                            return
                        }
                        this._super(key, value);
                        if (key === "collapsible") {
                            this.element.toggleClass("ui-tabs-collapsible", value);
                            if (!value && this.options.active === false) {
                                this._activate(0)
                            }
                        }
                        if (key === "event") {
                            this._setupEvents(value)
                        }
                        if (key === "heightStyle") {
                            this._setupHeightStyle(value)
                        }
                    },
                    _tabId: function(tab) {
                        return tab.attr("aria-controls") || "ui-tabs-" + getNextTabId()
                    },
                    _sanitizeSelector: function(hash) {
                        return hash ? hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g, "\\$&") : ""
                    },
                    refresh: function() {
                        var options = this.options,
                            lis = this.tablist.children(":has(a[href])");
                        options.disabled = $.map(lis.filter(".ui-state-disabled"), function(tab) {
                            return lis.index(tab)
                        });
                        this._processTabs();
                        if (options.active === false || !this.anchors.length) {
                            options.active = false;
                            this.active = $()
                        } else if (this.active.length && !$.contains(this.tablist[0], this.active[0])) {
                            if (this.tabs.length === options.disabled.length) {
                                options.active = false;
                                this.active = $()
                            } else {
                                this._activate(this._findNextTab(Math.max(0, options.active - 1), false))
                            }
                        } else {
                            options.active = this.tabs.index(this.active)
                        }
                        this._refresh()
                    },
                    _refresh: function() {
                        this._setupDisabled(this.options.disabled);
                        this._setupEvents(this.options.event);
                        this._setupHeightStyle(this.options.heightStyle);
                        this.tabs.not(this.active).attr({
                            "aria-selected": "false",
                            tabIndex: -1
                        });
                        this.panels.not(this._getPanelForTab(this.active)).hide().attr({
                            "aria-expanded": "false",
                            "aria-hidden": "true"
                        });
                        if (!this.active.length) {
                            this.tabs.eq(0).attr("tabIndex", 0)
                        } else {
                            this.active.addClass("ui-tabs-active ui-state-active").attr({
                                "aria-selected": "true",
                                tabIndex: 0
                            });
                            this._getPanelForTab(this.active).show().attr({
                                "aria-expanded": "true",
                                "aria-hidden": "false"
                            })
                        }
                    },
                    _processTabs: function() {
                        var that = this;
                        this.tablist = this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role", "tablist");
                        this.tabs = this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({
                            role: "tab",
                            tabIndex: -1
                        });
                        this.anchors = this.tabs.map(function() {
                            return $("a", this)[0]
                        }).addClass("ui-tabs-anchor").attr({
                            role: "presentation",
                            tabIndex: -1
                        });
                        this.panels = $();
                        this.anchors.each(function(i, anchor) {
                            var selector, panel, panelId, anchorId = $(anchor).uniqueId().attr("id"),
                                tab = $(anchor).closest("li"),
                                originalAriaControls = tab.attr("aria-controls");
                            if (isLocal(anchor)) {
                                selector = anchor.hash;
                                panel = that.element.find(that._sanitizeSelector(selector))
                            } else {
                                panelId = that._tabId(tab);
                                selector = "#" + panelId;
                                panel = that.element.find(selector);
                                if (!panel.length) {
                                    panel = that._createPanel(panelId);
                                    panel.insertAfter(that.panels[i - 1] || that.tablist)
                                }
                                panel.attr("aria-live", "polite")
                            }
                            if (panel.length) {
                                that.panels = that.panels.add(panel)
                            }
                            if (originalAriaControls) {
                                tab.data("ui-tabs-aria-controls", originalAriaControls)
                            }
                            tab.attr({
                                "aria-controls": selector.substring(1),
                                "aria-labelledby": anchorId
                            });
                            panel.attr("aria-labelledby", anchorId)
                        });
                        this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role", "tabpanel")
                    },
                    _getList: function() {
                        return this.element.find("ol,ul").eq(0)
                    },
                    _createPanel: function(id) {
                        return $("<div>").attr("id", id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy", true)
                    },
                    _setupDisabled: function(disabled) {
                        if ($.isArray(disabled)) {
                            if (!disabled.length) {
                                disabled = false
                            } else if (disabled.length === this.anchors.length) {
                                disabled = true
                            }
                        }
                        for (var i = 0, li; li = this.tabs[i]; i++) {
                            if (disabled === true || $.inArray(i, disabled) !== -1) {
                                $(li).addClass("ui-state-disabled").attr("aria-disabled", "true")
                            } else {
                                $(li).removeClass("ui-state-disabled").removeAttr("aria-disabled")
                            }
                        }
                        this.options.disabled = disabled
                    },
                    _setupEvents: function(event) {
                        var events = {
                            click: function(event) {
                                event.preventDefault()
                            }
                        };
                        if (event) {
                            $.each(event.split(" "), function(index, eventName) {
                                events[eventName] = "_eventHandler"
                            })
                        }
                        this._off(this.anchors.add(this.tabs).add(this.panels));
                        this._on(this.anchors, events);
                        this._on(this.tabs, {
                            keydown: "_tabKeydown"
                        });
                        this._on(this.panels, {
                            keydown: "_panelKeydown"
                        });
                        this._focusable(this.tabs);
                        this._hoverable(this.tabs)
                    },
                    _setupHeightStyle: function(heightStyle) {
                        var maxHeight, parent = this.element.parent();
                        if (heightStyle === "fill") {
                            maxHeight = parent.height();
                            maxHeight -= this.element.outerHeight() - this.element.height();
                            this.element.siblings(":visible").each(function() {
                                var elem = $(this),
                                    position = elem.css("position");
                                if (position === "absolute" || position === "fixed") {
                                    return
                                }
                                maxHeight -= elem.outerHeight(true)
                            });
                            this.element.children().not(this.panels).each(function() {
                                maxHeight -= $(this).outerHeight(true)
                            });
                            this.panels.each(function() {
                                $(this).height(Math.max(0, maxHeight - $(this).innerHeight() + $(this).height()))
                            }).css("overflow", "auto")
                        } else if (heightStyle === "auto") {
                            maxHeight = 0;
                            this.panels.each(function() {
                                maxHeight = Math.max(maxHeight, $(this).height("").height())
                            }).height(maxHeight)
                        }
                    },
                    _eventHandler: function(event) {
                        var options = this.options,
                            active = this.active,
                            anchor = $(event.currentTarget),
                            tab = anchor.closest("li"),
                            clickedIsActive = tab[0] === active[0],
                            collapsing = clickedIsActive && options.collapsible,
                            toShow = collapsing ? $() : this._getPanelForTab(tab),
                            toHide = !active.length ? $() : this._getPanelForTab(active),
                            eventData = {
                                oldTab: active,
                                oldPanel: toHide,
                                newTab: collapsing ? $() : tab,
                                newPanel: toShow
                            };
                        event.preventDefault();
                        if (tab.hasClass("ui-state-disabled") || tab.hasClass("ui-tabs-loading") || this.running || clickedIsActive && !options.collapsible || this._trigger("beforeActivate", event, eventData) === false) {
                            return
                        }
                        options.active = collapsing ? false : this.tabs.index(tab);
                        this.active = clickedIsActive ? $() : tab;
                        if (this.xhr) {
                            this.xhr.abort()
                        }
                        if (!toHide.length && !toShow.length) {
                            $.error("jQuery UI Tabs: Mismatching fragment identifier.")
                        }
                        if (toShow.length) {
                            this.load(this.tabs.index(tab), event)
                        }
                        this._toggle(event, eventData)
                    },
                    _toggle: function(event, eventData) {
                        var that = this,
                            toShow = eventData.newPanel,
                            toHide = eventData.oldPanel;
                        this.running = true;

                        function complete() {
                            that.running = false;
                            that._trigger("activate", event, eventData)
                        }

                        function show() {
                            eventData.newTab.closest("li").addClass("ui-tabs-active ui-state-active");
                            if (toShow.length && that.options.show) {
                                that._show(toShow, that.options.show, complete)
                            } else {
                                toShow.show();
                                complete()
                            }
                        }
                        if (toHide.length && this.options.hide) {
                            this._hide(toHide, this.options.hide, function() {
                                eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");
                                show()
                            })
                        } else {
                            eventData.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");
                            toHide.hide();
                            show()
                        }
                        toHide.attr({
                            "aria-expanded": "false",
                            "aria-hidden": "true"
                        });
                        eventData.oldTab.attr("aria-selected", "false");
                        if (toShow.length && toHide.length) {
                            eventData.oldTab.attr("tabIndex", -1)
                        } else if (toShow.length) {
                            this.tabs.filter(function() {
                                return $(this).attr("tabIndex") === 0
                            }).attr("tabIndex", -1)
                        }
                        toShow.attr({
                            "aria-expanded": "true",
                            "aria-hidden": "false"
                        });
                        eventData.newTab.attr({
                            "aria-selected": "true",
                            tabIndex: 0
                        })
                    },
                    _activate: function(index) {
                        var anchor, active = this._findActive(index);
                        if (active[0] === this.active[0]) {
                            return
                        }
                        if (!active.length) {
                            active = this.active
                        }
                        anchor = active.find(".ui-tabs-anchor")[0];
                        this._eventHandler({
                            target: anchor,
                            currentTarget: anchor,
                            preventDefault: $.noop
                        })
                    },
                    _findActive: function(index) {
                        return index === false ? $() : this.tabs.eq(index)
                    },
                    _getIndex: function(index) {
                        if (typeof index === "string") {
                            index = this.anchors.index(this.anchors.filter("[href$='" + index + "']"))
                        }
                        return index
                    },
                    _destroy: function() {
                        if (this.xhr) {
                            this.xhr.abort()
                        }
                        this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");
                        this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");
                        this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();
                        this.tabs.add(this.panels).each(function() {
                            if ($.data(this, "ui-tabs-destroy")) {
                                $(this).remove()
                            } else {
                                $(this).removeClass("ui-state-default ui-state-active ui-state-disabled " + "ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")
                            }
                        });
                        this.tabs.each(function() {
                            var li = $(this),
                                prev = li.data("ui-tabs-aria-controls");
                            if (prev) {
                                li.attr("aria-controls", prev).removeData("ui-tabs-aria-controls")
                            } else {
                                li.removeAttr("aria-controls")
                            }
                        });
                        this.panels.show();
                        if (this.options.heightStyle !== "content") {
                            this.panels.css("height", "")
                        }
                    },
                    enable: function(index) {
                        var disabled = this.options.disabled;
                        if (disabled === false) {
                            return
                        }
                        if (index === undefined) {
                            disabled = false
                        } else {
                            index = this._getIndex(index);
                            if ($.isArray(disabled)) {
                                disabled = $.map(disabled, function(num) {
                                    return num !== index ? num : null
                                })
                            } else {
                                disabled = $.map(this.tabs, function(li, num) {
                                    return num !== index ? num : null
                                })
                            }
                        }
                        this._setupDisabled(disabled)
                    },
                    disable: function(index) {
                        var disabled = this.options.disabled;
                        if (disabled === true) {
                            return
                        }
                        if (index === undefined) {
                            disabled = true
                        } else {
                            index = this._getIndex(index);
                            if ($.inArray(index, disabled) !== -1) {
                                return
                            }
                            if ($.isArray(disabled)) {
                                disabled = $.merge([index], disabled).sort()
                            } else {
                                disabled = [index]
                            }
                        }
                        this._setupDisabled(disabled)
                    },
                    load: function(index, event) {
                        index = this._getIndex(index);
                        var that = this,
                            tab = this.tabs.eq(index),
                            anchor = tab.find(".ui-tabs-anchor"),
                            panel = this._getPanelForTab(tab),
                            eventData = {
                                tab: tab,
                                panel: panel
                            };
                        if (isLocal(anchor[0])) {
                            return
                        }
                        this.xhr = $.ajax(this._ajaxSettings(anchor, event, eventData));
                        if (this.xhr && this.xhr.statusText !== "canceled") {
                            tab.addClass("ui-tabs-loading");
                            panel.attr("aria-busy", "true");
                            this.xhr.success(function(response) {
                                setTimeout(function() {
                                    panel.html(response);
                                    that._trigger("load", event, eventData)
                                }, 1)
                            }).complete(function(jqXHR, status) {
                                setTimeout(function() {
                                    if (status === "abort") {
                                        that.panels.stop(false, true)
                                    }
                                    tab.removeClass("ui-tabs-loading");
                                    panel.removeAttr("aria-busy");
                                    if (jqXHR === that.xhr) {
                                        delete that.xhr
                                    }
                                }, 1)
                            })
                        }
                    },
                    _ajaxSettings: function(anchor, event, eventData) {
                        var that = this;
                        return {
                            url: anchor.attr("href"),
                            beforeSend: function(jqXHR, settings) {
                                return that._trigger("beforeLoad", event, $.extend({
                                    jqXHR: jqXHR,
                                    ajaxSettings: settings
                                }, eventData))
                            }
                        }
                    },
                    _getPanelForTab: function(tab) {
                        var id = $(tab).attr("aria-controls");
                        return this.element.find(this._sanitizeSelector("#" + id))
                    }
                })
            })(jQuery);
            (function($) {
                var increments = 0;

                function addDescribedBy(elem, id) {
                    var describedby = (elem.attr("aria-describedby") || "").split(/\s+/);
                    describedby.push(id);
                    elem.data("ui-tooltip-id", id).attr("aria-describedby", $.trim(describedby.join(" ")))
                }

                function removeDescribedBy(elem) {
                    var id = elem.data("ui-tooltip-id"),
                        describedby = (elem.attr("aria-describedby") || "").split(/\s+/),
                        index = $.inArray(id, describedby);
                    if (index !== -1) {
                        describedby.splice(index, 1)
                    }
                    elem.removeData("ui-tooltip-id");
                    describedby = $.trim(describedby.join(" "));
                    if (describedby) {
                        elem.attr("aria-describedby", describedby)
                    } else {
                        elem.removeAttr("aria-describedby")
                    }
                }
                $.widget("ui.tooltip", {
                    version: "1.10.3",
                    options: {
                        content: function() {
                            var title = $(this).attr("title") || "";
                            return $("<a>").text(title).html()
                        },
                        hide: true,
                        items: "[title]:not([disabled])",
                        position: {
                            my: "left top+15",
                            at: "left bottom",
                            collision: "flipfit flip"
                        },
                        show: true,
                        tooltipClass: null,
                        track: false,
                        close: null,
                        open: null
                    },
                    _create: function() {
                        this._on({
                            mouseover: "open",
                            focusin: "open"
                        });
                        this.tooltips = {};
                        this.parents = {};
                        if (this.options.disabled) {
                            this._disable()
                        }
                    },
                    _setOption: function(key, value) {
                        var that = this;
                        if (key === "disabled") {
                            this[value ? "_disable" : "_enable"]();
                            this.options[key] = value;
                            return
                        }
                        this._super(key, value);
                        if (key === "content") {
                            $.each(this.tooltips, function(id, element) {
                                that._updateContent(element)
                            })
                        }
                    },
                    _disable: function() {
                        var that = this;
                        $.each(this.tooltips, function(id, element) {
                            var event = $.Event("blur");
                            event.target = event.currentTarget = element[0];
                            that.close(event, true)
                        });
                        this.element.find(this.options.items).addBack().each(function() {
                            var element = $(this);
                            if (element.is("[title]")) {
                                element.data("ui-tooltip-title", element.attr("title")).attr("title", "")
                            }
                        })
                    },
                    _enable: function() {
                        this.element.find(this.options.items).addBack().each(function() {
                            var element = $(this);
                            if (element.data("ui-tooltip-title")) {
                                element.attr("title", element.data("ui-tooltip-title"))
                            }
                        })
                    },
                    open: function(event) {
                        var that = this,
                            target = $(event ? event.target : this.element).closest(this.options.items);
                        if (!target.length || target.data("ui-tooltip-id")) {
                            return
                        }
                        if (target.attr("title")) {
                            target.data("ui-tooltip-title", target.attr("title"))
                        }
                        target.data("ui-tooltip-open", true);
                        if (event && event.type === "mouseover") {
                            target.parents().each(function() {
                                var parent = $(this),
                                    blurEvent;
                                if (parent.data("ui-tooltip-open")) {
                                    blurEvent = $.Event("blur");
                                    blurEvent.target = blurEvent.currentTarget = this;
                                    that.close(blurEvent, true)
                                }
                                if (parent.attr("title")) {
                                    parent.uniqueId();
                                    that.parents[this.id] = {
                                        element: this,
                                        title: parent.attr("title")
                                    };
                                    parent.attr("title", "")
                                }
                            })
                        }
                        this._updateContent(target, event)
                    },
                    _updateContent: function(target, event) {
                        var content, contentOption = this.options.content,
                            that = this,
                            eventType = event ? event.type : null;
                        if (typeof contentOption === "string") {
                            return this._open(event, target, contentOption)
                        }
                        content = contentOption.call(target[0], function(response) {
                            if (!target.data("ui-tooltip-open")) {
                                return
                            }
                            that._delay(function() {
                                if (event) {
                                    event.type = eventType
                                }
                                this._open(event, target, response)
                            })
                        });
                        if (content) {
                            this._open(event, target, content)
                        }
                    },
                    _open: function(event, target, content) {
                        var tooltip, events, delayedShow, positionOption = $.extend({}, this.options.position);
                        if (!content) {
                            return
                        }
                        tooltip = this._find(target);
                        if (tooltip.length) {
                            tooltip.find(".ui-tooltip-content").html(content);
                            return
                        }
                        if (target.is("[title]")) {
                            if (event && event.type === "mouseover") {
                                target.attr("title", "")
                            } else {
                                target.removeAttr("title")
                            }
                        }
                        tooltip = this._tooltip(target);
                        addDescribedBy(target, tooltip.attr("id"));
                        tooltip.find(".ui-tooltip-content").html(content);

                        function position(event) {
                            positionOption.of = event;
                            if (tooltip.is(":hidden")) {
                                return
                            }
                            tooltip.position(positionOption)
                        }
                        if (this.options.track && event && /^mouse/.test(event.type)) {
                            this._on(this.document, {
                                mousemove: position
                            });
                            position(event)
                        } else {
                            tooltip.position($.extend({
                                of: target
                            }, this.options.position))
                        }
                        tooltip.hide();
                        this._show(tooltip, this.options.show);
                        if (this.options.show && this.options.show.delay) {
                            delayedShow = this.delayedShow = setInterval(function() {
                                if (tooltip.is(":visible")) {
                                    position(positionOption.of);
                                    clearInterval(delayedShow)
                                }
                            }, $.fx.interval)
                        }
                        this._trigger("open", event, {
                            tooltip: tooltip
                        });
                        events = {
                            keyup: function(event) {
                                if (event.keyCode === $.ui.keyCode.ESCAPE) {
                                    var fakeEvent = $.Event(event);
                                    fakeEvent.currentTarget = target[0];
                                    this.close(fakeEvent, true)
                                }
                            },
                            remove: function() {
                                this._removeTooltip(tooltip)
                            }
                        };
                        if (!event || event.type === "mouseover") {
                            events.mouseleave = "close"
                        }
                        if (!event || event.type === "focusin") {
                            events.focusout = "close"
                        }
                        this._on(true, target, events)
                    },
                    close: function(event) {
                        var that = this,
                            target = $(event ? event.currentTarget : this.element),
                            tooltip = this._find(target);
                        if (this.closing) {
                            return
                        }
                        clearInterval(this.delayedShow);
                        if (target.data("ui-tooltip-title")) {
                            target.attr("title", target.data("ui-tooltip-title"))
                        }
                        removeDescribedBy(target);
                        tooltip.stop(true);
                        this._hide(tooltip, this.options.hide, function() {
                            that._removeTooltip($(this))
                        });
                        target.removeData("ui-tooltip-open");
                        this._off(target, "mouseleave focusout keyup");
                        if (target[0] !== this.element[0]) {
                            this._off(target, "remove")
                        }
                        this._off(this.document, "mousemove");
                        if (event && event.type === "mouseleave") {
                            $.each(this.parents, function(id, parent) {
                                $(parent.element).attr("title", parent.title);
                                delete that.parents[id]
                            })
                        }
                        this.closing = true;
                        this._trigger("close", event, {
                            tooltip: tooltip
                        });
                        this.closing = false
                    },
                    _tooltip: function(element) {
                        var id = "ui-tooltip-" + increments++,
                            tooltip = $("<div>").attr({
                                id: id,
                                role: "tooltip"
                            }).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content " + (this.options.tooltipClass || ""));
                        $("<div>").addClass("ui-tooltip-content").appendTo(tooltip);
                        tooltip.appendTo(this.document[0].body);
                        this.tooltips[id] = element;
                        return tooltip
                    },
                    _find: function(target) {
                        var id = target.data("ui-tooltip-id");
                        return id ? $("#" + id) : $()
                    },
                    _removeTooltip: function(tooltip) {
                        tooltip.remove();
                        delete this.tooltips[tooltip.attr("id")]
                    },
                    _destroy: function() {
                        var that = this;
                        $.each(this.tooltips, function(id, element) {
                            var event = $.Event("blur");
                            event.target = event.currentTarget = element[0];
                            that.close(event, true);
                            $("#" + id).remove();
                            if (element.data("ui-tooltip-title")) {
                                element.attr("title", element.data("ui-tooltip-title"));
                                element.removeData("ui-tooltip-title")
                            }
                        })
                    }
                })
            })(jQuery)
        }, {
            jquery: 358
        }],
        358: [function(require, module, exports) {
            (function(global) {
                var __browserify_shim_require__ = require;
                (function browserifyShim(module, define, require) {
                    (function(global, factory) {
                        if (typeof module === "object" && typeof module.exports === "object") {
                            module.exports = global.document ? factory(global, true) : function(w) {
                                if (!w.document) {
                                    throw new Error("jQuery requires a window with a document")
                                }
                                return factory(w)
                            }
                        } else {
                            factory(global)
                        }
                    })(typeof window !== "undefined" ? window : this, function(window, noGlobal) {
                        var arr = [];
                        var slice = arr.slice;
                        var concat = arr.concat;
                        var push = arr.push;
                        var indexOf = arr.indexOf;
                        var class2type = {};
                        var toString = class2type.toString;
                        var hasOwn = class2type.hasOwnProperty;
                        var support = {};
                        var document = window.document,
                            version = "2.1.4",
                            jQuery = function(selector, context) {
                                return new jQuery.fn.init(selector, context)
                            },
                            rtrim = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
                            rmsPrefix = /^-ms-/,
                            rdashAlpha = /-([\da-z])/gi,
                            fcamelCase = function(all, letter) {
                                return letter.toUpperCase()
                            };
                        jQuery.fn = jQuery.prototype = {
                            jquery: version,
                            constructor: jQuery,
                            selector: "",
                            length: 0,
                            toArray: function() {
                                return slice.call(this)
                            },
                            get: function(num) {
                                return num != null ? num < 0 ? this[num + this.length] : this[num] : slice.call(this)
                            },
                            pushStack: function(elems) {
                                var ret = jQuery.merge(this.constructor(), elems);
                                ret.prevObject = this;
                                ret.context = this.context;
                                return ret
                            },
                            each: function(callback, args) {
                                return jQuery.each(this, callback, args)
                            },
                            map: function(callback) {
                                return this.pushStack(jQuery.map(this, function(elem, i) {
                                    return callback.call(elem, i, elem)
                                }))
                            },
                            slice: function() {
                                return this.pushStack(slice.apply(this, arguments))
                            },
                            first: function() {
                                return this.eq(0)
                            },
                            last: function() {
                                return this.eq(-1)
                            },
                            eq: function(i) {
                                var len = this.length,
                                    j = +i + (i < 0 ? len : 0);
                                return this.pushStack(j >= 0 && j < len ? [this[j]] : [])
                            },
                            end: function() {
                                return this.prevObject || this.constructor(null)
                            },
                            push: push,
                            sort: arr.sort,
                            splice: arr.splice
                        };
                        jQuery.extend = jQuery.fn.extend = function() {
                            var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {},
                                i = 1,
                                length = arguments.length,
                                deep = false;
                            if (typeof target === "boolean") {
                                deep = target;
                                target = arguments[i] || {};
                                i++
                            }
                            if (typeof target !== "object" && !jQuery.isFunction(target)) {
                                target = {}
                            }
                            if (i === length) {
                                target = this;
                                i--
                            }
                            for (; i < length; i++) {
                                if ((options = arguments[i]) != null) {
                                    for (name in options) {
                                        src = target[name];
                                        copy = options[name];
                                        if (target === copy) {
                                            continue
                                        }
                                        if (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)))) {
                                            if (copyIsArray) {
                                                copyIsArray = false;
                                                clone = src && jQuery.isArray(src) ? src : []
                                            } else {
                                                clone = src && jQuery.isPlainObject(src) ? src : {}
                                            }
                                            target[name] = jQuery.extend(deep, clone, copy)
                                        } else if (copy !== undefined) {
                                            target[name] = copy
                                        }
                                    }
                                }
                            }
                            return target
                        };
                        jQuery.extend({
                            expando: "jQuery" + (version + Math.random()).replace(/\D/g, ""),
                            isReady: true,
                            error: function(msg) {
                                throw new Error(msg)
                            },
                            noop: function() {},
                            isFunction: function(obj) {
                                return jQuery.type(obj) === "function"
                            },
                            isArray: Array.isArray,
                            isWindow: function(obj) {
                                return obj != null && obj === obj.window
                            },
                            isNumeric: function(obj) {
                                return !jQuery.isArray(obj) && obj - parseFloat(obj) + 1 >= 0
                            },
                            isPlainObject: function(obj) {
                                if (jQuery.type(obj) !== "object" || obj.nodeType || jQuery.isWindow(obj)) {
                                    return false
                                }
                                if (obj.constructor && !hasOwn.call(obj.constructor.prototype, "isPrototypeOf")) {
                                    return false
                                }
                                return true
                            },
                            isEmptyObject: function(obj) {
                                var name;
                                for (name in obj) {
                                    return false
                                }
                                return true
                            },
                            type: function(obj) {
                                if (obj == null) {
                                    return obj + ""
                                }
                                return typeof obj === "object" || typeof obj === "function" ? class2type[toString.call(obj)] || "object" : typeof obj
                            },
                            globalEval: function(code) {
                                var script, indirect = eval;
                                code = jQuery.trim(code);
                                if (code) {
                                    if (code.indexOf("use strict") === 1) {
                                        script = document.createElement("script");
                                        script.text = code;
                                        document.head.appendChild(script).parentNode.removeChild(script)
                                    } else {
                                        indirect(code)
                                    }
                                }
                            },
                            camelCase: function(string) {
                                return string.replace(rmsPrefix, "ms-").replace(rdashAlpha, fcamelCase)
                            },
                            nodeName: function(elem, name) {
                                return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase()
                            },
                            each: function(obj, callback, args) {
                                var value, i = 0,
                                    length = obj.length,
                                    isArray = isArraylike(obj);
                                if (args) {
                                    if (isArray) {
                                        for (; i < length; i++) {
                                            value = callback.apply(obj[i], args);
                                            if (value === false) {
                                                break
                                            }
                                        }
                                    } else {
                                        for (i in obj) {
                                            value = callback.apply(obj[i], args);
                                            if (value === false) {
                                                break
                                            }
                                        }
                                    }
                                } else {
                                    if (isArray) {
                                        for (; i < length; i++) {
                                            value = callback.call(obj[i], i, obj[i]);
                                            if (value === false) {
                                                break
                                            }
                                        }
                                    } else {
                                        for (i in obj) {
                                            value = callback.call(obj[i], i, obj[i]);
                                            if (value === false) {
                                                break
                                            }
                                        }
                                    }
                                }
                                return obj
                            },
                            trim: function(text) {
                                return text == null ? "" : (text + "").replace(rtrim, "")
                            },
                            makeArray: function(arr, results) {
                                var ret = results || [];
                                if (arr != null) {
                                    if (isArraylike(Object(arr))) {
                                        jQuery.merge(ret, typeof arr === "string" ? [arr] : arr)
                                    } else {
                                        push.call(ret, arr)
                                    }
                                }
                                return ret
                            },
                            inArray: function(elem, arr, i) {
                                return arr == null ? -1 : indexOf.call(arr, elem, i)
                            },
                            merge: function(first, second) {
                                var len = +second.length,
                                    j = 0,
                                    i = first.length;
                                for (; j < len; j++) {
                                    first[i++] = second[j]
                                }
                                first.length = i;
                                return first
                            },
                            grep: function(elems, callback, invert) {
                                var callbackInverse, matches = [],
                                    i = 0,
                                    length = elems.length,
                                    callbackExpect = !invert;
                                for (; i < length; i++) {
                                    callbackInverse = !callback(elems[i], i);
                                    if (callbackInverse !== callbackExpect) {
                                        matches.push(elems[i])
                                    }
                                }
                                return matches
                            },
                            map: function(elems, callback, arg) {
                                var value, i = 0,
                                    length = elems.length,
                                    isArray = isArraylike(elems),
                                    ret = [];
                                if (isArray) {
                                    for (; i < length; i++) {
                                        value = callback(elems[i], i, arg);
                                        if (value != null) {
                                            ret.push(value)
                                        }
                                    }
                                } else {
                                    for (i in elems) {
                                        value = callback(elems[i], i, arg);
                                        if (value != null) {
                                            ret.push(value)
                                        }
                                    }
                                }
                                return concat.apply([], ret)
                            },
                            guid: 1,
                            proxy: function(fn, context) {
                                var tmp, args, proxy;
                                if (typeof context === "string") {
                                    tmp = fn[context];
                                    context = fn;
                                    fn = tmp
                                }
                                if (!jQuery.isFunction(fn)) {
                                    return undefined
                                }
                                args = slice.call(arguments, 2);
                                proxy = function() {
                                    return fn.apply(context || this, args.concat(slice.call(arguments)))
                                };
                                proxy.guid = fn.guid = fn.guid || jQuery.guid++;
                                return proxy
                            },
                            now: Date.now,
                            support: support
                        });
                        jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(i, name) {
                            class2type["[object " + name + "]"] = name.toLowerCase()
                        });

                        function isArraylike(obj) {
                            var length = "length" in obj && obj.length,
                                type = jQuery.type(obj);
                            if (type === "function" || jQuery.isWindow(obj)) {
                                return false
                            }
                            if (obj.nodeType === 1 && length) {
                                return true
                            }
                            return type === "array" || length === 0 || typeof length === "number" && length > 0 && length - 1 in obj
                        }
                        var Sizzle = function(window) {
                            var i, support, Expr, getText, isXML, tokenize, compile, select, outermostContext, sortInput, hasDuplicate, setDocument, document, docElem, documentIsHTML, rbuggyQSA, rbuggyMatches, matches, contains, expando = "sizzle" + 1 * new Date,
                                preferredDoc = window.document,
                                dirruns = 0,
                                done = 0,
                                classCache = createCache(),
                                tokenCache = createCache(),
                                compilerCache = createCache(),
                                sortOrder = function(a, b) {
                                    if (a === b) {
                                        hasDuplicate = true
                                    }
                                    return 0
                                },
                                MAX_NEGATIVE = 1 << 31,
                                hasOwn = {}.hasOwnProperty,
                                arr = [],
                                pop = arr.pop,
                                push_native = arr.push,
                                push = arr.push,
                                slice = arr.slice,
                                indexOf = function(list, elem) {
                                    var i = 0,
                                        len = list.length;
                                    for (; i < len; i++) {
                                        if (list[i] === elem) {
                                            return i
                                        }
                                    }
                                    return -1
                                },
                                booleans = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
                                whitespace = "[\\x20\\t\\r\\n\\f]",
                                characterEncoding = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
                                identifier = characterEncoding.replace("w", "w#"),
                                attributes = "\\[" + whitespace + "*(" + characterEncoding + ")(?:" + whitespace + "*([*^$|!~]?=)" + whitespace + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" + whitespace + "*\\]",
                                pseudos = ":(" + characterEncoding + ")(?:\\((" + "('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" + "((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" + ".*" + ")\\)|)",
                                rwhitespace = new RegExp(whitespace + "+", "g"),
                                rtrim = new RegExp("^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g"),
                                rcomma = new RegExp("^" + whitespace + "*," + whitespace + "*"),
                                rcombinators = new RegExp("^" + whitespace + "*([>+~]|" + whitespace + ")" + whitespace + "*"),
                                rattributeQuotes = new RegExp("=" + whitespace + "*([^\\]'\"]*?)" + whitespace + "*\\]", "g"),
                                rpseudo = new RegExp(pseudos),
                                ridentifier = new RegExp("^" + identifier + "$"),
                                matchExpr = {
                                    ID: new RegExp("^#(" + characterEncoding + ")"),
                                    CLASS: new RegExp("^\\.(" + characterEncoding + ")"),
                                    TAG: new RegExp("^(" + characterEncoding.replace("w", "w*") + ")"),
                                    ATTR: new RegExp("^" + attributes),
                                    PSEUDO: new RegExp("^" + pseudos),
                                    CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" + whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i"),
                                    bool: new RegExp("^(?:" + booleans + ")$", "i"),
                                    needsContext: new RegExp("^" + whitespace + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace + "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i")
                                },
                                rinputs = /^(?:input|select|textarea|button)$/i,
                                rheader = /^h\d$/i,
                                rnative = /^[^{]+\{\s*\[native \w/,
                                rquickExpr = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
                                rsibling = /[+~]/,
                                rescape = /'|\\/g,
                                runescape = new RegExp("\\\\([\\da-f]{1,6}" + whitespace + "?|(" + whitespace + ")|.)", "ig"),
                                funescape = function(_, escaped, escapedWhitespace) {
                                    var high = "0x" + escaped - 65536;
                                    return high !== high || escapedWhitespace ? escaped : high < 0 ? String.fromCharCode(high + 65536) : String.fromCharCode(high >> 10 | 55296, high & 1023 | 56320)
                                },
                                unloadHandler = function() {
                                    setDocument()
                                };
                            try {
                                push.apply(arr = slice.call(preferredDoc.childNodes), preferredDoc.childNodes);
                                arr[preferredDoc.childNodes.length].nodeType
                            } catch (e) {
                                push = {
                                    apply: arr.length ? function(target, els) {
                                        push_native.apply(target, slice.call(els))
                                    } : function(target, els) {
                                        var j = target.length,
                                            i = 0;
                                        while (target[j++] = els[i++]) {}
                                        target.length = j - 1
                                    }
                                }
                            }

                            function Sizzle(selector, context, results, seed) {
                                var match, elem, m, nodeType, i, groups, old, nid, newContext, newSelector;
                                if ((context ? context.ownerDocument || context : preferredDoc) !== document) {
                                    setDocument(context)
                                }
                                context = context || document;
                                results = results || [];
                                nodeType = context.nodeType;
                                if (typeof selector !== "string" || !selector || nodeType !== 1 && nodeType !== 9 && nodeType !== 11) {
                                    return results
                                }
                                if (!seed && documentIsHTML) {
                                    if (nodeType !== 11 && (match = rquickExpr.exec(selector))) {
                                        if (m = match[1]) {
                                            if (nodeType === 9) {
                                                elem = context.getElementById(m);
                                                if (elem && elem.parentNode) {
                                                    if (elem.id === m) {
                                                        results.push(elem);
                                                        return results
                                                    }
                                                } else {
                                                    return results
                                                }
                                            } else {
                                                if (context.ownerDocument && (elem = context.ownerDocument.getElementById(m)) && contains(context, elem) && elem.id === m) {
                                                    results.push(elem);
                                                    return results
                                                }
                                            }
                                        } else if (match[2]) {
                                            push.apply(results, context.getElementsByTagName(selector));
                                            return results
                                        } else if ((m = match[3]) && support.getElementsByClassName) {
                                            push.apply(results, context.getElementsByClassName(m));
                                            return results
                                        }
                                    }
                                    if (support.qsa && (!rbuggyQSA || !rbuggyQSA.test(selector))) {
                                        nid = old = expando;
                                        newContext = context;
                                        newSelector = nodeType !== 1 && selector;
                                        if (nodeType === 1 && context.nodeName.toLowerCase() !== "object") {
                                            groups = tokenize(selector);
                                            if (old = context.getAttribute("id")) {
                                                nid = old.replace(rescape, "\\$&")
                                            } else {
                                                context.setAttribute("id", nid)
                                            }
                                            nid = "[id='" + nid + "'] ";
                                            i = groups.length;
                                            while (i--) {
                                                groups[i] = nid + toSelector(groups[i])
                                            }
                                            newContext = rsibling.test(selector) && testContext(context.parentNode) || context;
                                            newSelector = groups.join(",")
                                        }
                                        if (newSelector) {
                                            try {
                                                push.apply(results, newContext.querySelectorAll(newSelector));
                                                return results
                                            } catch (qsaError) {} finally {
                                                if (!old) {
                                                    context.removeAttribute("id")
                                                }
                                            }
                                        }
                                    }
                                }
                                return select(selector.replace(rtrim, "$1"), context, results, seed)
                            }

                            function createCache() {
                                var keys = [];

                                function cache(key, value) {
                                    if (keys.push(key + " ") > Expr.cacheLength) {
                                        delete cache[keys.shift()]
                                    }
                                    return cache[key + " "] = value
                                }
                                return cache
                            }

                            function markFunction(fn) {
                                fn[expando] = true;
                                return fn
                            }

                            function assert(fn) {
                                var div = document.createElement("div");
                                try {
                                    return !!fn(div)
                                } catch (e) {
                                    return false
                                } finally {
                                    if (div.parentNode) {
                                        div.parentNode.removeChild(div)
                                    }
                                    div = null
                                }
                            }

                            function addHandle(attrs, handler) {
                                var arr = attrs.split("|"),
                                    i = attrs.length;
                                while (i--) {
                                    Expr.attrHandle[arr[i]] = handler
                                }
                            }

                            function siblingCheck(a, b) {
                                var cur = b && a,
                                    diff = cur && a.nodeType === 1 && b.nodeType === 1 && (~b.sourceIndex || MAX_NEGATIVE) - (~a.sourceIndex || MAX_NEGATIVE);
                                if (diff) {
                                    return diff
                                }
                                if (cur) {
                                    while (cur = cur.nextSibling) {
                                        if (cur === b) {
                                            return -1
                                        }
                                    }
                                }
                                return a ? 1 : -1
                            }

                            function createInputPseudo(type) {
                                return function(elem) {
                                    var name = elem.nodeName.toLowerCase();
                                    return name === "input" && elem.type === type
                                }
                            }

                            function createButtonPseudo(type) {
                                return function(elem) {
                                    var name = elem.nodeName.toLowerCase();
                                    return (name === "input" || name === "button") && elem.type === type
                                }
                            }

                            function createPositionalPseudo(fn) {
                                return markFunction(function(argument) {
                                    argument = +argument;
                                    return markFunction(function(seed, matches) {
                                        var j, matchIndexes = fn([], seed.length, argument),
                                            i = matchIndexes.length;
                                        while (i--) {
                                            if (seed[j = matchIndexes[i]]) {
                                                seed[j] = !(matches[j] = seed[j])
                                            }
                                        }
                                    })
                                })
                            }

                            function testContext(context) {
                                return context && typeof context.getElementsByTagName !== "undefined" && context
                            }
                            support = Sizzle.support = {};
                            isXML = Sizzle.isXML = function(elem) {
                                var documentElement = elem && (elem.ownerDocument || elem).documentElement;
                                return documentElement ? documentElement.nodeName !== "HTML" : false
                            };
                            setDocument = Sizzle.setDocument = function(node) {
                                var hasCompare, parent, doc = node ? node.ownerDocument || node : preferredDoc;
                                if (doc === document || doc.nodeType !== 9 || !doc.documentElement) {
                                    return document
                                }
                                document = doc;
                                docElem = doc.documentElement;
                                parent = doc.defaultView;
                                if (parent && parent !== parent.top) {
                                    if (parent.addEventListener) {
                                        parent.addEventListener("unload", unloadHandler, false)
                                    } else if (parent.attachEvent) {
                                        parent.attachEvent("onunload", unloadHandler)
                                    }
                                }
                                documentIsHTML = !isXML(doc);
                                support.attributes = assert(function(div) {
                                    div.className = "i";
                                    return !div.getAttribute("className")
                                });
                                support.getElementsByTagName = assert(function(div) {
                                    div.appendChild(doc.createComment(""));
                                    return !div.getElementsByTagName("*").length
                                });
                                support.getElementsByClassName = rnative.test(doc.getElementsByClassName);
                                support.getById = assert(function(div) {
                                    docElem.appendChild(div).id = expando;
                                    return !doc.getElementsByName || !doc.getElementsByName(expando).length
                                });
                                if (support.getById) {
                                    Expr.find["ID"] = function(id, context) {
                                        if (typeof context.getElementById !== "undefined" && documentIsHTML) {
                                            var m = context.getElementById(id);
                                            return m && m.parentNode ? [m] : []
                                        }
                                    };
                                    Expr.filter["ID"] = function(id) {
                                        var attrId = id.replace(runescape, funescape);
                                        return function(elem) {
                                            return elem.getAttribute("id") === attrId
                                        }
                                    }
                                } else {
                                    delete Expr.find["ID"];
                                    Expr.filter["ID"] = function(id) {
                                        var attrId = id.replace(runescape, funescape);
                                        return function(elem) {
                                            var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");
                                            return node && node.value === attrId
                                        }
                                    }
                                }
                                Expr.find["TAG"] = support.getElementsByTagName ? function(tag, context) {
                                    if (typeof context.getElementsByTagName !== "undefined") {
                                        return context.getElementsByTagName(tag)
                                    } else if (support.qsa) {
                                        return context.querySelectorAll(tag)
                                    }
                                } : function(tag, context) {
                                    var elem, tmp = [],
                                        i = 0,
                                        results = context.getElementsByTagName(tag);
                                    if (tag === "*") {
                                        while (elem = results[i++]) {
                                            if (elem.nodeType === 1) {
                                                tmp.push(elem)
                                            }
                                        }
                                        return tmp
                                    }
                                    return results
                                };
                                Expr.find["CLASS"] = support.getElementsByClassName && function(className, context) {
                                    if (documentIsHTML) {
                                        return context.getElementsByClassName(className)
                                    }
                                };
                                rbuggyMatches = [];
                                rbuggyQSA = [];
                                if (support.qsa = rnative.test(doc.querySelectorAll)) {
                                    assert(function(div) {
                                        docElem.appendChild(div).innerHTML = "<a id='" + expando + "'></a>" + "<select id='" + expando + "-\f]' msallowcapture=''>" + "<option selected=''></option></select>";
                                        if (div.querySelectorAll("[msallowcapture^='']").length) {
                                            rbuggyQSA.push("[*^$]=" + whitespace + "*(?:''|\"\")")
                                        }
                                        if (!div.querySelectorAll("[selected]").length) {
                                            rbuggyQSA.push("\\[" + whitespace + "*(?:value|" + booleans + ")")
                                        }
                                        if (!div.querySelectorAll("[id~=" + expando + "-]").length) {
                                            rbuggyQSA.push("~=")
                                        }
                                        if (!div.querySelectorAll(":checked").length) {
                                            rbuggyQSA.push(":checked")
                                        }
                                        if (!div.querySelectorAll("a#" + expando + "+*").length) {
                                            rbuggyQSA.push(".#.+[+~]")
                                        }
                                    });
                                    assert(function(div) {
                                        var input = doc.createElement("input");
                                        input.setAttribute("type", "hidden");
                                        div.appendChild(input).setAttribute("name", "D");
                                        if (div.querySelectorAll("[name=d]").length) {
                                            rbuggyQSA.push("name" + whitespace + "*[*^$|!~]?=")
                                        }
                                        if (!div.querySelectorAll(":enabled").length) {
                                            rbuggyQSA.push(":enabled", ":disabled")
                                        }
                                        div.querySelectorAll("*,:x");
                                        rbuggyQSA.push(",.*:")
                                    })
                                }
                                if (support.matchesSelector = rnative.test(matches = docElem.matches || docElem.webkitMatchesSelector || docElem.mozMatchesSelector || docElem.oMatchesSelector || docElem.msMatchesSelector)) {
                                    assert(function(div) {
                                        support.disconnectedMatch = matches.call(div, "div");
                                        matches.call(div, "[s!='']:x");
                                        rbuggyMatches.push("!=", pseudos)
                                    })
                                }
                                rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join("|"));
                                rbuggyMatches = rbuggyMatches.length && new RegExp(rbuggyMatches.join("|"));
                                hasCompare = rnative.test(docElem.compareDocumentPosition);
                                contains = hasCompare || rnative.test(docElem.contains) ? function(a, b) {
                                    var adown = a.nodeType === 9 ? a.documentElement : a,
                                        bup = b && b.parentNode;
                                    return a === bup || !!(bup && bup.nodeType === 1 && (adown.contains ? adown.contains(bup) : a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16))
                                } : function(a, b) {
                                    if (b) {
                                        while (b = b.parentNode) {
                                            if (b === a) {
                                                return true
                                            }
                                        }
                                    }
                                    return false
                                };
                                sortOrder = hasCompare ? function(a, b) {
                                    if (a === b) {
                                        hasDuplicate = true;
                                        return 0
                                    }
                                    var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
                                    if (compare) {
                                        return compare
                                    }
                                    compare = (a.ownerDocument || a) === (b.ownerDocument || b) ? a.compareDocumentPosition(b) : 1;
                                    if (compare & 1 || !support.sortDetached && b.compareDocumentPosition(a) === compare) {
                                        if (a === doc || a.ownerDocument === preferredDoc && contains(preferredDoc, a)) {
                                            return -1
                                        }
                                        if (b === doc || b.ownerDocument === preferredDoc && contains(preferredDoc, b)) {
                                            return 1
                                        }
                                        return sortInput ? indexOf(sortInput, a) - indexOf(sortInput, b) : 0
                                    }
                                    return compare & 4 ? -1 : 1
                                } : function(a, b) {
                                    if (a === b) {
                                        hasDuplicate = true;
                                        return 0
                                    }
                                    var cur, i = 0,
                                        aup = a.parentNode,
                                        bup = b.parentNode,
                                        ap = [a],
                                        bp = [b];
                                    if (!aup || !bup) {
                                        return a === doc ? -1 : b === doc ? 1 : aup ? -1 : bup ? 1 : sortInput ? indexOf(sortInput, a) - indexOf(sortInput, b) : 0
                                    } else if (aup === bup) {
                                        return siblingCheck(a, b)
                                    }
                                    cur = a;
                                    while (cur = cur.parentNode) {
                                        ap.unshift(cur)
                                    }
                                    cur = b;
                                    while (cur = cur.parentNode) {
                                        bp.unshift(cur)
                                    }
                                    while (ap[i] === bp[i]) {
                                        i++
                                    }
                                    return i ? siblingCheck(ap[i], bp[i]) : ap[i] === preferredDoc ? -1 : bp[i] === preferredDoc ? 1 : 0
                                };
                                return doc
                            };
                            Sizzle.matches = function(expr, elements) {
                                return Sizzle(expr, null, null, elements)
                            };
                            Sizzle.matchesSelector = function(elem, expr) {
                                if ((elem.ownerDocument || elem) !== document) {
                                    setDocument(elem)
                                }
                                expr = expr.replace(rattributeQuotes, "='$1']");
                                if (support.matchesSelector && documentIsHTML && (!rbuggyMatches || !rbuggyMatches.test(expr)) && (!rbuggyQSA || !rbuggyQSA.test(expr))) {
                                    try {
                                        var ret = matches.call(elem, expr);
                                        if (ret || support.disconnectedMatch || elem.document && elem.document.nodeType !== 11) {
                                            return ret
                                        }
                                    } catch (e) {}
                                }
                                return Sizzle(expr, document, null, [elem]).length > 0
                            };
                            Sizzle.contains = function(context, elem) {
                                if ((context.ownerDocument || context) !== document) {
                                    setDocument(context)
                                }
                                return contains(context, elem)
                            };
                            Sizzle.attr = function(elem, name) {
                                if ((elem.ownerDocument || elem) !== document) {
                                    setDocument(elem)
                                }
                                var fn = Expr.attrHandle[name.toLowerCase()],
                                    val = fn && hasOwn.call(Expr.attrHandle, name.toLowerCase()) ? fn(elem, name, !documentIsHTML) : undefined;
                                return val !== undefined ? val : support.attributes || !documentIsHTML ? elem.getAttribute(name) : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null
                            };
                            Sizzle.error = function(msg) {
                                throw new Error("Syntax error, unrecognized expression: " + msg)
                            };
                            Sizzle.uniqueSort = function(results) {
                                var elem, duplicates = [],
                                    j = 0,
                                    i = 0;
                                hasDuplicate = !support.detectDuplicates;
                                sortInput = !support.sortStable && results.slice(0);
                                results.sort(sortOrder);
                                if (hasDuplicate) {
                                    while (elem = results[i++]) {
                                        if (elem === results[i]) {
                                            j = duplicates.push(i)
                                        }
                                    }
                                    while (j--) {
                                        results.splice(duplicates[j], 1)
                                    }
                                }
                                sortInput = null;
                                return results
                            };
                            getText = Sizzle.getText = function(elem) {
                                var node, ret = "",
                                    i = 0,
                                    nodeType = elem.nodeType;
                                if (!nodeType) {
                                    while (node = elem[i++]) {
                                        ret += getText(node)
                                    }
                                } else if (nodeType === 1 || nodeType === 9 || nodeType === 11) {
                                    if (typeof elem.textContent === "string") {
                                        return elem.textContent
                                    } else {
                                        for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
                                            ret += getText(elem)
                                        }
                                    }
                                } else if (nodeType === 3 || nodeType === 4) {
                                    return elem.nodeValue
                                }
                                return ret
                            };
                            Expr = Sizzle.selectors = {
                                cacheLength: 50,
                                createPseudo: markFunction,
                                match: matchExpr,
                                attrHandle: {},
                                find: {},
                                relative: {
                                    ">": {
                                        dir: "parentNode",
                                        first: true
                                    },
                                    " ": {
                                        dir: "parentNode"
                                    },
                                    "+": {
                                        dir: "previousSibling",
                                        first: true
                                    },
                                    "~": {
                                        dir: "previousSibling"
                                    }
                                },
                                preFilter: {
                                    ATTR: function(match) {
                                        match[1] = match[1].replace(runescape, funescape);
                                        match[3] = (match[3] || match[4] || match[5] || "").replace(runescape, funescape);
                                        if (match[2] === "~=") {
                                            match[3] = " " + match[3] + " "
                                        }
                                        return match.slice(0, 4)
                                    },
                                    CHILD: function(match) {
                                        match[1] = match[1].toLowerCase();
                                        if (match[1].slice(0, 3) === "nth") {
                                            if (!match[3]) {
                                                Sizzle.error(match[0])
                                            }
                                            match[4] = +(match[4] ? match[5] + (match[6] || 1) : 2 * (match[3] === "even" || match[3] === "odd"));
                                            match[5] = +(match[7] + match[8] || match[3] === "odd")
                                        } else if (match[3]) {
                                            Sizzle.error(match[0])
                                        }
                                        return match
                                    },
                                    PSEUDO: function(match) {
                                        var excess, unquoted = !match[6] && match[2];
                                        if (matchExpr["CHILD"].test(match[0])) {
                                            return null
                                        }
                                        if (match[3]) {
                                            match[2] = match[4] || match[5] || ""
                                        } else if (unquoted && rpseudo.test(unquoted) && (excess = tokenize(unquoted, true)) && (excess = unquoted.indexOf(")", unquoted.length - excess) - unquoted.length)) {
                                            match[0] = match[0].slice(0, excess);
                                            match[2] = unquoted.slice(0, excess)
                                        }
                                        return match.slice(0, 3)
                                    }
                                },
                                filter: {
                                    TAG: function(nodeNameSelector) {
                                        var nodeName = nodeNameSelector.replace(runescape, funescape).toLowerCase();
                                        return nodeNameSelector === "*" ? function() {
                                            return true
                                        } : function(elem) {
                                            return elem.nodeName && elem.nodeName.toLowerCase() === nodeName
                                        }
                                    },
                                    CLASS: function(className) {
                                        var pattern = classCache[className + " "];
                                        return pattern || (pattern = new RegExp("(^|" + whitespace + ")" + className + "(" + whitespace + "|$)")) && classCache(className, function(elem) {
                                            return pattern.test(typeof elem.className === "string" && elem.className || typeof elem.getAttribute !== "undefined" && elem.getAttribute("class") || "")
                                        })
                                    },
                                    ATTR: function(name, operator, check) {
                                        return function(elem) {
                                            var result = Sizzle.attr(elem, name);
                                            if (result == null) {
                                                return operator === "!="
                                            }
                                            if (!operator) {
                                                return true
                                            }
                                            result += "";
                                            return operator === "=" ? result === check : operator === "!=" ? result !== check : operator === "^=" ? check && result.indexOf(check) === 0 : operator === "*=" ? check && result.indexOf(check) > -1 : operator === "$=" ? check && result.slice(-check.length) === check : operator === "~=" ? (" " + result.replace(rwhitespace, " ") + " ").indexOf(check) > -1 : operator === "|=" ? result === check || result.slice(0, check.length + 1) === check + "-" : false
                                        }
                                    },
                                    CHILD: function(type, what, argument, first, last) {
                                        var simple = type.slice(0, 3) !== "nth",
                                            forward = type.slice(-4) !== "last",
                                            ofType = what === "of-type";
                                        return first === 1 && last === 0 ? function(elem) {
                                            return !!elem.parentNode
                                        } : function(elem, context, xml) {
                                            var cache, outerCache, node, diff, nodeIndex, start, dir = simple !== forward ? "nextSibling" : "previousSibling",
                                                parent = elem.parentNode,
                                                name = ofType && elem.nodeName.toLowerCase(),
                                                useCache = !xml && !ofType;
                                            if (parent) {
                                                if (simple) {
                                                    while (dir) {
                                                        node = elem;
                                                        while (node = node[dir]) {
                                                            if (ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) {
                                                                return false
                                                            }
                                                        }
                                                        start = dir = type === "only" && !start && "nextSibling"
                                                    }
                                                    return true
                                                }
                                                start = [forward ? parent.firstChild : parent.lastChild];
                                                if (forward && useCache) {
                                                    outerCache = parent[expando] || (parent[expando] = {});
                                                    cache = outerCache[type] || [];
                                                    nodeIndex = cache[0] === dirruns && cache[1];
                                                    diff = cache[0] === dirruns && cache[2];
                                                    node = nodeIndex && parent.childNodes[nodeIndex];
                                                    while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {
                                                        if (node.nodeType === 1 && ++diff && node === elem) {
                                                            outerCache[type] = [dirruns, nodeIndex, diff];
                                                            break
                                                        }
                                                    }
                                                } else if (useCache && (cache = (elem[expando] || (elem[expando] = {}))[type]) && cache[0] === dirruns) {
                                                    diff = cache[1]
                                                } else {
                                                    while (node = ++nodeIndex && node && node[dir] || (diff = nodeIndex = 0) || start.pop()) {
                                                        if ((ofType ? node.nodeName.toLowerCase() === name : node.nodeType === 1) && ++diff) {
                                                            if (useCache) {
                                                                (node[expando] || (node[expando] = {}))[type] = [dirruns, diff]
                                                            }
                                                            if (node === elem) {
                                                                break
                                                            }
                                                        }
                                                    }
                                                }
                                                diff -= last;
                                                return diff === first || diff % first === 0 && diff / first >= 0
                                            }
                                        }
                                    },
                                    PSEUDO: function(pseudo, argument) {
                                        var args, fn = Expr.pseudos[pseudo] || Expr.setFilters[pseudo.toLowerCase()] || Sizzle.error("unsupported pseudo: " + pseudo);
                                        if (fn[expando]) {
                                            return fn(argument)
                                        }
                                        if (fn.length > 1) {
                                            args = [pseudo, pseudo, "", argument];
                                            return Expr.setFilters.hasOwnProperty(pseudo.toLowerCase()) ? markFunction(function(seed, matches) {
                                                var idx, matched = fn(seed, argument),
                                                    i = matched.length;
                                                while (i--) {
                                                    idx = indexOf(seed, matched[i]);
                                                    seed[idx] = !(matches[idx] = matched[i])
                                                }
                                            }) : function(elem) {
                                                return fn(elem, 0, args)
                                            }
                                        }
                                        return fn
                                    }
                                },
                                pseudos: {
                                    not: markFunction(function(selector) {
                                        var input = [],
                                            results = [],
                                            matcher = compile(selector.replace(rtrim, "$1"));
                                        return matcher[expando] ? markFunction(function(seed, matches, context, xml) {
                                            var elem, unmatched = matcher(seed, null, xml, []),
                                                i = seed.length;
                                            while (i--) {
                                                if (elem = unmatched[i]) {
                                                    seed[i] = !(matches[i] = elem)
                                                }
                                            }
                                        }) : function(elem, context, xml) {
                                            input[0] = elem;
                                            matcher(input, null, xml, results);
                                            input[0] = null;
                                            return !results.pop()
                                        }
                                    }),
                                    has: markFunction(function(selector) {
                                        return function(elem) {
                                            return Sizzle(selector, elem).length > 0
                                        }
                                    }),
                                    contains: markFunction(function(text) {
                                        text = text.replace(runescape, funescape);
                                        return function(elem) {
                                            return (elem.textContent || elem.innerText || getText(elem)).indexOf(text) > -1
                                        }
                                    }),
                                    lang: markFunction(function(lang) {
                                        if (!ridentifier.test(lang || "")) {
                                            Sizzle.error("unsupported lang: " + lang)
                                        }
                                        lang = lang.replace(runescape, funescape).toLowerCase();
                                        return function(elem) {
                                            var elemLang;
                                            do {
                                                if (elemLang = documentIsHTML ? elem.lang : elem.getAttribute("xml:lang") || elem.getAttribute("lang")) {
                                                    elemLang = elemLang.toLowerCase();
                                                    return elemLang === lang || elemLang.indexOf(lang + "-") === 0
                                                }
                                            } while ((elem = elem.parentNode) && elem.nodeType === 1);
                                            return false
                                        }
                                    }),
                                    target: function(elem) {
                                        var hash = window.location && window.location.hash;
                                        return hash && hash.slice(1) === elem.id
                                    },
                                    root: function(elem) {
                                        return elem === docElem
                                    },
                                    focus: function(elem) {
                                        return elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex)
                                    },
                                    enabled: function(elem) {
                                        return elem.disabled === false
                                    },
                                    disabled: function(elem) {
                                        return elem.disabled === true
                                    },
                                    checked: function(elem) {
                                        var nodeName = elem.nodeName.toLowerCase();
                                        return nodeName === "input" && !!elem.checked || nodeName === "option" && !!elem.selected
                                    },
                                    selected: function(elem) {
                                        if (elem.parentNode) {
                                            elem.parentNode.selectedIndex
                                        }
                                        return elem.selected === true
                                    },
                                    empty: function(elem) {
                                        for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
                                            if (elem.nodeType < 6) {
                                                return false
                                            }
                                        }
                                        return true
                                    },
                                    parent: function(elem) {
                                        return !Expr.pseudos["empty"](elem)
                                    },
                                    header: function(elem) {
                                        return rheader.test(elem.nodeName)
                                    },
                                    input: function(elem) {
                                        return rinputs.test(elem.nodeName)
                                    },
                                    button: function(elem) {
                                        var name = elem.nodeName.toLowerCase();
                                        return name === "input" && elem.type === "button" || name === "button"
                                    },
                                    text: function(elem) {
                                        var attr;
                                        return elem.nodeName.toLowerCase() === "input" && elem.type === "text" && ((attr = elem.getAttribute("type")) == null || attr.toLowerCase() === "text")
                                    },
                                    first: createPositionalPseudo(function() {
                                        return [0]
                                    }),
                                    last: createPositionalPseudo(function(matchIndexes, length) {
                                        return [length - 1]
                                    }),
                                    eq: createPositionalPseudo(function(matchIndexes, length, argument) {
                                        return [argument < 0 ? argument + length : argument]
                                    }),
                                    even: createPositionalPseudo(function(matchIndexes, length) {
                                        var i = 0;
                                        for (; i < length; i += 2) {
                                            matchIndexes.push(i)
                                        }
                                        return matchIndexes
                                    }),
                                    odd: createPositionalPseudo(function(matchIndexes, length) {
                                        var i = 1;
                                        for (; i < length; i += 2) {
                                            matchIndexes.push(i)
                                        }
                                        return matchIndexes
                                    }),
                                    lt: createPositionalPseudo(function(matchIndexes, length, argument) {
                                        var i = argument < 0 ? argument + length : argument;
                                        for (; --i >= 0;) {
                                            matchIndexes.push(i)
                                        }
                                        return matchIndexes
                                    }),
                                    gt: createPositionalPseudo(function(matchIndexes, length, argument) {
                                        var i = argument < 0 ? argument + length : argument;
                                        for (; ++i < length;) {
                                            matchIndexes.push(i)
                                        }
                                        return matchIndexes
                                    })
                                }
                            };
                            Expr.pseudos["nth"] = Expr.pseudos["eq"];
                            for (i in {
                                    radio: true,
                                    checkbox: true,
                                    file: true,
                                    password: true,
                                    image: true
                                }) {
                                Expr.pseudos[i] = createInputPseudo(i)
                            }
                            for (i in {
                                    submit: true,
                                    reset: true
                                }) {
                                Expr.pseudos[i] = createButtonPseudo(i)
                            }

                            function setFilters() {}
                            setFilters.prototype = Expr.filters = Expr.pseudos;
                            Expr.setFilters = new setFilters;
                            tokenize = Sizzle.tokenize = function(selector, parseOnly) {
                                var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + " "];
                                if (cached) {
                                    return parseOnly ? 0 : cached.slice(0)
                                }
                                soFar = selector;
                                groups = [];
                                preFilters = Expr.preFilter;
                                while (soFar) {
                                    if (!matched || (match = rcomma.exec(soFar))) {
                                        if (match) {
                                            soFar = soFar.slice(match[0].length) || soFar
                                        }
                                        groups.push(tokens = [])
                                    }
                                    matched = false;
                                    if (match = rcombinators.exec(soFar)) {
                                        matched = match.shift();
                                        tokens.push({
                                            value: matched,
                                            type: match[0].replace(rtrim, " ")
                                        });
                                        soFar = soFar.slice(matched.length)
                                    }
                                    for (type in Expr.filter) {
                                        if ((match = matchExpr[type].exec(soFar)) && (!preFilters[type] || (match = preFilters[type](match)))) {
                                            matched = match.shift();
                                            tokens.push({
                                                value: matched,
                                                type: type,
                                                matches: match
                                            });
                                            soFar = soFar.slice(matched.length)
                                        }
                                    }
                                    if (!matched) {
                                        break
                                    }
                                }
                                return parseOnly ? soFar.length : soFar ? Sizzle.error(selector) : tokenCache(selector, groups).slice(0)
                            };

                            function toSelector(tokens) {
                                var i = 0,
                                    len = tokens.length,
                                    selector = "";
                                for (; i < len; i++) {
                                    selector += tokens[i].value
                                }
                                return selector
                            }

                            function addCombinator(matcher, combinator, base) {
                                var dir = combinator.dir,
                                    checkNonElements = base && dir === "parentNode",
                                    doneName = done++;
                                return combinator.first ? function(elem, context, xml) {
                                    while (elem = elem[dir]) {
                                        if (elem.nodeType === 1 || checkNonElements) {
                                            return matcher(elem, context, xml)
                                        }
                                    }
                                } : function(elem, context, xml) {
                                    var oldCache, outerCache, newCache = [dirruns, doneName];
                                    if (xml) {
                                        while (elem = elem[dir]) {
                                            if (elem.nodeType === 1 || checkNonElements) {
                                                if (matcher(elem, context, xml)) {
                                                    return true
                                                }
                                            }
                                        }
                                    } else {
                                        while (elem = elem[dir]) {
                                            if (elem.nodeType === 1 || checkNonElements) {
                                                outerCache = elem[expando] || (elem[expando] = {});
                                                if ((oldCache = outerCache[dir]) && oldCache[0] === dirruns && oldCache[1] === doneName) {
                                                    return newCache[2] = oldCache[2]
                                                } else {
                                                    outerCache[dir] = newCache;
                                                    if (newCache[2] = matcher(elem, context, xml)) {
                                                        return true
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }

                            function elementMatcher(matchers) {
                                return matchers.length > 1 ? function(elem, context, xml) {
                                    var i = matchers.length;
                                    while (i--) {
                                        if (!matchers[i](elem, context, xml)) {
                                            return false
                                        }
                                    }
                                    return true
                                } : matchers[0]
                            }

                            function multipleContexts(selector, contexts, results) {
                                var i = 0,
                                    len = contexts.length;
                                for (; i < len; i++) {
                                    Sizzle(selector, contexts[i], results)
                                }
                                return results
                            }

                            function condense(unmatched, map, filter, context, xml) {
                                var elem, newUnmatched = [],
                                    i = 0,
                                    len = unmatched.length,
                                    mapped = map != null;
                                for (; i < len; i++) {
                                    if (elem = unmatched[i]) {
                                        if (!filter || filter(elem, context, xml)) {
                                            newUnmatched.push(elem);
                                            if (mapped) {
                                                map.push(i)
                                            }
                                        }
                                    }
                                }
                                return newUnmatched
                            }

                            function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {
                                if (postFilter && !postFilter[expando]) {
                                    postFilter = setMatcher(postFilter)
                                }
                                if (postFinder && !postFinder[expando]) {
                                    postFinder = setMatcher(postFinder, postSelector)
                                }
                                return markFunction(function(seed, results, context, xml) {
                                    var temp, i, elem, preMap = [],
                                        postMap = [],
                                        preexisting = results.length,
                                        elems = seed || multipleContexts(selector || "*", context.nodeType ? [context] : context, []),
                                        matcherIn = preFilter && (seed || !selector) ? condense(elems, preMap, preFilter, context, xml) : elems,
                                        matcherOut = matcher ? postFinder || (seed ? preFilter : preexisting || postFilter) ? [] : results : matcherIn;
                                    if (matcher) {
                                        matcher(matcherIn, matcherOut, context, xml)
                                    }
                                    if (postFilter) {
                                        temp = condense(matcherOut, postMap);
                                        postFilter(temp, [], context, xml);
                                        i = temp.length;
                                        while (i--) {
                                            if (elem = temp[i]) {
                                                matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem)
                                            }
                                        }
                                    }
                                    if (seed) {
                                        if (postFinder || preFilter) {
                                            if (postFinder) {
                                                temp = [];
                                                i = matcherOut.length;
                                                while (i--) {
                                                    if (elem = matcherOut[i]) {
                                                        temp.push(matcherIn[i] = elem)
                                                    }
                                                }
                                                postFinder(null, matcherOut = [], temp, xml)
                                            }
                                            i = matcherOut.length;
                                            while (i--) {
                                                if ((elem = matcherOut[i]) && (temp = postFinder ? indexOf(seed, elem) : preMap[i]) > -1) {
                                                    seed[temp] = !(results[temp] = elem)
                                                }
                                            }
                                        }
                                    } else {
                                        matcherOut = condense(matcherOut === results ? matcherOut.splice(preexisting, matcherOut.length) : matcherOut);
                                        if (postFinder) {
                                            postFinder(null, results, matcherOut, xml)
                                        } else {
                                            push.apply(results, matcherOut)
                                        }
                                    }
                                })
                            }

                            function matcherFromTokens(tokens) {
                                var checkContext, matcher, j, len = tokens.length,
                                    leadingRelative = Expr.relative[tokens[0].type],
                                    implicitRelative = leadingRelative || Expr.relative[" "],
                                    i = leadingRelative ? 1 : 0,
                                    matchContext = addCombinator(function(elem) {
                                        return elem === checkContext
                                    }, implicitRelative, true),
                                    matchAnyContext = addCombinator(function(elem) {
                                        return indexOf(checkContext, elem) > -1
                                    }, implicitRelative, true),
                                    matchers = [function(elem, context, xml) {
                                        var ret = !leadingRelative && (xml || context !== outermostContext) || ((checkContext = context).nodeType ? matchContext(elem, context, xml) : matchAnyContext(elem, context, xml));
                                        checkContext = null;
                                        return ret
                                    }];
                                for (; i < len; i++) {
                                    if (matcher = Expr.relative[tokens[i].type]) {
                                        matchers = [addCombinator(elementMatcher(matchers), matcher)]
                                    } else {
                                        matcher = Expr.filter[tokens[i].type].apply(null, tokens[i].matches);
                                        if (matcher[expando]) {
                                            j = ++i;
                                            for (; j < len; j++) {
                                                if (Expr.relative[tokens[j].type]) {
                                                    break
                                                }
                                            }
                                            return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(tokens.slice(0, i - 1).concat({
                                                value: tokens[i - 2].type === " " ? "*" : ""
                                            })).replace(rtrim, "$1"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens(tokens = tokens.slice(j)), j < len && toSelector(tokens))
                                        }
                                        matchers.push(matcher)
                                    }
                                }
                                return elementMatcher(matchers)
                            }

                            function matcherFromGroupMatchers(elementMatchers, setMatchers) {
                                var bySet = setMatchers.length > 0,
                                    byElement = elementMatchers.length > 0,
                                    superMatcher = function(seed, context, xml, results, outermost) {
                                        var elem, j, matcher, matchedCount = 0,
                                            i = "0",
                                            unmatched = seed && [],
                                            setMatched = [],
                                            contextBackup = outermostContext,
                                            elems = seed || byElement && Expr.find["TAG"]("*", outermost),
                                            dirrunsUnique = dirruns += contextBackup == null ? 1 : Math.random() || .1,
                                            len = elems.length;
                                        if (outermost) {
                                            outermostContext = context !== document && context
                                        }
                                        for (; i !== len && (elem = elems[i]) != null; i++) {
                                            if (byElement && elem) {
                                                j = 0;
                                                while (matcher = elementMatchers[j++]) {
                                                    if (matcher(elem, context, xml)) {
                                                        results.push(elem);
                                                        break
                                                    }
                                                }
                                                if (outermost) {
                                                    dirruns = dirrunsUnique
                                                }
                                            }
                                            if (bySet) {
                                                if (elem = !matcher && elem) {
                                                    matchedCount--
                                                }
                                                if (seed) {
                                                    unmatched.push(elem)
                                                }
                                            }
                                        }
                                        matchedCount += i;
                                        if (bySet && i !== matchedCount) {
                                            j = 0;
                                            while (matcher = setMatchers[j++]) {
                                                matcher(unmatched, setMatched, context, xml)
                                            }
                                            if (seed) {
                                                if (matchedCount > 0) {
                                                    while (i--) {
                                                        if (!(unmatched[i] || setMatched[i])) {
                                                            setMatched[i] = pop.call(results)
                                                        }
                                                    }
                                                }
                                                setMatched = condense(setMatched)
                                            }
                                            push.apply(results, setMatched);
                                            if (outermost && !seed && setMatched.length > 0 && matchedCount + setMatchers.length > 1) {
                                                Sizzle.uniqueSort(results)
                                            }
                                        }
                                        if (outermost) {
                                            dirruns = dirrunsUnique;
                                            outermostContext = contextBackup
                                        }
                                        return unmatched
                                    };
                                return bySet ? markFunction(superMatcher) : superMatcher
                            }
                            compile = Sizzle.compile = function(selector, match) {
                                var i, setMatchers = [],
                                    elementMatchers = [],
                                    cached = compilerCache[selector + " "];
                                if (!cached) {
                                    if (!match) {
                                        match = tokenize(selector)
                                    }
                                    i = match.length;
                                    while (i--) {
                                        cached = matcherFromTokens(match[i]);
                                        if (cached[expando]) {
                                            setMatchers.push(cached)
                                        } else {
                                            elementMatchers.push(cached)
                                        }
                                    }
                                    cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));
                                    cached.selector = selector
                                }
                                return cached
                            };
                            select = Sizzle.select = function(selector, context, results, seed) {
                                var i, tokens, token, type, find, compiled = typeof selector === "function" && selector,
                                    match = !seed && tokenize(selector = compiled.selector || selector);
                                results = results || [];
                                if (match.length === 1) {
                                    tokens = match[0] = match[0].slice(0);
                                    if (tokens.length > 2 && (token = tokens[0]).type === "ID" && support.getById && context.nodeType === 9 && documentIsHTML && Expr.relative[tokens[1].type]) {
                                        context = (Expr.find["ID"](token.matches[0].replace(runescape, funescape), context) || [])[0];
                                        if (!context) {
                                            return results
                                        } else if (compiled) {
                                            context = context.parentNode
                                        }
                                        selector = selector.slice(tokens.shift().value.length)
                                    }
                                    i = matchExpr["needsContext"].test(selector) ? 0 : tokens.length;
                                    while (i--) {
                                        token = tokens[i];
                                        if (Expr.relative[type = token.type]) {
                                            break
                                        }
                                        if (find = Expr.find[type]) {
                                            if (seed = find(token.matches[0].replace(runescape, funescape), rsibling.test(tokens[0].type) && testContext(context.parentNode) || context)) {
                                                tokens.splice(i, 1);
                                                selector = seed.length && toSelector(tokens);
                                                if (!selector) {
                                                    push.apply(results, seed);
                                                    return results
                                                }
                                                break
                                            }
                                        }
                                    }
                                }(compiled || compile(selector, match))(seed, context, !documentIsHTML, results, rsibling.test(selector) && testContext(context.parentNode) || context);
                                return results
                            };
                            support.sortStable = expando.split("").sort(sortOrder).join("") === expando;
                            support.detectDuplicates = !!hasDuplicate;
                            setDocument();
                            support.sortDetached = assert(function(div1) {
                                return div1.compareDocumentPosition(document.createElement("div")) & 1
                            });
                            if (!assert(function(div) {
                                    div.innerHTML = "<a href='#'></a>";
                                    return div.firstChild.getAttribute("href") === "#"
                                })) {
                                addHandle("type|href|height|width", function(elem, name, isXML) {
                                    if (!isXML) {
                                        return elem.getAttribute(name, name.toLowerCase() === "type" ? 1 : 2)
                                    }
                                })
                            }
                            if (!support.attributes || !assert(function(div) {
                                    div.innerHTML = "<input/>";
                                    div.firstChild.setAttribute("value", "");
                                    return div.firstChild.getAttribute("value") === ""
                                })) {
                                addHandle("value", function(elem, name, isXML) {
                                    if (!isXML && elem.nodeName.toLowerCase() === "input") {
                                        return elem.defaultValue
                                    }
                                })
                            }
                            if (!assert(function(div) {
                                    return div.getAttribute("disabled") == null
                                })) {
                                addHandle(booleans, function(elem, name, isXML) {
                                    var val;
                                    if (!isXML) {
                                        return elem[name] === true ? name.toLowerCase() : (val = elem.getAttributeNode(name)) && val.specified ? val.value : null
                                    }
                                })
                            }
                            return Sizzle
                        }(window);
                        jQuery.find = Sizzle;
                        jQuery.expr = Sizzle.selectors;
                        jQuery.expr[":"] = jQuery.expr.pseudos;
                        jQuery.unique = Sizzle.uniqueSort;
                        jQuery.text = Sizzle.getText;
                        jQuery.isXMLDoc = Sizzle.isXML;
                        jQuery.contains = Sizzle.contains;
                        var rneedsContext = jQuery.expr.match.needsContext;
                        var rsingleTag = /^<(\w+)\s*\/?>(?:<\/\1>|)$/;
                        var risSimple = /^.[^:#\[\.,]*$/;

                        function winnow(elements, qualifier, not) {
                            if (jQuery.isFunction(qualifier)) {
                                return jQuery.grep(elements, function(elem, i) {
                                    return !!qualifier.call(elem, i, elem) !== not
                                })
                            }
                            if (qualifier.nodeType) {
                                return jQuery.grep(elements, function(elem) {
                                    return elem === qualifier !== not
                                })
                            }
                            if (typeof qualifier === "string") {
                                if (risSimple.test(qualifier)) {
                                    return jQuery.filter(qualifier, elements, not)
                                }
                                qualifier = jQuery.filter(qualifier, elements)
                            }
                            return jQuery.grep(elements, function(elem) {
                                return indexOf.call(qualifier, elem) >= 0 !== not
                            })
                        }
                        jQuery.filter = function(expr, elems, not) {
                            var elem = elems[0];
                            if (not) {
                                expr = ":not(" + expr + ")"
                            }
                            return elems.length === 1 && elem.nodeType === 1 ? jQuery.find.matchesSelector(elem, expr) ? [elem] : [] : jQuery.find.matches(expr, jQuery.grep(elems, function(elem) {
                                return elem.nodeType === 1
                            }))
                        };
                        jQuery.fn.extend({
                            find: function(selector) {
                                var i, len = this.length,
                                    ret = [],
                                    self = this;
                                if (typeof selector !== "string") {
                                    return this.pushStack(jQuery(selector).filter(function() {
                                        for (i = 0; i < len; i++) {
                                            if (jQuery.contains(self[i], this)) {
                                                return true
                                            }
                                        }
                                    }))
                                }
                                for (i = 0; i < len; i++) {
                                    jQuery.find(selector, self[i], ret)
                                }
                                ret = this.pushStack(len > 1 ? jQuery.unique(ret) : ret);
                                ret.selector = this.selector ? this.selector + " " + selector : selector;
                                return ret
                            },
                            filter: function(selector) {
                                return this.pushStack(winnow(this, selector || [], false))
                            },
                            not: function(selector) {
                                return this.pushStack(winnow(this, selector || [], true))
                            },
                            is: function(selector) {
                                return !!winnow(this, typeof selector === "string" && rneedsContext.test(selector) ? jQuery(selector) : selector || [], false).length;
                            }
                        });
                        var rootjQuery, rquickExpr = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
                            init = jQuery.fn.init = function(selector, context) {
                                var match, elem;
                                if (!selector) {
                                    return this
                                }
                                if (typeof selector === "string") {
                                    if (selector[0] === "<" && selector[selector.length - 1] === ">" && selector.length >= 3) {
                                        match = [null, selector, null]
                                    } else {
                                        match = rquickExpr.exec(selector)
                                    }
                                    if (match && (match[1] || !context)) {
                                        if (match[1]) {
                                            context = context instanceof jQuery ? context[0] : context;
                                            jQuery.merge(this, jQuery.parseHTML(match[1], context && context.nodeType ? context.ownerDocument || context : document, true));
                                            if (rsingleTag.test(match[1]) && jQuery.isPlainObject(context)) {
                                                for (match in context) {
                                                    if (jQuery.isFunction(this[match])) {
                                                        this[match](context[match])
                                                    } else {
                                                        this.attr(match, context[match])
                                                    }
                                                }
                                            }
                                            return this
                                        } else {
                                            elem = document.getElementById(match[2]);
                                            if (elem && elem.parentNode) {
                                                this.length = 1;
                                                this[0] = elem
                                            }
                                            this.context = document;
                                            this.selector = selector;
                                            return this
                                        }
                                    } else if (!context || context.jquery) {
                                        return (context || rootjQuery).find(selector)
                                    } else {
                                        return this.constructor(context).find(selector)
                                    }
                                } else if (selector.nodeType) {
                                    this.context = this[0] = selector;
                                    this.length = 1;
                                    return this
                                } else if (jQuery.isFunction(selector)) {
                                    return typeof rootjQuery.ready !== "undefined" ? rootjQuery.ready(selector) : selector(jQuery)
                                }
                                if (selector.selector !== undefined) {
                                    this.selector = selector.selector;
                                    this.context = selector.context
                                }
                                return jQuery.makeArray(selector, this)
                            };
                        init.prototype = jQuery.fn;
                        rootjQuery = jQuery(document);
                        var rparentsprev = /^(?:parents|prev(?:Until|All))/,
                            guaranteedUnique = {
                                children: true,
                                contents: true,
                                next: true,
                                prev: true
                            };
                        jQuery.extend({
                            dir: function(elem, dir, until) {
                                var matched = [],
                                    truncate = until !== undefined;
                                while ((elem = elem[dir]) && elem.nodeType !== 9) {
                                    if (elem.nodeType === 1) {
                                        if (truncate && jQuery(elem).is(until)) {
                                            break
                                        }
                                        matched.push(elem)
                                    }
                                }
                                return matched
                            },
                            sibling: function(n, elem) {
                                var matched = [];
                                for (; n; n = n.nextSibling) {
                                    if (n.nodeType === 1 && n !== elem) {
                                        matched.push(n)
                                    }
                                }
                                return matched
                            }
                        });
                        jQuery.fn.extend({
                            has: function(target) {
                                var targets = jQuery(target, this),
                                    l = targets.length;
                                return this.filter(function() {
                                    var i = 0;
                                    for (; i < l; i++) {
                                        if (jQuery.contains(this, targets[i])) {
                                            return true
                                        }
                                    }
                                })
                            },
                            closest: function(selectors, context) {
                                var cur, i = 0,
                                    l = this.length,
                                    matched = [],
                                    pos = rneedsContext.test(selectors) || typeof selectors !== "string" ? jQuery(selectors, context || this.context) : 0;
                                for (; i < l; i++) {
                                    for (cur = this[i]; cur && cur !== context; cur = cur.parentNode) {
                                        if (cur.nodeType < 11 && (pos ? pos.index(cur) > -1 : cur.nodeType === 1 && jQuery.find.matchesSelector(cur, selectors))) {
                                            matched.push(cur);
                                            break
                                        }
                                    }
                                }
                                return this.pushStack(matched.length > 1 ? jQuery.unique(matched) : matched)
                            },
                            index: function(elem) {
                                if (!elem) {
                                    return this[0] && this[0].parentNode ? this.first().prevAll().length : -1
                                }
                                if (typeof elem === "string") {
                                    return indexOf.call(jQuery(elem), this[0])
                                }
                                return indexOf.call(this, elem.jquery ? elem[0] : elem)
                            },
                            add: function(selector, context) {
                                return this.pushStack(jQuery.unique(jQuery.merge(this.get(), jQuery(selector, context))))
                            },
                            addBack: function(selector) {
                                return this.add(selector == null ? this.prevObject : this.prevObject.filter(selector))
                            }
                        });

                        function sibling(cur, dir) {
                            while ((cur = cur[dir]) && cur.nodeType !== 1) {}
                            return cur
                        }
                        jQuery.each({
                            parent: function(elem) {
                                var parent = elem.parentNode;
                                return parent && parent.nodeType !== 11 ? parent : null
                            },
                            parents: function(elem) {
                                return jQuery.dir(elem, "parentNode")
                            },
                            parentsUntil: function(elem, i, until) {
                                return jQuery.dir(elem, "parentNode", until)
                            },
                            next: function(elem) {
                                return sibling(elem, "nextSibling")
                            },
                            prev: function(elem) {
                                return sibling(elem, "previousSibling")
                            },
                            nextAll: function(elem) {
                                return jQuery.dir(elem, "nextSibling")
                            },
                            prevAll: function(elem) {
                                return jQuery.dir(elem, "previousSibling")
                            },
                            nextUntil: function(elem, i, until) {
                                return jQuery.dir(elem, "nextSibling", until)
                            },
                            prevUntil: function(elem, i, until) {
                                return jQuery.dir(elem, "previousSibling", until)
                            },
                            siblings: function(elem) {
                                return jQuery.sibling((elem.parentNode || {}).firstChild, elem)
                            },
                            children: function(elem) {
                                return jQuery.sibling(elem.firstChild)
                            },
                            contents: function(elem) {
                                return elem.contentDocument || jQuery.merge([], elem.childNodes)
                            }
                        }, function(name, fn) {
                            jQuery.fn[name] = function(until, selector) {
                                var matched = jQuery.map(this, fn, until);
                                if (name.slice(-5) !== "Until") {
                                    selector = until
                                }
                                if (selector && typeof selector === "string") {
                                    matched = jQuery.filter(selector, matched)
                                }
                                if (this.length > 1) {
                                    if (!guaranteedUnique[name]) {
                                        jQuery.unique(matched)
                                    }
                                    if (rparentsprev.test(name)) {
                                        matched.reverse()
                                    }
                                }
                                return this.pushStack(matched)
                            }
                        });
                        var rnotwhite = /\S+/g;
                        var optionsCache = {};

                        function createOptions(options) {
                            var object = optionsCache[options] = {};
                            jQuery.each(options.match(rnotwhite) || [], function(_, flag) {
                                object[flag] = true
                            });
                            return object
                        }
                        jQuery.Callbacks = function(options) {
                            options = typeof options === "string" ? optionsCache[options] || createOptions(options) : jQuery.extend({}, options);
                            var memory, fired, firing, firingStart, firingLength, firingIndex, list = [],
                                stack = !options.once && [],
                                fire = function(data) {
                                    memory = options.memory && data;
                                    fired = true;
                                    firingIndex = firingStart || 0;
                                    firingStart = 0;
                                    firingLength = list.length;
                                    firing = true;
                                    for (; list && firingIndex < firingLength; firingIndex++) {
                                        if (list[firingIndex].apply(data[0], data[1]) === false && options.stopOnFalse) {
                                            memory = false;
                                            break
                                        }
                                    }
                                    firing = false;
                                    if (list) {
                                        if (stack) {
                                            if (stack.length) {
                                                fire(stack.shift())
                                            }
                                        } else if (memory) {
                                            list = []
                                        } else {
                                            self.disable()
                                        }
                                    }
                                },
                                self = {
                                    add: function() {
                                        if (list) {
                                            var start = list.length;
                                            (function add(args) {
                                                jQuery.each(args, function(_, arg) {
                                                    var type = jQuery.type(arg);
                                                    if (type === "function") {
                                                        if (!options.unique || !self.has(arg)) {
                                                            list.push(arg)
                                                        }
                                                    } else if (arg && arg.length && type !== "string") {
                                                        add(arg)
                                                    }
                                                })
                                            })(arguments);
                                            if (firing) {
                                                firingLength = list.length
                                            } else if (memory) {
                                                firingStart = start;
                                                fire(memory)
                                            }
                                        }
                                        return this
                                    },
                                    remove: function() {
                                        if (list) {
                                            jQuery.each(arguments, function(_, arg) {
                                                var index;
                                                while ((index = jQuery.inArray(arg, list, index)) > -1) {
                                                    list.splice(index, 1);
                                                    if (firing) {
                                                        if (index <= firingLength) {
                                                            firingLength--
                                                        }
                                                        if (index <= firingIndex) {
                                                            firingIndex--
                                                        }
                                                    }
                                                }
                                            })
                                        }
                                        return this
                                    },
                                    has: function(fn) {
                                        return fn ? jQuery.inArray(fn, list) > -1 : !!(list && list.length)
                                    },
                                    empty: function() {
                                        list = [];
                                        firingLength = 0;
                                        return this
                                    },
                                    disable: function() {
                                        list = stack = memory = undefined;
                                        return this
                                    },
                                    disabled: function() {
                                        return !list
                                    },
                                    lock: function() {
                                        stack = undefined;
                                        if (!memory) {
                                            self.disable()
                                        }
                                        return this
                                    },
                                    locked: function() {
                                        return !stack
                                    },
                                    fireWith: function(context, args) {
                                        if (list && (!fired || stack)) {
                                            args = args || [];
                                            args = [context, args.slice ? args.slice() : args];
                                            if (firing) {
                                                stack.push(args)
                                            } else {
                                                fire(args)
                                            }
                                        }
                                        return this
                                    },
                                    fire: function() {
                                        self.fireWith(this, arguments);
                                        return this
                                    },
                                    fired: function() {
                                        return !!fired
                                    }
                                };
                            return self
                        };
                        jQuery.extend({
                            Deferred: function(func) {
                                var tuples = [
                                        ["resolve", "done", jQuery.Callbacks("once memory"), "resolved"],
                                        ["reject", "fail", jQuery.Callbacks("once memory"), "rejected"],
                                        ["notify", "progress", jQuery.Callbacks("memory")]
                                    ],
                                    state = "pending",
                                    promise = {
                                        state: function() {
                                            return state
                                        },
                                        always: function() {
                                            deferred.done(arguments).fail(arguments);
                                            return this
                                        },
                                        then: function() {
                                            var fns = arguments;
                                            return jQuery.Deferred(function(newDefer) {
                                                jQuery.each(tuples, function(i, tuple) {
                                                    var fn = jQuery.isFunction(fns[i]) && fns[i];
                                                    deferred[tuple[1]](function() {
                                                        var returned = fn && fn.apply(this, arguments);
                                                        if (returned && jQuery.isFunction(returned.promise)) {
                                                            returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify)
                                                        } else {
                                                            newDefer[tuple[0] + "With"](this === promise ? newDefer.promise() : this, fn ? [returned] : arguments)
                                                        }
                                                    })
                                                });
                                                fns = null
                                            }).promise()
                                        },
                                        promise: function(obj) {
                                            return obj != null ? jQuery.extend(obj, promise) : promise
                                        }
                                    },
                                    deferred = {};
                                promise.pipe = promise.then;
                                jQuery.each(tuples, function(i, tuple) {
                                    var list = tuple[2],
                                        stateString = tuple[3];
                                    promise[tuple[1]] = list.add;
                                    if (stateString) {
                                        list.add(function() {
                                            state = stateString
                                        }, tuples[i ^ 1][2].disable, tuples[2][2].lock)
                                    }
                                    deferred[tuple[0]] = function() {
                                        deferred[tuple[0] + "With"](this === deferred ? promise : this, arguments);
                                        return this
                                    };
                                    deferred[tuple[0] + "With"] = list.fireWith
                                });
                                promise.promise(deferred);
                                if (func) {
                                    func.call(deferred, deferred)
                                }
                                return deferred
                            },
                            when: function(subordinate) {
                                var i = 0,
                                    resolveValues = slice.call(arguments),
                                    length = resolveValues.length,
                                    remaining = length !== 1 || subordinate && jQuery.isFunction(subordinate.promise) ? length : 0,
                                    deferred = remaining === 1 ? subordinate : jQuery.Deferred(),
                                    updateFunc = function(i, contexts, values) {
                                        return function(value) {
                                            contexts[i] = this;
                                            values[i] = arguments.length > 1 ? slice.call(arguments) : value;
                                            if (values === progressValues) {
                                                deferred.notifyWith(contexts, values)
                                            } else if (!--remaining) {
                                                deferred.resolveWith(contexts, values)
                                            }
                                        }
                                    },
                                    progressValues, progressContexts, resolveContexts;
                                if (length > 1) {
                                    progressValues = new Array(length);
                                    progressContexts = new Array(length);
                                    resolveContexts = new Array(length);
                                    for (; i < length; i++) {
                                        if (resolveValues[i] && jQuery.isFunction(resolveValues[i].promise)) {
                                            resolveValues[i].promise().done(updateFunc(i, resolveContexts, resolveValues)).fail(deferred.reject).progress(updateFunc(i, progressContexts, progressValues))
                                        } else {
                                            --remaining
                                        }
                                    }
                                }
                                if (!remaining) {
                                    deferred.resolveWith(resolveContexts, resolveValues)
                                }
                                return deferred.promise()
                            }
                        });
                        var readyList;
                        jQuery.fn.ready = function(fn) {
                            jQuery.ready.promise().done(fn);
                            return this
                        };
                        jQuery.extend({
                            isReady: false,
                            readyWait: 1,
                            holdReady: function(hold) {
                                if (hold) {
                                    jQuery.readyWait++
                                } else {
                                    jQuery.ready(true)
                                }
                            },
                            ready: function(wait) {
                                if (wait === true ? --jQuery.readyWait : jQuery.isReady) {
                                    return
                                }
                                jQuery.isReady = true;
                                if (wait !== true && --jQuery.readyWait > 0) {
                                    return
                                }
                                readyList.resolveWith(document, [jQuery]);
                                if (jQuery.fn.triggerHandler) {
                                    jQuery(document).triggerHandler("ready");
                                    jQuery(document).off("ready")
                                }
                            }
                        });

                        function completed() {
                            document.removeEventListener("DOMContentLoaded", completed, false);
                            window.removeEventListener("load", completed, false);
                            jQuery.ready()
                        }
                        jQuery.ready.promise = function(obj) {
                            if (!readyList) {
                                readyList = jQuery.Deferred();
                                if (document.readyState === "complete") {
                                    setTimeout(jQuery.ready)
                                } else {
                                    document.addEventListener("DOMContentLoaded", completed, false);
                                    window.addEventListener("load", completed, false)
                                }
                            }
                            return readyList.promise(obj)
                        };
                        jQuery.ready.promise();
                        var access = jQuery.access = function(elems, fn, key, value, chainable, emptyGet, raw) {
                            var i = 0,
                                len = elems.length,
                                bulk = key == null;
                            if (jQuery.type(key) === "object") {
                                chainable = true;
                                for (i in key) {
                                    jQuery.access(elems, fn, i, key[i], true, emptyGet, raw)
                                }
                            } else if (value !== undefined) {
                                chainable = true;
                                if (!jQuery.isFunction(value)) {
                                    raw = true
                                }
                                if (bulk) {
                                    if (raw) {
                                        fn.call(elems, value);
                                        fn = null
                                    } else {
                                        bulk = fn;
                                        fn = function(elem, key, value) {
                                            return bulk.call(jQuery(elem), value)
                                        }
                                    }
                                }
                                if (fn) {
                                    for (; i < len; i++) {
                                        fn(elems[i], key, raw ? value : value.call(elems[i], i, fn(elems[i], key)))
                                    }
                                }
                            }
                            return chainable ? elems : bulk ? fn.call(elems) : len ? fn(elems[0], key) : emptyGet
                        };
                        jQuery.acceptData = function(owner) {
                            return owner.nodeType === 1 || owner.nodeType === 9 || !+owner.nodeType
                        };

                        function Data() {
                            Object.defineProperty(this.cache = {}, 0, {
                                get: function() {
                                    return {}
                                }
                            });
                            this.expando = jQuery.expando + Data.uid++
                        }
                        Data.uid = 1;
                        Data.accepts = jQuery.acceptData;
                        Data.prototype = {
                            key: function(owner) {
                                if (!Data.accepts(owner)) {
                                    return 0
                                }
                                var descriptor = {},
                                    unlock = owner[this.expando];
                                if (!unlock) {
                                    unlock = Data.uid++;
                                    try {
                                        descriptor[this.expando] = {
                                            value: unlock
                                        };
                                        Object.defineProperties(owner, descriptor)
                                    } catch (e) {
                                        descriptor[this.expando] = unlock;
                                        jQuery.extend(owner, descriptor)
                                    }
                                }
                                if (!this.cache[unlock]) {
                                    this.cache[unlock] = {}
                                }
                                return unlock
                            },
                            set: function(owner, data, value) {
                                var prop, unlock = this.key(owner),
                                    cache = this.cache[unlock];
                                if (typeof data === "string") {
                                    cache[data] = value
                                } else {
                                    if (jQuery.isEmptyObject(cache)) {
                                        jQuery.extend(this.cache[unlock], data)
                                    } else {
                                        for (prop in data) {
                                            cache[prop] = data[prop]
                                        }
                                    }
                                }
                                return cache
                            },
                            get: function(owner, key) {
                                var cache = this.cache[this.key(owner)];
                                return key === undefined ? cache : cache[key]
                            },
                            access: function(owner, key, value) {
                                var stored;
                                if (key === undefined || key && typeof key === "string" && value === undefined) {
                                    stored = this.get(owner, key);
                                    return stored !== undefined ? stored : this.get(owner, jQuery.camelCase(key))
                                }
                                this.set(owner, key, value);
                                return value !== undefined ? value : key
                            },
                            remove: function(owner, key) {
                                var i, name, camel, unlock = this.key(owner),
                                    cache = this.cache[unlock];
                                if (key === undefined) {
                                    this.cache[unlock] = {}
                                } else {
                                    if (jQuery.isArray(key)) {
                                        name = key.concat(key.map(jQuery.camelCase))
                                    } else {
                                        camel = jQuery.camelCase(key);
                                        if (key in cache) {
                                            name = [key, camel]
                                        } else {
                                            name = camel;
                                            name = name in cache ? [name] : name.match(rnotwhite) || []
                                        }
                                    }
                                    i = name.length;
                                    while (i--) {
                                        delete cache[name[i]]
                                    }
                                }
                            },
                            hasData: function(owner) {
                                return !jQuery.isEmptyObject(this.cache[owner[this.expando]] || {})
                            },
                            discard: function(owner) {
                                if (owner[this.expando]) {
                                    delete this.cache[owner[this.expando]]
                                }
                            }
                        };
                        var data_priv = new Data;
                        var data_user = new Data;
                        var rbrace = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
                            rmultiDash = /([A-Z])/g;

                        function dataAttr(elem, key, data) {
                            var name;
                            if (data === undefined && elem.nodeType === 1) {
                                name = "data-" + key.replace(rmultiDash, "-$1").toLowerCase();
                                data = elem.getAttribute(name);
                                if (typeof data === "string") {
                                    try {
                                        data = data === "true" ? true : data === "false" ? false : data === "null" ? null : +data + "" === data ? +data : rbrace.test(data) ? jQuery.parseJSON(data) : data
                                    } catch (e) {}
                                    data_user.set(elem, key, data)
                                } else {
                                    data = undefined
                                }
                            }
                            return data
                        }
                        jQuery.extend({
                            hasData: function(elem) {
                                return data_user.hasData(elem) || data_priv.hasData(elem)
                            },
                            data: function(elem, name, data) {
                                return data_user.access(elem, name, data)
                            },
                            removeData: function(elem, name) {
                                data_user.remove(elem, name)
                            },
                            _data: function(elem, name, data) {
                                return data_priv.access(elem, name, data)
                            },
                            _removeData: function(elem, name) {
                                data_priv.remove(elem, name)
                            }
                        });
                        jQuery.fn.extend({
                            data: function(key, value) {
                                var i, name, data, elem = this[0],
                                    attrs = elem && elem.attributes;
                                if (key === undefined) {
                                    if (this.length) {
                                        data = data_user.get(elem);
                                        if (elem.nodeType === 1 && !data_priv.get(elem, "hasDataAttrs")) {
                                            i = attrs.length;
                                            while (i--) {
                                                if (attrs[i]) {
                                                    name = attrs[i].name;
                                                    if (name.indexOf("data-") === 0) {
                                                        name = jQuery.camelCase(name.slice(5));
                                                        dataAttr(elem, name, data[name])
                                                    }
                                                }
                                            }
                                            data_priv.set(elem, "hasDataAttrs", true)
                                        }
                                    }
                                    return data
                                }
                                if (typeof key === "object") {
                                    return this.each(function() {
                                        data_user.set(this, key)
                                    })
                                }
                                return access(this, function(value) {
                                    var data, camelKey = jQuery.camelCase(key);
                                    if (elem && value === undefined) {
                                        data = data_user.get(elem, key);
                                        if (data !== undefined) {
                                            return data
                                        }
                                        data = data_user.get(elem, camelKey);
                                        if (data !== undefined) {
                                            return data
                                        }
                                        data = dataAttr(elem, camelKey, undefined);
                                        if (data !== undefined) {
                                            return data
                                        }
                                        return
                                    }
                                    this.each(function() {
                                        var data = data_user.get(this, camelKey);
                                        data_user.set(this, camelKey, value);
                                        if (key.indexOf("-") !== -1 && data !== undefined) {
                                            data_user.set(this, key, value)
                                        }
                                    })
                                }, null, value, arguments.length > 1, null, true)
                            },
                            removeData: function(key) {
                                return this.each(function() {
                                    data_user.remove(this, key)
                                })
                            }
                        });
                        jQuery.extend({
                            queue: function(elem, type, data) {
                                var queue;
                                if (elem) {
                                    type = (type || "fx") + "queue";
                                    queue = data_priv.get(elem, type);
                                    if (data) {
                                        if (!queue || jQuery.isArray(data)) {
                                            queue = data_priv.access(elem, type, jQuery.makeArray(data))
                                        } else {
                                            queue.push(data)
                                        }
                                    }
                                    return queue || []
                                }
                            },
                            dequeue: function(elem, type) {
                                type = type || "fx";
                                var queue = jQuery.queue(elem, type),
                                    startLength = queue.length,
                                    fn = queue.shift(),
                                    hooks = jQuery._queueHooks(elem, type),
                                    next = function() {
                                        jQuery.dequeue(elem, type)
                                    };
                                if (fn === "inprogress") {
                                    fn = queue.shift();
                                    startLength--
                                }
                                if (fn) {
                                    if (type === "fx") {
                                        queue.unshift("inprogress")
                                    }
                                    delete hooks.stop;
                                    fn.call(elem, next, hooks)
                                }
                                if (!startLength && hooks) {
                                    hooks.empty.fire()
                                }
                            },
                            _queueHooks: function(elem, type) {
                                var key = type + "queueHooks";
                                return data_priv.get(elem, key) || data_priv.access(elem, key, {
                                    empty: jQuery.Callbacks("once memory").add(function() {
                                        data_priv.remove(elem, [type + "queue", key])
                                    })
                                })
                            }
                        });
                        jQuery.fn.extend({
                            queue: function(type, data) {
                                var setter = 2;
                                if (typeof type !== "string") {
                                    data = type;
                                    type = "fx";
                                    setter--
                                }
                                if (arguments.length < setter) {
                                    return jQuery.queue(this[0], type)
                                }
                                return data === undefined ? this : this.each(function() {
                                    var queue = jQuery.queue(this, type, data);
                                    jQuery._queueHooks(this, type);
                                    if (type === "fx" && queue[0] !== "inprogress") {
                                        jQuery.dequeue(this, type)
                                    }
                                })
                            },
                            dequeue: function(type) {
                                return this.each(function() {
                                    jQuery.dequeue(this, type)
                                })
                            },
                            clearQueue: function(type) {
                                return this.queue(type || "fx", [])
                            },
                            promise: function(type, obj) {
                                var tmp, count = 1,
                                    defer = jQuery.Deferred(),
                                    elements = this,
                                    i = this.length,
                                    resolve = function() {
                                        if (!--count) {
                                            defer.resolveWith(elements, [elements])
                                        }
                                    };
                                if (typeof type !== "string") {
                                    obj = type;
                                    type = undefined
                                }
                                type = type || "fx";
                                while (i--) {
                                    tmp = data_priv.get(elements[i], type + "queueHooks");
                                    if (tmp && tmp.empty) {
                                        count++;
                                        tmp.empty.add(resolve)
                                    }
                                }
                                resolve();
                                return defer.promise(obj)
                            }
                        });
                        var pnum = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;
                        var cssExpand = ["Top", "Right", "Bottom", "Left"];
                        var isHidden = function(elem, el) {
                            elem = el || elem;
                            return jQuery.css(elem, "display") === "none" || !jQuery.contains(elem.ownerDocument, elem)
                        };
                        var rcheckableType = /^(?:checkbox|radio)$/i;
                        (function() {
                            var fragment = document.createDocumentFragment(),
                                div = fragment.appendChild(document.createElement("div")),
                                input = document.createElement("input");
                            input.setAttribute("type", "radio");
                            input.setAttribute("checked", "checked");
                            input.setAttribute("name", "t");
                            div.appendChild(input);
                            support.checkClone = div.cloneNode(true).cloneNode(true).lastChild.checked;
                            div.innerHTML = "<textarea>x</textarea>";
                            support.noCloneChecked = !!div.cloneNode(true).lastChild.defaultValue
                        })();
                        var strundefined = typeof undefined;
                        support.focusinBubbles = "onfocusin" in window;
                        var rkeyEvent = /^key/,
                            rmouseEvent = /^(?:mouse|pointer|contextmenu)|click/,
                            rfocusMorph = /^(?:focusinfocus|focusoutblur)$/,
                            rtypenamespace = /^([^.]*)(?:\.(.+)|)$/;

                        function returnTrue() {
                            return true
                        }

                        function returnFalse() {
                            return false
                        }

                        function safeActiveElement() {
                            try {
                                return document.activeElement
                            } catch (err) {}
                        }
                        jQuery.event = {
                            global: {},
                            add: function(elem, types, handler, data, selector) {
                                var handleObjIn, eventHandle, tmp, events, t, handleObj, special, handlers, type, namespaces, origType, elemData = data_priv.get(elem);
                                if (!elemData) {
                                    return
                                }
                                if (handler.handler) {
                                    handleObjIn = handler;
                                    handler = handleObjIn.handler;
                                    selector = handleObjIn.selector
                                }
                                if (!handler.guid) {
                                    handler.guid = jQuery.guid++
                                }
                                if (!(events = elemData.events)) {
                                    events = elemData.events = {}
                                }
                                if (!(eventHandle = elemData.handle)) {
                                    eventHandle = elemData.handle = function(e) {
                                        return typeof jQuery !== strundefined && jQuery.event.triggered !== e.type ? jQuery.event.dispatch.apply(elem, arguments) : undefined
                                    }
                                }
                                types = (types || "").match(rnotwhite) || [""];
                                t = types.length;
                                while (t--) {
                                    tmp = rtypenamespace.exec(types[t]) || [];
                                    type = origType = tmp[1];
                                    namespaces = (tmp[2] || "").split(".").sort();
                                    if (!type) {
                                        continue
                                    }
                                    special = jQuery.event.special[type] || {};
                                    type = (selector ? special.delegateType : special.bindType) || type;
                                    special = jQuery.event.special[type] || {};
                                    handleObj = jQuery.extend({
                                        type: type,
                                        origType: origType,
                                        data: data,
                                        handler: handler,
                                        guid: handler.guid,
                                        selector: selector,
                                        needsContext: selector && jQuery.expr.match.needsContext.test(selector),
                                        namespace: namespaces.join(".")
                                    }, handleObjIn);
                                    if (!(handlers = events[type])) {
                                        handlers = events[type] = [];
                                        handlers.delegateCount = 0;
                                        if (!special.setup || special.setup.call(elem, data, namespaces, eventHandle) === false) {
                                            if (elem.addEventListener) {
                                                elem.addEventListener(type, eventHandle, false)
                                            }
                                        }
                                    }
                                    if (special.add) {
                                        special.add.call(elem, handleObj);
                                        if (!handleObj.handler.guid) {
                                            handleObj.handler.guid = handler.guid
                                        }
                                    }
                                    if (selector) {
                                        handlers.splice(handlers.delegateCount++, 0, handleObj)
                                    } else {
                                        handlers.push(handleObj)
                                    }
                                    jQuery.event.global[type] = true
                                }
                            },
                            remove: function(elem, types, handler, selector, mappedTypes) {
                                var j, origCount, tmp, events, t, handleObj, special, handlers, type, namespaces, origType, elemData = data_priv.hasData(elem) && data_priv.get(elem);
                                if (!elemData || !(events = elemData.events)) {
                                    return
                                }
                                types = (types || "").match(rnotwhite) || [""];
                                t = types.length;
                                while (t--) {
                                    tmp = rtypenamespace.exec(types[t]) || [];
                                    type = origType = tmp[1];
                                    namespaces = (tmp[2] || "").split(".").sort();
                                    if (!type) {
                                        for (type in events) {
                                            jQuery.event.remove(elem, type + types[t], handler, selector, true)
                                        }
                                        continue
                                    }
                                    special = jQuery.event.special[type] || {};
                                    type = (selector ? special.delegateType : special.bindType) || type;
                                    handlers = events[type] || [];
                                    tmp = tmp[2] && new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)");
                                    origCount = j = handlers.length;
                                    while (j--) {
                                        handleObj = handlers[j];
                                        if ((mappedTypes || origType === handleObj.origType) && (!handler || handler.guid === handleObj.guid) && (!tmp || tmp.test(handleObj.namespace)) && (!selector || selector === handleObj.selector || selector === "**" && handleObj.selector)) {
                                            handlers.splice(j, 1);
                                            if (handleObj.selector) {
                                                handlers.delegateCount--
                                            }
                                            if (special.remove) {
                                                special.remove.call(elem, handleObj)
                                            }
                                        }
                                    }
                                    if (origCount && !handlers.length) {
                                        if (!special.teardown || special.teardown.call(elem, namespaces, elemData.handle) === false) {
                                            jQuery.removeEvent(elem, type, elemData.handle)
                                        }
                                        delete events[type]
                                    }
                                }
                                if (jQuery.isEmptyObject(events)) {
                                    delete elemData.handle;
                                    data_priv.remove(elem, "events")
                                }
                            },
                            trigger: function(event, data, elem, onlyHandlers) {
                                var i, cur, tmp, bubbleType, ontype, handle, special, eventPath = [elem || document],
                                    type = hasOwn.call(event, "type") ? event.type : event,
                                    namespaces = hasOwn.call(event, "namespace") ? event.namespace.split(".") : [];
                                cur = tmp = elem = elem || document;
                                if (elem.nodeType === 3 || elem.nodeType === 8) {
                                    return
                                }
                                if (rfocusMorph.test(type + jQuery.event.triggered)) {
                                    return
                                }
                                if (type.indexOf(".") >= 0) {
                                    namespaces = type.split(".");
                                    type = namespaces.shift();
                                    namespaces.sort()
                                }
                                ontype = type.indexOf(":") < 0 && "on" + type;
                                event = event[jQuery.expando] ? event : new jQuery.Event(type, typeof event === "object" && event);
                                event.isTrigger = onlyHandlers ? 2 : 3;
                                event.namespace = namespaces.join(".");
                                event.namespace_re = event.namespace ? new RegExp("(^|\\.)" + namespaces.join("\\.(?:.*\\.|)") + "(\\.|$)") : null;
                                event.result = undefined;
                                if (!event.target) {
                                    event.target = elem
                                }
                                data = data == null ? [event] : jQuery.makeArray(data, [event]);
                                special = jQuery.event.special[type] || {};
                                if (!onlyHandlers && special.trigger && special.trigger.apply(elem, data) === false) {
                                    return
                                }
                                if (!onlyHandlers && !special.noBubble && !jQuery.isWindow(elem)) {
                                    bubbleType = special.delegateType || type;
                                    if (!rfocusMorph.test(bubbleType + type)) {
                                        cur = cur.parentNode
                                    }
                                    for (; cur; cur = cur.parentNode) {
                                        eventPath.push(cur);
                                        tmp = cur
                                    }
                                    if (tmp === (elem.ownerDocument || document)) {
                                        eventPath.push(tmp.defaultView || tmp.parentWindow || window)
                                    }
                                }
                                i = 0;
                                while ((cur = eventPath[i++]) && !event.isPropagationStopped()) {
                                    event.type = i > 1 ? bubbleType : special.bindType || type;
                                    handle = (data_priv.get(cur, "events") || {})[event.type] && data_priv.get(cur, "handle");
                                    if (handle) {
                                        handle.apply(cur, data)
                                    }
                                    handle = ontype && cur[ontype];
                                    if (handle && handle.apply && jQuery.acceptData(cur)) {
                                        event.result = handle.apply(cur, data);
                                        if (event.result === false) {
                                            event.preventDefault()
                                        }
                                    }
                                }
                                event.type = type;
                                if (!onlyHandlers && !event.isDefaultPrevented()) {
                                    if ((!special._default || special._default.apply(eventPath.pop(), data) === false) && jQuery.acceptData(elem)) {
                                        if (ontype && jQuery.isFunction(elem[type]) && !jQuery.isWindow(elem)) {
                                            tmp = elem[ontype];
                                            if (tmp) {
                                                elem[ontype] = null
                                            }
                                            jQuery.event.triggered = type;
                                            elem[type]();
                                            jQuery.event.triggered = undefined;
                                            if (tmp) {
                                                elem[ontype] = tmp
                                            }
                                        }
                                    }
                                }
                                return event.result
                            },
                            dispatch: function(event) {
                                event = jQuery.event.fix(event);
                                var i, j, ret, matched, handleObj, handlerQueue = [],
                                    args = slice.call(arguments),
                                    handlers = (data_priv.get(this, "events") || {})[event.type] || [],
                                    special = jQuery.event.special[event.type] || {};
                                args[0] = event;
                                event.delegateTarget = this;
                                if (special.preDispatch && special.preDispatch.call(this, event) === false) {
                                    return
                                }
                                handlerQueue = jQuery.event.handlers.call(this, event, handlers);
                                i = 0;
                                while ((matched = handlerQueue[i++]) && !event.isPropagationStopped()) {
                                    event.currentTarget = matched.elem;
                                    j = 0;
                                    while ((handleObj = matched.handlers[j++]) && !event.isImmediatePropagationStopped()) {
                                        if (!event.namespace_re || event.namespace_re.test(handleObj.namespace)) {
                                            event.handleObj = handleObj;
                                            event.data = handleObj.data;
                                            ret = ((jQuery.event.special[handleObj.origType] || {}).handle || handleObj.handler).apply(matched.elem, args);
                                            if (ret !== undefined) {
                                                if ((event.result = ret) === false) {
                                                    event.preventDefault();
                                                    event.stopPropagation()
                                                }
                                            }
                                        }
                                    }
                                }
                                if (special.postDispatch) {
                                    special.postDispatch.call(this, event)
                                }
                                return event.result
                            },
                            handlers: function(event, handlers) {
                                var i, matches, sel, handleObj, handlerQueue = [],
                                    delegateCount = handlers.delegateCount,
                                    cur = event.target;
                                if (delegateCount && cur.nodeType && (!event.button || event.type !== "click")) {
                                    for (; cur !== this; cur = cur.parentNode || this) {
                                        if (cur.disabled !== true || event.type !== "click") {
                                            matches = [];
                                            for (i = 0; i < delegateCount; i++) {
                                                handleObj = handlers[i];
                                                sel = handleObj.selector + " ";
                                                if (matches[sel] === undefined) {
                                                    matches[sel] = handleObj.needsContext ? jQuery(sel, this).index(cur) >= 0 : jQuery.find(sel, this, null, [cur]).length
                                                }
                                                if (matches[sel]) {
                                                    matches.push(handleObj)
                                                }
                                            }
                                            if (matches.length) {
                                                handlerQueue.push({
                                                    elem: cur,
                                                    handlers: matches
                                                })
                                            }
                                        }
                                    }
                                }
                                if (delegateCount < handlers.length) {
                                    handlerQueue.push({
                                        elem: this,
                                        handlers: handlers.slice(delegateCount)
                                    })
                                }
                                return handlerQueue
                            },
                            props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
                            fixHooks: {},
                            keyHooks: {
                                props: "char charCode key keyCode".split(" "),
                                filter: function(event, original) {
                                    if (event.which == null) {
                                        event.which = original.charCode != null ? original.charCode : original.keyCode
                                    }
                                    return event
                                }
                            },
                            mouseHooks: {
                                props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
                                filter: function(event, original) {
                                    var eventDoc, doc, body, button = original.button;
                                    if (event.pageX == null && original.clientX != null) {
                                        eventDoc = event.target.ownerDocument || document;
                                        doc = eventDoc.documentElement;
                                        body = eventDoc.body;
                                        event.pageX = original.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);
                                        event.pageY = original.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0)
                                    }
                                    if (!event.which && button !== undefined) {
                                        event.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0
                                    }
                                    return event
                                }
                            },
                            fix: function(event) {
                                if (event[jQuery.expando]) {
                                    return event
                                }
                                var i, prop, copy, type = event.type,
                                    originalEvent = event,
                                    fixHook = this.fixHooks[type];
                                if (!fixHook) {
                                    this.fixHooks[type] = fixHook = rmouseEvent.test(type) ? this.mouseHooks : rkeyEvent.test(type) ? this.keyHooks : {}
                                }
                                copy = fixHook.props ? this.props.concat(fixHook.props) : this.props;
                                event = new jQuery.Event(originalEvent);
                                i = copy.length;
                                while (i--) {
                                    prop = copy[i];
                                    event[prop] = originalEvent[prop]
                                }
                                if (!event.target) {
                                    event.target = document
                                }
                                if (event.target.nodeType === 3) {
                                    event.target = event.target.parentNode
                                }
                                return fixHook.filter ? fixHook.filter(event, originalEvent) : event
                            },
                            special: {
                                load: {
                                    noBubble: true
                                },
                                focus: {
                                    trigger: function() {
                                        if (this !== safeActiveElement() && this.focus) {
                                            this.focus();
                                            return false
                                        }
                                    },
                                    delegateType: "focusin"
                                },
                                blur: {
                                    trigger: function() {
                                        if (this === safeActiveElement() && this.blur) {
                                            this.blur();
                                            return false
                                        }
                                    },
                                    delegateType: "focusout"
                                },
                                click: {
                                    trigger: function() {
                                        if (this.type === "checkbox" && this.click && jQuery.nodeName(this, "input")) {
                                            this.click();
                                            return false
                                        }
                                    },
                                    _default: function(event) {
                                        return jQuery.nodeName(event.target, "a")
                                    }
                                },
                                beforeunload: {
                                    postDispatch: function(event) {
                                        if (event.result !== undefined && event.originalEvent) {
                                            event.originalEvent.returnValue = event.result
                                        }
                                    }
                                }
                            },
                            simulate: function(type, elem, event, bubble) {
                                var e = jQuery.extend(new jQuery.Event, event, {
                                    type: type,
                                    isSimulated: true,
                                    originalEvent: {}
                                });
                                if (bubble) {
                                    jQuery.event.trigger(e, null, elem)
                                } else {
                                    jQuery.event.dispatch.call(elem, e)
                                }
                                if (e.isDefaultPrevented()) {
                                    event.preventDefault()
                                }
                            }
                        };
                        jQuery.removeEvent = function(elem, type, handle) {
                            if (elem.removeEventListener) {
                                elem.removeEventListener(type, handle, false)
                            }
                        };
                        jQuery.Event = function(src, props) {
                            if (!(this instanceof jQuery.Event)) {
                                return new jQuery.Event(src, props)
                            }
                            if (src && src.type) {
                                this.originalEvent = src;
                                this.type = src.type;
                                this.isDefaultPrevented = src.defaultPrevented || src.defaultPrevented === undefined && src.returnValue === false ? returnTrue : returnFalse
                            } else {
                                this.type = src
                            }
                            if (props) {
                                jQuery.extend(this, props)
                            }
                            this.timeStamp = src && src.timeStamp || jQuery.now();
                            this[jQuery.expando] = true
                        };
                        jQuery.Event.prototype = {
                            isDefaultPrevented: returnFalse,
                            isPropagationStopped: returnFalse,
                            isImmediatePropagationStopped: returnFalse,
                            preventDefault: function() {
                                var e = this.originalEvent;
                                this.isDefaultPrevented = returnTrue;
                                if (e && e.preventDefault) {
                                    e.preventDefault()
                                }
                            },
                            stopPropagation: function() {
                                var e = this.originalEvent;
                                this.isPropagationStopped = returnTrue;
                                if (e && e.stopPropagation) {
                                    e.stopPropagation()
                                }
                            },
                            stopImmediatePropagation: function() {
                                var e = this.originalEvent;
                                this.isImmediatePropagationStopped = returnTrue;
                                if (e && e.stopImmediatePropagation) {
                                    e.stopImmediatePropagation()
                                }
                                this.stopPropagation()
                            }
                        };
                        jQuery.each({
                            mouseenter: "mouseover",
                            mouseleave: "mouseout",
                            pointerenter: "pointerover",
                            pointerleave: "pointerout"
                        }, function(orig, fix) {
                            jQuery.event.special[orig] = {
                                delegateType: fix,
                                bindType: fix,
                                handle: function(event) {
                                    var ret, target = this,
                                        related = event.relatedTarget,
                                        handleObj = event.handleObj;
                                    if (!related || related !== target && !jQuery.contains(target, related)) {
                                        event.type = handleObj.origType;
                                        ret = handleObj.handler.apply(this, arguments);
                                        event.type = fix
                                    }
                                    return ret
                                }
                            }
                        });
                        if (!support.focusinBubbles) {
                            jQuery.each({
                                focus: "focusin",
                                blur: "focusout"
                            }, function(orig, fix) {
                                var handler = function(event) {
                                    jQuery.event.simulate(fix, event.target, jQuery.event.fix(event), true)
                                };
                                jQuery.event.special[fix] = {
                                    setup: function() {
                                        var doc = this.ownerDocument || this,
                                            attaches = data_priv.access(doc, fix);
                                        if (!attaches) {
                                            doc.addEventListener(orig, handler, true)
                                        }
                                        data_priv.access(doc, fix, (attaches || 0) + 1)
                                    },
                                    teardown: function() {
                                        var doc = this.ownerDocument || this,
                                            attaches = data_priv.access(doc, fix) - 1;
                                        if (!attaches) {
                                            doc.removeEventListener(orig, handler, true);
                                            data_priv.remove(doc, fix)
                                        } else {
                                            data_priv.access(doc, fix, attaches)
                                        }
                                    }
                                }
                            })
                        }
                        jQuery.fn.extend({
                            on: function(types, selector, data, fn, one) {
                                var origFn, type;
                                if (typeof types === "object") {
                                    if (typeof selector !== "string") {
                                        data = data || selector;
                                        selector = undefined
                                    }
                                    for (type in types) {
                                        this.on(type, selector, data, types[type], one)
                                    }
                                    return this
                                }
                                if (data == null && fn == null) {
                                    fn = selector;
                                    data = selector = undefined
                                } else if (fn == null) {
                                    if (typeof selector === "string") {
                                        fn = data;
                                        data = undefined
                                    } else {
                                        fn = data;
                                        data = selector;
                                        selector = undefined
                                    }
                                }
                                if (fn === false) {
                                    fn = returnFalse
                                } else if (!fn) {
                                    return this
                                }
                                if (one === 1) {
                                    origFn = fn;
                                    fn = function(event) {
                                        jQuery().off(event);
                                        return origFn.apply(this, arguments)
                                    };
                                    fn.guid = origFn.guid || (origFn.guid = jQuery.guid++)
                                }
                                return this.each(function() {
                                    jQuery.event.add(this, types, fn, data, selector)
                                })
                            },
                            one: function(types, selector, data, fn) {
                                return this.on(types, selector, data, fn, 1)
                            },
                            off: function(types, selector, fn) {
                                var handleObj, type;
                                if (types && types.preventDefault && types.handleObj) {
                                    handleObj = types.handleObj;
                                    jQuery(types.delegateTarget).off(handleObj.namespace ? handleObj.origType + "." + handleObj.namespace : handleObj.origType, handleObj.selector, handleObj.handler);
                                    return this
                                }
                                if (typeof types === "object") {
                                    for (type in types) {
                                        this.off(type, selector, types[type])
                                    }
                                    return this
                                }
                                if (selector === false || typeof selector === "function") {
                                    fn = selector;
                                    selector = undefined
                                }
                                if (fn === false) {
                                    fn = returnFalse
                                }
                                return this.each(function() {
                                    jQuery.event.remove(this, types, fn, selector)
                                })
                            },
                            trigger: function(type, data) {
                                return this.each(function() {
                                    jQuery.event.trigger(type, data, this)
                                })
                            },
                            triggerHandler: function(type, data) {
                                var elem = this[0];
                                if (elem) {
                                    return jQuery.event.trigger(type, data, elem, true)
                                }
                            }
                        });
                        var rxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
                            rtagName = /<([\w:]+)/,
                            rhtml = /<|&#?\w+;/,
                            rnoInnerhtml = /<(?:script|style|link)/i,
                            rchecked = /checked\s*(?:[^=]|=\s*.checked.)/i,
                            rscriptType = /^$|\/(?:java|ecma)script/i,
                            rscriptTypeMasked = /^true\/(.*)/,
                            rcleanScript = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
                            wrapMap = {
                                option: [1, "<select multiple='multiple'>", "</select>"],
                                thead: [1, "<table>", "</table>"],
                                col: [2, "<table><colgroup>", "</colgroup></table>"],
                                tr: [2, "<table><tbody>", "</tbody></table>"],
                                td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
                                _default: [0, "", ""]
                            };
                        wrapMap.optgroup = wrapMap.option;
                        wrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;
                        wrapMap.th = wrapMap.td;

                        function manipulationTarget(elem, content) {
                            return jQuery.nodeName(elem, "table") && jQuery.nodeName(content.nodeType !== 11 ? content : content.firstChild, "tr") ? elem.getElementsByTagName("tbody")[0] || elem.appendChild(elem.ownerDocument.createElement("tbody")) : elem
                        }

                        function disableScript(elem) {
                            elem.type = (elem.getAttribute("type") !== null) + "/" + elem.type;
                            return elem
                        }

                        function restoreScript(elem) {
                            var match = rscriptTypeMasked.exec(elem.type);
                            if (match) {
                                elem.type = match[1]
                            } else {
                                elem.removeAttribute("type")
                            }
                            return elem
                        }

                        function setGlobalEval(elems, refElements) {
                            var i = 0,
                                l = elems.length;
                            for (; i < l; i++) {
                                data_priv.set(elems[i], "globalEval", !refElements || data_priv.get(refElements[i], "globalEval"))
                            }
                        }

                        function cloneCopyEvent(src, dest) {
                            var i, l, type, pdataOld, pdataCur, udataOld, udataCur, events;
                            if (dest.nodeType !== 1) {
                                return
                            }
                            if (data_priv.hasData(src)) {
                                pdataOld = data_priv.access(src);
                                pdataCur = data_priv.set(dest, pdataOld);
                                events = pdataOld.events;
                                if (events) {
                                    delete pdataCur.handle;
                                    pdataCur.events = {};
                                    for (type in events) {
                                        for (i = 0, l = events[type].length; i < l; i++) {
                                            jQuery.event.add(dest, type, events[type][i])
                                        }
                                    }
                                }
                            }
                            if (data_user.hasData(src)) {
                                udataOld = data_user.access(src);
                                udataCur = jQuery.extend({}, udataOld);
                                data_user.set(dest, udataCur)
                            }
                        }

                        function getAll(context, tag) {
                            var ret = context.getElementsByTagName ? context.getElementsByTagName(tag || "*") : context.querySelectorAll ? context.querySelectorAll(tag || "*") : [];
                            return tag === undefined || tag && jQuery.nodeName(context, tag) ? jQuery.merge([context], ret) : ret
                        }

                        function fixInput(src, dest) {
                            var nodeName = dest.nodeName.toLowerCase();
                            if (nodeName === "input" && rcheckableType.test(src.type)) {
                                dest.checked = src.checked
                            } else if (nodeName === "input" || nodeName === "textarea") {
                                dest.defaultValue = src.defaultValue
                            }
                        }
                        jQuery.extend({
                            clone: function(elem, dataAndEvents, deepDataAndEvents) {
                                var i, l, srcElements, destElements, clone = elem.cloneNode(true),
                                    inPage = jQuery.contains(elem.ownerDocument, elem);
                                if (!support.noCloneChecked && (elem.nodeType === 1 || elem.nodeType === 11) && !jQuery.isXMLDoc(elem)) {
                                    destElements = getAll(clone);
                                    srcElements = getAll(elem);
                                    for (i = 0, l = srcElements.length; i < l; i++) {
                                        fixInput(srcElements[i], destElements[i])
                                    }
                                }
                                if (dataAndEvents) {
                                    if (deepDataAndEvents) {
                                        srcElements = srcElements || getAll(elem);
                                        destElements = destElements || getAll(clone);
                                        for (i = 0, l = srcElements.length; i < l; i++) {
                                            cloneCopyEvent(srcElements[i], destElements[i])
                                        }
                                    } else {
                                        cloneCopyEvent(elem, clone)
                                    }
                                }
                                destElements = getAll(clone, "script");
                                if (destElements.length > 0) {
                                    setGlobalEval(destElements, !inPage && getAll(elem, "script"))
                                }
                                return clone
                            },
                            buildFragment: function(elems, context, scripts, selection) {
                                var elem, tmp, tag, wrap, contains, j, fragment = context.createDocumentFragment(),
                                    nodes = [],
                                    i = 0,
                                    l = elems.length;
                                for (; i < l; i++) {
                                    elem = elems[i];
                                    if (elem || elem === 0) {
                                        if (jQuery.type(elem) === "object") {
                                            jQuery.merge(nodes, elem.nodeType ? [elem] : elem)
                                        } else if (!rhtml.test(elem)) {
                                            nodes.push(context.createTextNode(elem))
                                        } else {
                                            tmp = tmp || fragment.appendChild(context.createElement("div"));
                                            tag = (rtagName.exec(elem) || ["", ""])[1].toLowerCase();
                                            wrap = wrapMap[tag] || wrapMap._default;
                                            tmp.innerHTML = wrap[1] + elem.replace(rxhtmlTag, "<$1></$2>") + wrap[2];
                                            j = wrap[0];
                                            while (j--) {
                                                tmp = tmp.lastChild
                                            }
                                            jQuery.merge(nodes, tmp.childNodes);
                                            tmp = fragment.firstChild;
                                            tmp.textContent = ""
                                        }
                                    }
                                }
                                fragment.textContent = "";
                                i = 0;
                                while (elem = nodes[i++]) {
                                    if (selection && jQuery.inArray(elem, selection) !== -1) {
                                        continue
                                    }
                                    contains = jQuery.contains(elem.ownerDocument, elem);
                                    tmp = getAll(fragment.appendChild(elem), "script");
                                    if (contains) {
                                        setGlobalEval(tmp)
                                    }
                                    if (scripts) {
                                        j = 0;
                                        while (elem = tmp[j++]) {
                                            if (rscriptType.test(elem.type || "")) {
                                                scripts.push(elem)
                                            }
                                        }
                                    }
                                }
                                return fragment
                            },
                            cleanData: function(elems) {
                                var data, elem, type, key, special = jQuery.event.special,
                                    i = 0;
                                for (;
                                    (elem = elems[i]) !== undefined; i++) {
                                    if (jQuery.acceptData(elem)) {
                                        key = elem[data_priv.expando];
                                        if (key && (data = data_priv.cache[key])) {
                                            if (data.events) {
                                                for (type in data.events) {
                                                    if (special[type]) {
                                                        jQuery.event.remove(elem, type)
                                                    } else {
                                                        jQuery.removeEvent(elem, type, data.handle)
                                                    }
                                                }
                                            }
                                            if (data_priv.cache[key]) {
                                                delete data_priv.cache[key]
                                            }
                                        }
                                    }
                                    delete data_user.cache[elem[data_user.expando]]
                                }
                            }
                        });
                        jQuery.fn.extend({
                            text: function(value) {
                                return access(this, function(value) {
                                    return value === undefined ? jQuery.text(this) : this.empty().each(function() {
                                        if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                                            this.textContent = value
                                        }
                                    })
                                }, null, value, arguments.length)
                            },
                            append: function() {
                                return this.domManip(arguments, function(elem) {
                                    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                                        var target = manipulationTarget(this, elem);
                                        target.appendChild(elem)
                                    }
                                })
                            },
                            prepend: function() {
                                return this.domManip(arguments, function(elem) {
                                    if (this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9) {
                                        var target = manipulationTarget(this, elem);
                                        target.insertBefore(elem, target.firstChild)
                                    }
                                })
                            },
                            before: function() {
                                return this.domManip(arguments, function(elem) {
                                    if (this.parentNode) {
                                        this.parentNode.insertBefore(elem, this)
                                    }
                                })
                            },
                            after: function() {
                                return this.domManip(arguments, function(elem) {
                                    if (this.parentNode) {
                                        this.parentNode.insertBefore(elem, this.nextSibling)
                                    }
                                })
                            },
                            remove: function(selector, keepData) {
                                var elem, elems = selector ? jQuery.filter(selector, this) : this,
                                    i = 0;
                                for (;
                                    (elem = elems[i]) != null; i++) {
                                    if (!keepData && elem.nodeType === 1) {
                                        jQuery.cleanData(getAll(elem))
                                    }
                                    if (elem.parentNode) {
                                        if (keepData && jQuery.contains(elem.ownerDocument, elem)) {
                                            setGlobalEval(getAll(elem, "script"))
                                        }
                                        elem.parentNode.removeChild(elem)
                                    }
                                }
                                return this
                            },
                            empty: function() {
                                var elem, i = 0;
                                for (;
                                    (elem = this[i]) != null; i++) {
                                    if (elem.nodeType === 1) {
                                        jQuery.cleanData(getAll(elem, false));
                                        elem.textContent = ""
                                    }
                                }
                                return this
                            },
                            clone: function(dataAndEvents, deepDataAndEvents) {
                                dataAndEvents = dataAndEvents == null ? false : dataAndEvents;
                                deepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;
                                return this.map(function() {
                                    return jQuery.clone(this, dataAndEvents, deepDataAndEvents)
                                })
                            },
                            html: function(value) {
                                return access(this, function(value) {
                                    var elem = this[0] || {},
                                        i = 0,
                                        l = this.length;
                                    if (value === undefined && elem.nodeType === 1) {
                                        return elem.innerHTML
                                    }
                                    if (typeof value === "string" && !rnoInnerhtml.test(value) && !wrapMap[(rtagName.exec(value) || ["", ""])[1].toLowerCase()]) {
                                        value = value.replace(rxhtmlTag, "<$1></$2>");
                                        try {
                                            for (; i < l; i++) {
                                                elem = this[i] || {};
                                                if (elem.nodeType === 1) {
                                                    jQuery.cleanData(getAll(elem, false));
                                                    elem.innerHTML = value
                                                }
                                            }
                                            elem = 0
                                        } catch (e) {}
                                    }
                                    if (elem) {
                                        this.empty().append(value)
                                    }
                                }, null, value, arguments.length)
                            },
                            replaceWith: function() {
                                var arg = arguments[0];
                                this.domManip(arguments, function(elem) {
                                    arg = this.parentNode;
                                    jQuery.cleanData(getAll(this));
                                    if (arg) {
                                        arg.replaceChild(elem, this)
                                    }
                                });
                                return arg && (arg.length || arg.nodeType) ? this : this.remove()
                            },
                            detach: function(selector) {
                                return this.remove(selector, true)
                            },
                            domManip: function(args, callback) {
                                args = concat.apply([], args);
                                var fragment, first, scripts, hasScripts, node, doc, i = 0,
                                    l = this.length,
                                    set = this,
                                    iNoClone = l - 1,
                                    value = args[0],
                                    isFunction = jQuery.isFunction(value);
                                if (isFunction || l > 1 && typeof value === "string" && !support.checkClone && rchecked.test(value)) {
                                    return this.each(function(index) {
                                        var self = set.eq(index);
                                        if (isFunction) {
                                            args[0] = value.call(this, index, self.html())
                                        }
                                        self.domManip(args, callback)
                                    })
                                }
                                if (l) {
                                    fragment = jQuery.buildFragment(args, this[0].ownerDocument, false, this);
                                    first = fragment.firstChild;
                                    if (fragment.childNodes.length === 1) {
                                        fragment = first
                                    }
                                    if (first) {
                                        scripts = jQuery.map(getAll(fragment, "script"), disableScript);
                                        hasScripts = scripts.length;
                                        for (; i < l; i++) {
                                            node = fragment;
                                            if (i !== iNoClone) {
                                                node = jQuery.clone(node, true, true);
                                                if (hasScripts) {
                                                    jQuery.merge(scripts, getAll(node, "script"))
                                                }
                                            }
                                            callback.call(this[i], node, i)
                                        }
                                        if (hasScripts) {
                                            doc = scripts[scripts.length - 1].ownerDocument;
                                            jQuery.map(scripts, restoreScript);
                                            for (i = 0; i < hasScripts; i++) {
                                                node = scripts[i];
                                                if (rscriptType.test(node.type || "") && !data_priv.access(node, "globalEval") && jQuery.contains(doc, node)) {
                                                    if (node.src) {
                                                        if (jQuery._evalUrl) {
                                                            jQuery._evalUrl(node.src)
                                                        }
                                                    } else {
                                                        jQuery.globalEval(node.textContent.replace(rcleanScript, ""))
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                                return this
                            }
                        });
                        jQuery.each({
                            appendTo: "append",
                            prependTo: "prepend",
                            insertBefore: "before",
                            insertAfter: "after",
                            replaceAll: "replaceWith"
                        }, function(name, original) {
                            jQuery.fn[name] = function(selector) {
                                var elems, ret = [],
                                    insert = jQuery(selector),
                                    last = insert.length - 1,
                                    i = 0;
                                for (; i <= last; i++) {
                                    elems = i === last ? this : this.clone(true);
                                    jQuery(insert[i])[original](elems);
                                    push.apply(ret, elems.get())
                                }
                                return this.pushStack(ret)
                            }
                        });
                        var iframe, elemdisplay = {};

                        function actualDisplay(name, doc) {
                            var style, elem = jQuery(doc.createElement(name)).appendTo(doc.body),
                                display = window.getDefaultComputedStyle && (style = window.getDefaultComputedStyle(elem[0])) ? style.display : jQuery.css(elem[0], "display");
                            elem.detach();
                            return display
                        }

                        function defaultDisplay(nodeName) {
                            var doc = document,
                                display = elemdisplay[nodeName];
                            if (!display) {
                                display = actualDisplay(nodeName, doc);
                                if (display === "none" || !display) {
                                    iframe = (iframe || jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement);
                                    doc = iframe[0].contentDocument;
                                    doc.write();
                                    doc.close();
                                    display = actualDisplay(nodeName, doc);
                                    iframe.detach()
                                }
                                elemdisplay[nodeName] = display
                            }
                            return display
                        }
                        var rmargin = /^margin/;
                        var rnumnonpx = new RegExp("^(" + pnum + ")(?!px)[a-z%]+$", "i");
                        var getStyles = function(elem) {
                            if (elem.ownerDocument.defaultView.opener) {
                                return elem.ownerDocument.defaultView.getComputedStyle(elem, null)
                            }
                            return window.getComputedStyle(elem, null)
                        };

                        function curCSS(elem, name, computed) {
                            var width, minWidth, maxWidth, ret, style = elem.style;
                            computed = computed || getStyles(elem);
                            if (computed) {
                                ret = computed.getPropertyValue(name) || computed[name]
                            }
                            if (computed) {
                                if (ret === "" && !jQuery.contains(elem.ownerDocument, elem)) {
                                    ret = jQuery.style(elem, name)
                                }
                                if (rnumnonpx.test(ret) && rmargin.test(name)) {
                                    width = style.width;
                                    minWidth = style.minWidth;
                                    maxWidth = style.maxWidth;
                                    style.minWidth = style.maxWidth = style.width = ret;
                                    ret = computed.width;
                                    style.width = width;
                                    style.minWidth = minWidth;
                                    style.maxWidth = maxWidth
                                }
                            }
                            return ret !== undefined ? ret + "" : ret
                        }

                        function addGetHookIf(conditionFn, hookFn) {
                            return {
                                get: function() {
                                    if (conditionFn()) {
                                        delete this.get;
                                        return
                                    }
                                    return (this.get = hookFn).apply(this, arguments)
                                }
                            }
                        }(function() {
                            var pixelPositionVal, boxSizingReliableVal, docElem = document.documentElement,
                                container = document.createElement("div"),
                                div = document.createElement("div");
                            if (!div.style) {
                                return
                            }
                            div.style.backgroundClip = "content-box";
                            div.cloneNode(true).style.backgroundClip = "";
                            support.clearCloneStyle = div.style.backgroundClip === "content-box";
                            container.style.cssText = "border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;" + "position:absolute";
                            container.appendChild(div);

                            function computePixelPositionAndBoxSizingReliable() {
                                div.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;" + "box-sizing:border-box;display:block;margin-top:1%;top:1%;" + "border:1px;padding:1px;width:4px;position:absolute";
                                div.innerHTML = "";
                                docElem.appendChild(container);
                                var divStyle = window.getComputedStyle(div, null);
                                pixelPositionVal = divStyle.top !== "1%";
                                boxSizingReliableVal = divStyle.width === "4px";
                                docElem.removeChild(container)
                            }
                            if (window.getComputedStyle) {
                                jQuery.extend(support, {
                                    pixelPosition: function() {
                                        computePixelPositionAndBoxSizingReliable();
                                        return pixelPositionVal
                                    },
                                    boxSizingReliable: function() {
                                        if (boxSizingReliableVal == null) {
                                            computePixelPositionAndBoxSizingReliable()
                                        }
                                        return boxSizingReliableVal
                                    },
                                    reliableMarginRight: function() {
                                        var ret, marginDiv = div.appendChild(document.createElement("div"));
                                        marginDiv.style.cssText = div.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;" + "box-sizing:content-box;display:block;margin:0;border:0;padding:0";
                                        marginDiv.style.marginRight = marginDiv.style.width = "0";
                                        div.style.width = "1px";
                                        docElem.appendChild(container);
                                        ret = !parseFloat(window.getComputedStyle(marginDiv, null).marginRight);
                                        docElem.removeChild(container);
                                        div.removeChild(marginDiv);
                                        return ret
                                    }
                                })
                            }
                        })();
                        jQuery.swap = function(elem, options, callback, args) {
                            var ret, name, old = {};
                            for (name in options) {
                                old[name] = elem.style[name];
                                elem.style[name] = options[name]
                            }
                            ret = callback.apply(elem, args || []);
                            for (name in options) {
                                elem.style[name] = old[name]
                            }
                            return ret
                        };
                        var rdisplayswap = /^(none|table(?!-c[ea]).+)/,
                            rnumsplit = new RegExp("^(" + pnum + ")(.*)$", "i"),
                            rrelNum = new RegExp("^([+-])=(" + pnum + ")", "i"),
                            cssShow = {
                                position: "absolute",
                                visibility: "hidden",
                                display: "block"
                            },
                            cssNormalTransform = {
                                letterSpacing: "0",
                                fontWeight: "400"
                            },
                            cssPrefixes = ["Webkit", "O", "Moz", "ms"];

                        function vendorPropName(style, name) {
                            if (name in style) {
                                return name
                            }
                            var capName = name[0].toUpperCase() + name.slice(1),
                                origName = name,
                                i = cssPrefixes.length;
                            while (i--) {
                                name = cssPrefixes[i] + capName;
                                if (name in style) {
                                    return name
                                }
                            }
                            return origName
                        }

                        function setPositiveNumber(elem, value, subtract) {
                            var matches = rnumsplit.exec(value);
                            return matches ? Math.max(0, matches[1] - (subtract || 0)) + (matches[2] || "px") : value
                        }

                        function augmentWidthOrHeight(elem, name, extra, isBorderBox, styles) {
                            var i = extra === (isBorderBox ? "border" : "content") ? 4 : name === "width" ? 1 : 0,
                                val = 0;
                            for (; i < 4; i += 2) {
                                if (extra === "margin") {
                                    val += jQuery.css(elem, extra + cssExpand[i], true, styles)
                                }
                                if (isBorderBox) {
                                    if (extra === "content") {
                                        val -= jQuery.css(elem, "padding" + cssExpand[i], true, styles)
                                    }
                                    if (extra !== "margin") {
                                        val -= jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles)
                                    }
                                } else {
                                    val += jQuery.css(elem, "padding" + cssExpand[i], true, styles);
                                    if (extra !== "padding") {
                                        val += jQuery.css(elem, "border" + cssExpand[i] + "Width", true, styles)
                                    }
                                }
                            }
                            return val
                        }

                        function getWidthOrHeight(elem, name, extra) {
                            var valueIsBorderBox = true,
                                val = name === "width" ? elem.offsetWidth : elem.offsetHeight,
                                styles = getStyles(elem),
                                isBorderBox = jQuery.css(elem, "boxSizing", false, styles) === "border-box";
                            if (val <= 0 || val == null) {
                                val = curCSS(elem, name, styles);
                                if (val < 0 || val == null) {
                                    val = elem.style[name]
                                }
                                if (rnumnonpx.test(val)) {
                                    return val
                                }
                                valueIsBorderBox = isBorderBox && (support.boxSizingReliable() || val === elem.style[name]);
                                val = parseFloat(val) || 0
                            }
                            return val + augmentWidthOrHeight(elem, name, extra || (isBorderBox ? "border" : "content"), valueIsBorderBox, styles) + "px"
                        }

                        function showHide(elements, show) {
                            var display, elem, hidden, values = [],
                                index = 0,
                                length = elements.length;
                            for (; index < length; index++) {
                                elem = elements[index];
                                if (!elem.style) {
                                    continue
                                }
                                values[index] = data_priv.get(elem, "olddisplay");
                                display = elem.style.display;
                                if (show) {
                                    if (!values[index] && display === "none") {
                                        elem.style.display = ""
                                    }
                                    if (elem.style.display === "" && isHidden(elem)) {
                                        values[index] = data_priv.access(elem, "olddisplay", defaultDisplay(elem.nodeName))
                                    }
                                } else {
                                    hidden = isHidden(elem);
                                    if (display !== "none" || !hidden) {
                                        data_priv.set(elem, "olddisplay", hidden ? display : jQuery.css(elem, "display"))
                                    }
                                }
                            }
                            for (index = 0; index < length; index++) {
                                elem = elements[index];
                                if (!elem.style) {
                                    continue
                                }
                                if (!show || elem.style.display === "none" || elem.style.display === "") {
                                    elem.style.display = show ? values[index] || "" : "none"
                                }
                            }
                            return elements
                        }
                        jQuery.extend({
                            cssHooks: {
                                opacity: {
                                    get: function(elem, computed) {
                                        if (computed) {
                                            var ret = curCSS(elem, "opacity");
                                            return ret === "" ? "1" : ret
                                        }
                                    }
                                }
                            },
                            cssNumber: {
                                columnCount: true,
                                fillOpacity: true,
                                flexGrow: true,
                                flexShrink: true,
                                fontWeight: true,
                                lineHeight: true,
                                opacity: true,
                                order: true,
                                orphans: true,
                                widows: true,
                                zIndex: true,
                                zoom: true
                            },
                            cssProps: {
                                "float": "cssFloat"
                            },
                            style: function(elem, name, value, extra) {
                                if (!elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style) {
                                    return
                                }
                                var ret, type, hooks, origName = jQuery.camelCase(name),
                                    style = elem.style;
                                name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(style, origName));
                                hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];
                                if (value !== undefined) {
                                    type = typeof value;
                                    if (type === "string" && (ret = rrelNum.exec(value))) {
                                        value = (ret[1] + 1) * ret[2] + parseFloat(jQuery.css(elem, name));
                                        type = "number"
                                    }
                                    if (value == null || value !== value) {
                                        return
                                    }
                                    if (type === "number" && !jQuery.cssNumber[origName]) {
                                        value += "px"
                                    }
                                    if (!support.clearCloneStyle && value === "" && name.indexOf("background") === 0) {
                                        style[name] = "inherit"
                                    }
                                    if (!hooks || !("set" in hooks) || (value = hooks.set(elem, value, extra)) !== undefined) {
                                        style[name] = value
                                    }
                                } else {
                                    if (hooks && "get" in hooks && (ret = hooks.get(elem, false, extra)) !== undefined) {
                                        return ret
                                    }
                                    return style[name]
                                }
                            },
                            css: function(elem, name, extra, styles) {
                                var val, num, hooks, origName = jQuery.camelCase(name);
                                name = jQuery.cssProps[origName] || (jQuery.cssProps[origName] = vendorPropName(elem.style, origName));
                                hooks = jQuery.cssHooks[name] || jQuery.cssHooks[origName];
                                if (hooks && "get" in hooks) {
                                    val = hooks.get(elem, true, extra)
                                }
                                if (val === undefined) {
                                    val = curCSS(elem, name, styles)
                                }
                                if (val === "normal" && name in cssNormalTransform) {
                                    val = cssNormalTransform[name]
                                }
                                if (extra === "" || extra) {
                                    num = parseFloat(val);
                                    return extra === true || jQuery.isNumeric(num) ? num || 0 : val
                                }
                                return val
                            }
                        });
                        jQuery.each(["height", "width"], function(i, name) {
                            jQuery.cssHooks[name] = {
                                get: function(elem, computed, extra) {
                                    if (computed) {
                                        return rdisplayswap.test(jQuery.css(elem, "display")) && elem.offsetWidth === 0 ? jQuery.swap(elem, cssShow, function() {
                                            return getWidthOrHeight(elem, name, extra)
                                        }) : getWidthOrHeight(elem, name, extra)
                                    }
                                },
                                set: function(elem, value, extra) {
                                    var styles = extra && getStyles(elem);
                                    return setPositiveNumber(elem, value, extra ? augmentWidthOrHeight(elem, name, extra, jQuery.css(elem, "boxSizing", false, styles) === "border-box", styles) : 0)
                                }
                            }
                        });
                        jQuery.cssHooks.marginRight = addGetHookIf(support.reliableMarginRight, function(elem, computed) {
                            if (computed) {
                                return jQuery.swap(elem, {
                                    display: "inline-block"
                                }, curCSS, [elem, "marginRight"])
                            }
                        });
                        jQuery.each({
                            margin: "",
                            padding: "",
                            border: "Width"
                        }, function(prefix, suffix) {
                            jQuery.cssHooks[prefix + suffix] = {
                                expand: function(value) {
                                    var i = 0,
                                        expanded = {},
                                        parts = typeof value === "string" ? value.split(" ") : [value];
                                    for (; i < 4; i++) {
                                        expanded[prefix + cssExpand[i] + suffix] = parts[i] || parts[i - 2] || parts[0]
                                    }
                                    return expanded
                                }
                            };
                            if (!rmargin.test(prefix)) {
                                jQuery.cssHooks[prefix + suffix].set = setPositiveNumber
                            }
                        });
                        jQuery.fn.extend({
                            css: function(name, value) {
                                return access(this, function(elem, name, value) {
                                    var styles, len, map = {},
                                        i = 0;
                                    if (jQuery.isArray(name)) {
                                        styles = getStyles(elem);
                                        len = name.length;
                                        for (; i < len; i++) {
                                            map[name[i]] = jQuery.css(elem, name[i], false, styles)
                                        }
                                        return map
                                    }
                                    return value !== undefined ? jQuery.style(elem, name, value) : jQuery.css(elem, name)
                                }, name, value, arguments.length > 1)
                            },
                            show: function() {
                                return showHide(this, true)
                            },
                            hide: function() {
                                return showHide(this)
                            },
                            toggle: function(state) {
                                if (typeof state === "boolean") {
                                    return state ? this.show() : this.hide()
                                }
                                return this.each(function() {
                                    if (isHidden(this)) {
                                        jQuery(this).show()
                                    } else {
                                        jQuery(this).hide()
                                    }
                                })
                            }
                        });

                        function Tween(elem, options, prop, end, easing) {
                            return new Tween.prototype.init(elem, options, prop, end, easing)
                        }
                        jQuery.Tween = Tween;
                        Tween.prototype = {
                            constructor: Tween,
                            init: function(elem, options, prop, end, easing, unit) {
                                this.elem = elem;
                                this.prop = prop;
                                this.easing = easing || "swing";
                                this.options = options;
                                this.start = this.now = this.cur();
                                this.end = end;
                                this.unit = unit || (jQuery.cssNumber[prop] ? "" : "px")
                            },
                            cur: function() {
                                var hooks = Tween.propHooks[this.prop];
                                return hooks && hooks.get ? hooks.get(this) : Tween.propHooks._default.get(this)
                            },
                            run: function(percent) {
                                var eased, hooks = Tween.propHooks[this.prop];
                                if (this.options.duration) {
                                    this.pos = eased = jQuery.easing[this.easing](percent, this.options.duration * percent, 0, 1, this.options.duration)
                                } else {
                                    this.pos = eased = percent
                                }
                                this.now = (this.end - this.start) * eased + this.start;
                                if (this.options.step) {
                                    this.options.step.call(this.elem, this.now, this)
                                }
                                if (hooks && hooks.set) {
                                    hooks.set(this)
                                } else {
                                    Tween.propHooks._default.set(this)
                                }
                                return this
                            }
                        };
                        Tween.prototype.init.prototype = Tween.prototype;
                        Tween.propHooks = {
                            _default: {
                                get: function(tween) {
                                    var result;
                                    if (tween.elem[tween.prop] != null && (!tween.elem.style || tween.elem.style[tween.prop] == null)) {
                                        return tween.elem[tween.prop]
                                    }
                                    result = jQuery.css(tween.elem, tween.prop, "");
                                    return !result || result === "auto" ? 0 : result
                                },
                                set: function(tween) {
                                    if (jQuery.fx.step[tween.prop]) {
                                        jQuery.fx.step[tween.prop](tween)
                                    } else if (tween.elem.style && (tween.elem.style[jQuery.cssProps[tween.prop]] != null || jQuery.cssHooks[tween.prop])) {
                                        jQuery.style(tween.elem, tween.prop, tween.now + tween.unit)
                                    } else {
                                        tween.elem[tween.prop] = tween.now
                                    }
                                }
                            }
                        };
                        Tween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {
                            set: function(tween) {
                                if (tween.elem.nodeType && tween.elem.parentNode) {
                                    tween.elem[tween.prop] = tween.now
                                }
                            }
                        };
                        jQuery.easing = {
                            linear: function(p) {
                                return p
                            },
                            swing: function(p) {
                                return .5 - Math.cos(p * Math.PI) / 2
                            }
                        };
                        jQuery.fx = Tween.prototype.init;
                        jQuery.fx.step = {};
                        var fxNow, timerId, rfxtypes = /^(?:toggle|show|hide)$/,
                            rfxnum = new RegExp("^(?:([+-])=|)(" + pnum + ")([a-z%]*)$", "i"),
                            rrun = /queueHooks$/,
                            animationPrefilters = [defaultPrefilter],
                            tweeners = {
                                "*": [function(prop, value) {
                                    var tween = this.createTween(prop, value),
                                        target = tween.cur(),
                                        parts = rfxnum.exec(value),
                                        unit = parts && parts[3] || (jQuery.cssNumber[prop] ? "" : "px"),
                                        start = (jQuery.cssNumber[prop] || unit !== "px" && +target) && rfxnum.exec(jQuery.css(tween.elem, prop)),
                                        scale = 1,
                                        maxIterations = 20;
                                    if (start && start[3] !== unit) {
                                        unit = unit || start[3];
                                        parts = parts || [];
                                        start = +target || 1;
                                        do {
                                            scale = scale || ".5";
                                            start = start / scale;
                                            jQuery.style(tween.elem, prop, start + unit)
                                        } while (scale !== (scale = tween.cur() / target) && scale !== 1 && --maxIterations)
                                    }
                                    if (parts) {
                                        start = tween.start = +start || +target || 0;
                                        tween.unit = unit;
                                        tween.end = parts[1] ? start + (parts[1] + 1) * parts[2] : +parts[2]
                                    }
                                    return tween
                                }]
                            };

                        function createFxNow() {
                            setTimeout(function() {
                                fxNow = undefined
                            });
                            return fxNow = jQuery.now()
                        }

                        function genFx(type, includeWidth) {
                            var which, i = 0,
                                attrs = {
                                    height: type
                                };
                            includeWidth = includeWidth ? 1 : 0;
                            for (; i < 4; i += 2 - includeWidth) {
                                which = cssExpand[i];
                                attrs["margin" + which] = attrs["padding" + which] = type
                            }
                            if (includeWidth) {
                                attrs.opacity = attrs.width = type
                            }
                            return attrs
                        }

                        function createTween(value, prop, animation) {
                            var tween, collection = (tweeners[prop] || []).concat(tweeners["*"]),
                                index = 0,
                                length = collection.length;
                            for (; index < length; index++) {
                                if (tween = collection[index].call(animation, prop, value)) {
                                    return tween
                                }
                            }
                        }

                        function defaultPrefilter(elem, props, opts) {
                            var prop, value, toggle, tween, hooks, oldfire, display, checkDisplay, anim = this,
                                orig = {},
                                style = elem.style,
                                hidden = elem.nodeType && isHidden(elem),
                                dataShow = data_priv.get(elem, "fxshow");
                            if (!opts.queue) {
                                hooks = jQuery._queueHooks(elem, "fx");
                                if (hooks.unqueued == null) {
                                    hooks.unqueued = 0;
                                    oldfire = hooks.empty.fire;
                                    hooks.empty.fire = function() {
                                        if (!hooks.unqueued) {
                                            oldfire()
                                        }
                                    }
                                }
                                hooks.unqueued++;
                                anim.always(function() {
                                    anim.always(function() {
                                        hooks.unqueued--;
                                        if (!jQuery.queue(elem, "fx").length) {
                                            hooks.empty.fire()
                                        }
                                    })
                                })
                            }
                            if (elem.nodeType === 1 && ("height" in props || "width" in props)) {
                                opts.overflow = [style.overflow, style.overflowX, style.overflowY];
                                display = jQuery.css(elem, "display");
                                checkDisplay = display === "none" ? data_priv.get(elem, "olddisplay") || defaultDisplay(elem.nodeName) : display;
                                if (checkDisplay === "inline" && jQuery.css(elem, "float") === "none") {
                                    style.display = "inline-block"
                                }
                            }
                            if (opts.overflow) {
                                style.overflow = "hidden";
                                anim.always(function() {
                                    style.overflow = opts.overflow[0];
                                    style.overflowX = opts.overflow[1];
                                    style.overflowY = opts.overflow[2]
                                })
                            }
                            for (prop in props) {
                                value = props[prop];
                                if (rfxtypes.exec(value)) {
                                    delete props[prop];
                                    toggle = toggle || value === "toggle";
                                    if (value === (hidden ? "hide" : "show")) {
                                        if (value === "show" && dataShow && dataShow[prop] !== undefined) {
                                            hidden = true
                                        } else {
                                            continue
                                        }
                                    }
                                    orig[prop] = dataShow && dataShow[prop] || jQuery.style(elem, prop)
                                } else {
                                    display = undefined
                                }
                            }
                            if (!jQuery.isEmptyObject(orig)) {
                                if (dataShow) {
                                    if ("hidden" in dataShow) {
                                        hidden = dataShow.hidden
                                    }
                                } else {
                                    dataShow = data_priv.access(elem, "fxshow", {})
                                }
                                if (toggle) {
                                    dataShow.hidden = !hidden
                                }
                                if (hidden) {
                                    jQuery(elem).show()
                                } else {
                                    anim.done(function() {
                                        jQuery(elem).hide()
                                    })
                                }
                                anim.done(function() {
                                    var prop;
                                    data_priv.remove(elem, "fxshow");
                                    for (prop in orig) {
                                        jQuery.style(elem, prop, orig[prop])
                                    }
                                });
                                for (prop in orig) {
                                    tween = createTween(hidden ? dataShow[prop] : 0, prop, anim);
                                    if (!(prop in dataShow)) {
                                        dataShow[prop] = tween.start;
                                        if (hidden) {
                                            tween.end = tween.start;
                                            tween.start = prop === "width" || prop === "height" ? 1 : 0
                                        }
                                    }
                                }
                            } else if ((display === "none" ? defaultDisplay(elem.nodeName) : display) === "inline") {
                                style.display = display
                            }
                        }

                        function propFilter(props, specialEasing) {
                            var index, name, easing, value, hooks;
                            for (index in props) {
                                name = jQuery.camelCase(index);
                                easing = specialEasing[name];
                                value = props[index];
                                if (jQuery.isArray(value)) {
                                    easing = value[1];
                                    value = props[index] = value[0]
                                }
                                if (index !== name) {
                                    props[name] = value;
                                    delete props[index]
                                }
                                hooks = jQuery.cssHooks[name];
                                if (hooks && "expand" in hooks) {
                                    value = hooks.expand(value);
                                    delete props[name];
                                    for (index in value) {
                                        if (!(index in props)) {
                                            props[index] = value[index];
                                            specialEasing[index] = easing
                                        }
                                    }
                                } else {
                                    specialEasing[name] = easing
                                }
                            }
                        }

                        function Animation(elem, properties, options) {
                            var result, stopped, index = 0,
                                length = animationPrefilters.length,
                                deferred = jQuery.Deferred().always(function() {
                                    delete tick.elem
                                }),
                                tick = function() {
                                    if (stopped) {
                                        return false
                                    }
                                    var currentTime = fxNow || createFxNow(),
                                        remaining = Math.max(0, animation.startTime + animation.duration - currentTime),
                                        temp = remaining / animation.duration || 0,
                                        percent = 1 - temp,
                                        index = 0,
                                        length = animation.tweens.length;
                                    for (; index < length; index++) {
                                        animation.tweens[index].run(percent)
                                    }
                                    deferred.notifyWith(elem, [animation, percent, remaining]);
                                    if (percent < 1 && length) {
                                        return remaining
                                    } else {
                                        deferred.resolveWith(elem, [animation]);
                                        return false
                                    }
                                },
                                animation = deferred.promise({
                                    elem: elem,
                                    props: jQuery.extend({}, properties),
                                    opts: jQuery.extend(true, {
                                        specialEasing: {}
                                    }, options),
                                    originalProperties: properties,
                                    originalOptions: options,
                                    startTime: fxNow || createFxNow(),
                                    duration: options.duration,
                                    tweens: [],
                                    createTween: function(prop, end) {
                                        var tween = jQuery.Tween(elem, animation.opts, prop, end, animation.opts.specialEasing[prop] || animation.opts.easing);
                                        animation.tweens.push(tween);
                                        return tween
                                    },
                                    stop: function(gotoEnd) {
                                        var index = 0,
                                            length = gotoEnd ? animation.tweens.length : 0;
                                        if (stopped) {
                                            return this
                                        }
                                        stopped = true;
                                        for (; index < length; index++) {
                                            animation.tweens[index].run(1)
                                        }
                                        if (gotoEnd) {
                                            deferred.resolveWith(elem, [animation, gotoEnd])
                                        } else {
                                            deferred.rejectWith(elem, [animation, gotoEnd])
                                        }
                                        return this
                                    }
                                }),
                                props = animation.props;
                            propFilter(props, animation.opts.specialEasing);
                            for (; index < length; index++) {
                                result = animationPrefilters[index].call(animation, elem, props, animation.opts);
                                if (result) {
                                    return result
                                }
                            }
                            jQuery.map(props, createTween, animation);
                            if (jQuery.isFunction(animation.opts.start)) {
                                animation.opts.start.call(elem, animation)
                            }
                            jQuery.fx.timer(jQuery.extend(tick, {
                                elem: elem,
                                anim: animation,
                                queue: animation.opts.queue
                            }));
                            return animation.progress(animation.opts.progress).done(animation.opts.done, animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)
                        }
                        jQuery.Animation = jQuery.extend(Animation, {
                            tweener: function(props, callback) {
                                if (jQuery.isFunction(props)) {
                                    callback = props;
                                    props = ["*"]
                                } else {
                                    props = props.split(" ")
                                }
                                var prop, index = 0,
                                    length = props.length;
                                for (; index < length; index++) {
                                    prop = props[index];
                                    tweeners[prop] = tweeners[prop] || [];
                                    tweeners[prop].unshift(callback)
                                }
                            },
                            prefilter: function(callback, prepend) {
                                if (prepend) {
                                    animationPrefilters.unshift(callback)
                                } else {
                                    animationPrefilters.push(callback)
                                }
                            }
                        });
                        jQuery.speed = function(speed, easing, fn) {
                            var opt = speed && typeof speed === "object" ? jQuery.extend({}, speed) : {
                                complete: fn || !fn && easing || jQuery.isFunction(speed) && speed,
                                duration: speed,
                                easing: fn && easing || easing && !jQuery.isFunction(easing) && easing
                            };
                            opt.duration = jQuery.fx.off ? 0 : typeof opt.duration === "number" ? opt.duration : opt.duration in jQuery.fx.speeds ? jQuery.fx.speeds[opt.duration] : jQuery.fx.speeds._default;
                            if (opt.queue == null || opt.queue === true) {
                                opt.queue = "fx"
                            }
                            opt.old = opt.complete;
                            opt.complete = function() {
                                if (jQuery.isFunction(opt.old)) {
                                    opt.old.call(this)
                                }
                                if (opt.queue) {
                                    jQuery.dequeue(this, opt.queue)
                                }
                            };
                            return opt
                        };
                        jQuery.fn.extend({
                            fadeTo: function(speed, to, easing, callback) {
                                return this.filter(isHidden).css("opacity", 0).show().end().animate({
                                    opacity: to
                                }, speed, easing, callback)
                            },
                            animate: function(prop, speed, easing, callback) {
                                var empty = jQuery.isEmptyObject(prop),
                                    optall = jQuery.speed(speed, easing, callback),
                                    doAnimation = function() {
                                        var anim = Animation(this, jQuery.extend({}, prop), optall);
                                        if (empty || data_priv.get(this, "finish")) {
                                            anim.stop(true)
                                        }
                                    };
                                doAnimation.finish = doAnimation;
                                return empty || optall.queue === false ? this.each(doAnimation) : this.queue(optall.queue, doAnimation)
                            },
                            stop: function(type, clearQueue, gotoEnd) {
                                var stopQueue = function(hooks) {
                                    var stop = hooks.stop;
                                    delete hooks.stop;
                                    stop(gotoEnd)
                                };
                                if (typeof type !== "string") {
                                    gotoEnd = clearQueue;
                                    clearQueue = type;
                                    type = undefined
                                }
                                if (clearQueue && type !== false) {
                                    this.queue(type || "fx", [])
                                }
                                return this.each(function() {
                                    var dequeue = true,
                                        index = type != null && type + "queueHooks",
                                        timers = jQuery.timers,
                                        data = data_priv.get(this);
                                    if (index) {
                                        if (data[index] && data[index].stop) {
                                            stopQueue(data[index])
                                        }
                                    } else {
                                        for (index in data) {
                                            if (data[index] && data[index].stop && rrun.test(index)) {
                                                stopQueue(data[index])
                                            }
                                        }
                                    }
                                    for (index = timers.length; index--;) {
                                        if (timers[index].elem === this && (type == null || timers[index].queue === type)) {
                                            timers[index].anim.stop(gotoEnd);
                                            dequeue = false;
                                            timers.splice(index, 1)
                                        }
                                    }
                                    if (dequeue || !gotoEnd) {
                                        jQuery.dequeue(this, type)
                                    }
                                })
                            },
                            finish: function(type) {
                                if (type !== false) {
                                    type = type || "fx"
                                }
                                return this.each(function() {
                                    var index, data = data_priv.get(this),
                                        queue = data[type + "queue"],
                                        hooks = data[type + "queueHooks"],
                                        timers = jQuery.timers,
                                        length = queue ? queue.length : 0;
                                    data.finish = true;
                                    jQuery.queue(this, type, []);
                                    if (hooks && hooks.stop) {
                                        hooks.stop.call(this, true)
                                    }
                                    for (index = timers.length; index--;) {
                                        if (timers[index].elem === this && timers[index].queue === type) {
                                            timers[index].anim.stop(true);
                                            timers.splice(index, 1)
                                        }
                                    }
                                    for (index = 0; index < length; index++) {
                                        if (queue[index] && queue[index].finish) {
                                            queue[index].finish.call(this)
                                        }
                                    }
                                    delete data.finish
                                })
                            }
                        });
                        jQuery.each(["toggle", "show", "hide"], function(i, name) {
                            var cssFn = jQuery.fn[name];
                            jQuery.fn[name] = function(speed, easing, callback) {
                                return speed == null || typeof speed === "boolean" ? cssFn.apply(this, arguments) : this.animate(genFx(name, true), speed, easing, callback)
                            }
                        });
                        jQuery.each({
                            slideDown: genFx("show"),
                            slideUp: genFx("hide"),
                            slideToggle: genFx("toggle"),
                            fadeIn: {
                                opacity: "show"
                            },
                            fadeOut: {
                                opacity: "hide"
                            },
                            fadeToggle: {
                                opacity: "toggle"
                            }
                        }, function(name, props) {
                            jQuery.fn[name] = function(speed, easing, callback) {
                                return this.animate(props, speed, easing, callback)
                            }
                        });
                        jQuery.timers = [];
                        jQuery.fx.tick = function() {
                            var timer, i = 0,
                                timers = jQuery.timers;
                            fxNow = jQuery.now();
                            for (; i < timers.length; i++) {
                                timer = timers[i];
                                if (!timer() && timers[i] === timer) {
                                    timers.splice(i--, 1)
                                }
                            }
                            if (!timers.length) {
                                jQuery.fx.stop()
                            }
                            fxNow = undefined
                        };
                        jQuery.fx.timer = function(timer) {
                            jQuery.timers.push(timer);
                            if (timer()) {
                                jQuery.fx.start()
                            } else {
                                jQuery.timers.pop()
                            }
                        };
                        jQuery.fx.interval = 13;
                        jQuery.fx.start = function() {
                            if (!timerId) {
                                timerId = setInterval(jQuery.fx.tick, jQuery.fx.interval)
                            }
                        };
                        jQuery.fx.stop = function() {
                            clearInterval(timerId);
                            timerId = null
                        };
                        jQuery.fx.speeds = {
                            slow: 600,
                            fast: 200,
                            _default: 400
                        };
                        jQuery.fn.delay = function(time, type) {
                            time = jQuery.fx ? jQuery.fx.speeds[time] || time : time;
                            type = type || "fx";
                            return this.queue(type, function(next, hooks) {
                                var timeout = setTimeout(next, time);
                                hooks.stop = function() {
                                    clearTimeout(timeout)
                                }
                            })
                        };
                        (function() {
                            var input = document.createElement("input"),
                                select = document.createElement("select"),
                                opt = select.appendChild(document.createElement("option"));
                            input.type = "checkbox";
                            support.checkOn = input.value !== "";
                            support.optSelected = opt.selected;
                            select.disabled = true;
                            support.optDisabled = !opt.disabled;
                            input = document.createElement("input");
                            input.value = "t";
                            input.type = "radio";
                            support.radioValue = input.value === "t"
                        })();
                        var nodeHook, boolHook, attrHandle = jQuery.expr.attrHandle;
                        jQuery.fn.extend({
                            attr: function(name, value) {
                                return access(this, jQuery.attr, name, value, arguments.length > 1)
                            },
                            removeAttr: function(name) {
                                return this.each(function() {
                                    jQuery.removeAttr(this, name)
                                })
                            }
                        });
                        jQuery.extend({
                            attr: function(elem, name, value) {
                                var hooks, ret, nType = elem.nodeType;
                                if (!elem || nType === 3 || nType === 8 || nType === 2) {
                                    return
                                }
                                if (typeof elem.getAttribute === strundefined) {
                                    return jQuery.prop(elem, name, value)
                                }
                                if (nType !== 1 || !jQuery.isXMLDoc(elem)) {
                                    name = name.toLowerCase();
                                    hooks = jQuery.attrHooks[name] || (jQuery.expr.match.bool.test(name) ? boolHook : nodeHook)
                                }
                                if (value !== undefined) {
                                    if (value === null) {
                                        jQuery.removeAttr(elem, name)
                                    } else if (hooks && "set" in hooks && (ret = hooks.set(elem, value, name)) !== undefined) {
                                        return ret
                                    } else {
                                        elem.setAttribute(name, value + "");
                                        return value
                                    }
                                } else if (hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null) {
                                    return ret
                                } else {
                                    ret = jQuery.find.attr(elem, name);
                                    return ret == null ? undefined : ret
                                }
                            },
                            removeAttr: function(elem, value) {
                                var name, propName, i = 0,
                                    attrNames = value && value.match(rnotwhite);
                                if (attrNames && elem.nodeType === 1) {
                                    while (name = attrNames[i++]) {
                                        propName = jQuery.propFix[name] || name;
                                        if (jQuery.expr.match.bool.test(name)) {
                                            elem[propName] = false
                                        }
                                        elem.removeAttribute(name)
                                    }
                                }
                            },
                            attrHooks: {
                                type: {
                                    set: function(elem, value) {
                                        if (!support.radioValue && value === "radio" && jQuery.nodeName(elem, "input")) {
                                            var val = elem.value;
                                            elem.setAttribute("type", value);
                                            if (val) {
                                                elem.value = val
                                            }
                                            return value
                                        }
                                    }
                                }
                            }
                        });
                        boolHook = {
                            set: function(elem, value, name) {
                                if (value === false) {
                                    jQuery.removeAttr(elem, name)
                                } else {
                                    elem.setAttribute(name, name)
                                }
                                return name
                            }
                        };
                        jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g), function(i, name) {
                            var getter = attrHandle[name] || jQuery.find.attr;
                            attrHandle[name] = function(elem, name, isXML) {
                                var ret, handle;
                                if (!isXML) {
                                    handle = attrHandle[name];
                                    attrHandle[name] = ret;
                                    ret = getter(elem, name, isXML) != null ? name.toLowerCase() : null;
                                    attrHandle[name] = handle
                                }
                                return ret
                            }
                        });
                        var rfocusable = /^(?:input|select|textarea|button)$/i;
                        jQuery.fn.extend({
                            prop: function(name, value) {
                                return access(this, jQuery.prop, name, value, arguments.length > 1)
                            },
                            removeProp: function(name) {
                                return this.each(function() {
                                    delete this[jQuery.propFix[name] || name]
                                })
                            }
                        });
                        jQuery.extend({
                            propFix: {
                                "for": "htmlFor",
                                "class": "className"
                            },
                            prop: function(elem, name, value) {
                                var ret, hooks, notxml, nType = elem.nodeType;
                                if (!elem || nType === 3 || nType === 8 || nType === 2) {
                                    return
                                }
                                notxml = nType !== 1 || !jQuery.isXMLDoc(elem);
                                if (notxml) {
                                    name = jQuery.propFix[name] || name;
                                    hooks = jQuery.propHooks[name]
                                }
                                if (value !== undefined) {
                                    return hooks && "set" in hooks && (ret = hooks.set(elem, value, name)) !== undefined ? ret : elem[name] = value
                                } else {
                                    return hooks && "get" in hooks && (ret = hooks.get(elem, name)) !== null ? ret : elem[name]
                                }
                            },
                            propHooks: {
                                tabIndex: {
                                    get: function(elem) {
                                        return elem.hasAttribute("tabindex") || rfocusable.test(elem.nodeName) || elem.href ? elem.tabIndex : -1
                                    }
                                }
                            }
                        });
                        if (!support.optSelected) {
                            jQuery.propHooks.selected = {
                                get: function(elem) {
                                    var parent = elem.parentNode;
                                    if (parent && parent.parentNode) {
                                        parent.parentNode.selectedIndex
                                    }
                                    return null
                                }
                            }
                        }
                        jQuery.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
                            jQuery.propFix[this.toLowerCase()] = this
                        });
                        var rclass = /[\t\r\n\f]/g;
                        jQuery.fn.extend({
                            addClass: function(value) {
                                var classes, elem, cur, clazz, j, finalValue, proceed = typeof value === "string" && value,
                                    i = 0,
                                    len = this.length;
                                if (jQuery.isFunction(value)) {
                                    return this.each(function(j) {
                                        jQuery(this).addClass(value.call(this, j, this.className))
                                    })
                                }
                                if (proceed) {
                                    classes = (value || "").match(rnotwhite) || [];
                                    for (; i < len; i++) {
                                        elem = this[i];
                                        cur = elem.nodeType === 1 && (elem.className ? (" " + elem.className + " ").replace(rclass, " ") : " ");
                                        if (cur) {
                                            j = 0;
                                            while (clazz = classes[j++]) {
                                                if (cur.indexOf(" " + clazz + " ") < 0) {
                                                    cur += clazz + " "
                                                }
                                            }
                                            finalValue = jQuery.trim(cur);
                                            if (elem.className !== finalValue) {
                                                elem.className = finalValue
                                            }
                                        }
                                    }
                                }
                                return this
                            },
                            removeClass: function(value) {
                                var classes, elem, cur, clazz, j, finalValue, proceed = arguments.length === 0 || typeof value === "string" && value,
                                    i = 0,
                                    len = this.length;
                                if (jQuery.isFunction(value)) {
                                    return this.each(function(j) {
                                        jQuery(this).removeClass(value.call(this, j, this.className))
                                    })
                                }
                                if (proceed) {
                                    classes = (value || "").match(rnotwhite) || [];
                                    for (; i < len; i++) {
                                        elem = this[i];
                                        cur = elem.nodeType === 1 && (elem.className ? (" " + elem.className + " ").replace(rclass, " ") : "");
                                        if (cur) {
                                            j = 0;
                                            while (clazz = classes[j++]) {
                                                while (cur.indexOf(" " + clazz + " ") >= 0) {
                                                    cur = cur.replace(" " + clazz + " ", " ")
                                                }
                                            }
                                            finalValue = value ? jQuery.trim(cur) : "";
                                            if (elem.className !== finalValue) {
                                                elem.className = finalValue
                                            }
                                        }
                                    }
                                }
                                return this
                            },
                            toggleClass: function(value, stateVal) {
                                var type = typeof value;
                                if (typeof stateVal === "boolean" && type === "string") {
                                    return stateVal ? this.addClass(value) : this.removeClass(value)
                                }
                                if (jQuery.isFunction(value)) {
                                    return this.each(function(i) {
                                        jQuery(this).toggleClass(value.call(this, i, this.className, stateVal), stateVal)
                                    })
                                }
                                return this.each(function() {
                                    if (type === "string") {
                                        var className, i = 0,
                                            self = jQuery(this),
                                            classNames = value.match(rnotwhite) || [];
                                        while (className = classNames[i++]) {
                                            if (self.hasClass(className)) {
                                                self.removeClass(className)
                                            } else {
                                                self.addClass(className)
                                            }
                                        }
                                    } else if (type === strundefined || type === "boolean") {
                                        if (this.className) {
                                            data_priv.set(this, "__className__", this.className)
                                        }
                                        this.className = this.className || value === false ? "" : data_priv.get(this, "__className__") || ""
                                    }
                                })
                            },
                            hasClass: function(selector) {
                                var className = " " + selector + " ",
                                    i = 0,
                                    l = this.length;
                                for (; i < l; i++) {
                                    if (this[i].nodeType === 1 && (" " + this[i].className + " ").replace(rclass, " ").indexOf(className) >= 0) {
                                        return true
                                    }
                                }
                                return false
                            }
                        });
                        var rreturn = /\r/g;
                        jQuery.fn.extend({
                            val: function(value) {
                                var hooks, ret, isFunction, elem = this[0];
                                if (!arguments.length) {
                                    if (elem) {
                                        hooks = jQuery.valHooks[elem.type] || jQuery.valHooks[elem.nodeName.toLowerCase()];
                                        if (hooks && "get" in hooks && (ret = hooks.get(elem, "value")) !== undefined) {
                                            return ret
                                        }
                                        ret = elem.value;
                                        return typeof ret === "string" ? ret.replace(rreturn, "") : ret == null ? "" : ret
                                    }
                                    return
                                }
                                isFunction = jQuery.isFunction(value);
                                return this.each(function(i) {
                                    var val;
                                    if (this.nodeType !== 1) {
                                        return
                                    }
                                    if (isFunction) {
                                        val = value.call(this, i, jQuery(this).val())
                                    } else {
                                        val = value
                                    }
                                    if (val == null) {
                                        val = ""
                                    } else if (typeof val === "number") {
                                        val += ""
                                    } else if (jQuery.isArray(val)) {
                                        val = jQuery.map(val, function(value) {
                                            return value == null ? "" : value + ""
                                        })
                                    }
                                    hooks = jQuery.valHooks[this.type] || jQuery.valHooks[this.nodeName.toLowerCase()];
                                    if (!hooks || !("set" in hooks) || hooks.set(this, val, "value") === undefined) {
                                        this.value = val
                                    }
                                })
                            }
                        });
                        jQuery.extend({
                            valHooks: {
                                option: {
                                    get: function(elem) {
                                        var val = jQuery.find.attr(elem, "value");
                                        return val != null ? val : jQuery.trim(jQuery.text(elem))
                                    }
                                },
                                select: {
                                    get: function(elem) {
                                        var value, option, options = elem.options,
                                            index = elem.selectedIndex,
                                            one = elem.type === "select-one" || index < 0,
                                            values = one ? null : [],
                                            max = one ? index + 1 : options.length,
                                            i = index < 0 ? max : one ? index : 0;
                                        for (; i < max; i++) {
                                            option = options[i];
                                            if ((option.selected || i === index) && (support.optDisabled ? !option.disabled : option.getAttribute("disabled") === null) && (!option.parentNode.disabled || !jQuery.nodeName(option.parentNode, "optgroup"))) {
                                                value = jQuery(option).val();
                                                if (one) {
                                                    return value
                                                }
                                                values.push(value)
                                            }
                                        }
                                        return values
                                    },
                                    set: function(elem, value) {
                                        var optionSet, option, options = elem.options,
                                            values = jQuery.makeArray(value),
                                            i = options.length;
                                        while (i--) {
                                            option = options[i];
                                            if (option.selected = jQuery.inArray(option.value, values) >= 0) {
                                                optionSet = true
                                            }
                                        }
                                        if (!optionSet) {
                                            elem.selectedIndex = -1
                                        }
                                        return values
                                    }
                                }
                            }
                        });
                        jQuery.each(["radio", "checkbox"], function() {
                            jQuery.valHooks[this] = {
                                set: function(elem, value) {
                                    if (jQuery.isArray(value)) {
                                        return elem.checked = jQuery.inArray(jQuery(elem).val(), value) >= 0
                                    }
                                }
                            };
                            if (!support.checkOn) {
                                jQuery.valHooks[this].get = function(elem) {
                                    return elem.getAttribute("value") === null ? "on" : elem.value
                                }
                            }
                        });
                        jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick " + "mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave " + "change select submit keydown keypress keyup error contextmenu").split(" "), function(i, name) {
                            jQuery.fn[name] = function(data, fn) {
                                return arguments.length > 0 ? this.on(name, null, data, fn) : this.trigger(name)
                            }
                        });
                        jQuery.fn.extend({
                            hover: function(fnOver, fnOut) {
                                return this.mouseenter(fnOver).mouseleave(fnOut || fnOver)
                            },
                            bind: function(types, data, fn) {
                                return this.on(types, null, data, fn)
                            },
                            unbind: function(types, fn) {
                                return this.off(types, null, fn)
                            },
                            delegate: function(selector, types, data, fn) {
                                return this.on(types, selector, data, fn)
                            },
                            undelegate: function(selector, types, fn) {
                                return arguments.length === 1 ? this.off(selector, "**") : this.off(types, selector || "**", fn)
                            }
                        });
                        var nonce = jQuery.now();
                        var rquery = /\?/;
                        jQuery.parseJSON = function(data) {
                            return JSON.parse(data + "")
                        };
                        jQuery.parseXML = function(data) {
                            var xml, tmp;
                            if (!data || typeof data !== "string") {
                                return null
                            }
                            try {
                                tmp = new DOMParser;
                                xml = tmp.parseFromString(data, "text/xml")
                            } catch (e) {
                                xml = undefined
                            }
                            if (!xml || xml.getElementsByTagName("parsererror").length) {
                                jQuery.error("Invalid XML: " + data)
                            }
                            return xml
                        };
                        var rhash = /#.*$/,
                            rts = /([?&])_=[^&]*/,
                            rheaders = /^(.*?):[ \t]*([^\r\n]*)$/gm,
                            rlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
                            rnoContent = /^(?:GET|HEAD)$/,
                            rprotocol = /^\/\//,
                            rurl = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
                            prefilters = {},
                            transports = {},
                            allTypes = "*/".concat("*"),
                            ajaxLocation = window.location.href,
                            ajaxLocParts = rurl.exec(ajaxLocation.toLowerCase()) || [];

                        function addToPrefiltersOrTransports(structure) {
                            return function(dataTypeExpression, func) {
                                if (typeof dataTypeExpression !== "string") {
                                    func = dataTypeExpression;
                                    dataTypeExpression = "*"
                                }
                                var dataType, i = 0,
                                    dataTypes = dataTypeExpression.toLowerCase().match(rnotwhite) || [];
                                if (jQuery.isFunction(func)) {
                                    while (dataType = dataTypes[i++]) {
                                        if (dataType[0] === "+") {
                                            dataType = dataType.slice(1) || "*";
                                            (structure[dataType] = structure[dataType] || []).unshift(func)
                                        } else {
                                            (structure[dataType] = structure[dataType] || []).push(func)
                                        }
                                    }
                                }
                            }
                        }

                        function inspectPrefiltersOrTransports(structure, options, originalOptions, jqXHR) {
                            var inspected = {},
                                seekingTransport = structure === transports;

                            function inspect(dataType) {
                                var selected;
                                inspected[dataType] = true;
                                jQuery.each(structure[dataType] || [], function(_, prefilterOrFactory) {
                                    var dataTypeOrTransport = prefilterOrFactory(options, originalOptions, jqXHR);
                                    if (typeof dataTypeOrTransport === "string" && !seekingTransport && !inspected[dataTypeOrTransport]) {
                                        options.dataTypes.unshift(dataTypeOrTransport);
                                        inspect(dataTypeOrTransport);
                                        return false
                                    } else if (seekingTransport) {
                                        return !(selected = dataTypeOrTransport)
                                    }
                                });
                                return selected
                            }
                            return inspect(options.dataTypes[0]) || !inspected["*"] && inspect("*")
                        }

                        function ajaxExtend(target, src) {
                            var key, deep, flatOptions = jQuery.ajaxSettings.flatOptions || {};
                            for (key in src) {
                                if (src[key] !== undefined) {
                                    (flatOptions[key] ? target : deep || (deep = {}))[key] = src[key]
                                }
                            }
                            if (deep) {
                                jQuery.extend(true, target, deep)
                            }
                            return target
                        }

                        function ajaxHandleResponses(s, jqXHR, responses) {
                            var ct, type, finalDataType, firstDataType, contents = s.contents,
                                dataTypes = s.dataTypes;
                            while (dataTypes[0] === "*") {
                                dataTypes.shift();
                                if (ct === undefined) {
                                    ct = s.mimeType || jqXHR.getResponseHeader("Content-Type")
                                }
                            }
                            if (ct) {
                                for (type in contents) {
                                    if (contents[type] && contents[type].test(ct)) {
                                        dataTypes.unshift(type);
                                        break
                                    }
                                }
                            }
                            if (dataTypes[0] in responses) {
                                finalDataType = dataTypes[0]
                            } else {
                                for (type in responses) {
                                    if (!dataTypes[0] || s.converters[type + " " + dataTypes[0]]) {
                                        finalDataType = type;
                                        break
                                    }
                                    if (!firstDataType) {
                                        firstDataType = type
                                    }
                                }
                                finalDataType = finalDataType || firstDataType
                            }
                            if (finalDataType) {
                                if (finalDataType !== dataTypes[0]) {
                                    dataTypes.unshift(finalDataType)
                                }
                                return responses[finalDataType]
                            }
                        }

                        function ajaxConvert(s, response, jqXHR, isSuccess) {
                            var conv2, current, conv, tmp, prev, converters = {},
                                dataTypes = s.dataTypes.slice();
                            if (dataTypes[1]) {
                                for (conv in s.converters) {
                                    converters[conv.toLowerCase()] = s.converters[conv]
                                }
                            }
                            current = dataTypes.shift();
                            while (current) {
                                if (s.responseFields[current]) {
                                    jqXHR[s.responseFields[current]] = response
                                }
                                if (!prev && isSuccess && s.dataFilter) {
                                    response = s.dataFilter(response, s.dataType)
                                }
                                prev = current;
                                current = dataTypes.shift();
                                if (current) {
                                    if (current === "*") {
                                        current = prev
                                    } else if (prev !== "*" && prev !== current) {
                                        conv = converters[prev + " " + current] || converters["* " + current];
                                        if (!conv) {
                                            for (conv2 in converters) {
                                                tmp = conv2.split(" ");
                                                if (tmp[1] === current) {
                                                    conv = converters[prev + " " + tmp[0]] || converters["* " + tmp[0]];
                                                    if (conv) {
                                                        if (conv === true) {
                                                            conv = converters[conv2]
                                                        } else if (converters[conv2] !== true) {
                                                            current = tmp[0];
                                                            dataTypes.unshift(tmp[1])
                                                        }
                                                        break
                                                    }
                                                }
                                            }
                                        }
                                        if (conv !== true) {
                                            if (conv && s["throws"]) {
                                                response = conv(response)
                                            } else {
                                                try {
                                                    response = conv(response)
                                                } catch (e) {
                                                    return {
                                                        state: "parsererror",
                                                        error: conv ? e : "No conversion from " + prev + " to " + current
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                            return {
                                state: "success",
                                data: response
                            }
                        }
                        jQuery.extend({
                            active: 0,
                            lastModified: {},
                            etag: {},
                            ajaxSettings: {
                                url: ajaxLocation,
                                type: "GET",
                                isLocal: rlocalProtocol.test(ajaxLocParts[1]),
                                global: true,
                                processData: true,
                                async: true,
                                contentType: "application/x-www-form-urlencoded; charset=UTF-8",
                                accepts: {
                                    "*": allTypes,
                                    text: "text/plain",
                                    html: "text/html",
                                    xml: "application/xml, text/xml",
                                    json: "application/json, text/javascript"
                                },
                                contents: {
                                    xml: /xml/,
                                    html: /html/,
                                    json: /json/
                                },
                                responseFields: {
                                    xml: "responseXML",
                                    text: "responseText",
                                    json: "responseJSON"
                                },
                                converters: {
                                    "* text": String,
                                    "text html": true,
                                    "text json": jQuery.parseJSON,
                                    "text xml": jQuery.parseXML
                                },
                                flatOptions: {
                                    url: true,
                                    context: true
                                }
                            },
                            ajaxSetup: function(target, settings) {
                                return settings ? ajaxExtend(ajaxExtend(target, jQuery.ajaxSettings), settings) : ajaxExtend(jQuery.ajaxSettings, target)
                            },
                            ajaxPrefilter: addToPrefiltersOrTransports(prefilters),
                            ajaxTransport: addToPrefiltersOrTransports(transports),
                            ajax: function(url, options) {
                                if (typeof url === "object") {
                                    options = url;
                                    url = undefined
                                }
                                options = options || {};
                                var transport, cacheURL, responseHeadersString, responseHeaders, timeoutTimer, parts, fireGlobals, i, s = jQuery.ajaxSetup({}, options),
                                    callbackContext = s.context || s,
                                    globalEventContext = s.context && (callbackContext.nodeType || callbackContext.jquery) ? jQuery(callbackContext) : jQuery.event,
                                    deferred = jQuery.Deferred(),
                                    completeDeferred = jQuery.Callbacks("once memory"),
                                    statusCode = s.statusCode || {},
                                    requestHeaders = {},
                                    requestHeadersNames = {},
                                    state = 0,
                                    strAbort = "canceled",
                                    jqXHR = {
                                        readyState: 0,
                                        getResponseHeader: function(key) {
                                            var match;
                                            if (state === 2) {
                                                if (!responseHeaders) {
                                                    responseHeaders = {};
                                                    while (match = rheaders.exec(responseHeadersString)) {
                                                        responseHeaders[match[1].toLowerCase()] = match[2]
                                                    }
                                                }
                                                match = responseHeaders[key.toLowerCase()]
                                            }
                                            return match == null ? null : match
                                        },
                                        getAllResponseHeaders: function() {
                                            return state === 2 ? responseHeadersString : null
                                        },
                                        setRequestHeader: function(name, value) {
                                            var lname = name.toLowerCase();
                                            if (!state) {
                                                name = requestHeadersNames[lname] = requestHeadersNames[lname] || name;
                                                requestHeaders[name] = value
                                            }
                                            return this
                                        },
                                        overrideMimeType: function(type) {
                                            if (!state) {
                                                s.mimeType = type
                                            }
                                            return this
                                        },
                                        statusCode: function(map) {
                                            var code;
                                            if (map) {
                                                if (state < 2) {
                                                    for (code in map) {
                                                        statusCode[code] = [statusCode[code], map[code]]
                                                    }
                                                } else {
                                                    jqXHR.always(map[jqXHR.status])
                                                }
                                            }
                                            return this
                                        },
                                        abort: function(statusText) {
                                            var finalText = statusText || strAbort;
                                            if (transport) {
                                                transport.abort(finalText)
                                            }
                                            done(0, finalText);
                                            return this
                                        }
                                    };
                                deferred.promise(jqXHR).complete = completeDeferred.add;
                                jqXHR.success = jqXHR.done;
                                jqXHR.error = jqXHR.fail;
                                s.url = ((url || s.url || ajaxLocation) + "").replace(rhash, "").replace(rprotocol, ajaxLocParts[1] + "//");
                                s.type = options.method || options.type || s.method || s.type;
                                s.dataTypes = jQuery.trim(s.dataType || "*").toLowerCase().match(rnotwhite) || [""];
                                if (s.crossDomain == null) {
                                    parts = rurl.exec(s.url.toLowerCase());
                                    s.crossDomain = !!(parts && (parts[1] !== ajaxLocParts[1] || parts[2] !== ajaxLocParts[2] || (parts[3] || (parts[1] === "http:" ? "80" : "443")) !== (ajaxLocParts[3] || (ajaxLocParts[1] === "http:" ? "80" : "443"))))
                                }
                                if (s.data && s.processData && typeof s.data !== "string") {
                                    s.data = jQuery.param(s.data, s.traditional)
                                }
                                inspectPrefiltersOrTransports(prefilters, s, options, jqXHR);
                                if (state === 2) {
                                    return jqXHR
                                }
                                fireGlobals = jQuery.event && s.global;
                                if (fireGlobals && jQuery.active++ === 0) {
                                    jQuery.event.trigger("ajaxStart")
                                }
                                s.type = s.type.toUpperCase();
                                s.hasContent = !rnoContent.test(s.type);
                                cacheURL = s.url;
                                if (!s.hasContent) {
                                    if (s.data) {
                                        cacheURL = s.url += (rquery.test(cacheURL) ? "&" : "?") + s.data;
                                        delete s.data
                                    }
                                    if (s.cache === false) {
                                        s.url = rts.test(cacheURL) ? cacheURL.replace(rts, "$1_=" + nonce++) : cacheURL + (rquery.test(cacheURL) ? "&" : "?") + "_=" + nonce++
                                    }
                                }
                                if (s.ifModified) {
                                    if (jQuery.lastModified[cacheURL]) {
                                        jqXHR.setRequestHeader("If-Modified-Since", jQuery.lastModified[cacheURL])
                                    }
                                    if (jQuery.etag[cacheURL]) {
                                        jqXHR.setRequestHeader("If-None-Match", jQuery.etag[cacheURL])
                                    }
                                }
                                if (s.data && s.hasContent && s.contentType !== false || options.contentType) {
                                    jqXHR.setRequestHeader("Content-Type", s.contentType)
                                }
                                jqXHR.setRequestHeader("Accept", s.dataTypes[0] && s.accepts[s.dataTypes[0]] ? s.accepts[s.dataTypes[0]] + (s.dataTypes[0] !== "*" ? ", " + allTypes + "; q=0.01" : "") : s.accepts["*"]);
                                for (i in s.headers) {
                                    jqXHR.setRequestHeader(i, s.headers[i])
                                }
                                if (s.beforeSend && (s.beforeSend.call(callbackContext, jqXHR, s) === false || state === 2)) {
                                    return jqXHR.abort()
                                }
                                strAbort = "abort";
                                for (i in {
                                        success: 1,
                                        error: 1,
                                        complete: 1
                                    }) {
                                    jqXHR[i](s[i])
                                }
                                transport = inspectPrefiltersOrTransports(transports, s, options, jqXHR);
                                if (!transport) {
                                    done(-1, "No Transport")
                                } else {
                                    jqXHR.readyState = 1;
                                    if (fireGlobals) {
                                        globalEventContext.trigger("ajaxSend", [jqXHR, s])
                                    }
                                    if (s.async && s.timeout > 0) {
                                        timeoutTimer = setTimeout(function() {
                                            jqXHR.abort("timeout")
                                        }, s.timeout)
                                    }
                                    try {
                                        state = 1;
                                        transport.send(requestHeaders, done)
                                    } catch (e) {
                                        if (state < 2) {
                                            done(-1, e)
                                        } else {
                                            throw e
                                        }
                                    }
                                }

                                function done(status, nativeStatusText, responses, headers) {
                                    var isSuccess, success, error, response, modified, statusText = nativeStatusText;
                                    if (state === 2) {
                                        return
                                    }
                                    state = 2;
                                    if (timeoutTimer) {
                                        clearTimeout(timeoutTimer)
                                    }
                                    transport = undefined;
                                    responseHeadersString = headers || "";
                                    jqXHR.readyState = status > 0 ? 4 : 0;
                                    isSuccess = status >= 200 && status < 300 || status === 304;
                                    if (responses) {
                                        response = ajaxHandleResponses(s, jqXHR, responses)
                                    }
                                    response = ajaxConvert(s, response, jqXHR, isSuccess);
                                    if (isSuccess) {
                                        if (s.ifModified) {
                                            modified = jqXHR.getResponseHeader("Last-Modified");
                                            if (modified) {
                                                jQuery.lastModified[cacheURL] = modified
                                            }
                                            modified = jqXHR.getResponseHeader("etag");
                                            if (modified) {
                                                jQuery.etag[cacheURL] = modified
                                            }
                                        }
                                        if (status === 204 || s.type === "HEAD") {
                                            statusText = "nocontent"
                                        } else if (status === 304) {
                                            statusText = "notmodified"
                                        } else {
                                            statusText = response.state;
                                            success = response.data;
                                            error = response.error;
                                            isSuccess = !error
                                        }
                                    } else {
                                        error = statusText;
                                        if (status || !statusText) {
                                            statusText = "error";
                                            if (status < 0) {
                                                status = 0
                                            }
                                        }
                                    }
                                    jqXHR.status = status;
                                    jqXHR.statusText = (nativeStatusText || statusText) + "";
                                    if (isSuccess) {
                                        deferred.resolveWith(callbackContext, [success, statusText, jqXHR])
                                    } else {
                                        deferred.rejectWith(callbackContext, [jqXHR, statusText, error])
                                    }
                                    jqXHR.statusCode(statusCode);
                                    statusCode = undefined;
                                    if (fireGlobals) {
                                        globalEventContext.trigger(isSuccess ? "ajaxSuccess" : "ajaxError", [jqXHR, s, isSuccess ? success : error])
                                    }
                                    completeDeferred.fireWith(callbackContext, [jqXHR, statusText]);
                                    if (fireGlobals) {
                                        globalEventContext.trigger("ajaxComplete", [jqXHR, s]);
                                        if (!--jQuery.active) {
                                            jQuery.event.trigger("ajaxStop")
                                        }
                                    }
                                }
                                return jqXHR
                            },
                            getJSON: function(url, data, callback) {
                                return jQuery.get(url, data, callback, "json")
                            },
                            getScript: function(url, callback) {
                                return jQuery.get(url, undefined, callback, "script")
                            }
                        });
                        jQuery.each(["get", "post"], function(i, method) {
                            jQuery[method] = function(url, data, callback, type) {
                                if (jQuery.isFunction(data)) {
                                    type = type || callback;
                                    callback = data;
                                    data = undefined
                                }
                                return jQuery.ajax({
                                    url: url,
                                    type: method,
                                    dataType: type,
                                    data: data,
                                    success: callback
                                })
                            }
                        });
                        jQuery._evalUrl = function(url) {
                            return jQuery.ajax({
                                url: url,
                                type: "GET",
                                dataType: "script",
                                async: false,
                                global: false,
                                "throws": true
                            })
                        };
                        jQuery.fn.extend({
                            wrapAll: function(html) {
                                var wrap;
                                if (jQuery.isFunction(html)) {
                                    return this.each(function(i) {
                                        jQuery(this).wrapAll(html.call(this, i))
                                    })
                                }
                                if (this[0]) {
                                    wrap = jQuery(html, this[0].ownerDocument).eq(0).clone(true);
                                    if (this[0].parentNode) {
                                        wrap.insertBefore(this[0])
                                    }
                                    wrap.map(function() {
                                        var elem = this;
                                        while (elem.firstElementChild) {
                                            elem = elem.firstElementChild
                                        }
                                        return elem
                                    }).append(this)
                                }
                                return this
                            },
                            wrapInner: function(html) {
                                if (jQuery.isFunction(html)) {
                                    return this.each(function(i) {
                                        jQuery(this).wrapInner(html.call(this, i))
                                    })
                                }
                                return this.each(function() {
                                    var self = jQuery(this),
                                        contents = self.contents();
                                    if (contents.length) {
                                        contents.wrapAll(html)
                                    } else {
                                        self.append(html)
                                    }
                                })
                            },
                            wrap: function(html) {
                                var isFunction = jQuery.isFunction(html);
                                return this.each(function(i) {
                                    jQuery(this).wrapAll(isFunction ? html.call(this, i) : html)
                                })
                            },
                            unwrap: function() {
                                return this.parent().each(function() {
                                    if (!jQuery.nodeName(this, "body")) {
                                        jQuery(this).replaceWith(this.childNodes)
                                    }
                                }).end()
                            }
                        });
                        jQuery.expr.filters.hidden = function(elem) {
                            return elem.offsetWidth <= 0 && elem.offsetHeight <= 0
                        };
                        jQuery.expr.filters.visible = function(elem) {
                            return !jQuery.expr.filters.hidden(elem)
                        };
                        var r20 = /%20/g,
                            rbracket = /\[\]$/,
                            rCRLF = /\r?\n/g,
                            rsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,
                            rsubmittable = /^(?:input|select|textarea|keygen)/i;

                        function buildParams(prefix, obj, traditional, add) {
                            var name;
                            if (jQuery.isArray(obj)) {
                                jQuery.each(obj, function(i, v) {
                                    if (traditional || rbracket.test(prefix)) {
                                        add(prefix, v)
                                    } else {
                                        buildParams(prefix + "[" + (typeof v === "object" ? i : "") + "]", v, traditional, add)
                                    }
                                })
                            } else if (!traditional && jQuery.type(obj) === "object") {
                                for (name in obj) {
                                    buildParams(prefix + "[" + name + "]", obj[name], traditional, add)
                                }
                            } else {
                                add(prefix, obj)
                            }
                        }
                        jQuery.param = function(a, traditional) {
                            var prefix, s = [],
                                add = function(key, value) {
                                    value = jQuery.isFunction(value) ? value() : value == null ? "" : value;
                                    s[s.length] = encodeURIComponent(key) + "=" + encodeURIComponent(value)
                                };
                            if (traditional === undefined) {
                                traditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional
                            }
                            if (jQuery.isArray(a) || a.jquery && !jQuery.isPlainObject(a)) {
                                jQuery.each(a, function() {
                                    add(this.name, this.value)
                                })
                            } else {
                                for (prefix in a) {
                                    buildParams(prefix, a[prefix], traditional, add)
                                }
                            }
                            return s.join("&").replace(r20, "+")
                        };
                        jQuery.fn.extend({
                            serialize: function() {
                                return jQuery.param(this.serializeArray())
                            },
                            serializeArray: function() {
                                return this.map(function() {
                                    var elements = jQuery.prop(this, "elements");
                                    return elements ? jQuery.makeArray(elements) : this
                                }).filter(function() {
                                    var type = this.type;
                                    return this.name && !jQuery(this).is(":disabled") && rsubmittable.test(this.nodeName) && !rsubmitterTypes.test(type) && (this.checked || !rcheckableType.test(type))
                                }).map(function(i, elem) {
                                    var val = jQuery(this).val();
                                    return val == null ? null : jQuery.isArray(val) ? jQuery.map(val, function(val) {
                                        return {
                                            name: elem.name,
                                            value: val.replace(rCRLF, "\r\n")
                                        }
                                    }) : {
                                        name: elem.name,
                                        value: val.replace(rCRLF, "\r\n")
                                    }
                                }).get()
                            }
                        });
                        jQuery.ajaxSettings.xhr = function() {
                            try {
                                return new XMLHttpRequest
                            } catch (e) {}
                        };
                        var xhrId = 0,
                            xhrCallbacks = {},
                            xhrSuccessStatus = {
                                0: 200,
                                1223: 204
                            },
                            xhrSupported = jQuery.ajaxSettings.xhr();
                        if (window.attachEvent) {
                            window.attachEvent("onunload", function() {
                                for (var key in xhrCallbacks) {
                                    xhrCallbacks[key]()
                                }
                            })
                        }
                        support.cors = !!xhrSupported && "withCredentials" in xhrSupported;
                        support.ajax = xhrSupported = !!xhrSupported;
                        jQuery.ajaxTransport(function(options) {
                            var callback;
                            if (support.cors || xhrSupported && !options.crossDomain) {
                                return {
                                    send: function(headers, complete) {
                                        var i, xhr = options.xhr(),
                                            id = ++xhrId;
                                        xhr.open(options.type, options.url, options.async, options.username, options.password);
                                        if (options.xhrFields) {
                                            for (i in options.xhrFields) {
                                                xhr[i] = options.xhrFields[i]
                                            }
                                        }
                                        if (options.mimeType && xhr.overrideMimeType) {
                                            xhr.overrideMimeType(options.mimeType)
                                        }
                                        if (!options.crossDomain && !headers["X-Requested-With"]) {
                                            headers["X-Requested-With"] = "XMLHttpRequest"
                                        }
                                        for (i in headers) {
                                            xhr.setRequestHeader(i, headers[i])
                                        }
                                        callback = function(type) {
                                            return function() {
                                                if (callback) {
                                                    delete xhrCallbacks[id];
                                                    callback = xhr.onload = xhr.onerror = null;
                                                    if (type === "abort") {
                                                        xhr.abort()
                                                    } else if (type === "error") {
                                                        complete(xhr.status, xhr.statusText)
                                                    } else {
                                                        complete(xhrSuccessStatus[xhr.status] || xhr.status, xhr.statusText, typeof xhr.responseText === "string" ? {
                                                            text: xhr.responseText
                                                        } : undefined, xhr.getAllResponseHeaders())
                                                    }
                                                }
                                            }
                                        };
                                        xhr.onload = callback();
                                        xhr.onerror = callback("error");
                                        callback = xhrCallbacks[id] = callback("abort");
                                        try {
                                            xhr.send(options.hasContent && options.data || null)
                                        } catch (e) {
                                            if (callback) {
                                                throw e
                                            }
                                        }
                                    },
                                    abort: function() {
                                        if (callback) {
                                            callback()
                                        }
                                    }
                                }
                            }
                        });
                        jQuery.ajaxSetup({
                            accepts: {
                                script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
                            },
                            contents: {
                                script: /(?:java|ecma)script/
                            },
                            converters: {
                                "text script": function(text) {
                                    jQuery.globalEval(text);
                                    return text
                                }
                            }
                        });
                        jQuery.ajaxPrefilter("script", function(s) {
                            if (s.cache === undefined) {
                                s.cache = false
                            }
                            if (s.crossDomain) {
                                s.type = "GET"
                            }
                        });
                        jQuery.ajaxTransport("script", function(s) {
                            if (s.crossDomain) {
                                var script, callback;
                                return {
                                    send: function(_, complete) {
                                        script = jQuery("<script>").prop({
                                            async: true,
                                            charset: s.scriptCharset,
                                            src: s.url
                                        }).on("load error", callback = function(evt) {
                                            script.remove();
                                            callback = null;
                                            if (evt) {
                                                complete(evt.type === "error" ? 404 : 200, evt.type)
                                            }
                                        });
                                        document.head.appendChild(script[0])
                                    },
                                    abort: function() {
                                        if (callback) {
                                            callback()
                                        }
                                    }
                                }
                            }
                        });
                        var oldCallbacks = [],
                            rjsonp = /(=)\?(?=&|$)|\?\?/;
                        jQuery.ajaxSetup({
                            jsonp: "callback",
                            jsonpCallback: function() {
                                var callback = oldCallbacks.pop() || jQuery.expando + "_" + nonce++;
                                this[callback] = true;
                                return callback
                            }
                        });
                        jQuery.ajaxPrefilter("json jsonp", function(s, originalSettings, jqXHR) {
                            var callbackName, overwritten, responseContainer, jsonProp = s.jsonp !== false && (rjsonp.test(s.url) ? "url" : typeof s.data === "string" && !(s.contentType || "").indexOf("application/x-www-form-urlencoded") && rjsonp.test(s.data) && "data");
                            if (jsonProp || s.dataTypes[0] === "jsonp") {
                                callbackName = s.jsonpCallback = jQuery.isFunction(s.jsonpCallback) ? s.jsonpCallback() : s.jsonpCallback;
                                if (jsonProp) {
                                    s[jsonProp] = s[jsonProp].replace(rjsonp, "$1" + callbackName)
                                } else if (s.jsonp !== false) {
                                    s.url += (rquery.test(s.url) ? "&" : "?") + s.jsonp + "=" + callbackName
                                }
                                s.converters["script json"] = function() {
                                    if (!responseContainer) {
                                        jQuery.error(callbackName + " was not called")
                                    }
                                    return responseContainer[0]
                                };
                                s.dataTypes[0] = "json";
                                overwritten = window[callbackName];
                                window[callbackName] = function() {
                                    responseContainer = arguments
                                };
                                jqXHR.always(function() {
                                    window[callbackName] = overwritten;
                                    if (s[callbackName]) {
                                        s.jsonpCallback = originalSettings.jsonpCallback;
                                        oldCallbacks.push(callbackName)
                                    }
                                    if (responseContainer && jQuery.isFunction(overwritten)) {
                                        overwritten(responseContainer[0])
                                    }
                                    responseContainer = overwritten = undefined
                                });
                                return "script"
                            }
                        });
                        jQuery.parseHTML = function(data, context, keepScripts) {
                            if (!data || typeof data !== "string") {
                                return null
                            }
                            if (typeof context === "boolean") {
                                keepScripts = context;
                                context = false
                            }
                            context = context || document;
                            var parsed = rsingleTag.exec(data),
                                scripts = !keepScripts && [];
                            if (parsed) {
                                return [context.createElement(parsed[1])]
                            }
                            parsed = jQuery.buildFragment([data], context, scripts);
                            if (scripts && scripts.length) {
                                jQuery(scripts).remove()
                            }
                            return jQuery.merge([], parsed.childNodes)
                        };
                        var _load = jQuery.fn.load;
                        jQuery.fn.load = function(url, params, callback) {
                            if (typeof url !== "string" && _load) {
                                return _load.apply(this, arguments)
                            }
                            var selector, type, response, self = this,
                                off = url.indexOf(" ");
                            if (off >= 0) {
                                selector = jQuery.trim(url.slice(off));
                                url = url.slice(0, off)
                            }
                            if (jQuery.isFunction(params)) {
                                callback = params;
                                params = undefined
                            } else if (params && typeof params === "object") {
                                type = "POST"
                            }
                            if (self.length > 0) {
                                jQuery.ajax({
                                    url: url,
                                    type: type,
                                    dataType: "html",
                                    data: params
                                }).done(function(responseText) {
                                    response = arguments;
                                    self.html(selector ? jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector) : responseText)
                                }).complete(callback && function(jqXHR, status) {
                                    self.each(callback, response || [jqXHR.responseText, status, jqXHR])
                                })
                            }
                            return this
                        };
                        jQuery.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(i, type) {
                            jQuery.fn[type] = function(fn) {
                                return this.on(type, fn)
                            }
                        });
                        jQuery.expr.filters.animated = function(elem) {
                            return jQuery.grep(jQuery.timers, function(fn) {
                                return elem === fn.elem
                            }).length
                        };
                        var docElem = window.document.documentElement;

                        function getWindow(elem) {
                            return jQuery.isWindow(elem) ? elem : elem.nodeType === 9 && elem.defaultView
                        }
                        jQuery.offset = {
                            setOffset: function(elem, options, i) {
                                var curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition, position = jQuery.css(elem, "position"),
                                    curElem = jQuery(elem),
                                    props = {};
                                if (position === "static") {
                                    elem.style.position = "relative"
                                }
                                curOffset = curElem.offset();
                                curCSSTop = jQuery.css(elem, "top");
                                curCSSLeft = jQuery.css(elem, "left");
                                calculatePosition = (position === "absolute" || position === "fixed") && (curCSSTop + curCSSLeft).indexOf("auto") > -1;
                                if (calculatePosition) {
                                    curPosition = curElem.position();
                                    curTop = curPosition.top;
                                    curLeft = curPosition.left
                                } else {
                                    curTop = parseFloat(curCSSTop) || 0;
                                    curLeft = parseFloat(curCSSLeft) || 0
                                }
                                if (jQuery.isFunction(options)) {
                                    options = options.call(elem, i, curOffset)
                                }
                                if (options.top != null) {
                                    props.top = options.top - curOffset.top + curTop
                                }
                                if (options.left != null) {
                                    props.left = options.left - curOffset.left + curLeft
                                }
                                if ("using" in options) {
                                    options.using.call(elem, props)
                                } else {
                                    curElem.css(props)
                                }
                            }
                        };
                        jQuery.fn.extend({
                            offset: function(options) {
                                if (arguments.length) {
                                    return options === undefined ? this : this.each(function(i) {
                                        jQuery.offset.setOffset(this, options, i)
                                    })
                                }
                                var docElem, win, elem = this[0],
                                    box = {
                                        top: 0,
                                        left: 0
                                    },
                                    doc = elem && elem.ownerDocument;
                                if (!doc) {
                                    return
                                }
                                docElem = doc.documentElement;
                                if (!jQuery.contains(docElem, elem)) {
                                    return box
                                }
                                if (typeof elem.getBoundingClientRect !== strundefined) {
                                    box = elem.getBoundingClientRect()
                                }
                                win = getWindow(doc);
                                return {
                                    top: box.top + win.pageYOffset - docElem.clientTop,
                                    left: box.left + win.pageXOffset - docElem.clientLeft
                                }
                            },
                            position: function() {
                                if (!this[0]) {
                                    return
                                }
                                var offsetParent, offset, elem = this[0],
                                    parentOffset = {
                                        top: 0,
                                        left: 0
                                    };
                                if (jQuery.css(elem, "position") === "fixed") {
                                    offset = elem.getBoundingClientRect()
                                } else {
                                    offsetParent = this.offsetParent();
                                    offset = this.offset();
                                    if (!jQuery.nodeName(offsetParent[0], "html")) {
                                        parentOffset = offsetParent.offset()
                                    }
                                    parentOffset.top += jQuery.css(offsetParent[0], "borderTopWidth", true);
                                    parentOffset.left += jQuery.css(offsetParent[0], "borderLeftWidth", true)
                                }
                                return {
                                    top: offset.top - parentOffset.top - jQuery.css(elem, "marginTop", true),
                                    left: offset.left - parentOffset.left - jQuery.css(elem, "marginLeft", true)
                                }
                            },
                            offsetParent: function() {
                                return this.map(function() {
                                    var offsetParent = this.offsetParent || docElem;
                                    while (offsetParent && (!jQuery.nodeName(offsetParent, "html") && jQuery.css(offsetParent, "position") === "static")) {
                                        offsetParent = offsetParent.offsetParent
                                    }
                                    return offsetParent || docElem
                                })
                            }
                        });
                        jQuery.each({
                            scrollLeft: "pageXOffset",
                            scrollTop: "pageYOffset"
                        }, function(method, prop) {
                            var top = "pageYOffset" === prop;
                            jQuery.fn[method] = function(val) {
                                return access(this, function(elem, method, val) {
                                    var win = getWindow(elem);
                                    if (val === undefined) {
                                        return win ? win[prop] : elem[method]
                                    }
                                    if (win) {
                                        win.scrollTo(!top ? val : window.pageXOffset, top ? val : window.pageYOffset)
                                    } else {
                                        elem[method] = val
                                    }
                                }, method, val, arguments.length, null)
                            }
                        });
                        jQuery.each(["top", "left"], function(i, prop) {
                            jQuery.cssHooks[prop] = addGetHookIf(support.pixelPosition, function(elem, computed) {
                                if (computed) {
                                    computed = curCSS(elem, prop);
                                    return rnumnonpx.test(computed) ? jQuery(elem).position()[prop] + "px" : computed
                                }
                            })
                        });
                        jQuery.each({
                            Height: "height",
                            Width: "width"
                        }, function(name, type) {
                            jQuery.each({
                                padding: "inner" + name,
                                content: type,
                                "": "outer" + name
                            }, function(defaultExtra, funcName) {
                                jQuery.fn[funcName] = function(margin, value) {
                                    var chainable = arguments.length && (defaultExtra || typeof margin !== "boolean"),
                                        extra = defaultExtra || (margin === true || value === true ? "margin" : "border");
                                    return access(this, function(elem, type, value) {
                                        var doc;
                                        if (jQuery.isWindow(elem)) {
                                            return elem.document.documentElement["client" + name]
                                        }
                                        if (elem.nodeType === 9) {
                                            doc = elem.documentElement;
                                            return Math.max(elem.body["scroll" + name], doc["scroll" + name], elem.body["offset" + name], doc["offset" + name], doc["client" + name])
                                        }
                                        return value === undefined ? jQuery.css(elem, type, extra) : jQuery.style(elem, type, value, extra)
                                    }, type, chainable ? margin : undefined, chainable, null)
                                }
                            })
                        });
                        jQuery.fn.size = function() {
                            return this.length
                        };
                        jQuery.fn.andSelf = jQuery.fn.addBack;
                        if (typeof define === "function" && define.amd) {
                            define("jquery", [], function() {
                                return jQuery
                            })
                        }
                        var _jQuery = window.jQuery,
                            _$ = window.$;
                        jQuery.noConflict = function(deep) {
                            if (window.$ === jQuery) {
                                window.$ = _$
                            }
                            if (deep && window.jQuery === jQuery) {
                                window.jQuery = _jQuery
                            }
                            return jQuery
                        };
                        if (typeof noGlobal === strundefined) {
                            window.jQuery = window.$ = jQuery
                        }
                        return jQuery
                    })
                }).call(global, module, undefined, undefined)
            }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
        }, {}],
        359: [function(require, module, exports) {
            (function(T) {
                function z(a, c, b) {
                    var g = 0,
                        f = [0],
                        h = "",
                        l = null,
                        h = b || "UTF8";
                    if ("UTF8" !== h && "UTF16" !== h) throw "encoding must be UTF8 or UTF16";
                    if ("HEX" === c) {
                        if (0 !== a.length % 2) throw "srcString of HEX type must be in byte increments";
                        l = B(a);
                        g = l.binLen;
                        f = l.value
                    } else if ("ASCII" === c || "TEXT" === c) l = J(a, h), g = l.binLen, f = l.value;
                    else if ("B64" === c) l = K(a), g = l.binLen, f = l.value;
                    else throw "inputFormat must be HEX, TEXT, ASCII, or B64";
                    this.getHash = function(a, c, b, h) {
                        var l = null,
                            d = f.slice(),
                            n = g,
                            p;
                        3 === arguments.length ? "number" !== typeof b && (h = b, b = 1) : 2 === arguments.length && (b = 1);
                        if (b !== parseInt(b, 10) || 1 > b) throw "numRounds must a integer >= 1";
                        switch (c) {
                            case "HEX":
                                l = L;
                                break;
                            case "B64":
                                l = M;
                                break;
                            default:
                                throw "format must be HEX or B64"
                        }
                        if ("SHA-1" === a)
                            for (p = 0; p < b; p++) d = y(d, n), n = 160;
                        else if ("SHA-224" === a)
                            for (p = 0; p < b; p++) d = v(d, n, a), n = 224;
                        else if ("SHA-256" === a)
                            for (p = 0; p < b; p++) d = v(d, n, a), n = 256;
                        else if ("SHA-384" === a)
                            for (p = 0; p < b; p++) d = v(d, n, a), n = 384;
                        else if ("SHA-512" === a)
                            for (p = 0; p < b; p++) d = v(d, n, a), n = 512;
                        else throw "Chosen SHA variant is not supported";
                        return l(d, N(h))
                    };
                    this.getHMAC = function(a, b, c, l, s) {
                        var d, n, p, m, w = [],
                            x = [];
                        d = null;
                        switch (l) {
                            case "HEX":
                                l = L;
                                break;
                            case "B64":
                                l = M;
                                break;
                            default:
                                throw "outputFormat must be HEX or B64"
                        }
                        if ("SHA-1" === c) n = 64, m = 160;
                        else if ("SHA-224" === c) n = 64, m = 224;
                        else if ("SHA-256" === c) n = 64, m = 256;
                        else if ("SHA-384" === c) n = 128, m = 384;
                        else if ("SHA-512" === c) n = 128, m = 512;
                        else throw "Chosen SHA variant is not supported";
                        if ("HEX" === b) d = B(a), p = d.binLen, d = d.value;
                        else if ("ASCII" === b || "TEXT" === b) d = J(a, h), p = d.binLen, d = d.value;
                        else if ("B64" === b) d = K(a), p = d.binLen, d = d.value;
                        else throw "inputFormat must be HEX, TEXT, ASCII, or B64";
                        a = 8 * n;
                        b = n / 4 - 1;
                        n < p / 8 ? (d = "SHA-1" === c ? y(d, p) : v(d, p, c), d[b] &= 4294967040) : n > p / 8 && (d[b] &= 4294967040);
                        for (n = 0; n <= b; n += 1) w[n] = d[n] ^ 909522486, x[n] = d[n] ^ 1549556828;
                        c = "SHA-1" === c ? y(x.concat(y(w.concat(f), a + g)), a + m) : v(x.concat(v(w.concat(f), a + g, c)), a + m, c);
                        return l(c, N(s))
                    }
                }

                function s(a, c) {
                    this.a = a;
                    this.b = c
                }

                function J(a, c) {
                    var b = [],
                        g, f = [],
                        h = 0,
                        l;
                    if ("UTF8" === c)
                        for (l = 0; l < a.length; l += 1)
                            for (g = a.charCodeAt(l), f = [], 2048 < g ? (f[0] = 224 | (g & 61440) >>> 12, f[1] = 128 | (g & 4032) >>> 6, f[2] = 128 | g & 63) : 128 < g ? (f[0] = 192 | (g & 1984) >>> 6, f[1] = 128 | g & 63) : f[0] = g, g = 0; g < f.length; g += 1) b[h >>> 2] |= f[g] << 24 - h % 4 * 8, h += 1;
                    else if ("UTF16" === c)
                        for (l = 0; l < a.length; l += 1) b[h >>> 2] |= a.charCodeAt(l) << 16 - h % 4 * 8, h += 2;
                    return {
                        value: b,
                        binLen: 8 * h
                    }
                }

                function B(a) {
                    var c = [],
                        b = a.length,
                        g, f;
                    if (0 !== b % 2) throw "String of HEX type must be in byte increments";
                    for (g = 0; g < b; g += 2) {
                        f = parseInt(a.substr(g, 2), 16);
                        if (isNaN(f)) throw "String of HEX type contains invalid characters";
                        c[g >>> 3] |= f << 24 - g % 8 * 4
                    }
                    return {
                        value: c,
                        binLen: 4 * b
                    }
                }

                function K(a) {
                    var c = [],
                        b = 0,
                        g, f, h, l, r;
                    if (-1 === a.search(/^[a-zA-Z0-9=+\/]+$/)) throw "Invalid character in base-64 string";
                    g = a.indexOf("=");
                    a = a.replace(/\=/g, "");
                    if (-1 !== g && g < a.length) throw "Invalid '=' found in base-64 string";
                    for (f = 0; f < a.length; f += 4) {
                        r = a.substr(f, 4);
                        for (h = l = 0; h < r.length; h += 1) g = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(r[h]), l |= g << 18 - 6 * h;
                        for (h = 0; h < r.length - 1; h += 1) c[b >> 2] |= (l >>> 16 - 8 * h & 255) << 24 - b % 4 * 8, b += 1
                    }
                    return {
                        value: c,
                        binLen: 8 * b
                    }
                }

                function L(a, c) {
                    var b = "",
                        g = 4 * a.length,
                        f, h;
                    for (f = 0; f < g; f += 1) h = a[f >>> 2] >>> 8 * (3 - f % 4), b += "0123456789abcdef".charAt(h >>> 4 & 15) + "0123456789abcdef".charAt(h & 15);
                    return c.outputUpper ? b.toUpperCase() : b
                }

                function M(a, c) {
                    var b = "",
                        g = 4 * a.length,
                        f, h, l;
                    for (f = 0; f < g; f += 3)
                        for (l = (a[f >>> 2] >>> 8 * (3 - f % 4) & 255) << 16 | (a[f + 1 >>> 2] >>> 8 * (3 - (f + 1) % 4) & 255) << 8 | a[f + 2 >>> 2] >>> 8 * (3 - (f + 2) % 4) & 255, h = 0; 4 > h; h += 1) b = 8 * f + 6 * h <= 32 * a.length ? b + "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l >>> 6 * (3 - h) & 63) : b + c.b64Pad;
                    return b
                }

                function N(a) {
                    var c = {
                        outputUpper: !1,
                        b64Pad: "="
                    };
                    try {
                        a.hasOwnProperty("outputUpper") && (c.outputUpper = a.outputUpper), a.hasOwnProperty("b64Pad") && (c.b64Pad = a.b64Pad)
                    } catch (b) {}
                    if ("boolean" !== typeof c.outputUpper) throw "Invalid outputUpper formatting option";
                    if ("string" !== typeof c.b64Pad) throw "Invalid b64Pad formatting option";
                    return c
                }

                function U(a, c) {
                    return a << c | a >>> 32 - c
                }

                function u(a, c) {
                    return a >>> c | a << 32 - c
                }

                function t(a, c) {
                    var b = null,
                        b = new s(a.a, a.b);
                    return b = 32 >= c ? new s(b.a >>> c | b.b << 32 - c & 4294967295, b.b >>> c | b.a << 32 - c & 4294967295) : new s(b.b >>> c - 32 | b.a << 64 - c & 4294967295, b.a >>> c - 32 | b.b << 64 - c & 4294967295)
                }

                function O(a, c) {
                    var b = null;
                    return b = 32 >= c ? new s(a.a >>> c, a.b >>> c | a.a << 32 - c & 4294967295) : new s(0, a.a >>> c - 32)
                }

                function V(a, c, b) {
                    return a ^ c ^ b
                }

                function P(a, c, b) {
                    return a & c ^ ~a & b
                }

                function W(a, c, b) {
                    return new s(a.a & c.a ^ ~a.a & b.a, a.b & c.b ^ ~a.b & b.b)
                }

                function Q(a, c, b) {
                    return a & c ^ a & b ^ c & b
                }

                function X(a, c, b) {
                    return new s(a.a & c.a ^ a.a & b.a ^ c.a & b.a, a.b & c.b ^ a.b & b.b ^ c.b & b.b)
                }

                function Y(a) {
                    return u(a, 2) ^ u(a, 13) ^ u(a, 22)
                }

                function Z(a) {
                    var c = t(a, 28),
                        b = t(a, 34);
                    a = t(a, 39);
                    return new s(c.a ^ b.a ^ a.a, c.b ^ b.b ^ a.b)
                }

                function $(a) {
                    return u(a, 6) ^ u(a, 11) ^ u(a, 25)
                }

                function aa(a) {
                    var c = t(a, 14),
                        b = t(a, 18);
                    a = t(a, 41);
                    return new s(c.a ^ b.a ^ a.a, c.b ^ b.b ^ a.b)
                }

                function ba(a) {
                    return u(a, 7) ^ u(a, 18) ^ a >>> 3
                }

                function ca(a) {
                    var c = t(a, 1),
                        b = t(a, 8);
                    a = O(a, 7);
                    return new s(c.a ^ b.a ^ a.a, c.b ^ b.b ^ a.b)
                }

                function da(a) {
                    return u(a, 17) ^ u(a, 19) ^ a >>> 10
                }

                function ea(a) {
                    var c = t(a, 19),
                        b = t(a, 61);
                    a = O(a, 6);
                    return new s(c.a ^ b.a ^ a.a, c.b ^ b.b ^ a.b)
                }

                function R(a, c) {
                    var b = (a & 65535) + (c & 65535);
                    return ((a >>> 16) + (c >>> 16) + (b >>> 16) & 65535) << 16 | b & 65535
                }

                function fa(a, c, b, g) {
                    var f = (a & 65535) + (c & 65535) + (b & 65535) + (g & 65535);
                    return ((a >>> 16) + (c >>> 16) + (b >>> 16) + (g >>> 16) + (f >>> 16) & 65535) << 16 | f & 65535
                }

                function S(a, c, b, g, f) {
                    var h = (a & 65535) + (c & 65535) + (b & 65535) + (g & 65535) + (f & 65535);
                    return ((a >>> 16) + (c >>> 16) + (b >>> 16) + (g >>> 16) + (f >>> 16) + (h >>> 16) & 65535) << 16 | h & 65535
                }

                function ga(a, c) {
                    var b, g, f;
                    b = (a.b & 65535) + (c.b & 65535);
                    g = (a.b >>> 16) + (c.b >>> 16) + (b >>> 16);
                    f = (g & 65535) << 16 | b & 65535;
                    b = (a.a & 65535) + (c.a & 65535) + (g >>> 16);
                    g = (a.a >>> 16) + (c.a >>> 16) + (b >>> 16);
                    return new s((g & 65535) << 16 | b & 65535, f)
                }

                function ha(a, c, b, g) {
                    var f, h, l;
                    f = (a.b & 65535) + (c.b & 65535) + (b.b & 65535) + (g.b & 65535);
                    h = (a.b >>> 16) + (c.b >>> 16) + (b.b >>> 16) + (g.b >>> 16) + (f >>> 16);
                    l = (h & 65535) << 16 | f & 65535;
                    f = (a.a & 65535) + (c.a & 65535) + (b.a & 65535) + (g.a & 65535) + (h >>> 16);
                    h = (a.a >>> 16) + (c.a >>> 16) + (b.a >>> 16) + (g.a >>> 16) + (f >>> 16);
                    return new s((h & 65535) << 16 | f & 65535, l)
                }

                function ia(a, c, b, g, f) {
                    var h, l, r;
                    h = (a.b & 65535) + (c.b & 65535) + (b.b & 65535) + (g.b & 65535) + (f.b & 65535);
                    l = (a.b >>> 16) + (c.b >>> 16) + (b.b >>> 16) + (g.b >>> 16) + (f.b >>> 16) + (h >>> 16);
                    r = (l & 65535) << 16 | h & 65535;
                    h = (a.a & 65535) + (c.a & 65535) + (b.a & 65535) + (g.a & 65535) + (f.a & 65535) + (l >>> 16);
                    l = (a.a >>> 16) + (c.a >>> 16) + (b.a >>> 16) + (g.a >>> 16) + (f.a >>> 16) + (h >>> 16);
                    return new s((l & 65535) << 16 | h & 65535, r)
                }

                function y(a, c) {
                    var b = [],
                        g, f, h, l, r, s, u = P,
                        t = V,
                        v = Q,
                        d = U,
                        n = R,
                        p, m, w = S,
                        x, q = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
                    a[c >>> 5] |= 128 << 24 - c % 32;
                    a[(c + 65 >>> 9 << 4) + 15] = c;
                    x = a.length;
                    for (p = 0; p < x; p += 16) {
                        g = q[0];
                        f = q[1];
                        h = q[2];
                        l = q[3];
                        r = q[4];
                        for (m = 0; 80 > m; m += 1) b[m] = 16 > m ? a[m + p] : d(b[m - 3] ^ b[m - 8] ^ b[m - 14] ^ b[m - 16], 1), s = 20 > m ? w(d(g, 5), u(f, h, l), r, 1518500249, b[m]) : 40 > m ? w(d(g, 5), t(f, h, l), r, 1859775393, b[m]) : 60 > m ? w(d(g, 5), v(f, h, l), r, 2400959708, b[m]) : w(d(g, 5), t(f, h, l), r, 3395469782, b[m]), r = l, l = h, h = d(f, 30), f = g, g = s;
                        q[0] = n(g, q[0]);
                        q[1] = n(f, q[1]);
                        q[2] = n(h, q[2]);
                        q[3] = n(l, q[3]);
                        q[4] = n(r, q[4])
                    }
                    return q
                }

                function v(a, c, b) {
                    var g, f, h, l, r, t, u, v, z, d, n, p, m, w, x, q, y, C, D, E, F, G, H, I, e, A = [],
                        B, k = [1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080, 310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774, 264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808, 3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291, 1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817, 3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218, 1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479, 3329325298];
                    d = [3238371032, 914150663, 812702999, 4144912697, 4290775857, 1750603025, 1694076839, 3204075428];
                    f = [1779033703, 3144134277, 1013904242, 2773480762, 1359893119, 2600822924, 528734635, 1541459225];
                    if ("SHA-224" === b || "SHA-256" === b) n = 64, g = (c + 65 >>> 9 << 4) + 15, w = 16, x = 1, e = Number, q = R, y = fa, C = S, D = ba, E = da, F = Y, G = $, I = Q, H = P, d = "SHA-224" === b ? d : f;
                    else if ("SHA-384" === b || "SHA-512" === b) n = 80, g = (c + 128 >>> 10 << 5) + 31, w = 32, x = 2, e = s, q = ga, y = ha, C = ia, D = ca, E = ea, F = Z, G = aa, I = X, H = W, k = [new e(k[0], 3609767458), new e(k[1], 602891725), new e(k[2], 3964484399), new e(k[3], 2173295548), new e(k[4], 4081628472), new e(k[5], 3053834265), new e(k[6], 2937671579), new e(k[7], 3664609560), new e(k[8], 2734883394), new e(k[9], 1164996542), new e(k[10], 1323610764), new e(k[11], 3590304994), new e(k[12], 4068182383), new e(k[13], 991336113), new e(k[14], 633803317), new e(k[15], 3479774868), new e(k[16], 2666613458), new e(k[17], 944711139), new e(k[18], 2341262773), new e(k[19], 2007800933), new e(k[20], 1495990901), new e(k[21], 1856431235), new e(k[22], 3175218132), new e(k[23], 2198950837), new e(k[24], 3999719339), new e(k[25], 766784016), new e(k[26], 2566594879), new e(k[27], 3203337956), new e(k[28], 1034457026), new e(k[29], 2466948901), new e(k[30], 3758326383), new e(k[31], 168717936), new e(k[32], 1188179964), new e(k[33], 1546045734), new e(k[34], 1522805485), new e(k[35], 2643833823), new e(k[36], 2343527390), new e(k[37], 1014477480), new e(k[38], 1206759142), new e(k[39], 344077627), new e(k[40], 1290863460), new e(k[41], 3158454273), new e(k[42], 3505952657), new e(k[43], 106217008), new e(k[44], 3606008344), new e(k[45], 1432725776), new e(k[46], 1467031594), new e(k[47], 851169720), new e(k[48], 3100823752), new e(k[49], 1363258195), new e(k[50], 3750685593), new e(k[51], 3785050280), new e(k[52], 3318307427), new e(k[53], 3812723403), new e(k[54], 2003034995), new e(k[55], 3602036899), new e(k[56], 1575990012), new e(k[57], 1125592928), new e(k[58], 2716904306), new e(k[59], 442776044), new e(k[60], 593698344), new e(k[61], 3733110249), new e(k[62], 2999351573), new e(k[63], 3815920427), new e(3391569614, 3928383900), new e(3515267271, 566280711), new e(3940187606, 3454069534), new e(4118630271, 4000239992), new e(116418474, 1914138554), new e(174292421, 2731055270), new e(289380356, 3203993006), new e(460393269, 320620315), new e(685471733, 587496836), new e(852142971, 1086792851), new e(1017036298, 365543100), new e(1126000580, 2618297676), new e(1288033470, 3409855158), new e(1501505948, 4234509866), new e(1607167915, 987167468), new e(1816402316, 1246189591)], d = "SHA-384" === b ? [new e(3418070365, d[0]), new e(1654270250, d[1]), new e(2438529370, d[2]), new e(355462360, d[3]), new e(1731405415, d[4]), new e(41048885895, d[5]), new e(3675008525, d[6]), new e(1203062813, d[7])] : [new e(f[0], 4089235720), new e(f[1], 2227873595), new e(f[2], 4271175723), new e(f[3], 1595750129), new e(f[4], 2917565137), new e(f[5], 725511199), new e(f[6], 4215389547), new e(f[7], 327033209)];
                    else throw "Unexpected error in SHA-2 implementation";
                    a[c >>> 5] |= 128 << 24 - c % 32;
                    a[g] = c;
                    B = a.length;
                    for (p = 0; p < B; p += w) {
                        c = d[0];
                        g = d[1];
                        f = d[2];
                        h = d[3];
                        l = d[4];
                        r = d[5];
                        t = d[6];
                        u = d[7];
                        for (m = 0; m < n; m += 1) A[m] = 16 > m ? new e(a[m * x + p], a[m * x + p + 1]) : y(E(A[m - 2]), A[m - 7], D(A[m - 15]), A[m - 16]), v = C(u, G(l), H(l, r, t), k[m], A[m]), z = q(F(c), I(c, g, f)), u = t, t = r, r = l, l = q(h, v), h = f, f = g, g = c, c = q(v, z);
                        d[0] = q(c, d[0]);
                        d[1] = q(g, d[1]);
                        d[2] = q(f, d[2]);
                        d[3] = q(h, d[3]);
                        d[4] = q(l, d[4]);
                        d[5] = q(r, d[5]);
                        d[6] = q(t, d[6]);
                        d[7] = q(u, d[7])
                    }
                    if ("SHA-224" === b) a = [d[0], d[1], d[2], d[3], d[4], d[5], d[6]];
                    else if ("SHA-256" === b) a = d;
                    else if ("SHA-384" === b) a = [d[0].a, d[0].b, d[1].a, d[1].b, d[2].a, d[2].b, d[3].a, d[3].b, d[4].a, d[4].b, d[5].a, d[5].b];
                    else if ("SHA-512" === b) a = [d[0].a, d[0].b, d[1].a, d[1].b, d[2].a, d[2].b, d[3].a, d[3].b, d[4].a, d[4].b, d[5].a, d[5].b, d[6].a, d[6].b, d[7].a, d[7].b];
                    else throw "Unexpected error in SHA-2 implementation";
                    return a
                }
                "function" === typeof define && typeof define.amd ? define(function() {
                    return z
                }) : "undefined" !== typeof exports ? "undefined" !== typeof module && module.exports ? module.exports = exports = z : exports = z : T.jsSHA = z
            })(this)
        }, {}],
        360: [function(require, module, exports) {
            (function(global) {
                $ = global.$ = require("/var/lib/jenkins/jobs/jitsi-meet-debian/workspace/jitsi-meet/node_modules/jquery/dist/jquery.js");
                var __browserify_shim_require__ = require;
                (function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {
                    (function(callback) {
                        (function(root, factory) {
                            if (typeof define === "function" && define.amd) {
                                define("strophe-base64", function() {
                                    return factory()
                                })
                            } else {
                                root.Base64 = factory()
                            }
                        })(this, function() {
                            var keyStr = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
                            var obj = {
                                encode: function(input) {
                                    var output = "";
                                    var chr1, chr2, chr3;
                                    var enc1, enc2, enc3, enc4;
                                    var i = 0;
                                    do {
                                        chr1 = input.charCodeAt(i++);
                                        chr2 = input.charCodeAt(i++);
                                        chr3 = input.charCodeAt(i++);
                                        enc1 = chr1 >> 2;
                                        enc2 = (chr1 & 3) << 4 | chr2 >> 4;
                                        enc3 = (chr2 & 15) << 2 | chr3 >> 6;
                                        enc4 = chr3 & 63;
                                        if (isNaN(chr2)) {
                                            enc2 = (chr1 & 3) << 4;
                                            enc3 = enc4 = 64
                                        } else if (isNaN(chr3)) {
                                            enc4 = 64
                                        }
                                        output = output + keyStr.charAt(enc1) + keyStr.charAt(enc2) + keyStr.charAt(enc3) + keyStr.charAt(enc4)
                                    } while (i < input.length);
                                    return output
                                },
                                decode: function(input) {
                                    var output = "";
                                    var chr1, chr2, chr3;
                                    var enc1, enc2, enc3, enc4;
                                    var i = 0;
                                    input = input.replace(/[^A-Za-z0-9\+\/\=]/g, "");
                                    do {
                                        enc1 = keyStr.indexOf(input.charAt(i++));
                                        enc2 = keyStr.indexOf(input.charAt(i++));
                                        enc3 = keyStr.indexOf(input.charAt(i++));
                                        enc4 = keyStr.indexOf(input.charAt(i++));
                                        chr1 = enc1 << 2 | enc2 >> 4;
                                        chr2 = (enc2 & 15) << 4 | enc3 >> 2;
                                        chr3 = (enc3 & 3) << 6 | enc4;
                                        output = output + String.fromCharCode(chr1);
                                        if (enc3 != 64) {
                                            output = output + String.fromCharCode(chr2)
                                        }
                                        if (enc4 != 64) {
                                            output = output + String.fromCharCode(chr3)
                                        }
                                    } while (i < input.length);
                                    return output
                                }
                            };
                            return obj
                        });
                        (function(root, factory) {
                            if (typeof define === "function" && define.amd) {
                                define("strophe-sha1", function() {
                                    return factory()
                                })
                            } else {
                                root.SHA1 = factory()
                            }
                        })(this, function() {
                            function core_sha1(x, len) {
                                x[len >> 5] |= 128 << 24 - len % 32;
                                x[(len + 64 >> 9 << 4) + 15] = len;
                                var w = new Array(80);
                                var a = 1732584193;
                                var b = -271733879;
                                var c = -1732584194;
                                var d = 271733878;
                                var e = -1009589776;
                                var i, j, t, olda, oldb, oldc, oldd, olde;
                                for (i = 0; i < x.length; i += 16) {
                                    olda = a;
                                    oldb = b;
                                    oldc = c;
                                    oldd = d;
                                    olde = e;
                                    for (j = 0; j < 80; j++) {
                                        if (j < 16) {
                                            w[j] = x[i + j]
                                        } else {
                                            w[j] = rol(w[j - 3] ^ w[j - 8] ^ w[j - 14] ^ w[j - 16], 1)
                                        }
                                        t = safe_add(safe_add(rol(a, 5), sha1_ft(j, b, c, d)), safe_add(safe_add(e, w[j]), sha1_kt(j)));
                                        e = d;
                                        d = c;
                                        c = rol(b, 30);
                                        b = a;
                                        a = t
                                    }
                                    a = safe_add(a, olda);
                                    b = safe_add(b, oldb);
                                    c = safe_add(c, oldc);
                                    d = safe_add(d, oldd);
                                    e = safe_add(e, olde)
                                }
                                return [a, b, c, d, e]
                            }

                            function sha1_ft(t, b, c, d) {
                                if (t < 20) {
                                    return b & c | ~b & d
                                }
                                if (t < 40) {
                                    return b ^ c ^ d
                                }
                                if (t < 60) {
                                    return b & c | b & d | c & d
                                }
                                return b ^ c ^ d
                            }

                            function sha1_kt(t) {
                                return t < 20 ? 1518500249 : t < 40 ? 1859775393 : t < 60 ? -1894007588 : -899497514
                            }

                            function core_hmac_sha1(key, data) {
                                var bkey = str2binb(key);
                                if (bkey.length > 16) {
                                    bkey = core_sha1(bkey, key.length * 8)
                                }
                                var ipad = new Array(16),
                                    opad = new Array(16);
                                for (var i = 0; i < 16; i++) {
                                    ipad[i] = bkey[i] ^ 909522486;
                                    opad[i] = bkey[i] ^ 1549556828
                                }
                                var hash = core_sha1(ipad.concat(str2binb(data)), 512 + data.length * 8);
                                return core_sha1(opad.concat(hash), 512 + 160)
                            }

                            function safe_add(x, y) {
                                var lsw = (x & 65535) + (y & 65535);
                                var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
                                return msw << 16 | lsw & 65535
                            }

                            function rol(num, cnt) {
                                return num << cnt | num >>> 32 - cnt
                            }

                            function str2binb(str) {
                                var bin = [];
                                var mask = 255;
                                for (var i = 0; i < str.length * 8; i += 8) {
                                    bin[i >> 5] |= (str.charCodeAt(i / 8) & mask) << 24 - i % 32
                                }
                                return bin
                            }

                            function binb2str(bin) {
                                var str = "";
                                var mask = 255;
                                for (var i = 0; i < bin.length * 32; i += 8) {
                                    str += String.fromCharCode(bin[i >> 5] >>> 24 - i % 32 & mask)
                                }
                                return str
                            }

                            function binb2b64(binarray) {
                                var tab = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
                                var str = "";
                                var triplet, j;
                                for (var i = 0; i < binarray.length * 4; i += 3) {
                                    triplet = (binarray[i >> 2] >> 8 * (3 - i % 4) & 255) << 16 | (binarray[i + 1 >> 2] >> 8 * (3 - (i + 1) % 4) & 255) << 8 | binarray[i + 2 >> 2] >> 8 * (3 - (i + 2) % 4) & 255;
                                    for (j = 0; j < 4; j++) {
                                        if (i * 8 + j * 6 > binarray.length * 32) {
                                            str += "="
                                        } else {
                                            str += tab.charAt(triplet >> 6 * (3 - j) & 63)
                                        }
                                    }
                                }
                                return str
                            }
                            return {
                                b64_hmac_sha1: function(key, data) {
                                    return binb2b64(core_hmac_sha1(key, data))
                                },
                                b64_sha1: function(s) {
                                    return binb2b64(core_sha1(str2binb(s), s.length * 8))
                                },
                                binb2str: binb2str,
                                core_hmac_sha1: core_hmac_sha1,
                                str_hmac_sha1: function(key, data) {
                                    return binb2str(core_hmac_sha1(key, data))
                                },
                                str_sha1: function(s) {
                                    return binb2str(core_sha1(str2binb(s), s.length * 8))
                                }
                            }
                        });
                        (function(root, factory) {
                            if (typeof define === "function" && define.amd) {
                                define("strophe-md5", function() {
                                    return factory()
                                })
                            } else {
                                root.MD5 = factory()
                            }
                        })(this, function(b) {
                            var safe_add = function(x, y) {
                                var lsw = (x & 65535) + (y & 65535);
                                var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
                                return msw << 16 | lsw & 65535
                            };
                            var bit_rol = function(num, cnt) {
                                return num << cnt | num >>> 32 - cnt
                            };
                            var str2binl = function(str) {
                                var bin = [];
                                for (var i = 0; i < str.length * 8; i += 8) {
                                    bin[i >> 5] |= (str.charCodeAt(i / 8) & 255) << i % 32
                                }
                                return bin
                            };
                            var binl2str = function(bin) {
                                var str = "";
                                for (var i = 0; i < bin.length * 32; i += 8) {
                                    str += String.fromCharCode(bin[i >> 5] >>> i % 32 & 255)
                                }
                                return str
                            };
                            var binl2hex = function(binarray) {
                                var hex_tab = "0123456789abcdef";
                                var str = "";
                                for (var i = 0; i < binarray.length * 4; i++) {
                                    str += hex_tab.charAt(binarray[i >> 2] >> i % 4 * 8 + 4 & 15) + hex_tab.charAt(binarray[i >> 2] >> i % 4 * 8 & 15)
                                }
                                return str
                            };
                            var md5_cmn = function(q, a, b, x, s, t) {
                                return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s), b)
                            };
                            var md5_ff = function(a, b, c, d, x, s, t) {
                                return md5_cmn(b & c | ~b & d, a, b, x, s, t)
                            };
                            var md5_gg = function(a, b, c, d, x, s, t) {
                                return md5_cmn(b & d | c & ~d, a, b, x, s, t)
                            };
                            var md5_hh = function(a, b, c, d, x, s, t) {
                                return md5_cmn(b ^ c ^ d, a, b, x, s, t)
                            };
                            var md5_ii = function(a, b, c, d, x, s, t) {
                                return md5_cmn(c ^ (b | ~d), a, b, x, s, t)
                            };
                            var core_md5 = function(x, len) {
                                x[len >> 5] |= 128 << len % 32;
                                x[(len + 64 >>> 9 << 4) + 14] = len;
                                var a = 1732584193;
                                var b = -271733879;
                                var c = -1732584194;
                                var d = 271733878;
                                var olda, oldb, oldc, oldd;
                                for (var i = 0; i < x.length; i += 16) {
                                    olda = a;
                                    oldb = b;
                                    oldc = c;
                                    oldd = d;
                                    a = md5_ff(a, b, c, d, x[i + 0], 7, -680876936);
                                    d = md5_ff(d, a, b, c, x[i + 1], 12, -389564586);
                                    c = md5_ff(c, d, a, b, x[i + 2], 17, 606105819);
                                    b = md5_ff(b, c, d, a, x[i + 3], 22, -1044525330);
                                    a = md5_ff(a, b, c, d, x[i + 4], 7, -176418897);
                                    d = md5_ff(d, a, b, c, x[i + 5], 12, 1200080426);
                                    c = md5_ff(c, d, a, b, x[i + 6], 17, -1473231341);
                                    b = md5_ff(b, c, d, a, x[i + 7], 22, -45705983);
                                    a = md5_ff(a, b, c, d, x[i + 8], 7, 1770035416);
                                    d = md5_ff(d, a, b, c, x[i + 9], 12, -1958414417);
                                    c = md5_ff(c, d, a, b, x[i + 10], 17, -42063);
                                    b = md5_ff(b, c, d, a, x[i + 11], 22, -1990404162);
                                    a = md5_ff(a, b, c, d, x[i + 12], 7, 1804603682);
                                    d = md5_ff(d, a, b, c, x[i + 13], 12, -40341101);
                                    c = md5_ff(c, d, a, b, x[i + 14], 17, -1502002290);
                                    b = md5_ff(b, c, d, a, x[i + 15], 22, 1236535329);
                                    a = md5_gg(a, b, c, d, x[i + 1], 5, -165796510);
                                    d = md5_gg(d, a, b, c, x[i + 6], 9, -1069501632);
                                    c = md5_gg(c, d, a, b, x[i + 11], 14, 643717713);
                                    b = md5_gg(b, c, d, a, x[i + 0], 20, -373897302);
                                    a = md5_gg(a, b, c, d, x[i + 5], 5, -701558691);
                                    d = md5_gg(d, a, b, c, x[i + 10], 9, 38016083);
                                    c = md5_gg(c, d, a, b, x[i + 15], 14, -660478335);
                                    b = md5_gg(b, c, d, a, x[i + 4], 20, -405537848);
                                    a = md5_gg(a, b, c, d, x[i + 9], 5, 568446438);
                                    d = md5_gg(d, a, b, c, x[i + 14], 9, -1019803690);
                                    c = md5_gg(c, d, a, b, x[i + 3], 14, -187363961);
                                    b = md5_gg(b, c, d, a, x[i + 8], 20, 1163531501);
                                    a = md5_gg(a, b, c, d, x[i + 13], 5, -1444681467);
                                    d = md5_gg(d, a, b, c, x[i + 2], 9, -51403784);
                                    c = md5_gg(c, d, a, b, x[i + 7], 14, 1735328473);
                                    b = md5_gg(b, c, d, a, x[i + 12], 20, -1926607734);
                                    a = md5_hh(a, b, c, d, x[i + 5], 4, -378558);
                                    d = md5_hh(d, a, b, c, x[i + 8], 11, -2022574463);
                                    c = md5_hh(c, d, a, b, x[i + 11], 16, 1839030562);
                                    b = md5_hh(b, c, d, a, x[i + 14], 23, -35309556);
                                    a = md5_hh(a, b, c, d, x[i + 1], 4, -1530992060);
                                    d = md5_hh(d, a, b, c, x[i + 4], 11, 1272893353);
                                    c = md5_hh(c, d, a, b, x[i + 7], 16, -155497632);
                                    b = md5_hh(b, c, d, a, x[i + 10], 23, -1094730640);
                                    a = md5_hh(a, b, c, d, x[i + 13], 4, 681279174);
                                    d = md5_hh(d, a, b, c, x[i + 0], 11, -358537222);
                                    c = md5_hh(c, d, a, b, x[i + 3], 16, -722521979);
                                    b = md5_hh(b, c, d, a, x[i + 6], 23, 76029189);
                                    a = md5_hh(a, b, c, d, x[i + 9], 4, -640364487);
                                    d = md5_hh(d, a, b, c, x[i + 12], 11, -421815835);
                                    c = md5_hh(c, d, a, b, x[i + 15], 16, 530742520);
                                    b = md5_hh(b, c, d, a, x[i + 2], 23, -995338651);
                                    a = md5_ii(a, b, c, d, x[i + 0], 6, -198630844);
                                    d = md5_ii(d, a, b, c, x[i + 7], 10, 1126891415);
                                    c = md5_ii(c, d, a, b, x[i + 14], 15, -1416354905);
                                    b = md5_ii(b, c, d, a, x[i + 5], 21, -57434055);
                                    a = md5_ii(a, b, c, d, x[i + 12], 6, 1700485571);
                                    d = md5_ii(d, a, b, c, x[i + 3], 10, -1894986606);
                                    c = md5_ii(c, d, a, b, x[i + 10], 15, -1051523);
                                    b = md5_ii(b, c, d, a, x[i + 1], 21, -2054922799);
                                    a = md5_ii(a, b, c, d, x[i + 8], 6, 1873313359);
                                    d = md5_ii(d, a, b, c, x[i + 15], 10, -30611744);
                                    c = md5_ii(c, d, a, b, x[i + 6], 15, -1560198380);
                                    b = md5_ii(b, c, d, a, x[i + 13], 21, 1309151649);
                                    a = md5_ii(a, b, c, d, x[i + 4], 6, -145523070);
                                    d = md5_ii(d, a, b, c, x[i + 11], 10, -1120210379);
                                    c = md5_ii(c, d, a, b, x[i + 2], 15, 718787259);
                                    b = md5_ii(b, c, d, a, x[i + 9], 21, -343485551);
                                    a = safe_add(a, olda);
                                    b = safe_add(b, oldb);
                                    c = safe_add(c, oldc);
                                    d = safe_add(d, oldd)
                                }
                                return [a, b, c, d]
                            };
                            var obj = {
                                hexdigest: function(s) {
                                    return binl2hex(core_md5(str2binl(s), s.length * 8))
                                },
                                hash: function(s) {
                                    return binl2str(core_md5(str2binl(s), s.length * 8))
                                }
                            };
                            return obj
                        });
                        (function(root, factory) {
                            if (typeof define === "function" && define.amd) {
                                define("strophe-utils", function() {
                                    return factory()
                                })
                            } else {
                                root.stropheUtils = factory()
                            }
                        })(this, function() {
                            var utils = {
                                utf16to8: function(str) {
                                    var i, c;
                                    var out = "";
                                    var len = str.length;
                                    for (i = 0; i < len; i++) {
                                        c = str.charCodeAt(i);
                                        if (c >= 0 && c <= 127) {
                                            out += str.charAt(i)
                                        } else if (c > 2047) {
                                            out += String.fromCharCode(224 | c >> 12 & 15);
                                            out += String.fromCharCode(128 | c >> 6 & 63);
                                            out += String.fromCharCode(128 | c >> 0 & 63)
                                        } else {
                                            out += String.fromCharCode(192 | c >> 6 & 31);
                                            out += String.fromCharCode(128 | c >> 0 & 63)
                                        }
                                    }
                                    return out
                                }
                            };
                            return utils
                        });
                        (function(root, factory) {
                            if (typeof define === "function" && define.amd) {
                                define("strophe-polyfill", [], function() {
                                    return factory()
                                })
                            } else {
                                return factory()
                            }
                        })(this, function() {
                            if (!Function.prototype.bind) {
                                Function.prototype.bind = function(obj) {
                                    var func = this;
                                    var _slice = Array.prototype.slice;
                                    var _concat = Array.prototype.concat;
                                    var _args = _slice.call(arguments, 1);
                                    return function() {
                                        return func.apply(obj ? obj : this, _concat.call(_args, _slice.call(arguments, 0)))
                                    }
                                }
                            }
                            if (!Array.isArray) {
                                Array.isArray = function(arg) {
                                    return Object.prototype.toString.call(arg) === "[object Array]"
                                }
                            }
                            if (!Array.prototype.indexOf) {
                                Array.prototype.indexOf = function(elt) {
                                    var len = this.length;
                                    var from = Number(arguments[1]) || 0;
                                    from = from < 0 ? Math.ceil(from) : Math.floor(from);
                                    if (from < 0) {
                                        from += len
                                    }
                                    for (; from < len; from++) {
                                        if (from in this && this[from] === elt) {
                                            return from
                                        }
                                    }
                                    return -1
                                }
                            }
                        });
                        (function(root, factory) {
                            if (typeof define === "function" && define.amd) {
                                define("strophe-core", ["strophe-sha1", "strophe-base64", "strophe-md5", "strophe-utils", "strophe-polyfill"], function() {
                                    return factory.apply(this, arguments)
                                })
                            } else {
                                var o = factory(root.SHA1, root.Base64, root.MD5, root.stropheUtils);
                                window.Strophe = o.Strophe;
                                window.$build = o.$build;
                                window.$iq = o.$iq;
                                window.$msg = o.$msg;
                                window.$pres = o.$pres;
                                window.SHA1 = o.SHA1;
                                window.Base64 = o.Base64;
                                window.MD5 = o.MD5;
                                window.b64_hmac_sha1 = o.SHA1.b64_hmac_sha1;
                                window.b64_sha1 = o.SHA1.b64_sha1;
                                window.str_hmac_sha1 = o.SHA1.str_hmac_sha1;
                                window.str_sha1 = o.SHA1.str_sha1
                            }
                        })(this, function(SHA1, Base64, MD5, utils) {
                            var Strophe;

                            function $build(name, attrs) {
                                return new Strophe.Builder(name, attrs)
                            }

                            function $msg(attrs) {
                                return new Strophe.Builder("message", attrs)
                            }

                            function $iq(attrs) {
                                return new Strophe.Builder("iq", attrs)
                            }

                            function $pres(attrs) {
                                return new Strophe.Builder("presence", attrs)
                            }
                            Strophe = {
                                VERSION: "1.2.4",
                                NS: {
                                    HTTPBIND: "http://jabber.org/protocol/httpbind",
                                    BOSH: "urn:xmpp:xbosh",
                                    CLIENT: "jabber:client",
                                    AUTH: "jabber:iq:auth",
                                    ROSTER: "jabber:iq:roster",
                                    PROFILE: "jabber:iq:profile",
                                    DISCO_INFO: "http://jabber.org/protocol/disco#info",
                                    DISCO_ITEMS: "http://jabber.org/protocol/disco#items",
                                    MUC: "http://jabber.org/protocol/muc",
                                    SASL: "urn:ietf:params:xml:ns:xmpp-sasl",
                                    STREAM: "http://etherx.jabber.org/streams",
                                    FRAMING: "urn:ietf:params:xml:ns:xmpp-framing",
                                    BIND: "urn:ietf:params:xml:ns:xmpp-bind",
                                    SESSION: "urn:ietf:params:xml:ns:xmpp-session",
                                    VERSION: "jabber:iq:version",
                                    STANZAS: "urn:ietf:params:xml:ns:xmpp-stanzas",
                                    XHTML_IM: "http://jabber.org/protocol/xhtml-im",
                                    XHTML: "http://www.w3.org/1999/xhtml"
                                },
                                XHTML: {
                                    tags: ["a", "blockquote", "br", "cite", "em", "img", "li", "ol", "p", "span", "strong", "ul", "body"],
                                    attributes: {
                                        a: ["href"],
                                        blockquote: ["style"],
                                        br: [],
                                        cite: ["style"],
                                        em: [],
                                        img: ["src", "alt", "style", "height", "width"],
                                        li: ["style"],
                                        ol: ["style"],
                                        p: ["style"],
                                        span: ["style"],
                                        strong: [],
                                        ul: ["style"],
                                        body: []
                                    },
                                    css: ["background-color", "color", "font-family", "font-size", "font-style", "font-weight", "margin-left", "margin-right", "text-align", "text-decoration"],
                                    validTag: function(tag) {
                                        for (var i = 0; i < Strophe.XHTML.tags.length; i++) {
                                            if (tag == Strophe.XHTML.tags[i]) {
                                                return true
                                            }
                                        }
                                        return false
                                    },
                                    validAttribute: function(tag, attribute) {
                                        if (typeof Strophe.XHTML.attributes[tag] !== "undefined" && Strophe.XHTML.attributes[tag].length > 0) {
                                            for (var i = 0; i < Strophe.XHTML.attributes[tag].length; i++) {
                                                if (attribute == Strophe.XHTML.attributes[tag][i]) {
                                                    return true
                                                }
                                            }
                                        }
                                        return false
                                    },
                                    validCSS: function(style) {
                                        for (var i = 0; i < Strophe.XHTML.css.length; i++) {
                                            if (style == Strophe.XHTML.css[i]) {
                                                return true
                                            }
                                        }
                                        return false
                                    }
                                },
                                Status: {
                                    ERROR: 0,
                                    CONNECTING: 1,
                                    CONNFAIL: 2,
                                    AUTHENTICATING: 3,
                                    AUTHFAIL: 4,
                                    CONNECTED: 5,
                                    DISCONNECTED: 6,
                                    DISCONNECTING: 7,
                                    ATTACHED: 8,
                                    REDIRECT: 9
                                },
                                LogLevel: {
                                    DEBUG: 0,
                                    INFO: 1,
                                    WARN: 2,
                                    ERROR: 3,
                                    FATAL: 4
                                },
                                ElementType: {
                                    NORMAL: 1,
                                    TEXT: 3,
                                    CDATA: 4,
                                    FRAGMENT: 11
                                },
                                TIMEOUT: 1.1,
                                SECONDARY_TIMEOUT: .1,
                                addNamespace: function(name, value) {
                                    Strophe.NS[name] = value
                                },
                                forEachChild: function(elem, elemName, func) {
                                    var i, childNode;
                                    for (i = 0; i < elem.childNodes.length; i++) {
                                        childNode = elem.childNodes[i];
                                        if (childNode.nodeType == Strophe.ElementType.NORMAL && (!elemName || this.isTagEqual(childNode, elemName))) {
                                            func(childNode)
                                        }
                                    }
                                },
                                isTagEqual: function(el, name) {
                                    return el.tagName == name
                                },
                                _xmlGenerator: null,
                                _makeGenerator: function() {
                                    var doc;
                                    if (document.implementation.createDocument === undefined || document.implementation.createDocument && document.documentMode && document.documentMode < 10) {
                                        doc = this._getIEXmlDom();
                                        doc.appendChild(doc.createElement("strophe"))
                                    } else {
                                        doc = document.implementation.createDocument("jabber:client", "strophe", null)
                                    }
                                    return doc
                                },
                                xmlGenerator: function() {
                                    if (!Strophe._xmlGenerator) {
                                        Strophe._xmlGenerator = Strophe._makeGenerator()
                                    }
                                    return Strophe._xmlGenerator
                                },
                                _getIEXmlDom: function() {
                                    var doc = null;
                                    var docStrings = ["Msxml2.DOMDocument.6.0", "Msxml2.DOMDocument.5.0", "Msxml2.DOMDocument.4.0", "MSXML2.DOMDocument.3.0", "MSXML2.DOMDocument", "MSXML.DOMDocument", "Microsoft.XMLDOM"];
                                    for (var d = 0; d < docStrings.length; d++) {
                                        if (doc === null) {
                                            try {
                                                doc = new ActiveXObject(docStrings[d])
                                            } catch (e) {
                                                doc = null
                                            }
                                        } else {
                                            break
                                        }
                                    }
                                    return doc
                                },
                                xmlElement: function(name) {
                                    if (!name) {
                                        return null
                                    }
                                    var node = Strophe.xmlGenerator().createElement(name);
                                    var a, i, k;
                                    for (a = 1; a < arguments.length; a++) {
                                        var arg = arguments[a];
                                        if (!arg) {
                                            continue
                                        }
                                        if (typeof arg == "string" || typeof arg == "number") {
                                            node.appendChild(Strophe.xmlTextNode(arg))
                                        } else if (typeof arg == "object" && typeof arg.sort == "function") {
                                            for (i = 0; i < arg.length; i++) {
                                                var attr = arg[i];
                                                if (typeof attr == "object" && typeof attr.sort == "function" && attr[1] !== undefined && attr[1] !== null) {
                                                    node.setAttribute(attr[0], attr[1])
                                                }
                                            }
                                        } else if (typeof arg == "object") {
                                            for (k in arg) {
                                                if (arg.hasOwnProperty(k)) {
                                                    if (arg[k] !== undefined && arg[k] !== null) {
                                                        node.setAttribute(k, arg[k])
                                                    }
                                                }
                                            }
                                        }
                                    }
                                    return node
                                },
                                xmlescape: function(text) {
                                    text = text.replace(/\&/g, "&amp;");
                                    text = text.replace(/</g, "&lt;");
                                    text = text.replace(/>/g, "&gt;");
                                    text = text.replace(/'/g, "&apos;");
                                    text = text.replace(/"/g, "&quot;");
                                    return text
                                },
                                xmlunescape: function(text) {
                                    text = text.replace(/\&amp;/g, "&");
                                    text = text.replace(/&lt;/g, "<");
                                    text = text.replace(/&gt;/g, ">");
                                    text = text.replace(/&apos;/g, "'");
                                    text = text.replace(/&quot;/g, '"');
                                    return text
                                },
                                xmlTextNode: function(text) {
                                    return Strophe.xmlGenerator().createTextNode(text)
                                },
                                xmlHtmlNode: function(html) {
                                    var node;
                                    if (window.DOMParser) {
                                        var parser = new DOMParser;
                                        node = parser.parseFromString(html, "text/xml")
                                    } else {
                                        node = new ActiveXObject("Microsoft.XMLDOM");
                                        node.async = "false";
                                        node.loadXML(html)
                                    }
                                    return node
                                },
                                getText: function(elem) {
                                    if (!elem) {
                                        return null
                                    }
                                    var str = "";
                                    if (elem.childNodes.length === 0 && elem.nodeType == Strophe.ElementType.TEXT) {
                                        str += elem.nodeValue
                                    }
                                    for (var i = 0; i < elem.childNodes.length; i++) {
                                        if (elem.childNodes[i].nodeType == Strophe.ElementType.TEXT) {
                                            str += elem.childNodes[i].nodeValue
                                        }
                                    }
                                    return Strophe.xmlescape(str)
                                },
                                copyElement: function(elem) {
                                    var i, el;
                                    if (elem.nodeType == Strophe.ElementType.NORMAL) {
                                        el = Strophe.xmlElement(elem.tagName);
                                        for (i = 0; i < elem.attributes.length; i++) {
                                            el.setAttribute(elem.attributes[i].nodeName, elem.attributes[i].value)
                                        }
                                        for (i = 0; i < elem.childNodes.length; i++) {
                                            el.appendChild(Strophe.copyElement(elem.childNodes[i]))
                                        }
                                    } else if (elem.nodeType == Strophe.ElementType.TEXT) {
                                        el = Strophe.xmlGenerator().createTextNode(elem.nodeValue)
                                    }
                                    return el
                                },
                                createHtml: function(elem) {
                                    var i, el, j, tag, attribute, value, css, cssAttrs, attr, cssName, cssValue;
                                    if (elem.nodeType == Strophe.ElementType.NORMAL) {
                                        tag = elem.nodeName.toLowerCase();
                                        if (Strophe.XHTML.validTag(tag)) {
                                            try {
                                                el = Strophe.xmlElement(tag);
                                                for (i = 0; i < Strophe.XHTML.attributes[tag].length; i++) {
                                                    attribute = Strophe.XHTML.attributes[tag][i];
                                                    value = elem.getAttribute(attribute);
                                                    if (typeof value == "undefined" || value === null || value === "" || value === false || value === 0) {
                                                        continue
                                                    }
                                                    if (attribute == "style" && typeof value == "object") {
                                                        if (typeof value.cssText != "undefined") {
                                                            value = value.cssText
                                                        }
                                                    }
                                                    if (attribute == "style") {
                                                        css = [];
                                                        cssAttrs = value.split(";");
                                                        for (j = 0; j < cssAttrs.length; j++) {
                                                            attr = cssAttrs[j].split(":");
                                                            cssName = attr[0].replace(/^\s*/, "").replace(/\s*$/, "").toLowerCase();
                                                            if (Strophe.XHTML.validCSS(cssName)) {
                                                                cssValue = attr[1].replace(/^\s*/, "").replace(/\s*$/, "");
                                                                css.push(cssName + ": " + cssValue)
                                                            }
                                                        }
                                                        if (css.length > 0) {
                                                            value = css.join("; ");
                                                            el.setAttribute(attribute, value)
                                                        }
                                                    } else {
                                                        el.setAttribute(attribute, value)
                                                    }
                                                }
                                                for (i = 0; i < elem.childNodes.length; i++) {
                                                    el.appendChild(Strophe.createHtml(elem.childNodes[i]))
                                                }
                                            } catch (e) {
                                                el = Strophe.xmlTextNode("")
                                            }
                                        } else {
                                            el = Strophe.xmlGenerator().createDocumentFragment();
                                            for (i = 0; i < elem.childNodes.length; i++) {
                                                el.appendChild(Strophe.createHtml(elem.childNodes[i]))
                                            }
                                        }
                                    } else if (elem.nodeType == Strophe.ElementType.FRAGMENT) {
                                        el = Strophe.xmlGenerator().createDocumentFragment();
                                        for (i = 0; i < elem.childNodes.length; i++) {
                                            el.appendChild(Strophe.createHtml(elem.childNodes[i]))
                                        }
                                    } else if (elem.nodeType == Strophe.ElementType.TEXT) {
                                        el = Strophe.xmlTextNode(elem.nodeValue)
                                    }
                                    return el
                                },
                                escapeNode: function(node) {
                                    if (typeof node !== "string") {
                                        return node
                                    }
                                    return node.replace(/^\s+|\s+$/g, "").replace(/\\/g, "\\5c").replace(/ /g, "\\20").replace(/\"/g, "\\22").replace(/\&/g, "\\26").replace(/\'/g, "\\27").replace(/\//g, "\\2f").replace(/:/g, "\\3a").replace(/</g, "\\3c").replace(/>/g, "\\3e").replace(/@/g, "\\40")
                                },
                                unescapeNode: function(node) {
                                    if (typeof node !== "string") {
                                        return node
                                    }
                                    return node.replace(/\\20/g, " ").replace(/\\22/g, '"').replace(/\\26/g, "&").replace(/\\27/g, "'").replace(/\\2f/g, "/").replace(/\\3a/g, ":").replace(/\\3c/g, "<").replace(/\\3e/g, ">").replace(/\\40/g, "@").replace(/\\5c/g, "\\")
                                },
                                getNodeFromJid: function(jid) {
                                    if (!jid || jid.indexOf("@") < 0) {
                                        return null
                                    }
                                    return jid.split("@")[0]
                                },
                                getDomainFromJid: function(jid) {
                                    var bare = Strophe.getBareJidFromJid(jid);
                                    if (bare.indexOf("@") < 0) {
                                        return bare
                                    } else {
                                        var parts = bare.split("@");
                                        parts.splice(0, 1);
                                        return parts.join("@")
                                    }
                                },
                                getResourceFromJid: function(jid) {
                                    var s = jid.split("/");
                                    if (s.length < 2) {
                                        return null
                                    }
                                    s.splice(0, 1);
                                    return s.join("/")
                                },
                                getBareJidFromJid: function(jid) {
                                    return jid ? jid.split("/")[0] : null
                                },
                                log: function(level, msg) {
                                    return
                                },
                                debug: function(msg) {
                                    this.log(this.LogLevel.DEBUG, msg)
                                },
                                info: function(msg) {
                                    this.log(this.LogLevel.INFO, msg)
                                },
                                warn: function(msg) {
                                    this.log(this.LogLevel.WARN, msg)
                                },
                                error: function(msg) {
                                    this.log(this.LogLevel.ERROR, msg)
                                },
                                fatal: function(msg) {
                                    this.log(this.LogLevel.FATAL, msg)
                                },
                                serialize: function(elem) {
                                    var result;
                                    if (!elem) {
                                        return null
                                    }
                                    if (typeof elem.tree === "function") {
                                        elem = elem.tree()
                                    }
                                    var nodeName = elem.nodeName;
                                    var i, child;
                                    if (elem.getAttribute("_realname")) {
                                        nodeName = elem.getAttribute("_realname")
                                    }
                                    result = "<" + nodeName;
                                    for (i = 0; i < elem.attributes.length; i++) {
                                        if (elem.attributes[i].nodeName != "_realname") {
                                            result += " " + elem.attributes[i].nodeName + "='" + elem.attributes[i].value.replace(/&/g, "&amp;").replace(/\'/g, "&apos;").replace(/>/g, "&gt;").replace(/</g, "&lt;") + "'"
                                        }
                                    }
                                    if (elem.childNodes.length > 0) {
                                        result += ">";
                                        for (i = 0; i < elem.childNodes.length; i++) {
                                            child = elem.childNodes[i];
                                            switch (child.nodeType) {
                                                case Strophe.ElementType.NORMAL:
                                                    result += Strophe.serialize(child);
                                                    break;
                                                case Strophe.ElementType.TEXT:
                                                    result += Strophe.xmlescape(child.nodeValue);
                                                    break;
                                                case Strophe.ElementType.CDATA:
                                                    result += "<![CDATA[" + child.nodeValue + "]]>"
                                            }
                                        }
                                        result += "</" + nodeName + ">"
                                    } else {
                                        result += "/>"
                                    }
                                    return result
                                },
                                _requestId: 0,
                                _connectionPlugins: {},
                                addConnectionPlugin: function(name, ptype) {
                                    Strophe._connectionPlugins[name] = ptype
                                }
                            };
                            Strophe.Builder = function(name, attrs) {
                                if (name == "presence" || name == "message" || name == "iq") {
                                    if (attrs && !attrs.xmlns) {
                                        attrs.xmlns = Strophe.NS.CLIENT
                                    } else if (!attrs) {
                                        attrs = {
                                            xmlns: Strophe.NS.CLIENT
                                        }
                                    }
                                }
                                this.nodeTree = Strophe.xmlElement(name, attrs);
                                this.node = this.nodeTree
                            };
                            Strophe.Builder.prototype = {
                                tree: function() {
                                    return this.nodeTree
                                },
                                toString: function() {
                                    return Strophe.serialize(this.nodeTree)
                                },
                                up: function() {
                                    this.node = this.node.parentNode;
                                    return this
                                },
                                attrs: function(moreattrs) {
                                    for (var k in moreattrs) {
                                        if (moreattrs.hasOwnProperty(k)) {
                                            if (moreattrs[k] === undefined) {
                                                this.node.removeAttribute(k)
                                            } else {
                                                this.node.setAttribute(k, moreattrs[k])
                                            }
                                        }
                                    }
                                    return this
                                },
                                c: function(name, attrs, text) {
                                    var child = Strophe.xmlElement(name, attrs, text);
                                    this.node.appendChild(child);
                                    if (typeof text !== "string") {
                                        this.node = child
                                    }
                                    return this
                                },
                                cnode: function(elem) {
                                    var impNode;
                                    var xmlGen = Strophe.xmlGenerator();
                                    try {
                                        impNode = xmlGen.importNode !== undefined
                                    } catch (e) {
                                        impNode = false
                                    }
                                    var newElem = impNode ? xmlGen.importNode(elem, true) : Strophe.copyElement(elem);
                                    this.node.appendChild(newElem);
                                    this.node = newElem;
                                    return this
                                },
                                t: function(text) {
                                    var child = Strophe.xmlTextNode(text);
                                    this.node.appendChild(child);
                                    return this
                                },
                                h: function(html) {
                                    var fragment = document.createElement("body");
                                    fragment.innerHTML = html;
                                    var xhtml = Strophe.createHtml(fragment);
                                    while (xhtml.childNodes.length > 0) {
                                        this.node.appendChild(xhtml.childNodes[0])
                                    }
                                    return this
                                }
                            };
                            Strophe.Handler = function(handler, ns, name, type, id, from, options) {
                                this.handler = handler;
                                this.ns = ns;
                                this.name = name;
                                this.type = type;
                                this.id = id;
                                this.options = options || {
                                    matchBare: false
                                };
                                if (!this.options.matchBare) {
                                    this.options.matchBare = false
                                }
                                if (this.options.matchBare) {
                                    this.from = from ? Strophe.getBareJidFromJid(from) : null
                                } else {
                                    this.from = from
                                }
                                this.user = true
                            };
                            Strophe.Handler.prototype = {
                                isMatch: function(elem) {
                                    var nsMatch;
                                    var from = null;
                                    if (this.options.matchBare) {
                                        from = Strophe.getBareJidFromJid(elem.getAttribute("from"))
                                    } else {
                                        from = elem.getAttribute("from")
                                    }
                                    nsMatch = false;
                                    if (!this.ns) {
                                        nsMatch = true
                                    } else {
                                        var that = this;
                                        Strophe.forEachChild(elem, null, function(elem) {
                                            if (elem.getAttribute("xmlns") == that.ns) {
                                                nsMatch = true
                                            }
                                        });
                                        nsMatch = nsMatch || elem.getAttribute("xmlns") == this.ns
                                    }
                                    var elem_type = elem.getAttribute("type");
                                    if (nsMatch && (!this.name || Strophe.isTagEqual(elem, this.name)) && (!this.type || (Array.isArray(this.type) ? this.type.indexOf(elem_type) != -1 : elem_type == this.type)) && (!this.id || elem.getAttribute("id") == this.id) && (!this.from || from == this.from)) {
                                        return true
                                    }
                                    return false
                                },
                                run: function(elem) {
                                    var result = null;
                                    try {
                                        result = this.handler(elem)
                                    } catch (e) {
                                        if (e.sourceURL) {
                                            Strophe.fatal("error: " + this.handler + " " + e.sourceURL + ":" + e.line + " - " + e.name + ": " + e.message)
                                        } else if (e.fileName) {
                                            if (typeof console != "undefined") {
                                                console.trace();
                                                console.error(this.handler, " - error - ", e, e.message)
                                            }
                                            Strophe.fatal("error: " + this.handler + " " + e.fileName + ":" + e.lineNumber + " - " + e.name + ": " + e.message)
                                        } else {
                                            Strophe.fatal("error: " + e.message + "\n" + e.stack)
                                        }
                                        throw e
                                    }
                                    return result
                                },
                                toString: function() {
                                    return "{Handler: " + this.handler + "(" + this.name + "," + this.id + "," + this.ns + ")}"
                                }
                            };
                            Strophe.TimedHandler = function(period, handler) {
                                this.period = period;
                                this.handler = handler;
                                this.lastCalled = (new Date).getTime();
                                this.user = true
                            };
                            Strophe.TimedHandler.prototype = {
                                run: function() {
                                    this.lastCalled = (new Date).getTime();
                                    return this.handler()
                                },
                                reset: function() {
                                    this.lastCalled = (new Date).getTime()
                                },
                                toString: function() {
                                    return "{TimedHandler: " + this.handler + "(" + this.period + ")}"
                                }
                            };
                            Strophe.Connection = function(service, options) {
                                this.service = service;
                                this.options = options || {};
                                var proto = this.options.protocol || "";
                                if (service.indexOf("ws:") === 0 || service.indexOf("wss:") === 0 || proto.indexOf("ws") === 0) {
                                    this._proto = new Strophe.Websocket(this)
                                } else {
                                    this._proto = new Strophe.Bosh(this)
                                }
                                this.jid = "";
                                this.domain = null;
                                this.features = null;
                                this._sasl_data = {};
                                this.do_session = false;
                                this.do_bind = false;
                                this.timedHandlers = [];
                                this.handlers = [];
                                this.removeTimeds = [];
                                this.removeHandlers = [];
                                this.addTimeds = [];
                                this.addHandlers = [];
                                this._authentication = {};
                                this._idleTimeout = null;
                                this._disconnectTimeout = null;
                                this.authenticated = false;
                                this.connected = false;
                                this.disconnecting = false;
                                this.do_authentication = true;
                                this.paused = false;
                                this.restored = false;
                                this._data = [];
                                this._uniqueId = 0;
                                this._sasl_success_handler = null;
                                this._sasl_failure_handler = null;
                                this._sasl_challenge_handler = null;
                                this.maxRetries = 5;
                                this._idleTimeout = setTimeout(this._onIdle.bind(this), 100);
                                for (var k in Strophe._connectionPlugins) {
                                    if (Strophe._connectionPlugins.hasOwnProperty(k)) {
                                        var ptype = Strophe._connectionPlugins[k];
                                        var F = function() {};
                                        F.prototype = ptype;
                                        this[k] = new F;
                                        this[k].init(this)
                                    }
                                }
                            };
                            Strophe.Connection.prototype = {
                                reset: function() {
                                    this._proto._reset();
                                    this.do_session = false;
                                    this.do_bind = false;
                                    this.timedHandlers = [];
                                    this.handlers = [];
                                    this.removeTimeds = [];
                                    this.removeHandlers = [];
                                    this.addTimeds = [];
                                    this.addHandlers = [];
                                    this._authentication = {};
                                    this.authenticated = false;
                                    this.connected = false;
                                    this.disconnecting = false;
                                    this.restored = false;
                                    this._data = [];
                                    this._requests = [];
                                    this._uniqueId = 0
                                },
                                pause: function() {
                                    this.paused = true
                                },
                                resume: function() {
                                    this.paused = false
                                },
                                getUniqueId: function(suffix) {
                                    var uuid = "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(c) {
                                        var r = Math.random() * 16 | 0,
                                            v = c == "x" ? r : r & 3 | 8;
                                        return v.toString(16)
                                    });
                                    if (typeof suffix == "string" || typeof suffix == "number") {
                                        return uuid + ":" + suffix
                                    } else {
                                        return uuid + ""
                                    }
                                },
                                connect: function(jid, pass, callback, wait, hold, route, authcid) {
                                    this.jid = jid;
                                    this.authzid = Strophe.getBareJidFromJid(this.jid);
                                    this.authcid = authcid || Strophe.getNodeFromJid(this.jid);
                                    this.pass = pass;
                                    this.servtype = "xmpp";
                                    this.connect_callback = callback;
                                    this.disconnecting = false;
                                    this.connected = false;
                                    this.authenticated = false;
                                    this.restored = false;
                                    this.domain = Strophe.getDomainFromJid(this.jid);
                                    this._changeConnectStatus(Strophe.Status.CONNECTING, null);
                                    this._proto._connect(wait, hold, route)
                                },
                                attach: function(jid, sid, rid, callback, wait, hold, wind) {
                                    if (this._proto instanceof Strophe.Bosh) {
                                        this._proto._attach(jid, sid, rid, callback, wait, hold, wind)
                                    } else {
                                        throw {
                                            name: "StropheSessionError",
                                            message: 'The "attach" method can only be used with a BOSH connection.'
                                        }
                                    }
                                },
                                restore: function(jid, callback, wait, hold, wind) {
                                    if (this._sessionCachingSupported()) {
                                        this._proto._restore(jid, callback, wait, hold, wind)
                                    } else {
                                        throw {
                                            name: "StropheSessionError",
                                            message: 'The "restore" method can only be used with a BOSH connection.'
                                        }
                                    }
                                },
                                _sessionCachingSupported: function() {
                                    if (this._proto instanceof Strophe.Bosh) {
                                        if (!JSON) {
                                            return false
                                        }
                                        try {
                                            window.sessionStorage.setItem("_strophe_", "_strophe_");
                                            window.sessionStorage.removeItem("_strophe_")
                                        } catch (e) {
                                            return false
                                        }
                                        return true
                                    }
                                    return false
                                },
                                xmlInput: function(elem) {
                                    return
                                },
                                xmlOutput: function(elem) {
                                    return
                                },
                                rawInput: function(data) {
                                    return
                                },
                                rawOutput: function(data) {
                                    return
                                },
                                nextValidRid: function(rid) {
                                    return
                                },
                                send: function(elem) {
                                    if (elem === null) {
                                        return
                                    }
                                    if (typeof elem.sort === "function") {
                                        for (var i = 0; i < elem.length; i++) {
                                            this._queueData(elem[i])
                                        }
                                    } else if (typeof elem.tree === "function") {
                                        this._queueData(elem.tree())
                                    } else {
                                        this._queueData(elem)
                                    }
                                    this._proto._send()
                                },
                                flush: function() {
                                    clearTimeout(this._idleTimeout);
                                    this._onIdle()
                                },
                                sendIQ: function(elem, callback, errback, timeout) {
                                    var timeoutHandler = null;
                                    var that = this;
                                    if (typeof elem.tree === "function") {
                                        elem = elem.tree()
                                    }
                                    var id = elem.getAttribute("id");
                                    if (!id) {
                                        id = this.getUniqueId("sendIQ");
                                        elem.setAttribute("id", id)
                                    }
                                    var expectedFrom = elem.getAttribute("to");
                                    var fulljid = this.jid;
                                    var handler = this.addHandler(function(stanza) {
                                        if (timeoutHandler) {
                                            that.deleteTimedHandler(timeoutHandler)
                                        }
                                        var acceptable = false;
                                        var from = stanza.getAttribute("from");
                                        if (from === expectedFrom || !expectedFrom && (from === Strophe.getBareJidFromJid(fulljid) || from === Strophe.getDomainFromJid(fulljid) || from === fulljid)) {
                                            acceptable = true
                                        }
                                        if (!acceptable) {
                                            throw {
                                                name: "StropheError",
                                                message: "Got answer to IQ from wrong jid:" + from + "\nExpected jid: " + expectedFrom
                                            }
                                        }
                                        var iqtype = stanza.getAttribute("type");
                                        if (iqtype == "result") {
                                            if (callback) {
                                                callback(stanza)
                                            }
                                        } else if (iqtype == "error") {
                                            if (errback) {
                                                errback(stanza)
                                            }
                                        } else {
                                            throw {
                                                name: "StropheError",
                                                message: "Got bad IQ type of " + iqtype
                                            }
                                        }
                                    }, null, "iq", ["error", "result"], id);
                                    if (timeout) {
                                        timeoutHandler = this.addTimedHandler(timeout, function() {
                                            that.deleteHandler(handler);
                                            if (errback) {
                                                errback(null)
                                            }
                                            return false
                                        })
                                    }
                                    this.send(elem);
                                    return id
                                },
                                _queueData: function(element) {
                                    if (element === null || !element.tagName || !element.childNodes) {
                                        throw {
                                            name: "StropheError",
                                            message: "Cannot queue non-DOMElement."
                                        }
                                    }
                                    this._data.push(element)
                                },
                                _sendRestart: function() {
                                    this._data.push("restart");
                                    this._proto._sendRestart();
                                    this._idleTimeout = setTimeout(this._onIdle.bind(this), 100)
                                },
                                addTimedHandler: function(period, handler) {
                                    var thand = new Strophe.TimedHandler(period, handler);
                                    this.addTimeds.push(thand);
                                    return thand
                                },
                                deleteTimedHandler: function(handRef) {
                                    this.removeTimeds.push(handRef)
                                },
                                addHandler: function(handler, ns, name, type, id, from, options) {
                                    var hand = new Strophe.Handler(handler, ns, name, type, id, from, options);
                                    this.addHandlers.push(hand);
                                    return hand
                                },
                                deleteHandler: function(handRef) {
                                    this.removeHandlers.push(handRef);
                                    var i = this.addHandlers.indexOf(handRef);
                                    if (i >= 0) {
                                        this.addHandlers.splice(i, 1)
                                    }
                                },
                                disconnect: function(reason) {
                                    this._changeConnectStatus(Strophe.Status.DISCONNECTING, reason);
                                    Strophe.info("Disconnect was called because: " + reason);
                                    if (this.connected) {
                                        var pres = false;
                                        this.disconnecting = true;
                                        if (this.authenticated) {
                                            pres = $pres({
                                                xmlns: Strophe.NS.CLIENT,
                                                type: "unavailable"
                                            })
                                        }
                                        this._disconnectTimeout = this._addSysTimedHandler(3e3, this._onDisconnectTimeout.bind(this));
                                        this._proto._disconnect(pres)
                                    } else {
                                        Strophe.info("Disconnect was called before Strophe connected to the server");
                                        this._proto._abortAllRequests()
                                    }
                                },
                                _changeConnectStatus: function(status, condition) {
                                    for (var k in Strophe._connectionPlugins) {
                                        if (Strophe._connectionPlugins.hasOwnProperty(k)) {
                                            var plugin = this[k];
                                            if (plugin.statusChanged) {
                                                try {
                                                    plugin.statusChanged(status, condition)
                                                } catch (err) {
                                                    Strophe.error("" + k + " plugin caused an exception " + "changing status: " + err)
                                                }
                                            }
                                        }
                                    }
                                    if (this.connect_callback) {
                                        try {
                                            this.connect_callback(status, condition)
                                        } catch (e) {
                                            Strophe.error("User connection callback caused an " + "exception: " + e)
                                        }
                                    }
                                },
                                _doDisconnect: function(condition) {
                                    if (typeof this._idleTimeout == "number") {
                                        clearTimeout(this._idleTimeout)
                                    }
                                    if (this._disconnectTimeout !== null) {
                                        this.deleteTimedHandler(this._disconnectTimeout);
                                        this._disconnectTimeout = null
                                    }
                                    Strophe.info("_doDisconnect was called");
                                    this._proto._doDisconnect();
                                    this.authenticated = false;
                                    this.disconnecting = false;
                                    this.restored = false;
                                    this.handlers = [];
                                    this.timedHandlers = [];
                                    this.removeTimeds = [];
                                    this.removeHandlers = [];
                                    this.addTimeds = [];
                                    this.addHandlers = [];
                                    this._changeConnectStatus(Strophe.Status.DISCONNECTED, condition);
                                    this.connected = false
                                },
                                _dataRecv: function(req, raw) {
                                    Strophe.info("_dataRecv called");
                                    var elem = this._proto._reqToData(req);
                                    if (elem === null) {
                                        return
                                    }
                                    if (this.xmlInput !== Strophe.Connection.prototype.xmlInput) {
                                        if (elem.nodeName === this._proto.strip && elem.childNodes.length) {
                                            this.xmlInput(elem.childNodes[0])
                                        } else {
                                            this.xmlInput(elem)
                                        }
                                    }
                                    if (this.rawInput !== Strophe.Connection.prototype.rawInput) {
                                        if (raw) {
                                            this.rawInput(raw)
                                        } else {
                                            this.rawInput(Strophe.serialize(elem))
                                        }
                                    }
                                    var i, hand;
                                    while (this.removeHandlers.length > 0) {
                                        hand = this.removeHandlers.pop();
                                        i = this.handlers.indexOf(hand);
                                        if (i >= 0) {
                                            this.handlers.splice(i, 1)
                                        }
                                    }
                                    while (this.addHandlers.length > 0) {
                                        this.handlers.push(this.addHandlers.pop())
                                    }
                                    if (this.disconnecting && this._proto._emptyQueue()) {
                                        this._doDisconnect();
                                        return
                                    }
                                    var type = elem.getAttribute("type");
                                    var cond, conflict;
                                    if (type !== null && type == "terminate") {
                                        if (this.disconnecting) {
                                            return
                                        }
                                        cond = elem.getAttribute("condition");
                                        conflict = elem.getElementsByTagName("conflict");
                                        if (cond !== null) {
                                            if (cond == "remote-stream-error" && conflict.length > 0) {
                                                cond = "conflict"
                                            }
                                            this._changeConnectStatus(Strophe.Status.CONNFAIL, cond)
                                        } else {
                                            this._changeConnectStatus(Strophe.Status.CONNFAIL, "unknown")
                                        }
                                        this._doDisconnect(cond);
                                        return
                                    }
                                    var that = this;
                                    Strophe.forEachChild(elem, null, function(child) {
                                        var i, newList;
                                        newList = that.handlers;
                                        that.handlers = [];
                                        for (i = 0; i < newList.length; i++) {
                                            var hand = newList[i];
                                            try {
                                                if (hand.isMatch(child) && (that.authenticated || !hand.user)) {
                                                    if (hand.run(child)) {
                                                        that.handlers.push(hand)
                                                    }
                                                } else {
                                                    that.handlers.push(hand)
                                                }
                                            } catch (e) {
                                                Strophe.warn("Removing Strophe handlers due to uncaught exception: " + e.message)
                                            }
                                        }
                                    })
                                },
                                mechanisms: {},
                                _connect_cb: function(req, _callback, raw) {
                                    Strophe.info("_connect_cb was called");
                                    this.connected = true;
                                    var bodyWrap;
                                    try {
                                        bodyWrap = this._proto._reqToData(req)
                                    } catch (e) {
                                        if (e != "badformat") {
                                            throw e
                                        }
                                        this._changeConnectStatus(Strophe.Status.CONNFAIL, "bad-format");
                                        this._doDisconnect("bad-format")
                                    }
                                    if (!bodyWrap) {
                                        return
                                    }
                                    if (this.xmlInput !== Strophe.Connection.prototype.xmlInput) {
                                        if (bodyWrap.nodeName === this._proto.strip && bodyWrap.childNodes.length) {
                                            this.xmlInput(bodyWrap.childNodes[0])
                                        } else {
                                            this.xmlInput(bodyWrap)
                                        }
                                    }
                                    if (this.rawInput !== Strophe.Connection.prototype.rawInput) {
                                        if (raw) {
                                            this.rawInput(raw)
                                        } else {
                                            this.rawInput(Strophe.serialize(bodyWrap))
                                        }
                                    }
                                    var conncheck = this._proto._connect_cb(bodyWrap);
                                    if (conncheck === Strophe.Status.CONNFAIL) {
                                        return
                                    }
                                    this._authentication.sasl_scram_sha1 = false;
                                    this._authentication.sasl_plain = false;
                                    this._authentication.sasl_digest_md5 = false;
                                    this._authentication.sasl_anonymous = false;
                                    this._authentication.legacy_auth = false;
                                    var hasFeatures;
                                    if (bodyWrap.getElementsByTagNameNS) {
                                        hasFeatures = bodyWrap.getElementsByTagNameNS(Strophe.NS.STREAM, "features").length > 0
                                    } else {
                                        hasFeatures = bodyWrap.getElementsByTagName("stream:features").length > 0 || bodyWrap.getElementsByTagName("features").length > 0
                                    }
                                    var mechanisms = bodyWrap.getElementsByTagName("mechanism");
                                    var matched = [];
                                    var i, mech, found_authentication = false;
                                    if (!hasFeatures) {
                                        this._proto._no_auth_received(_callback);
                                        return
                                    }
                                    if (mechanisms.length > 0) {
                                        for (i = 0; i < mechanisms.length; i++) {
                                            mech = Strophe.getText(mechanisms[i]);
                                            if (this.mechanisms[mech]) matched.push(this.mechanisms[mech])
                                        }
                                    }
                                    this._authentication.legacy_auth = bodyWrap.getElementsByTagName("auth").length > 0;
                                    found_authentication = this._authentication.legacy_auth || matched.length > 0;
                                    if (!found_authentication) {
                                        this._proto._no_auth_received(_callback);
                                        return
                                    }
                                    if (this.do_authentication !== false) this.authenticate(matched)
                                },
                                authenticate: function(matched) {
                                    var i;
                                    for (i = 0; i < matched.length - 1; ++i) {
                                        var higher = i;
                                        for (var j = i + 1; j < matched.length; ++j) {
                                            if (matched[j].prototype.priority > matched[higher].prototype.priority) {
                                                higher = j
                                            }
                                        }
                                        if (higher != i) {
                                            var swap = matched[i];
                                            matched[i] = matched[higher];
                                            matched[higher] = swap
                                        }
                                    }
                                    var mechanism_found = false;
                                    for (i = 0; i < matched.length; ++i) {
                                        if (!matched[i].test(this)) continue;
                                        this._sasl_success_handler = this._addSysHandler(this._sasl_success_cb.bind(this), null, "success", null, null);
                                        this._sasl_failure_handler = this._addSysHandler(this._sasl_failure_cb.bind(this), null, "failure", null, null);
                                        this._sasl_challenge_handler = this._addSysHandler(this._sasl_challenge_cb.bind(this), null, "challenge", null, null);
                                        this._sasl_mechanism = new matched[i];
                                        this._sasl_mechanism.onStart(this);
                                        var request_auth_exchange = $build("auth", {
                                            xmlns: Strophe.NS.SASL,
                                            mechanism: this._sasl_mechanism.name
                                        });
                                        if (this._sasl_mechanism.isClientFirst) {
                                            var response = this._sasl_mechanism.onChallenge(this, null);
                                            request_auth_exchange.t(Base64.encode(response))
                                        }
                                        this.send(request_auth_exchange.tree());
                                        mechanism_found = true;
                                        break
                                    }
                                    if (!mechanism_found) {
                                        if (Strophe.getNodeFromJid(this.jid) === null) {
                                            this._changeConnectStatus(Strophe.Status.CONNFAIL, "x-strophe-bad-non-anon-jid");
                                            this.disconnect("x-strophe-bad-non-anon-jid")
                                        } else {
                                            this._changeConnectStatus(Strophe.Status.AUTHENTICATING, null);
                                            this._addSysHandler(this._auth1_cb.bind(this), null, null, null, "_auth_1");
                                            this.send($iq({
                                                type: "get",
                                                to: this.domain,
                                                id: "_auth_1"
                                            }).c("query", {
                                                xmlns: Strophe.NS.AUTH
                                            }).c("username", {}).t(Strophe.getNodeFromJid(this.jid)).tree())
                                        }
                                    }
                                },
                                _sasl_challenge_cb: function(elem) {
                                    var challenge = Base64.decode(Strophe.getText(elem));
                                    var response = this._sasl_mechanism.onChallenge(this, challenge);
                                    var stanza = $build("response", {
                                        xmlns: Strophe.NS.SASL
                                    });
                                    if (response !== "") {
                                        stanza.t(Base64.encode(response))
                                    }
                                    this.send(stanza.tree());
                                    return true
                                },
                                _auth1_cb: function(elem) {
                                    var iq = $iq({
                                        type: "set",
                                        id: "_auth_2"
                                    }).c("query", {
                                        xmlns: Strophe.NS.AUTH
                                    }).c("username", {}).t(Strophe.getNodeFromJid(this.jid)).up().c("password").t(this.pass);
                                    if (!Strophe.getResourceFromJid(this.jid)) {
                                        this.jid = Strophe.getBareJidFromJid(this.jid) + "/strophe"
                                    }
                                    iq.up().c("resource", {}).t(Strophe.getResourceFromJid(this.jid));
                                    this._addSysHandler(this._auth2_cb.bind(this), null, null, null, "_auth_2");
                                    this.send(iq.tree());
                                    return false
                                },
                                _sasl_success_cb: function(elem) {
                                    if (this._sasl_data["server-signature"]) {
                                        var serverSignature;
                                        var success = Base64.decode(Strophe.getText(elem));
                                        var attribMatch = /([a-z]+)=([^,]+)(,|$)/;
                                        var matches = success.match(attribMatch);
                                        if (matches[1] == "v") {
                                            serverSignature = matches[2]
                                        }
                                        if (serverSignature != this._sasl_data["server-signature"]) {
                                            this.deleteHandler(this._sasl_failure_handler);
                                            this._sasl_failure_handler = null;
                                            if (this._sasl_challenge_handler) {
                                                this.deleteHandler(this._sasl_challenge_handler);
                                                this._sasl_challenge_handler = null
                                            }
                                            this._sasl_data = {};
                                            return this._sasl_failure_cb(null)
                                        }
                                    }
                                    Strophe.info("SASL authentication succeeded.");
                                    if (this._sasl_mechanism) this._sasl_mechanism.onSuccess();
                                    this.deleteHandler(this._sasl_failure_handler);
                                    this._sasl_failure_handler = null;
                                    if (this._sasl_challenge_handler) {
                                        this.deleteHandler(this._sasl_challenge_handler);
                                        this._sasl_challenge_handler = null
                                    }
                                    var streamfeature_handlers = [];
                                    var wrapper = function(handlers, elem) {
                                        while (handlers.length) {
                                            this.deleteHandler(handlers.pop())
                                        }
                                        this._sasl_auth1_cb.bind(this)(elem);
                                        return false
                                    };
                                    streamfeature_handlers.push(this._addSysHandler(function(elem) {
                                        wrapper.bind(this)(streamfeature_handlers, elem)
                                    }.bind(this), null, "stream:features", null, null));
                                    streamfeature_handlers.push(this._addSysHandler(function(elem) {
                                        wrapper.bind(this)(streamfeature_handlers, elem)
                                    }.bind(this), Strophe.NS.STREAM, "features", null, null));
                                    this._sendRestart();
                                    return false
                                },
                                _sasl_auth1_cb: function(elem) {
                                    this.features = elem;
                                    var i, child;
                                    for (i = 0; i < elem.childNodes.length; i++) {
                                        child = elem.childNodes[i];
                                        if (child.nodeName == "bind") {
                                            this.do_bind = true
                                        }
                                        if (child.nodeName == "session") {
                                            this.do_session = true
                                        }
                                    }
                                    if (!this.do_bind) {
                                        this._changeConnectStatus(Strophe.Status.AUTHFAIL, null);
                                        return false
                                    } else {
                                        this._addSysHandler(this._sasl_bind_cb.bind(this), null, null, null, "_bind_auth_2");
                                        var resource = Strophe.getResourceFromJid(this.jid);
                                        if (resource) {
                                            this.send($iq({
                                                type: "set",
                                                id: "_bind_auth_2"
                                            }).c("bind", {
                                                xmlns: Strophe.NS.BIND
                                            }).c("resource", {}).t(resource).tree())
                                        } else {
                                            this.send($iq({
                                                type: "set",
                                                id: "_bind_auth_2"
                                            }).c("bind", {
                                                xmlns: Strophe.NS.BIND
                                            }).tree())
                                        }
                                    }
                                    return false
                                },
                                _sasl_bind_cb: function(elem) {
                                    if (elem.getAttribute("type") == "error") {
                                        Strophe.info("SASL binding failed.");
                                        var conflict = elem.getElementsByTagName("conflict"),
                                            condition;
                                        if (conflict.length > 0) {
                                            condition = "conflict"
                                        }
                                        this._changeConnectStatus(Strophe.Status.AUTHFAIL, condition);
                                        return false
                                    }
                                    var bind = elem.getElementsByTagName("bind");
                                    var jidNode;
                                    if (bind.length > 0) {
                                        jidNode = bind[0].getElementsByTagName("jid");
                                        if (jidNode.length > 0) {
                                            this.jid = Strophe.getText(jidNode[0]);
                                            if (this.do_session) {
                                                this._addSysHandler(this._sasl_session_cb.bind(this), null, null, null, "_session_auth_2");
                                                this.send($iq({
                                                    type: "set",
                                                    id: "_session_auth_2"
                                                }).c("session", {
                                                    xmlns: Strophe.NS.SESSION
                                                }).tree())
                                            } else {
                                                this.authenticated = true;
                                                this._changeConnectStatus(Strophe.Status.CONNECTED, null)
                                            }
                                        }
                                    } else {
                                        Strophe.info("SASL binding failed.");
                                        this._changeConnectStatus(Strophe.Status.AUTHFAIL, null);
                                        return false
                                    }
                                },
                                _sasl_session_cb: function(elem) {
                                    if (elem.getAttribute("type") == "result") {
                                        this.authenticated = true;
                                        this._changeConnectStatus(Strophe.Status.CONNECTED, null)
                                    } else if (elem.getAttribute("type") == "error") {
                                        Strophe.info("Session creation failed.");
                                        this._changeConnectStatus(Strophe.Status.AUTHFAIL, null);
                                        return false
                                    }
                                    return false
                                },
                                _sasl_failure_cb: function(elem) {
                                    if (this._sasl_success_handler) {
                                        this.deleteHandler(this._sasl_success_handler);
                                        this._sasl_success_handler = null
                                    }
                                    if (this._sasl_challenge_handler) {
                                        this.deleteHandler(this._sasl_challenge_handler);
                                        this._sasl_challenge_handler = null
                                    }
                                    if (this._sasl_mechanism) this._sasl_mechanism.onFailure();
                                    this._changeConnectStatus(Strophe.Status.AUTHFAIL, null);
                                    return false
                                },
                                _auth2_cb: function(elem) {
                                    if (elem.getAttribute("type") == "result") {
                                        this.authenticated = true;
                                        this._changeConnectStatus(Strophe.Status.CONNECTED, null)
                                    } else if (elem.getAttribute("type") == "error") {
                                        this._changeConnectStatus(Strophe.Status.AUTHFAIL, null);
                                        this.disconnect("authentication failed")
                                    }
                                    return false
                                },
                                _addSysTimedHandler: function(period, handler) {
                                    var thand = new Strophe.TimedHandler(period, handler);
                                    thand.user = false;
                                    this.addTimeds.push(thand);
                                    return thand
                                },
                                _addSysHandler: function(handler, ns, name, type, id) {
                                    var hand = new Strophe.Handler(handler, ns, name, type, id);
                                    hand.user = false;
                                    this.addHandlers.push(hand);
                                    return hand
                                },
                                _onDisconnectTimeout: function() {
                                    Strophe.info("_onDisconnectTimeout was called");
                                    this._proto._onDisconnectTimeout();
                                    this._doDisconnect();
                                    return false
                                },
                                _onIdle: function() {
                                    var i, thand, since, newList;
                                    while (this.addTimeds.length > 0) {
                                        this.timedHandlers.push(this.addTimeds.pop())
                                    }
                                    while (this.removeTimeds.length > 0) {
                                        thand = this.removeTimeds.pop();
                                        i = this.timedHandlers.indexOf(thand);
                                        if (i >= 0) {
                                            this.timedHandlers.splice(i, 1)
                                        }
                                    }
                                    var now = (new Date).getTime();
                                    newList = [];
                                    for (i = 0; i < this.timedHandlers.length; i++) {
                                        thand = this.timedHandlers[i];
                                        if (this.authenticated || !thand.user) {
                                            since = thand.lastCalled + thand.period;
                                            if (since - now <= 0) {
                                                if (thand.run()) {
                                                    newList.push(thand)
                                                }
                                            } else {
                                                newList.push(thand)
                                            }
                                        }
                                    }
                                    this.timedHandlers = newList;
                                    clearTimeout(this._idleTimeout);
                                    this._proto._onIdle();
                                    if (this.connected) {
                                        this._idleTimeout = setTimeout(this._onIdle.bind(this), 100)
                                    }
                                }
                            };
                            Strophe.SASLMechanism = function(name, isClientFirst, priority) {
                                this.name = name;
                                this.isClientFirst = isClientFirst;
                                this.priority = priority
                            };
                            Strophe.SASLMechanism.prototype = {
                                test: function(connection) {
                                    return true
                                },
                                onStart: function(connection) {
                                    this._connection = connection
                                },
                                onChallenge: function(connection, challenge) {
                                    throw new Error("You should implement challenge handling!")
                                },
                                onFailure: function() {
                                    this._connection = null
                                },
                                onSuccess: function() {
                                    this._connection = null
                                }
                            };
                            Strophe.SASLAnonymous = function() {};
                            Strophe.SASLAnonymous.prototype = new Strophe.SASLMechanism("ANONYMOUS", false, 10);
                            Strophe.SASLAnonymous.test = function(connection) {
                                return connection.authcid === null
                            };
                            Strophe.Connection.prototype.mechanisms[Strophe.SASLAnonymous.prototype.name] = Strophe.SASLAnonymous;
                            Strophe.SASLPlain = function() {};
                            Strophe.SASLPlain.prototype = new Strophe.SASLMechanism("PLAIN", true, 20);
                            Strophe.SASLPlain.test = function(connection) {
                                return connection.authcid !== null
                            };
                            Strophe.SASLPlain.prototype.onChallenge = function(connection) {
                                var auth_str = connection.authzid;
                                auth_str = auth_str + "\x00";
                                auth_str = auth_str + connection.authcid;
                                auth_str = auth_str + "\x00";
                                auth_str = auth_str + connection.pass;
                                return utils.utf16to8(auth_str)
                            };
                            Strophe.Connection.prototype.mechanisms[Strophe.SASLPlain.prototype.name] = Strophe.SASLPlain;
                            Strophe.SASLSHA1 = function() {};
                            Strophe.SASLSHA1.prototype = new Strophe.SASLMechanism("SCRAM-SHA-1", true, 40);
                            Strophe.SASLSHA1.test = function(connection) {
                                return connection.authcid !== null
                            };
                            Strophe.SASLSHA1.prototype.onChallenge = function(connection, challenge, test_cnonce) {
                                var cnonce = test_cnonce || MD5.hexdigest(Math.random() * 1234567890);
                                var auth_str = "n=" + utils.utf16to8(connection.authcid);
                                auth_str += ",r=";
                                auth_str += cnonce;
                                connection._sasl_data.cnonce = cnonce;
                                connection._sasl_data["client-first-message-bare"] = auth_str;
                                auth_str = "n,," + auth_str;
                                this.onChallenge = function(connection, challenge) {
                                    var nonce, salt, iter, Hi, U, U_old, i, k, pass;
                                    var clientKey, serverKey, clientSignature;
                                    var responseText = "c=biws,";
                                    var authMessage = connection._sasl_data["client-first-message-bare"] + "," + challenge + ",";
                                    var cnonce = connection._sasl_data.cnonce;
                                    var attribMatch = /([a-z]+)=([^,]+)(,|$)/;
                                    while (challenge.match(attribMatch)) {
                                        var matches = challenge.match(attribMatch);
                                        challenge = challenge.replace(matches[0], "");
                                        switch (matches[1]) {
                                            case "r":
                                                nonce = matches[2];
                                                break;
                                            case "s":
                                                salt = matches[2];
                                                break;
                                            case "i":
                                                iter = matches[2];
                                                break
                                        }
                                    }
                                    if (nonce.substr(0, cnonce.length) !== cnonce) {
                                        connection._sasl_data = {};
                                        return connection._sasl_failure_cb()
                                    }
                                    responseText += "r=" + nonce;
                                    authMessage += responseText;
                                    salt = Base64.decode(salt);
                                    salt += "\x00\x00\x00";
                                    pass = utils.utf16to8(connection.pass);
                                    Hi = U_old = SHA1.core_hmac_sha1(pass, salt);
                                    for (i = 1; i < iter; i++) {
                                        U = SHA1.core_hmac_sha1(pass, SHA1.binb2str(U_old));
                                        for (k = 0; k < 5; k++) {
                                            Hi[k] ^= U[k]
                                        }
                                        U_old = U
                                    }
                                    Hi = SHA1.binb2str(Hi);
                                    clientKey = SHA1.core_hmac_sha1(Hi, "Client Key");
                                    serverKey = SHA1.str_hmac_sha1(Hi, "Server Key");
                                    clientSignature = SHA1.core_hmac_sha1(SHA1.str_sha1(SHA1.binb2str(clientKey)), authMessage);
                                    connection._sasl_data["server-signature"] = SHA1.b64_hmac_sha1(serverKey, authMessage);
                                    for (k = 0; k < 5; k++) {
                                        clientKey[k] ^= clientSignature[k]
                                    }
                                    responseText += ",p=" + Base64.encode(SHA1.binb2str(clientKey));
                                    return responseText
                                }.bind(this);
                                return auth_str
                            };
                            Strophe.Connection.prototype.mechanisms[Strophe.SASLSHA1.prototype.name] = Strophe.SASLSHA1;
                            Strophe.SASLMD5 = function() {};
                            Strophe.SASLMD5.prototype = new Strophe.SASLMechanism("DIGEST-MD5", false, 30);
                            Strophe.SASLMD5.test = function(connection) {
                                return connection.authcid !== null
                            };
                            Strophe.SASLMD5.prototype._quote = function(str) {
                                return '"' + str.replace(/\\/g, "\\\\").replace(/"/g, '\\"') + '"'
                            };
                            Strophe.SASLMD5.prototype.onChallenge = function(connection, challenge, test_cnonce) {
                                var attribMatch = /([a-z]+)=("[^"]+"|[^,"]+)(?:,|$)/;
                                var cnonce = test_cnonce || MD5.hexdigest("" + Math.random() * 1234567890);
                                var realm = "";
                                var host = null;
                                var nonce = "";
                                var qop = "";
                                var matches;
                                while (challenge.match(attribMatch)) {
                                    matches = challenge.match(attribMatch);
                                    challenge = challenge.replace(matches[0], "");
                                    matches[2] = matches[2].replace(/^"(.+)"$/, "$1");
                                    switch (matches[1]) {
                                        case "realm":
                                            realm = matches[2];
                                            break;
                                        case "nonce":
                                            nonce = matches[2];
                                            break;
                                        case "qop":
                                            qop = matches[2];
                                            break;
                                        case "host":
                                            host = matches[2];
                                            break
                                    }
                                }
                                var digest_uri = connection.servtype + "/" + connection.domain;
                                if (host !== null) {
                                    digest_uri = digest_uri + "/" + host
                                }
                                var cred = utils.utf16to8(connection.authcid + ":" + realm + ":" + this._connection.pass);
                                var A1 = MD5.hash(cred) + ":" + nonce + ":" + cnonce;
                                var A2 = "AUTHENTICATE:" + digest_uri;
                                var responseText = "";
                                responseText += "charset=utf-8,";
                                responseText += "username=" + this._quote(utils.utf16to8(connection.authcid)) + ",";
                                responseText += "realm=" + this._quote(realm) + ",";
                                responseText += "nonce=" + this._quote(nonce) + ",";
                                responseText += "nc=00000001,";
                                responseText += "cnonce=" + this._quote(cnonce) + ",";
                                responseText += "digest-uri=" + this._quote(digest_uri) + ",";
                                responseText += "response=" + MD5.hexdigest(MD5.hexdigest(A1) + ":" + nonce + ":00000001:" + cnonce + ":auth:" + MD5.hexdigest(A2)) + ",";
                                responseText += "qop=auth";
                                this.onChallenge = function() {
                                    return ""
                                }.bind(this);
                                return responseText
                            };
                            Strophe.Connection.prototype.mechanisms[Strophe.SASLMD5.prototype.name] = Strophe.SASLMD5;
                            return {
                                Strophe: Strophe,
                                $build: $build,
                                $msg: $msg,
                                $iq: $iq,
                                $pres: $pres,
                                SHA1: SHA1,
                                Base64: Base64,
                                MD5: MD5
                            }
                        });
                        (function(root, factory) {
                            if (typeof define === "function" && define.amd) {
                                define("strophe-bosh", ["strophe-core"], function(core) {
                                    return factory(core.Strophe, core.$build)
                                })
                            } else {
                                return factory(Strophe, $build)
                            }
                        })(this, function(Strophe, $build) {
                            Strophe.Request = function(elem, func, rid, sends) {
                                this.id = ++Strophe._requestId;
                                this.xmlData = elem;
                                this.data = Strophe.serialize(elem);
                                this.origFunc = func;
                                this.func = func;
                                this.rid = rid;
                                this.date = NaN;
                                this.sends = sends || 0;
                                this.abort = false;
                                this.dead = null;
                                this.age = function() {
                                    if (!this.date) {
                                        return 0
                                    }
                                    var now = new Date;
                                    return (now - this.date) / 1e3
                                };
                                this.timeDead = function() {
                                    if (!this.dead) {
                                        return 0
                                    }
                                    var now = new Date;
                                    return (now - this.dead) / 1e3
                                };
                                this.xhr = this._newXHR()
                            };
                            Strophe.Request.prototype = {
                                getResponse: function() {
                                    var node = null;
                                    if (this.xhr.responseXML && this.xhr.responseXML.documentElement) {
                                        node = this.xhr.responseXML.documentElement;
                                        if (node.tagName == "parsererror") {
                                            Strophe.error("invalid response received");
                                            Strophe.error("responseText: " + this.xhr.responseText);
                                            Strophe.error("responseXML: " + Strophe.serialize(this.xhr.responseXML));
                                            throw "parsererror"
                                        }
                                    } else if (this.xhr.responseText) {
                                        Strophe.error("invalid response received");
                                        Strophe.error("responseText: " + this.xhr.responseText);
                                        throw "badformat"
                                    }
                                    return node
                                },
                                _newXHR: function() {
                                    var xhr = null;
                                    if (window.XMLHttpRequest) {
                                        xhr = new XMLHttpRequest;
                                        if (xhr.overrideMimeType) {
                                            xhr.overrideMimeType("text/xml; charset=utf-8")
                                        }
                                    } else if (window.ActiveXObject) {
                                        xhr = new ActiveXObject("Microsoft.XMLHTTP")
                                    }
                                    xhr.onreadystatechange = this.func.bind(null, this);
                                    return xhr
                                }
                            };
                            Strophe.Bosh = function(connection) {
                                this._conn = connection;
                                this.rid = Math.floor(Math.random() * 4294967295);
                                this.sid = null;
                                this.hold = 1;
                                this.wait = 60;
                                this.window = 5;
                                this.errors = 0;
                                this._requests = []
                            };
                            Strophe.Bosh.prototype = {
                                strip: null,
                                _buildBody: function() {
                                    var bodyWrap = $build("body", {
                                        rid: this.rid++,
                                        xmlns: Strophe.NS.HTTPBIND
                                    });
                                    if (this.sid !== null) {
                                        bodyWrap.attrs({
                                            sid: this.sid
                                        })
                                    }
                                    if (this._conn.options.keepalive) {
                                        this._cacheSession()
                                    }
                                    return bodyWrap
                                },
                                _reset: function() {
                                    this.rid = Math.floor(Math.random() * 4294967295);
                                    this.sid = null;
                                    this.errors = 0;
                                    window.sessionStorage.removeItem("strophe-bosh-session");
                                    this._conn.nextValidRid(this.rid)
                                },
                                _connect: function(wait, hold, route) {
                                    this.wait = wait || this.wait;
                                    this.hold = hold || this.hold;
                                    this.errors = 0;
                                    var body = this._buildBody().attrs({
                                        to: this._conn.domain,
                                        "xml:lang": "en",
                                        wait: this.wait,
                                        hold: this.hold,
                                        content: "text/xml; charset=utf-8",
                                        ver: "1.6",
                                        "xmpp:version": "1.0",
                                        "xmlns:xmpp": Strophe.NS.BOSH
                                    });
                                    if (route) {
                                        body.attrs({
                                            route: route
                                        })
                                    }
                                    var _connect_cb = this._conn._connect_cb;
                                    this._requests.push(new Strophe.Request(body.tree(), this._onRequestStateChange.bind(this, _connect_cb.bind(this._conn)), body.tree().getAttribute("rid")));
                                    this._throttledRequestHandler()
                                },
                                _attach: function(jid, sid, rid, callback, wait, hold, wind) {
                                    this._conn.jid = jid;
                                    this.sid = sid;
                                    this.rid = rid;
                                    this._conn.connect_callback = callback;
                                    this._conn.domain = Strophe.getDomainFromJid(this._conn.jid);
                                    this._conn.authenticated = true;
                                    this._conn.connected = true;
                                    this.wait = wait || this.wait;
                                    this.hold = hold || this.hold;
                                    this.window = wind || this.window;
                                    this._conn._changeConnectStatus(Strophe.Status.ATTACHED, null)
                                },
                                _restore: function(jid, callback, wait, hold, wind) {
                                    var session = JSON.parse(window.sessionStorage.getItem("strophe-bosh-session"));
                                    if (typeof session !== "undefined" && session !== null && session.rid && session.sid && session.jid && (typeof jid === "undefined" || jid === "null" || Strophe.getBareJidFromJid(session.jid) == Strophe.getBareJidFromJid(jid))) {
                                        this._conn.restored = true;
                                        this._attach(session.jid, session.sid, session.rid, callback, wait, hold, wind)
                                    } else {
                                        throw {
                                            name: "StropheSessionError",
                                            message: "_restore: no restoreable session."
                                        }
                                    }
                                },
                                _cacheSession: function() {
                                    if (this._conn.authenticated) {
                                        if (this._conn.jid && this.rid && this.sid) {
                                            window.sessionStorage.setItem("strophe-bosh-session", JSON.stringify({
                                                jid: this._conn.jid,
                                                rid: this.rid,
                                                sid: this.sid
                                            }))
                                        }
                                    } else {
                                        window.sessionStorage.removeItem("strophe-bosh-session")
                                    }
                                },
                                _connect_cb: function(bodyWrap) {
                                    var typ = bodyWrap.getAttribute("type");
                                    var cond, conflict;
                                    if (typ !== null && typ == "terminate") {
                                        cond = bodyWrap.getAttribute("condition");
                                        Strophe.error("BOSH-Connection failed: " + cond);
                                        conflict = bodyWrap.getElementsByTagName("conflict");
                                        if (cond !== null) {
                                            if (cond == "remote-stream-error" && conflict.length > 0) {
                                                cond = "conflict"
                                            }
                                            this._conn._changeConnectStatus(Strophe.Status.CONNFAIL, cond)
                                        } else {
                                            this._conn._changeConnectStatus(Strophe.Status.CONNFAIL, "unknown")
                                        }
                                        this._conn._doDisconnect(cond);
                                        return Strophe.Status.CONNFAIL
                                    }
                                    if (!this.sid) {
                                        this.sid = bodyWrap.getAttribute("sid")
                                    }
                                    var wind = bodyWrap.getAttribute("requests");
                                    if (wind) {
                                        this.window = parseInt(wind, 10)
                                    }
                                    var hold = bodyWrap.getAttribute("hold");
                                    if (hold) {
                                        this.hold = parseInt(hold, 10)
                                    }
                                    var wait = bodyWrap.getAttribute("wait");
                                    if (wait) {
                                        this.wait = parseInt(wait, 10)
                                    }
                                },
                                _disconnect: function(pres) {
                                    this._sendTerminate(pres)
                                },
                                _doDisconnect: function() {
                                    this.sid = null;
                                    this.rid = Math.floor(Math.random() * 4294967295);
                                    window.sessionStorage.removeItem("strophe-bosh-session");
                                    this._conn.nextValidRid(this.rid)
                                },
                                _emptyQueue: function() {
                                    return this._requests.length === 0
                                },
                                _hitError: function(reqStatus) {
                                    this.errors++;
                                    Strophe.warn("request errored, status: " + reqStatus + ", number of errors: " + this.errors);
                                    if (this.errors > 4) {
                                        this._conn._onDisconnectTimeout()
                                    }
                                },
                                _no_auth_received: function(_callback) {
                                    if (_callback) {
                                        _callback = _callback.bind(this._conn)
                                    } else {
                                        _callback = this._conn._connect_cb.bind(this._conn)
                                    }
                                    var body = this._buildBody();
                                    this._requests.push(new Strophe.Request(body.tree(), this._onRequestStateChange.bind(this, _callback.bind(this._conn)), body.tree().getAttribute("rid")));
                                    this._throttledRequestHandler()
                                },
                                _onDisconnectTimeout: function() {
                                    this._abortAllRequests()
                                },
                                _abortAllRequests: function _abortAllRequests() {
                                    var req;
                                    while (this._requests.length > 0) {
                                        req = this._requests.pop();
                                        req.abort = true;
                                        req.xhr.abort();
                                        req.xhr.onreadystatechange = function() {}
                                    }
                                },
                                _onIdle: function() {
                                    var data = this._conn._data;
                                    if (this._conn.authenticated && this._requests.length === 0 && data.length === 0 && !this._conn.disconnecting) {
                                        Strophe.info("no requests during idle cycle, sending " + "blank request");
                                        data.push(null)
                                    }
                                    if (this._conn.paused) {
                                        return
                                    }
                                    if (this._requests.length < 2 && data.length > 0) {
                                        var body = this._buildBody();
                                        for (var i = 0; i < data.length; i++) {
                                            if (data[i] !== null) {
                                                if (data[i] === "restart") {
                                                    body.attrs({
                                                        to: this._conn.domain,
                                                        "xml:lang": "en",
                                                        "xmpp:restart": "true",
                                                        "xmlns:xmpp": Strophe.NS.BOSH
                                                    })
                                                } else {
                                                    body.cnode(data[i]).up()
                                                }
                                            }
                                        }
                                        delete this._conn._data;
                                        this._conn._data = [];
                                        this._requests.push(new Strophe.Request(body.tree(), this._onRequestStateChange.bind(this, this._conn._dataRecv.bind(this._conn)), body.tree().getAttribute("rid")));
                                        this._throttledRequestHandler()
                                    }
                                    if (this._requests.length > 0) {
                                        var time_elapsed = this._requests[0].age();
                                        if (this._requests[0].dead !== null) {
                                            if (this._requests[0].timeDead() > Math.floor(Strophe.SECONDARY_TIMEOUT * this.wait)) {
                                                this._throttledRequestHandler()
                                            }
                                        }
                                        if (time_elapsed > Math.floor(Strophe.TIMEOUT * this.wait)) {
                                            Strophe.warn("Request " + this._requests[0].id + " timed out, over " + Math.floor(Strophe.TIMEOUT * this.wait) + " seconds since last activity");
                                            this._throttledRequestHandler()
                                        }
                                    }
                                },
                                _onRequestStateChange: function(func, req) {
                                    Strophe.debug("request id " + req.id + "." + req.sends + " state changed to " + req.xhr.readyState);
                                    if (req.abort) {
                                        req.abort = false;
                                        return
                                    }
                                    var reqStatus;
                                    if (req.xhr.readyState == 4) {
                                        reqStatus = 0;
                                        try {
                                            reqStatus = req.xhr.status
                                        } catch (e) {}
                                        if (typeof reqStatus == "undefined") {
                                            reqStatus = 0
                                        }
                                        if (this.disconnecting) {
                                            if (reqStatus >= 400) {
                                                this._hitError(reqStatus);
                                                return
                                            }
                                        }
                                        var reqIs0 = this._requests[0] == req;
                                        var reqIs1 = this._requests[1] == req;
                                        if (reqStatus > 0 && reqStatus < 500 || req.sends > 5) {
                                            this._removeRequest(req);
                                            Strophe.debug("request id " + req.id + " should now be removed")
                                        }
                                        if (reqStatus == 200) {
                                            if (reqIs1 || reqIs0 && this._requests.length > 0 && this._requests[0].age() > Math.floor(Strophe.SECONDARY_TIMEOUT * this.wait)) {
                                                this._restartRequest(0)
                                            }
                                            this._conn.nextValidRid(Number(req.rid) + 1);
                                            Strophe.debug("request id " + req.id + "." + req.sends + " got 200");
                                            func(req);
                                            this.errors = 0
                                        } else {
                                            Strophe.error("request id " + req.id + "." + req.sends + " error " + reqStatus + " happened");
                                            if (reqStatus === 0 || reqStatus >= 400 && reqStatus < 600 || reqStatus >= 12e3) {
                                                this._hitError(reqStatus);
                                                if (reqStatus >= 400 && reqStatus < 500) {
                                                    this._conn._changeConnectStatus(Strophe.Status.DISCONNECTING, null);
                                                    this._conn._doDisconnect()
                                                }
                                            }
                                        }
                                        if (!(reqStatus > 0 && reqStatus < 500 || req.sends > 5)) {
                                            this._throttledRequestHandler()
                                        }
                                    }
                                },
                                _processRequest: function(i) {
                                    var self = this;
                                    var req = this._requests[i];
                                    var reqStatus = -1;
                                    try {
                                        if (req.xhr.readyState == 4) {
                                            reqStatus = req.xhr.status
                                        }
                                    } catch (e) {
                                        Strophe.error("caught an error in _requests[" + i + "], reqStatus: " + reqStatus)
                                    }
                                    if (typeof reqStatus == "undefined") {
                                        reqStatus = -1
                                    }
                                    if (req.sends > this._conn.maxRetries) {
                                        this._conn._onDisconnectTimeout();
                                        return
                                    }
                                    var time_elapsed = req.age();
                                    var primaryTimeout = !isNaN(time_elapsed) && time_elapsed > Math.floor(Strophe.TIMEOUT * this.wait);
                                    var secondaryTimeout = req.dead !== null && req.timeDead() > Math.floor(Strophe.SECONDARY_TIMEOUT * this.wait);
                                    var requestCompletedWithServerError = req.xhr.readyState == 4 && (reqStatus < 1 || reqStatus >= 500);
                                    if (primaryTimeout || secondaryTimeout || requestCompletedWithServerError) {
                                        if (secondaryTimeout) {
                                            Strophe.error("Request " + this._requests[i].id + " timed out (secondary), restarting")
                                        }
                                        req.abort = true;
                                        req.xhr.abort();
                                        req.xhr.onreadystatechange = function() {};
                                        this._requests[i] = new Strophe.Request(req.xmlData, req.origFunc, req.rid, req.sends);
                                        req = this._requests[i]
                                    }
                                    if (req.xhr.readyState === 0) {
                                        Strophe.debug("request id " + req.id + "." + req.sends + " posting");
                                        try {
                                            req.xhr.open("POST", this._conn.service, this._conn.options.sync ? false : true);
                                            req.xhr.setRequestHeader("Content-Type", "text/xml; charset=utf-8")
                                        } catch (e2) {
                                            Strophe.error("XHR open failed.");
                                            if (!this._conn.connected) {
                                                this._conn._changeConnectStatus(Strophe.Status.CONNFAIL, "bad-service")
                                            }
                                            this._conn.disconnect();
                                            return
                                        }
                                        var sendFunc = function() {
                                            req.date = new Date;
                                            if (self._conn.options.customHeaders) {
                                                var headers = self._conn.options.customHeaders;
                                                for (var header in headers) {
                                                    if (headers.hasOwnProperty(header)) {
                                                        req.xhr.setRequestHeader(header, headers[header])
                                                    }
                                                }
                                            }
                                            req.xhr.send(req.data)
                                        };
                                        if (req.sends > 1) {
                                            var backoff = Math.min(Math.floor(Strophe.TIMEOUT * this.wait), Math.pow(req.sends, 3)) * 1e3;
                                            setTimeout(sendFunc, backoff)
                                        } else {
                                            sendFunc()
                                        }
                                        req.sends++;
                                        if (this._conn.xmlOutput !== Strophe.Connection.prototype.xmlOutput) {
                                            if (req.xmlData.nodeName === this.strip && req.xmlData.childNodes.length) {
                                                this._conn.xmlOutput(req.xmlData.childNodes[0])
                                            } else {
                                                this._conn.xmlOutput(req.xmlData)
                                            }
                                        }
                                        if (this._conn.rawOutput !== Strophe.Connection.prototype.rawOutput) {
                                            this._conn.rawOutput(req.data)
                                        }
                                    } else {
                                        Strophe.debug("_processRequest: " + (i === 0 ? "first" : "second") + " request has readyState of " + req.xhr.readyState)
                                    }
                                },
                                _removeRequest: function(req) {
                                    Strophe.debug("removing request");
                                    var i;
                                    for (i = this._requests.length - 1; i >= 0; i--) {
                                        if (req == this._requests[i]) {
                                            this._requests.splice(i, 1)
                                        }
                                    }
                                    req.xhr.onreadystatechange = function() {};
                                    this._throttledRequestHandler()
                                },
                                _restartRequest: function(i) {
                                    var req = this._requests[i];
                                    if (req.dead === null) {
                                        req.dead = new Date
                                    }
                                    this._processRequest(i)
                                },
                                _reqToData: function(req) {
                                    try {
                                        return req.getResponse()
                                    } catch (e) {
                                        if (e != "parsererror") {
                                            throw e
                                        }
                                        this._conn.disconnect("strophe-parsererror")
                                    }
                                },
                                _sendTerminate: function(pres) {
                                    Strophe.info("_sendTerminate was called");
                                    var body = this._buildBody().attrs({
                                        type: "terminate"
                                    });
                                    if (pres) {
                                        body.cnode(pres.tree())
                                    }
                                    var req = new Strophe.Request(body.tree(), this._onRequestStateChange.bind(this, this._conn._dataRecv.bind(this._conn)), body.tree().getAttribute("rid"));
                                    this._requests.push(req);
                                    this._throttledRequestHandler()
                                },
                                _send: function() {
                                    clearTimeout(this._conn._idleTimeout);
                                    this._throttledRequestHandler();
                                    this._conn._idleTimeout = setTimeout(this._conn._onIdle.bind(this._conn), 100)
                                },
                                _sendRestart: function() {
                                    this._throttledRequestHandler();
                                    clearTimeout(this._conn._idleTimeout)
                                },
                                _throttledRequestHandler: function() {
                                    if (!this._requests) {
                                        Strophe.debug("_throttledRequestHandler called with " + "undefined requests")
                                    } else {
                                        Strophe.debug("_throttledRequestHandler called with " + this._requests.length + " requests")
                                    }
                                    if (!this._requests || this._requests.length === 0) {
                                        return
                                    }
                                    if (this._requests.length > 0) {
                                        this._processRequest(0)
                                    }
                                    if (this._requests.length > 1 && Math.abs(this._requests[0].rid - this._requests[1].rid) < this.window) {
                                        this._processRequest(1)
                                    }
                                }
                            };
                            return Strophe
                        });
                        (function(root, factory) {
                            if (typeof define === "function" && define.amd) {
                                define("strophe-websocket", ["strophe-core"], function(core) {
                                    return factory(core.Strophe, core.$build)
                                })
                            } else {
                                return factory(Strophe, $build)
                            }
                        })(this, function(Strophe, $build) {
                            Strophe.Websocket = function(connection) {
                                this._conn = connection;
                                this.strip = "wrapper";
                                var service = connection.service;
                                if (service.indexOf("ws:") !== 0 && service.indexOf("wss:") !== 0) {
                                    var new_service = "";
                                    if (connection.options.protocol === "ws" && window.location.protocol !== "https:") {
                                        new_service += "ws"
                                    } else {
                                        new_service += "wss"
                                    }
                                    new_service += "://" + window.location.host;
                                    if (service.indexOf("/") !== 0) {
                                        new_service += window.location.pathname + service
                                    } else {
                                        new_service += service
                                    }
                                    connection.service = new_service
                                }
                            };
                            Strophe.Websocket.prototype = {
                                _buildStream: function() {
                                    return $build("open", {
                                        xmlns: Strophe.NS.FRAMING,
                                        to: this._conn.domain,
                                        version: "1.0"
                                    })
                                },
                                _check_streamerror: function(bodyWrap, connectstatus) {
                                    var errors;
                                    if (bodyWrap.getElementsByTagNameNS) {
                                        errors = bodyWrap.getElementsByTagNameNS(Strophe.NS.STREAM, "error")
                                    } else {
                                        errors = bodyWrap.getElementsByTagName("stream:error")
                                    }
                                    if (errors.length === 0) {
                                        return false
                                    }
                                    var error = errors[0];
                                    var condition = "";
                                    var text = "";
                                    var ns = "urn:ietf:params:xml:ns:xmpp-streams";
                                    for (var i = 0; i < error.childNodes.length; i++) {
                                        var e = error.childNodes[i];
                                        if (e.getAttribute("xmlns") !== ns) {
                                            break
                                        }
                                        if (e.nodeName === "text") {
                                            text = e.textContent
                                        } else {
                                            condition = e.nodeName
                                        }
                                    }
                                    var errorString = "WebSocket stream error: ";
                                    if (condition) {
                                        errorString += condition
                                    } else {
                                        errorString += "unknown"
                                    }
                                    if (text) {
                                        errorString += " - " + condition
                                    }
                                    Strophe.error(errorString);
                                    this._conn._changeConnectStatus(connectstatus, condition);
                                    this._conn._doDisconnect();
                                    return true
                                },
                                _reset: function() {
                                    return
                                },
                                _connect: function() {
                                    this._closeSocket();
                                    this.socket = new WebSocket(this._conn.service, "xmpp");
                                    this.socket.onopen = this._onOpen.bind(this);
                                    this.socket.onerror = this._onError.bind(this);
                                    this.socket.onclose = this._onClose.bind(this);
                                    this.socket.onmessage = this._connect_cb_wrapper.bind(this)
                                },
                                _connect_cb: function(bodyWrap) {
                                    var error = this._check_streamerror(bodyWrap, Strophe.Status.CONNFAIL);
                                    if (error) {
                                        return Strophe.Status.CONNFAIL
                                    }
                                },
                                _handleStreamStart: function(message) {
                                    var error = false;
                                    var ns = message.getAttribute("xmlns");
                                    if (typeof ns !== "string") {
                                        error = "Missing xmlns in <open />"
                                    } else if (ns !== Strophe.NS.FRAMING) {
                                        error = "Wrong xmlns in <open />: " + ns
                                    }
                                    var ver = message.getAttribute("version");
                                    if (typeof ver !== "string") {
                                        error = "Missing version in <open />"
                                    } else if (ver !== "1.0") {
                                        error = "Wrong version in <open />: " + ver
                                    }
                                    if (error) {
                                        this._conn._changeConnectStatus(Strophe.Status.CONNFAIL, error);
                                        this._conn._doDisconnect();
                                        return false
                                    }
                                    return true
                                },
                                _connect_cb_wrapper: function(message) {
                                    if (message.data.indexOf("<open ") === 0 || message.data.indexOf("<?xml") === 0) {
                                        var data = message.data.replace(/^(<\?.*?\?>\s*)*/, "");
                                        if (data === "") return;
                                        var streamStart = (new DOMParser).parseFromString(data, "text/xml").documentElement;
                                        this._conn.xmlInput(streamStart);
                                        this._conn.rawInput(message.data);
                                        if (this._handleStreamStart(streamStart)) {
                                            this._connect_cb(streamStart)
                                        }
                                    } else if (message.data.indexOf("<close ") === 0) {
                                        this._conn.rawInput(message.data);
                                        this._conn.xmlInput(message);
                                        var see_uri = message.getAttribute("see-other-uri");
                                        if (see_uri) {
                                            this._conn._changeConnectStatus(Strophe.Status.REDIRECT, "Received see-other-uri, resetting connection");
                                            this._conn.reset();
                                            this._conn.service = see_uri;
                                            this._connect()
                                        } else {
                                            this._conn._changeConnectStatus(Strophe.Status.CONNFAIL, "Received closing stream");
                                            this._conn._doDisconnect()
                                        }
                                    } else {
                                        var string = this._streamWrap(message.data);
                                        var elem = (new DOMParser).parseFromString(string, "text/xml").documentElement;
                                        this.socket.onmessage = this._onMessage.bind(this);
                                        this._conn._connect_cb(elem, null, message.data)
                                    }
                                },
                                _disconnect: function(pres) {
                                    if (this.socket && this.socket.readyState !== WebSocket.CLOSED) {
                                        if (pres) {
                                            this._conn.send(pres)
                                        }
                                        var close = $build("close", {
                                            xmlns: Strophe.NS.FRAMING
                                        });
                                        this._conn.xmlOutput(close);
                                        var closeString = Strophe.serialize(close);
                                        this._conn.rawOutput(closeString);
                                        try {
                                            this.socket.send(closeString)
                                        } catch (e) {
                                            Strophe.info("Couldn't send <close /> tag.")
                                        }
                                    }
                                    this._conn._doDisconnect()
                                },
                                _doDisconnect: function() {
                                    Strophe.info("WebSockets _doDisconnect was called");
                                    this._closeSocket()
                                },
                                _streamWrap: function(stanza) {
                                    return "<wrapper>" + stanza + "</wrapper>"
                                },
                                _closeSocket: function() {
                                    if (this.socket) {
                                        try {
                                            this.socket.close()
                                        } catch (e) {}
                                    }
                                    this.socket = null
                                },
                                _emptyQueue: function() {
                                    return true
                                },
                                _onClose: function() {
                                    if (this._conn.connected && !this._conn.disconnecting) {
                                        Strophe.error("Websocket closed unexcectedly");
                                        this._conn._doDisconnect()
                                    } else {
                                        Strophe.info("Websocket closed")
                                    }
                                },
                                _no_auth_received: function(_callback) {
                                    Strophe.error("Server did not send any auth methods");
                                    this._conn._changeConnectStatus(Strophe.Status.CONNFAIL, "Server did not send any auth methods");
                                    if (_callback) {
                                        _callback = _callback.bind(this._conn);
                                        _callback()
                                    }
                                    this._conn._doDisconnect()
                                },
                                _onDisconnectTimeout: function() {},
                                _abortAllRequests: function() {},
                                _onError: function(error) {
                                    Strophe.error("Websocket error " + error);
                                    this._conn._changeConnectStatus(Strophe.Status.CONNFAIL, "The WebSocket connection could not be established was disconnected.");
                                    this._disconnect()
                                },
                                _onIdle: function() {
                                    var data = this._conn._data;
                                    if (data.length > 0 && !this._conn.paused) {
                                        for (var i = 0; i < data.length; i++) {
                                            if (data[i] !== null) {
                                                var stanza, rawStanza;
                                                if (data[i] === "restart") {
                                                    stanza = this._buildStream().tree()
                                                } else {
                                                    stanza = data[i]
                                                }
                                                rawStanza = Strophe.serialize(stanza);
                                                this._conn.xmlOutput(stanza);
                                                this._conn.rawOutput(rawStanza);
                                                this.socket.send(rawStanza)
                                            }
                                        }
                                        this._conn._data = []
                                    }
                                },
                                _onMessage: function(message) {
                                    var elem, data;
                                    var close = '<close xmlns="urn:ietf:params:xml:ns:xmpp-framing" />';
                                    if (message.data === close) {
                                        this._conn.rawInput(close);
                                        this._conn.xmlInput(message);
                                        if (!this._conn.disconnecting) {
                                            this._conn._doDisconnect()
                                        }
                                        return
                                    } else if (message.data.search("<open ") === 0) {
                                        elem = (new DOMParser).parseFromString(message.data, "text/xml").documentElement;
                                        if (!this._handleStreamStart(elem)) {
                                            return
                                        }
                                    } else {
                                        data = this._streamWrap(message.data);
                                        elem = (new DOMParser).parseFromString(data, "text/xml").documentElement
                                    }
                                    if (this._check_streamerror(elem, Strophe.Status.ERROR)) {
                                        return
                                    }
                                    if (this._conn.disconnecting && elem.firstChild.nodeName === "presence" && elem.firstChild.getAttribute("type") === "unavailable") {
                                        this._conn.xmlInput(elem);
                                        this._conn.rawInput(Strophe.serialize(elem));
                                        return
                                    }
                                    this._conn._dataRecv(elem, message.data)
                                },
                                _onOpen: function() {
                                    Strophe.info("Websocket open");
                                    var start = this._buildStream();
                                    this._conn.xmlOutput(start.tree());
                                    var startString = Strophe.serialize(start);
                                    this._conn.rawOutput(startString);
                                    this.socket.send(startString)
                                },
                                _reqToData: function(stanza) {
                                    return stanza
                                },
                                _send: function() {
                                    this._conn.flush()
                                },
                                _sendRestart: function() {
                                    clearTimeout(this._conn._idleTimeout);
                                    this._conn._onIdle.bind(this._conn)()
                                }
                            };
                            return Strophe
                        });
                        (function(root) {
                            if (typeof define === "function" && define.amd) {
                                define("strophe", ["strophe-core", "strophe-bosh", "strophe-websocket"], function(wrapper) {
                                    return wrapper
                                })
                            }
                        })(this);
                        if (callback) {
                            if (typeof define === "function" && define.amd) {
                                var n_callback = callback;
                                __browserify_shim_require__(["strophe"], function(o) {
                                    n_callback(o.Strophe, o.$build, o.$msg, o.$iq, o.$pres)
                                })
                            } else {
                                return callback(Strophe, $build, $msg, $iq, $pres)
                            }
                        }
                    })(function(Strophe, build, msg, iq, pres) {
                        window.Strophe = Strophe;
                        window.$build = build;
                        window.$msg = msg;
                        window.$iq = iq;
                        window.$pres = pres
                    });
                    browserify_shim__define__module__export__(typeof Strophe != "undefined" ? Strophe : window.Strophe)
                }).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) {
                    module.exports = ex
                })
            }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
        }, {
            "/var/lib/jenkins/jobs/jitsi-meet-debian/workspace/jitsi-meet/node_modules/jquery/dist/jquery.js": 358
        }],
        361: [function(require, module, exports) {
            Strophe.addConnectionPlugin("caps", {
                HASH: "sha-1",
                node: "http://strophe.im/strophejs/",
                _ver: "",
                _connection: null,
                _knownCapabilities: {},
                _jidVerIndex: {},
                init: function(conn) {
                    this._connection = conn;
                    Strophe.addNamespace("CAPS", "http://jabber.org/protocol/caps");
                    if (!this._connection.disco) {
                        throw "Caps plugin requires the disco plugin to be installed."
                    }
                    this._connection.disco.addFeature(Strophe.NS.CAPS);
                    this._connection.addHandler(this._delegateCapabilities.bind(this), Strophe.NS.CAPS)
                },
                generateCapsAttrs: function() {
                    return {
                        xmlns: Strophe.NS.CAPS,
                        hash: this.HASH,
                        node: this.node,
                        ver: this.generateVer()
                    }
                },
                generateVer: function() {
                    if (this._ver !== "") {
                        return this._ver
                    }
                    var ver = "",
                        identities = this._connection.disco._identities.sort(this._sortIdentities),
                        identitiesLen = identities.length,
                        features = this._connection.disco._features.sort(),
                        featuresLen = features.length;
                    for (var i = 0; i < identitiesLen; i++) {
                        var curIdent = identities[i];
                        ver += curIdent.category + "/" + curIdent.type + "/" + curIdent.lang + "/" + curIdent.name + "<"
                    }
                    for (var i = 0; i < featuresLen; i++) {
                        ver += features[i] + "<"
                    }
                    this._ver = b64_sha1(ver);
                    return this._ver
                },
                getCapabilitiesByJid: function(jid) {
                    if (this._jidVerIndex[jid]) {
                        return this._knownCapabilities[this._jidVerIndex[jid]]
                    }
                    return null
                },
                _delegateCapabilities: function(stanza) {
                    var from = stanza.getAttribute("from"),
                        c = stanza.querySelector("c"),
                        ver = c.getAttribute("ver"),
                        node = c.getAttribute("node");
                    if (!this._knownCapabilities[ver]) {
                        return this._requestCapabilities(from, node, ver)
                    } else {
                        this._jidVerIndex[from] = ver
                    }
                    if (!this._jidVerIndex[from] || !this._jidVerIndex[from] !== ver) {
                        this._jidVerIndex[from] = ver
                    }
                    return true
                },
                _requestCapabilities: function(to, node, ver) {
                    if (to !== this._connection.jid) {
                        var id = this._connection.disco.info(to, node + "#" + ver);
                        this._connection.addHandler(this._handleDiscoInfoReply.bind(this), Strophe.NS.DISCO_INFO, "iq", "result", id, to)
                    }
                    return true
                },
                _handleDiscoInfoReply: function(stanza) {
                    var query = stanza.querySelector("query"),
                        node = query.getAttribute("node").split("#"),
                        ver = node[1],
                        from = stanza.getAttribute("from");
                    if (!this._knownCapabilities[ver]) {
                        var childNodes = query.childNodes,
                            childNodesLen = childNodes.length;
                        this._knownCapabilities[ver] = [];
                        for (var i = 0; i < childNodesLen; i++) {
                            var node = childNodes[i];
                            this._knownCapabilities[ver].push({
                                name: node.nodeName,
                                attributes: node.attributes
                            })
                        }
                        this._jidVerIndex[from] = ver
                    } else if (!this._jidVerIndex[from] || !this._jidVerIndex[from] !== ver) {
                        this._jidVerIndex[from] = ver
                    }
                    return false
                },
                _sortIdentities: function(a, b) {
                    if (a.category > b.category) {
                        return 1
                    }
                    if (a.category < b.category) {
                        return -1
                    }
                    if (a.type > b.type) {
                        return 1
                    }
                    if (a.type < b.type) {
                        return -1
                    }
                    if (a.lang > b.lang) {
                        return 1
                    }
                    if (a.lang < b.lang) {
                        return -1
                    }
                    return 0
                }
            })
        }, {}],
        362: [function(require, module, exports) {
            (function(global) {
                Strophe = global.Strophe = require("/var/lib/jenkins/jobs/jitsi-meet-debian/workspace/jitsi-meet/node_modules/strophe/strophe.js");
                var __browserify_shim_require__ = require;
                (function browserifyShim(module, define, require) {
                    (function(root, factory) {
                        if (typeof define === "function" && define.amd) {
                            define("strophe.disco", ["strophe"], function(Strophe) {
                                factory(Strophe.Strophe, Strophe.$build, Strophe.$iq, Strophe.$msg, Strophe.$pres);
                                return Strophe
                            })
                        } else {
                            factory(root.Strophe, root.$build, root.$iq, root.$msg, root.$pres)
                        }
                    })(this, function(Strophe, $build, $iq, $msg, $pres) {
                        Strophe.addConnectionPlugin("disco", {
                            _connection: null,
                            _identities: [],
                            _features: [],
                            _items: [],
                            init: function(conn) {
                                this._connection = conn;
                                this._identities = [];
                                this._features = [];
                                this._items = [];
                                conn.addHandler(this._onDiscoInfo.bind(this), Strophe.NS.DISCO_INFO, "iq", "get", null, null);
                                conn.addHandler(this._onDiscoItems.bind(this), Strophe.NS.DISCO_ITEMS, "iq", "get", null, null)
                            },
                            addIdentity: function(category, type, name, lang) {
                                for (var i = 0; i < this._identities.length; i++) {
                                    if (this._identities[i].category == category && this._identities[i].type == type && this._identities[i].name == name && this._identities[i].lang == lang) {
                                        return false
                                    }
                                }
                                this._identities.push({
                                    category: category,
                                    type: type,
                                    name: name,
                                    lang: lang
                                });
                                return true
                            },
                            addFeature: function(var_name) {
                                for (var i = 0; i < this._features.length; i++) {
                                    if (this._features[i] == var_name) return false
                                }
                                this._features.push(var_name);
                                return true
                            },
                            removeFeature: function(var_name) {
                                for (var i = 0; i < this._features.length; i++) {
                                    if (this._features[i] === var_name) {
                                        this._features.splice(i, 1);
                                        return true
                                    }
                                }
                                return false
                            },
                            addItem: function(jid, name, node, call_back) {
                                if (node && !call_back) return false;
                                this._items.push({
                                    jid: jid,
                                    name: name,
                                    node: node,
                                    call_back: call_back
                                });
                                return true
                            },
                            info: function(jid, node, success, error, timeout) {
                                var attrs = {
                                    xmlns: Strophe.NS.DISCO_INFO
                                };
                                if (node) attrs.node = node;
                                var info = $iq({
                                    from: this._connection.jid,
                                    to: jid,
                                    type: "get"
                                }).c("query", attrs);
                                this._connection.sendIQ(info, success, error, timeout)
                            },
                            items: function(jid, node, success, error, timeout) {
                                var attrs = {
                                    xmlns: Strophe.NS.DISCO_ITEMS
                                };
                                if (node) attrs.node = node;
                                var items = $iq({
                                    from: this._connection.jid,
                                    to: jid,
                                    type: "get"
                                }).c("query", attrs);
                                this._connection.sendIQ(items, success, error, timeout)
                            },
                            _buildIQResult: function(stanza, query_attrs) {
                                var id = stanza.getAttribute("id");
                                var from = stanza.getAttribute("from");
                                var iqresult = $iq({
                                    type: "result",
                                    id: id
                                });
                                if (from !== null) {
                                    iqresult.attrs({
                                        to: from
                                    })
                                }
                                return iqresult.c("query", query_attrs)
                            },
                            _onDiscoInfo: function(stanza) {
                                var node = stanza.getElementsByTagName("query")[0].getAttribute("node");
                                var attrs = {
                                    xmlns: Strophe.NS.DISCO_INFO
                                };
                                var i;
                                if (node) {
                                    attrs.node = node
                                }
                                var iqresult = this._buildIQResult(stanza, attrs);
                                for (i = 0; i < this._identities.length; i++) {
                                    attrs = {
                                        category: this._identities[i].category,
                                        type: this._identities[i].type
                                    };
                                    if (this._identities[i].name) attrs.name = this._identities[i].name;
                                    if (this._identities[i].lang) attrs["xml:lang"] = this._identities[i].lang;
                                    iqresult.c("identity", attrs).up()
                                }
                                for (i = 0; i < this._features.length; i++) {
                                    iqresult.c("feature", {
                                        "var": this._features[i]
                                    }).up()
                                }
                                this._connection.send(iqresult.tree());
                                return true
                            },
                            _onDiscoItems: function(stanza) {
                                var query_attrs = {
                                    xmlns: Strophe.NS.DISCO_ITEMS
                                };
                                var node = stanza.getElementsByTagName("query")[0].getAttribute("node");
                                var items, i;
                                if (node) {
                                    query_attrs.node = node;
                                    items = [];
                                    for (i = 0; i < this._items.length; i++) {
                                        if (this._items[i].node == node) {
                                            items = this._items[i].call_back(stanza);
                                            break
                                        }
                                    }
                                } else {
                                    items = this._items
                                }
                                var iqresult = this._buildIQResult(stanza, query_attrs);
                                for (i = 0; i < items.length; i++) {
                                    var attrs = {
                                        jid: items[i].jid
                                    };
                                    if (items[i].name) attrs.name = items[i].name;
                                    if (items[i].node) attrs.node = items[i].node;
                                    iqresult.c("item", attrs).up()
                                }
                                this._connection.send(iqresult.tree());
                                return true
                            }
                        })
                    })
                }).call(global, module, undefined, undefined)
            }).call(this, typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
        }, {
            "/var/lib/jenkins/jobs/jitsi-meet-debian/workspace/jitsi-meet/node_modules/strophe/strophe.js": 360
        }],
        363: [function(require, module, exports) {
            (function(define) {
                define(["jquery"], function($) {
                    return function() {
                        var $container;
                        var listener;
                        var toastId = 0;
                        var toastType = {
                            error: "error",
                            info: "info",
                            success: "success",
                            warning: "warning"
                        };
                        var toastr = {
                            clear: clear,
                            remove: remove,
                            error: error,
                            getContainer: getContainer,
                            info: info,
                            options: {},
                            subscribe: subscribe,
                            success: success,
                            version: "2.1.2",
                            warning: warning
                        };
                        var previousToast;
                        return toastr;

                        function error(message, title, optionsOverride) {
                            return notify({
                                type: toastType.error,
                                iconClass: getOptions().iconClasses.error,
                                message: message,
                                optionsOverride: optionsOverride,
                                title: title
                            })
                        }

                        function getContainer(options, create) {
                            if (!options) {
                                options = getOptions()
                            }
                            $container = $("#" + options.containerId);
                            if ($container.length) {
                                return $container
                            }
                            if (create) {
                                $container = createContainer(options)
                            }
                            return $container
                        }

                        function info(message, title, optionsOverride) {
                            return notify({
                                type: toastType.info,
                                iconClass: getOptions().iconClasses.info,
                                message: message,
                                optionsOverride: optionsOverride,
                                title: title
                            })
                        }

                        function subscribe(callback) {
                            listener = callback
                        }

                        function success(message, title, optionsOverride) {
                            return notify({
                                type: toastType.success,
                                iconClass: getOptions().iconClasses.success,
                                message: message,
                                optionsOverride: optionsOverride,
                                title: title
                            })
                        }

                        function warning(message, title, optionsOverride) {
                            return notify({
                                type: toastType.warning,
                                iconClass: getOptions().iconClasses.warning,
                                message: message,
                                optionsOverride: optionsOverride,
                                title: title
                            })
                        }

                        function clear($toastElement, clearOptions) {
                            var options = getOptions();
                            if (!$container) {
                                getContainer(options)
                            }
                            if (!clearToast($toastElement, options, clearOptions)) {
                                clearContainer(options)
                            }
                        }

                        function remove($toastElement) {
                            var options = getOptions();
                            if (!$container) {
                                getContainer(options)
                            }
                            if ($toastElement && $(":focus", $toastElement).length === 0) {
                                removeToast($toastElement);
                                return
                            }
                            if ($container.children().length) {
                                $container.remove()
                            }
                        }

                        function clearContainer(options) {
                            var toastsToClear = $container.children();
                            for (var i = toastsToClear.length - 1; i >= 0; i--) {
                                clearToast($(toastsToClear[i]), options)
                            }
                        }

                        function clearToast($toastElement, options, clearOptions) {
                            var force = clearOptions && clearOptions.force ? clearOptions.force : false;
                            if ($toastElement && (force || $(":focus", $toastElement).length === 0)) {
                                $toastElement[options.hideMethod]({
                                    duration: options.hideDuration,
                                    easing: options.hideEasing,
                                    complete: function() {
                                        removeToast($toastElement)
                                    }
                                });
                                return true
                            }
                            return false
                        }

                        function createContainer(options) {
                            $container = $("<div/>").attr("id", options.containerId).addClass(options.positionClass).attr("aria-live", "polite").attr("role", "alert");
                            $container.appendTo($(options.target));
                            return $container
                        }

                        function getDefaults() {
                            return {
                                tapToDismiss: true,
                                toastClass: "toast",
                                containerId: "toast-container",
                                debug: false,
                                showMethod: "fadeIn",
                                showDuration: 300,
                                showEasing: "swing",
                                onShown: undefined,
                                hideMethod: "fadeOut",
                                hideDuration: 1e3,
                                hideEasing: "swing",
                                onHidden: undefined,
                                closeMethod: false,
                                closeDuration: false,
                                closeEasing: false,
                                extendedTimeOut: 1e3,
                                iconClasses: {
                                    error: "toast-error",
                                    info: "toast-info",
                                    success: "toast-success",
                                    warning: "toast-warning"
                                },
                                iconClass: "toast-info",
                                positionClass: "toast-top-right",
                                timeOut: 5e3,
                                titleClass: "toast-title",
                                messageClass: "toast-message",
                                escapeHtml: false,
                                target: "body",
                                closeHtml: '<button type="button">&times;</button>',
                                newestOnTop: true,
                                preventDuplicates: false,
                                progressBar: false
                            }
                        }

                        function publish(args) {
                            if (!listener) {
                                return
                            }
                            listener(args)
                        }

                        function notify(map) {
                            var options = getOptions();
                            var iconClass = map.iconClass || options.iconClass;
                            if (typeof map.optionsOverride !== "undefined") {
                                options = $.extend(options, map.optionsOverride);
                                iconClass = map.optionsOverride.iconClass || iconClass
                            }
                            if (shouldExit(options, map)) {
                                return
                            }
                            toastId++;
                            $container = getContainer(options, true);
                            var intervalId = null;
                            var $toastElement = $("<div/>");
                            var $titleElement = $("<div/>");
                            var $messageElement = $("<div/>");
                            var $progressElement = $("<div/>");
                            var $closeElement = $(options.closeHtml);
                            var progressBar = {
                                intervalId: null,
                                hideEta: null,
                                maxHideTime: null
                            };
                            var response = {
                                toastId: toastId,
                                state: "visible",
                                startTime: new Date,
                                options: options,
                                map: map
                            };
                            personalizeToast();
                            displayToast();
                            handleEvents();
                            publish(response);
                            if (options.debug && console) {
                                console.log(response)
                            }
                            return $toastElement;

                            function escapeHtml(source) {
                                if (source == null) source = "";
                                return new String(source).replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;")
                            }

                            function personalizeToast() {
                                setIcon();
                                setTitle();
                                setMessage();
                                setCloseButton();
                                setProgressBar();
                                setSequence()
                            }

                            function handleEvents() {
                                $toastElement.hover(stickAround, delayedHideToast);
                                if (!options.onclick && options.tapToDismiss) {
                                    $toastElement.click(hideToast)
                                }
                                if (options.closeButton && $closeElement) {
                                    $closeElement.click(function(event) {
                                        if (event.stopPropagation) {
                                            event.stopPropagation()
                                        } else if (event.cancelBubble !== undefined && event.cancelBubble !== true) {
                                            event.cancelBubble = true
                                        }
                                        hideToast(true)
                                    })
                                }
                                if (options.onclick) {
                                    $toastElement.click(function(event) {
                                        options.onclick(event);
                                        hideToast()
                                    })
                                }
                            }

                            function displayToast() {
                                $toastElement.hide();
                                $toastElement[options.showMethod]({
                                    duration: options.showDuration,
                                    easing: options.showEasing,
                                    complete: options.onShown
                                });
                                if (options.timeOut > 0) {
                                    intervalId = setTimeout(hideToast, options.timeOut);
                                    progressBar.maxHideTime = parseFloat(options.timeOut);
                                    progressBar.hideEta = (new Date).getTime() + progressBar.maxHideTime;
                                    if (options.progressBar) {
                                        progressBar.intervalId = setInterval(updateProgress, 10)
                                    }
                                }
                            }

                            function setIcon() {
                                if (map.iconClass) {
                                    $toastElement.addClass(options.toastClass).addClass(iconClass)
                                }
                            }

                            function setSequence() {
                                if (options.newestOnTop) {
                                    $container.prepend($toastElement)
                                } else {
                                    $container.append($toastElement)
                                }
                            }

                            function setTitle() {
                                if (map.title) {
                                    $titleElement.append(!options.escapeHtml ? map.title : escapeHtml(map.title)).addClass(options.titleClass);
                                    $toastElement.append($titleElement)
                                }
                            }

                            function setMessage() {
                                if (map.message) {
                                    $messageElement.append(!options.escapeHtml ? map.message : escapeHtml(map.message)).addClass(options.messageClass);
                                    $toastElement.append($messageElement)
                                }
                            }

                            function setCloseButton() {
                                if (options.closeButton) {
                                    $closeElement.addClass("toast-close-button").attr("role", "button");
                                    $toastElement.prepend($closeElement)
                                }
                            }

                            function setProgressBar() {
                                if (options.progressBar) {
                                    $progressElement.addClass("toast-progress");
                                    $toastElement.prepend($progressElement)
                                }
                            }

                            function shouldExit(options, map) {
                                if (options.preventDuplicates) {
                                    if (map.message === previousToast) {
                                        return true
                                    } else {
                                        previousToast = map.message
                                    }
                                }
                                return false
                            }

                            function hideToast(override) {
                                var method = override && options.closeMethod !== false ? options.closeMethod : options.hideMethod;
                                var duration = override && options.closeDuration !== false ? options.closeDuration : options.hideDuration;
                                var easing = override && options.closeEasing !== false ? options.closeEasing : options.hideEasing;
                                if ($(":focus", $toastElement).length && !override) {
                                    return
                                }
                                clearTimeout(progressBar.intervalId);
                                return $toastElement[method]({
                                    duration: duration,
                                    easing: easing,
                                    complete: function() {
                                        removeToast($toastElement);
                                        if (options.onHidden && response.state !== "hidden") {
                                            options.onHidden()
                                        }
                                        response.state = "hidden";
                                        response.endTime = new Date;
                                        publish(response)
                                    }
                                })
                            }

                            function delayedHideToast() {
                                if (options.timeOut > 0 || options.extendedTimeOut > 0) {
                                    intervalId = setTimeout(hideToast, options.extendedTimeOut);
                                    progressBar.maxHideTime = parseFloat(options.extendedTimeOut);
                                    progressBar.hideEta = (new Date).getTime() + progressBar.maxHideTime
                                }
                            }

                            function stickAround() {
                                clearTimeout(intervalId);
                                progressBar.hideEta = 0;
                                $toastElement.stop(true, true)[options.showMethod]({
                                    duration: options.showDuration,
                                    easing: options.showEasing
                                })
                            }

                            function updateProgress() {
                                var percentage = (progressBar.hideEta - (new Date).getTime()) / progressBar.maxHideTime * 100;
                                $progressElement.width(percentage + "%")
                            }
                        }

                        function getOptions() {
                            return $.extend({}, getDefaults(), toastr.options)
                        }

                        function removeToast($toastElement) {
                            if (!$container) {
                                $container = getContainer()
                            }
                            if ($toastElement.is(":visible")) {
                                return
                            }
                            $toastElement.remove();
                            $toastElement = null;
                            if ($container.children().length === 0) {
                                $container.remove();
                                previousToast = undefined
                            }
                        }
                    }()
                })
            })(typeof define === "function" && define.amd ? define : function(deps, factory) {
                if (typeof module !== "undefined" && module.exports) {
                    module.exports = factory(require("jquery"))
                } else {
                    window.toastr = factory(window.jQuery)
                }
            })
        }, {
            jquery: 358
        }],
        364: [function(require, module, exports) {
            "use strict";
            Object.defineProperty(exports, "__esModule", {
                value: true
            });
            exports.default = {
                NICKNAME_CHANGED: "UI.nickname_changed",
                SELECTED_ENDPOINT: "UI.selected_endpoint",
                PINNED_ENDPOINT: "UI.pinned_endpoint",
                MESSAGE_CREATED: "UI.message_created",
                LANG_CHANGED: "UI.lang_changed",
                EMAIL_CHANGED: "UI.email_changed",
                START_MUTED_CHANGED: "UI.start_muted_changed",
                AUDIO_MUTED: "UI.audio_muted",
                VIDEO_MUTED: "UI.video_muted",
                ETHERPAD_CLICKED: "UI.etherpad_clicked",
                SHARED_VIDEO_CLICKED: "UI.start_shared_video",
                UPDATE_SHARED_VIDEO: "UI.update_shared_video",
                ROOM_LOCK_CLICKED: "UI.room_lock_clicked",
                USER_INVITED: "UI.user_invited",
                USER_KICKED: "UI.user_kicked",
                REMOTE_AUDIO_MUTED: "UI.remote_audio_muted",
                FULLSCREEN_TOGGLE: "UI.fullscreen_toggle",
                AUTH_CLICKED: "UI.auth_clicked",
                TOGGLE_CHAT: "UI.toggle_chat",
                TOGGLE_SETTINGS: "UI.toggle_settings",
                TOGGLE_CONTACT_LIST: "UI.toggle_contact_list",
                TOGGLE_FILM_STRIP: "UI.toggle_film_strip",
                TOGGLED_FILM_STRIP: "UI.toggled_film_strip",
                TOGGLE_SCREENSHARING: "UI.toggle_screensharing",
                TOGGLED_SHARED_DOCUMENT: "UI.toggled_shared_document",
                CONTACT_CLICKED: "UI.contact_clicked",
                HANGUP: "UI.hangup",
                LOGOUT: "UI.logout",
                RECORDING_TOGGLED: "UI.recording_toggled",
                SIP_DIAL: "UI.sip_dial",
                SUBJECT_CHANGED: "UI.subject_changed",
                VIDEO_DEVICE_CHANGED: "UI.video_device_changed",
                AUDIO_DEVICE_CHANGED: "UI.audio_device_changed",
                AUDIO_OUTPUT_DEVICE_CHANGED: "UI.audio_output_device_changed",
                FOLLOW_ME_ENABLED: "UI.follow_me_enabled",
                LOCAL_FLIPX_CHANGED: "UI.local_flipx_changed"
            }
        }, {}],
        365: [function(require, module, exports) {
            "use strict";
            var CQEvents = {
                LOCALSTATS_UPDATED: "cq.localstats_updated",
                REMOTESTATS_UPDATED: "cq.remotestats_updated",
                STOP: "cq.stop"
            };
            module.exports = CQEvents
        }, {}],
        366: [function(require, module, exports) {
            "use strict";
            module.exports = {
                getLanguages: function getLanguages() {
                    var languages = [];
                    for (var lang in this) {
                        if (typeof this[lang] === "string") languages.push(this[lang])
                    }
                    return languages
                },
                EN: "en",
                BG: "bg",
                DE: "de",
                TR: "tr",
                FR: "fr"
            }
        }, {}]
    }, {}, [1])(1)
});